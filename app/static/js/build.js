(function(t){var e={};function n(i){if(e[i]){return e[i].exports}var r=e[i]={i,l:false,exports:{}};t[i].call(r.exports,r,r.exports,n);r.l=true;return r.exports}n.m=t;n.c=e;n.d=function(t,e,i){if(!n.o(t,e)){Object.defineProperty(t,e,{enumerable:true,get:i})}};n.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};n.t=function(t,e){if(e&1)t=n(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var i=Object.create(null);n.r(i);Object.defineProperty(i,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i};n.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};n.d(e,"a",e);return e};n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};n.p="/adele/static/js/";return n(n.s=35)})([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var i=n(17);var r=n(16);var o=n(15);var a=n(100);var s=n(99);var l=n(98);var u=n(97);var c=n(96);var f=n(12);var h=n(22);var d=n(21);var p=n(23);var v=n(7);var m={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:i.default,Format:r.default,Leaf:o.default,Embed:u.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:c.default,Attributor:{Attribute:f.default,Class:h.default,Style:d.default,Store:p.default}};e.default=m},function(t,e,n){var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=n(94);var o=n(9);var a=n(3);var s=n(11);var l=String.fromCharCode(0);var u=function t(e){if(Array.isArray(e)){this.ops=e}else if(e!=null&&Array.isArray(e.ops)){this.ops=e.ops}else{this.ops=[]}};u.prototype.insert=function(t,e){var n={};if(t.length===0)return this;n.insert=t;if(e!=null&&(typeof e==="undefined"?"undefined":i(e))==="object"&&Object.keys(e).length>0){n.attributes=e}return this.push(n)};u.prototype["delete"]=function(t){if(t<=0)return this;return this.push({delete:t})};u.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};if(e!=null&&(typeof e==="undefined"?"undefined":i(e))==="object"&&Object.keys(e).length>0){n.attributes=e}return this.push(n)};u.prototype.push=function(t){var e=this.ops.length;var n=this.ops[e-1];t=a(true,{},t);if((typeof n==="undefined"?"undefined":i(n))==="object"){if(typeof t["delete"]==="number"&&typeof n["delete"]==="number"){this.ops[e-1]={delete:n["delete"]+t["delete"]};return this}if(typeof n["delete"]==="number"&&t.insert!=null){e-=1;n=this.ops[e-1];if((typeof n==="undefined"?"undefined":i(n))!=="object"){this.ops.unshift(t);return this}}if(o(t.attributes,n.attributes)){if(typeof t.insert==="string"&&typeof n.insert==="string"){this.ops[e-1]={insert:n.insert+t.insert};if(i(t.attributes)==="object")this.ops[e-1].attributes=t.attributes;return this}else if(typeof t.retain==="number"&&typeof n.retain==="number"){this.ops[e-1]={retain:n.retain+t.retain};if(i(t.attributes)==="object")this.ops[e-1].attributes=t.attributes;return this}}}if(e===this.ops.length){this.ops.push(t)}else{this.ops.splice(e,0,t)}return this};u.prototype.chop=function(){var t=this.ops[this.ops.length-1];if(t&&t.retain&&!t.attributes){this.ops.pop()}return this};u.prototype.filter=function(t){return this.ops.filter(t)};u.prototype.forEach=function(t){this.ops.forEach(t)};u.prototype.map=function(t){return this.ops.map(t)};u.prototype.partition=function(t){var e=[],n=[];this.forEach(function(i){var r=t(i)?e:n;r.push(i)});return[e,n]};u.prototype.reduce=function(t,e){return this.ops.reduce(t,e)};u.prototype.changeLength=function(){return this.reduce(function(t,e){if(e.insert){return t+s.length(e)}else if(e.delete){return t-e.delete}return t},0)};u.prototype.length=function(){return this.reduce(function(t,e){return t+s.length(e)},0)};u.prototype.slice=function(t,e){t=t||0;if(typeof e!=="number")e=Infinity;var n=[];var i=s.iterator(this.ops);var r=0;while(r<e&&i.hasNext()){var o;if(r<t){o=i.next(t-r)}else{o=i.next(e-r);n.push(o)}r+=s.length(o)}return new u(n)};u.prototype.compose=function(t){var e=s.iterator(this.ops);var n=s.iterator(t.ops);var i=new u;while(e.hasNext()||n.hasNext()){if(n.peekType()==="insert"){i.push(n.next())}else if(e.peekType()==="delete"){i.push(e.next())}else{var r=Math.min(e.peekLength(),n.peekLength());var o=e.next(r);var a=n.next(r);if(typeof a.retain==="number"){var l={};if(typeof o.retain==="number"){l.retain=r}else{l.insert=o.insert}var c=s.attributes.compose(o.attributes,a.attributes,typeof o.retain==="number");if(c)l.attributes=c;i.push(l)}else if(typeof a["delete"]==="number"&&typeof o.retain==="number"){i.push(a)}}}return i.chop()};u.prototype.concat=function(t){var e=new u(this.ops.slice());if(t.ops.length>0){e.push(t.ops[0]);e.ops=e.ops.concat(t.ops.slice(1))}return e};u.prototype.diff=function(t,e){if(this.ops===t.ops){return new u}var n=[this,t].map(function(e){return e.map(function(n){if(n.insert!=null){return typeof n.insert==="string"?n.insert:l}var i=e===t?"on":"with";throw new Error("diff() called "+i+" non-document")}).join("")});var i=new u;var a=r(n[0],n[1],e);var c=s.iterator(this.ops);var f=s.iterator(t.ops);a.forEach(function(t){var e=t[1].length;while(e>0){var n=0;switch(t[0]){case r.INSERT:n=Math.min(f.peekLength(),e);i.push(f.next(n));break;case r.DELETE:n=Math.min(e,c.peekLength());c.next(n);i["delete"](n);break;case r.EQUAL:n=Math.min(c.peekLength(),f.peekLength(),e);var a=c.next(n);var l=f.next(n);if(o(a.insert,l.insert)){i.retain(n,s.attributes.diff(a.attributes,l.attributes))}else{i.push(l)["delete"](n)}break}e-=n}});return i.chop()};u.prototype.eachLine=function(t,e){e=e||"\n";var n=s.iterator(this.ops);var i=new u;var r=0;while(n.hasNext()){if(n.peekType()!=="insert")return;var o=n.peek();var a=s.length(o)-n.peekLength();var l=typeof o.insert==="string"?o.insert.indexOf(e,a)-a:-1;if(l<0){i.push(n.next())}else if(l>0){i.push(n.next(l))}else{if(t(i,n.next(1).attributes||{},r)===false){return}r+=1;i=new u}}if(i.length()>0){t(i,{},r)}};u.prototype.transform=function(t,e){e=!!e;if(typeof t==="number"){return this.transformPosition(t,e)}var n=s.iterator(this.ops);var i=s.iterator(t.ops);var r=new u;while(n.hasNext()||i.hasNext()){if(n.peekType()==="insert"&&(e||i.peekType()!=="insert")){r.retain(s.length(n.next()))}else if(i.peekType()==="insert"){r.push(i.next())}else{var o=Math.min(n.peekLength(),i.peekLength());var a=n.next(o);var l=i.next(o);if(a["delete"]){continue}else if(l["delete"]){r.push(l)}else{r.retain(o,s.attributes.transform(a.attributes,l.attributes,e))}}}return r.chop()};u.prototype.transformPosition=function(t,e){e=!!e;var n=s.iterator(this.ops);var i=0;while(n.hasNext()&&i<=t){var r=n.peekLength();var o=n.peekType();n.next();if(o==="delete"){t-=Math.min(r,t-i);continue}else if(o==="insert"&&(i<t||!e)){t+=r}i+=r}return t};t.exports=u},function(t,e,n){t.exports=n(145)},function(t,e,n){"use strict";var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=Object.prototype.hasOwnProperty;var o=Object.prototype.toString;var a=function t(e){if(typeof Array.isArray==="function"){return Array.isArray(e)}return o.call(e)==="[object Array]"};var s=function t(e){if(!e||o.call(e)!=="[object Object]"){return false}var n=r.call(e,"constructor");var i=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!i){return false}var a;for(a in e){}return typeof a==="undefined"||r.call(e,a)};t.exports=function t(){var e,n,r,o,l,u;var c=arguments[0];var f=1;var h=arguments.length;var d=false;if(typeof c==="boolean"){d=c;c=arguments[1]||{};f=2}if(c==null||(typeof c==="undefined"?"undefined":i(c))!=="object"&&typeof c!=="function"){c={}}for(;f<h;++f){e=arguments[f];if(e!=null){for(n in e){r=c[n];o=e[n];if(c!==o){if(d&&o&&(s(o)||(l=a(o)))){if(l){l=false;u=r&&a(r)?r:[]}else{u=r&&s(r)?r:{}}c[n]=t(d,u,o)}else if(typeof o!=="undefined"){c[n]=o}}}}}return c}},function(t,e,n){"use strict";n.r(e);n.d(e,"default",function(){return v});var i=n(19);var r=n.n(i);var o=typeof document!=="undefined";if(typeof DEBUG!=="undefined"&&DEBUG){if(!o){throw new Error("vue-style-loader cannot be used in a non-browser environment. "+"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.")}}var a={};var s=o&&(document.head||document.getElementsByTagName("head")[0]);var l=null;var u=0;var c=false;var f=function(){};var h=null;var d="data-vue-ssr-id";var p=typeof navigator!=="undefined"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function v(t,e,n,i){c=n;h=i||{};var o=r()(t,e);m(o);return function e(n){var i=[];for(var s=0;s<o.length;s++){var l=o[s];var u=a[l.id];u.refs--;i.push(u)}if(n){o=r()(t,n);m(o)}else{o=[]}for(var s=0;s<i.length;s++){var u=i[s];if(u.refs===0){for(var c=0;c<u.parts.length;c++){u.parts[c]()}delete a[u.id]}}}}function m(t){for(var e=0;e<t.length;e++){var n=t[e];var i=a[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++){i.parts[r](n.parts[r])}for(;r<n.parts.length;r++){i.parts.push(y(n.parts[r]))}if(i.parts.length>n.parts.length){i.parts.length=n.parts.length}}else{var o=[];for(var r=0;r<n.parts.length;r++){o.push(y(n.parts[r]))}a[n.id]={id:n.id,refs:1,parts:o}}}}function g(){var t=document.createElement("style");t.type="text/css";s.appendChild(t);return t}function y(t){var e,n;var i=document.querySelector("style["+d+'~="'+t.id+'"]');if(i){if(c){return f}else{i.parentNode.removeChild(i)}}if(p){var r=u++;i=l||(l=g());e=b.bind(null,i,r,false);n=b.bind(null,i,r,true)}else{i=g();e=w.bind(null,i);n=function(){i.parentNode.removeChild(i)}}e(t);return function i(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap){return}e(t=r)}else{n()}}}var _=function(){var t=[];return function(e,n){t[e]=n;return t.filter(Boolean).join("\n")}}();function b(t,e,n,i){var r=n?"":i.css;if(t.styleSheet){t.styleSheet.cssText=_(e,r)}else{var o=document.createTextNode(r);var a=t.childNodes;if(a[e])t.removeChild(a[e]);if(a.length){t.insertBefore(o,a[e])}else{t.appendChild(o)}}}function w(t,e){var n=e.css;var i=e.media;var r=e.sourceMap;if(i){t.setAttribute("media",i)}if(h.ssrId){t.setAttribute(d,e.id)}if(r){n+="\n/*# sourceURL="+r.sources[0]+" */";n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"}if(t.styleSheet){t.styleSheet.cssText=n}else{while(t.firstChild){t.removeChild(t.firstChild)}t.appendChild(document.createTextNode(n))}}},function(t,e){t.exports=function(t){var e=[];e.toString=function e(){return this.map(function(e){var i=n(e,t);if(e[2]){return"@media "+e[2]+"{"+i+"}"}else{return i}}).join("")};e.i=function(t,n){if(typeof t==="string")t=[[null,t,""]];var i={};for(var r=0;r<this.length;r++){var o=this[r][0];if(typeof o==="number")i[o]=true}for(r=0;r<t.length;r++){var a=t[r];if(typeof a[0]!=="number"||!i[a[0]]){if(n&&!a[2]){a[2]=n}else if(n){a[2]="("+a[2]+") and ("+n+")"}e.push(a)}}};return e};function n(t,e){var n=t[1]||"";var r=t[3];if(!r){return n}if(e&&typeof btoa==="function"){var o=i(r);var a=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(a).concat([o]).join("\n")}return[n].join("\n")}function i(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t))));var n="sourceMappingURL=data:application/json;charset=utf-8;base64,"+e;return"/*# "+n+" */"}},function(t,e,n){"use strict";var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=n(29);var o=n(144);var a=Object.prototype.toString;function s(t){return a.call(t)==="[object Array]"}function l(t){return a.call(t)==="[object ArrayBuffer]"}function u(t){return typeof FormData!=="undefined"&&t instanceof FormData}function c(t){var e;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView){e=ArrayBuffer.isView(t)}else{e=t&&t.buffer&&t.buffer instanceof ArrayBuffer}return e}function f(t){return typeof t==="string"}function h(t){return typeof t==="number"}function d(t){return typeof t==="undefined"}function p(t){return t!==null&&(typeof t==="undefined"?"undefined":i(t))==="object"}function v(t){return a.call(t)==="[object Date]"}function m(t){return a.call(t)==="[object File]"}function g(t){return a.call(t)==="[object Blob]"}function y(t){return a.call(t)==="[object Function]"}function _(t){return p(t)&&y(t.pipe)}function b(t){return typeof URLSearchParams!=="undefined"&&t instanceof URLSearchParams}function w(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function x(){if(typeof navigator!=="undefined"&&navigator.product==="ReactNative"){return false}return typeof window!=="undefined"&&typeof document!=="undefined"}function E(t,e){if(t===null||typeof t==="undefined"){return}if((typeof t==="undefined"?"undefined":i(t))!=="object"){t=[t]}if(s(t)){for(var n=0,r=t.length;n<r;n++){e.call(null,t[n],n,t)}}else{for(var o in t){if(Object.prototype.hasOwnProperty.call(t,o)){e.call(null,t[o],o,t)}}}}function O(){var t={};function e(e,n){if(i(t[n])==="object"&&(typeof e==="undefined"?"undefined":i(e))==="object"){t[n]=O(t[n],e)}else{t[n]=e}}for(var n=0,r=arguments.length;n<r;n++){E(arguments[n],e)}return t}function k(t,e,n){E(e,function e(i,o){if(n&&typeof i==="function"){t[o]=r(i,n)}else{t[o]=i}});return t}t.exports={isArray:s,isArrayBuffer:l,isBuffer:o,isFormData:u,isArrayBufferView:c,isString:f,isNumber:h,isObject:p,isUndefined:d,isDate:v,isFile:m,isBlob:g,isFunction:y,isStream:_,isURLSearchParams:b,isStandardBrowserEnv:x,forEach:E,merge:O,extend:k,trim:w}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:true});var r=function(t){i(e,t);function e(e){var n=this;e="[Parchment] "+e;n=t.call(this,e)||this;n.message=e;n.name=n.constructor.name;return n}return e}(Error);e.ParchmentError=r;var o={};var a={};var s={};var l={};e.DATA_KEY="__blot";var u;(function(t){t[t["TYPE"]=3]="TYPE";t[t["LEVEL"]=12]="LEVEL";t[t["ATTRIBUTE"]=13]="ATTRIBUTE";t[t["BLOT"]=14]="BLOT";t[t["INLINE"]=7]="INLINE";t[t["BLOCK"]=11]="BLOCK";t[t["BLOCK_BLOT"]=10]="BLOCK_BLOT";t[t["INLINE_BLOT"]=6]="INLINE_BLOT";t[t["BLOCK_ATTRIBUTE"]=9]="BLOCK_ATTRIBUTE";t[t["INLINE_ATTRIBUTE"]=5]="INLINE_ATTRIBUTE";t[t["ANY"]=15]="ANY"})(u=e.Scope||(e.Scope={}));function c(t,e){var n=h(t);if(n==null){throw new r("Unable to create "+t+" blot")}var i=n;var o=t instanceof Node||t["nodeType"]===Node.TEXT_NODE?t:i.create(e);return new i(o,e)}e.create=c;function f(t,n){if(n===void 0){n=false}if(t==null)return null;if(t[e.DATA_KEY]!=null)return t[e.DATA_KEY].blot;if(n)return f(t.parentNode,n);return null}e.find=f;function h(t,e){if(e===void 0){e=u.ANY}var n;if(typeof t==="string"){n=l[t]||o[t]}else if(t instanceof Text||t["nodeType"]===Node.TEXT_NODE){n=l["text"]}else if(typeof t==="number"){if(t&u.LEVEL&u.BLOCK){n=l["block"]}else if(t&u.LEVEL&u.INLINE){n=l["inline"]}}else if(t instanceof HTMLElement){var i=(t.getAttribute("class")||"").split(/\s+/);for(var r in i){n=a[i[r]];if(n)break}n=n||s[t.tagName]}if(n==null)return null;if(e&u.LEVEL&n.scope&&e&u.TYPE&n.scope)return n;return null}e.query=h;function d(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}if(t.length>1){return t.map(function(t){return d(t)})}var n=t[0];if(typeof n.blotName!=="string"&&typeof n.attrName!=="string"){throw new r("Invalid definition")}else if(n.blotName==="abstract"){throw new r("Cannot register abstract class")}l[n.blotName||n.attrName]=n;if(typeof n.keyName==="string"){o[n.keyName]=n}else{if(n.className!=null){a[n.className]=n}if(n.tagName!=null){if(Array.isArray(n.tagName)){n.tagName=n.tagName.map(function(t){return t.toUpperCase()})}else{n.tagName=n.tagName.toUpperCase()}var i=Array.isArray(n.tagName)?n.tagName:[n.tagName];i.forEach(function(t){if(s[t]==null||n.className==null){s[t]=n}})}}return n}e.register=d},function(t,e,n){(function(t,e){var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=function(){"use strict";function e(t,e){return e!=null&&t instanceof e}var i;try{i=Map}catch(t){i=function t(){}}var r;try{r=Set}catch(t){r=function t(){}}var o;try{o=Promise}catch(t){o=function t(){}}function a(s,l,u,c,h){if((typeof l==="undefined"?"undefined":n(l))==="object"){u=l.depth;c=l.prototype;h=l.includeNonEnumerable;l=l.circular}var d=[];var p=[];var v=typeof t!="undefined";if(typeof l=="undefined")l=true;if(typeof u=="undefined")u=Infinity;function m(s,u){if(s===null)return null;if(u===0)return s;var g;var y;if((typeof s==="undefined"?"undefined":n(s))!="object"){return s}if(e(s,i)){g=new i}else if(e(s,r)){g=new r}else if(e(s,o)){g=new o(function(t,e){s.then(function(e){t(m(e,u-1))},function(t){e(m(t,u-1))})})}else if(a.__isArray(s)){g=[]}else if(a.__isRegExp(s)){g=new RegExp(s.source,f(s));if(s.lastIndex)g.lastIndex=s.lastIndex}else if(a.__isDate(s)){g=new Date(s.getTime())}else if(v&&t.isBuffer(s)){g=new t(s.length);s.copy(g);return g}else if(e(s,Error)){g=Object.create(s)}else{if(typeof c=="undefined"){y=Object.getPrototypeOf(s);g=Object.create(y)}else{g=Object.create(c);y=c}}if(l){var _=d.indexOf(s);if(_!=-1){return p[_]}d.push(s);p.push(g)}if(e(s,i)){s.forEach(function(t,e){var n=m(e,u-1);var i=m(t,u-1);g.set(n,i)})}if(e(s,r)){s.forEach(function(t){var e=m(t,u-1);g.add(e)})}for(var b in s){var w;if(y){w=Object.getOwnPropertyDescriptor(y,b)}if(w&&w.set==null){continue}g[b]=m(s[b],u-1)}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(s);for(var b=0;b<x.length;b++){var E=x[b];var O=Object.getOwnPropertyDescriptor(s,E);if(O&&!O.enumerable&&!h){continue}g[E]=m(s[E],u-1);if(!O.enumerable){Object.defineProperty(g,E,{enumerable:false})}}}if(h){var k=Object.getOwnPropertyNames(s);for(var b=0;b<k.length;b++){var T=k[b];var O=Object.getOwnPropertyDescriptor(s,T);if(O&&O.enumerable){continue}g[T]=m(s[T],u-1);Object.defineProperty(g,T,{enumerable:false})}}return g}return m(s,u)}a.clonePrototype=function t(e){if(e===null)return null;var n=function t(){};n.prototype=e;return new n};function s(t){return Object.prototype.toString.call(t)}a.__objToStr=s;function l(t){return(typeof t==="undefined"?"undefined":n(t))==="object"&&s(t)==="[object Date]"}a.__isDate=l;function u(t){return(typeof t==="undefined"?"undefined":n(t))==="object"&&s(t)==="[object Array]"}a.__isArray=u;function c(t){return(typeof t==="undefined"?"undefined":n(t))==="object"&&s(t)==="[object RegExp]"}a.__isRegExp=c;function f(t){var e="";if(t.global)e+="g";if(t.ignoreCase)e+="i";if(t.multiline)e+="m";return e}a.__getRegExpFlags=f;return a}();if((false?undefined:n(e))==="object"&&e.exports){e.exports=i}}).call(this,n(91).Buffer,n(87)(t))},function(t,e,n){var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=Array.prototype.slice;var o=n(93);var a=n(92);var s=t.exports=function(t,e,n){if(!n)n={};if(t===e){return true}else if(t instanceof Date&&e instanceof Date){return t.getTime()===e.getTime()}else if(!t||!e||(typeof t==="undefined"?"undefined":i(t))!="object"&&(typeof e==="undefined"?"undefined":i(e))!="object"){return n.strict?t===e:t==e}else{return c(t,e,n)}};function l(t){return t===null||t===undefined}function u(t){if(!t||(typeof t==="undefined"?"undefined":i(t))!=="object"||typeof t.length!=="number")return false;if(typeof t.copy!=="function"||typeof t.slice!=="function"){return false}if(t.length>0&&typeof t[0]!=="number")return false;return true}function c(t,e,n){var c,f;if(l(t)||l(e))return false;if(t.prototype!==e.prototype)return false;if(a(t)){if(!a(e)){return false}t=r.call(t);e=r.call(e);return s(t,e,n)}if(u(t)){if(!u(e)){return false}if(t.length!==e.length)return false;for(c=0;c<t.length;c++){if(t[c]!==e[c])return false}return true}try{var h=o(t),d=o(e)}catch(t){return false}if(h.length!=d.length)return false;h.sort();d.sort();for(c=h.length-1;c>=0;c--){if(h[c]!=d[c])return false}for(c=h.length-1;c>=0;c--){f=h[c];if(!s(t[f],e[f],n))return false}return(typeof t==="undefined"?"undefined":i(t))===(typeof e==="undefined"?"undefined":i(e))}},function(t,e,n){t.exports={align:{"":n(86),center:n(85),right:n(84),justify:n(83)},background:n(82),blockquote:n(81),bold:n(80),clean:n(79),code:n(20),"code-block":n(20),color:n(78),direction:{"":n(77),rtl:n(76)},float:{center:n(75),full:n(74),left:n(73),right:n(72)},formula:n(71),header:{1:n(70),2:n(69)},italic:n(68),image:n(67),indent:{"+1":n(66),"-1":n(65)},link:n(64),list:{ordered:n(63),bullet:n(62),check:n(61)},script:{sub:n(60),super:n(59)},strike:n(58),underline:n(57),video:n(56)}},function(t,e,n){var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=n(9);var o=n(3);var a={attributes:{compose:function t(e,n,r){if((typeof e==="undefined"?"undefined":i(e))!=="object")e={};if((typeof n==="undefined"?"undefined":i(n))!=="object")n={};var a=o(true,{},n);if(!r){a=Object.keys(a).reduce(function(t,e){if(a[e]!=null){t[e]=a[e]}return t},{})}for(var s in e){if(e[s]!==undefined&&n[s]===undefined){a[s]=e[s]}}return Object.keys(a).length>0?a:undefined},diff:function t(e,n){if((typeof e==="undefined"?"undefined":i(e))!=="object")e={};if((typeof n==="undefined"?"undefined":i(n))!=="object")n={};var o=Object.keys(e).concat(Object.keys(n)).reduce(function(t,i){if(!r(e[i],n[i])){t[i]=n[i]===undefined?null:n[i]}return t},{});return Object.keys(o).length>0?o:undefined},transform:function t(e,n,r){if((typeof e==="undefined"?"undefined":i(e))!=="object")return n;if((typeof n==="undefined"?"undefined":i(n))!=="object")return undefined;if(!r)return n;var o=Object.keys(n).reduce(function(t,i){if(e[i]===undefined)t[i]=n[i];return t},{});return Object.keys(o).length>0?o:undefined}},iterator:function t(e){return new s(e)},length:function t(e){if(typeof e["delete"]==="number"){return e["delete"]}else if(typeof e.retain==="number"){return e.retain}else{return typeof e.insert==="string"?e.insert.length:1}}};function s(t){this.ops=t;this.index=0;this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<Infinity};s.prototype.next=function(t){if(!t)t=Infinity;var e=this.ops[this.index];if(e){var n=this.offset;var i=a.length(e);if(t>=i-n){t=i-n;this.index+=1;this.offset=0}else{this.offset+=t}if(typeof e["delete"]==="number"){return{delete:t}}else{var r={};if(e.attributes){r.attributes=e.attributes}if(typeof e.retain==="number"){r.retain=t}else if(typeof e.insert==="string"){r.insert=e.insert.substr(n,t)}else{r.insert=e.insert}return r}}else{return{retain:Infinity}}};s.prototype.peek=function(){return this.ops[this.index]};s.prototype.peekLength=function(){if(this.ops[this.index]){return a.length(this.ops[this.index])-this.offset}else{return Infinity}};s.prototype.peekType=function(){if(this.ops[this.index]){if(typeof this.ops[this.index]["delete"]==="number"){return"delete"}else if(typeof this.ops[this.index].retain==="number"){return"retain"}else{return"insert"}}return"retain"};t.exports=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var i=n(7);var r=function(){function t(t,e,n){if(n===void 0){n={}}this.attrName=t;this.keyName=e;var r=i.Scope.TYPE&i.Scope.ATTRIBUTE;if(n.scope!=null){this.scope=n.scope&i.Scope.LEVEL|r}else{this.scope=i.Scope.ATTRIBUTE}if(n.whitelist!=null)this.whitelist=n.whitelist}t.keys=function(t){return[].map.call(t.attributes,function(t){return t.name})};t.prototype.add=function(t,e){if(!this.canAdd(t,e))return false;t.setAttribute(this.keyName,e);return true};t.prototype.canAdd=function(t,e){var n=i.query(t,i.Scope.BLOT&(this.scope|i.Scope.TYPE));if(n==null)return false;if(this.whitelist==null)return true;if(typeof e==="string"){return this.whitelist.indexOf(e.replace(/["']/g,""))>-1}else{return this.whitelist.indexOf(e)>-1}};t.prototype.remove=function(t){t.removeAttribute(this.keyName)};t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)?e:""};return t}();e.default=r},function(t,e){var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i;i=function(){return this}();try{i=i||Function("return this")()||(1,eval)("this")}catch(t){if((typeof window==="undefined"?"undefined":n(window))==="object")i=window}t.exports=i},function(t,e,n){"use strict";(function(t,n){var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
/*!
 * Vue.js v2.5.16
 * (c) 2014-2018 Evan You
 * Released under the MIT License.
 */var r=Object.freeze({});function o(t){return t===undefined||t===null}function a(t){return t!==undefined&&t!==null}function s(t){return t===true}function l(t){return t===false}function u(t){return typeof t==="string"||typeof t==="number"||(typeof t==="undefined"?"undefined":i(t))==="symbol"||typeof t==="boolean"}function c(t){return t!==null&&(typeof t==="undefined"?"undefined":i(t))==="object"}var f=Object.prototype.toString;function h(t){return f.call(t).slice(8,-1)}function d(t){return f.call(t)==="[object Object]"}function p(t){return f.call(t)==="[object RegExp]"}function v(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function m(t){return t==null?"":(typeof t==="undefined"?"undefined":i(t))==="object"?JSON.stringify(t,null,2):String(t)}function g(t){var e=parseFloat(t);return isNaN(e)?t:e}function y(t,e){var n=Object.create(null);var i=t.split(",");for(var r=0;r<i.length;r++){n[i[r]]=true}return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var _=y("slot,component",true);var b=y("key,ref,slot,slot-scope,is");function w(t,e){if(t.length){var n=t.indexOf(e);if(n>-1){return t.splice(n,1)}}}var x=Object.prototype.hasOwnProperty;function E(t,e){return x.call(t,e)}function O(t){var e=Object.create(null);return function n(i){var r=e[i];return r||(e[i]=t(i))}}var k=/-(\w)/g;var T=O(function(t){return t.replace(k,function(t,e){return e?e.toUpperCase():""})});var C=O(function(t){return t.charAt(0).toUpperCase()+t.slice(1)});var L=/\B([A-Z])/g;var A=O(function(t){return t.replace(L,"-$1").toLowerCase()});function S(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}n._length=t.length;return n}function P(t,e){return t.bind(e)}var N=Function.prototype.bind?P:S;function M(t,e){e=e||0;var n=t.length-e;var i=new Array(n);while(n--){i[n]=t[n+e]}return i}function j(t,e){for(var n in e){t[n]=e[n]}return t}function I(t){var e={};for(var n=0;n<t.length;n++){if(t[n]){j(e,t[n])}}return e}function D(t,e,n){}var R=function t(e,n,i){return false};var q=function t(e){return e};function B(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}function z(t,e){if(t===e){return true}var n=c(t);var i=c(e);if(n&&i){try{var r=Array.isArray(t);var o=Array.isArray(e);if(r&&o){return t.length===e.length&&t.every(function(t,n){return z(t,e[n])})}else if(!r&&!o){var a=Object.keys(t);var s=Object.keys(e);return a.length===s.length&&a.every(function(n){return z(t[n],e[n])})}else{return false}}catch(t){return false}}else if(!n&&!i){return String(t)===String(e)}else{return false}}function F(t,e){for(var n=0;n<t.length;n++){if(z(t[n],e)){return n}}return-1}function U(t){var e=false;return function(){if(!e){e=true;t.apply(this,arguments)}}}var $="data-server-rendered";var H=["component","directive","filter"];var Z=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"];var V={optionMergeStrategies:Object.create(null),silent:false,productionTip:"production"!=="production",devtools:"production"!=="production",performance:false,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:R,isReservedAttr:R,isUnknownElement:R,getTagNamespace:D,parsePlatformTagName:q,mustUseProp:R,_lifecycleHooks:Z};function W(t){var e=(t+"").charCodeAt(0);return e===36||e===95}function G(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:true,configurable:true})}var K=/[^\w.$]/;function Y(t){if(K.test(t)){return}var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t){return}t=t[e[n]]}return t}}var X="__proto__"in{};var J=typeof window!=="undefined";var Q=typeof WXEnvironment!=="undefined"&&!!WXEnvironment.platform;var tt=Q&&WXEnvironment.platform.toLowerCase();var et=J&&window.navigator.userAgent.toLowerCase();var nt=et&&/msie|trident/.test(et);var it=et&&et.indexOf("msie 9.0")>0;var rt=et&&et.indexOf("edge/")>0;var ot=et&&et.indexOf("android")>0||tt==="android";var at=et&&/iphone|ipad|ipod|ios/.test(et)||tt==="ios";var st=et&&/chrome\/\d+/.test(et)&&!rt;var lt={}.watch;var ut=false;if(J){try{var ct={};Object.defineProperty(ct,"passive",{get:function t(){ut=true}});window.addEventListener("test-passive",null,ct)}catch(t){}}var ft;var ht=function e(){if(ft===undefined){if(!J&&!Q&&typeof t!=="undefined"){ft=t["process"].env.VUE_ENV==="server"}else{ft=false}}return ft};var dt=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function pt(t){return typeof t==="function"&&/native code/.test(t.toString())}var vt=typeof Symbol!=="undefined"&&pt(Symbol)&&typeof Reflect!=="undefined"&&pt(Reflect.ownKeys);var mt;if(typeof Set!=="undefined"&&pt(Set)){mt=Set}else{mt=function(){function t(){this.set=Object.create(null)}t.prototype.has=function t(e){return this.set[e]===true};t.prototype.add=function t(e){this.set[e]=true};t.prototype.clear=function t(){this.set=Object.create(null)};return t}()}var gt=D;var yt=D;var _t=D;var bt=D;if(false){var wt,xt,Et,Ot}var kt=0;var Tt=function t(){this.id=kt++;this.subs=[]};Tt.prototype.addSub=function t(e){this.subs.push(e)};Tt.prototype.removeSub=function t(e){w(this.subs,e)};Tt.prototype.depend=function t(){if(Tt.target){Tt.target.addDep(this)}};Tt.prototype.notify=function t(){var e=this.subs.slice();for(var n=0,i=e.length;n<i;n++){e[n].update()}};Tt.target=null;var Ct=[];function Lt(t){if(Tt.target){Ct.push(Tt.target)}Tt.target=t}function At(){Tt.target=Ct.pop()}var St=function t(e,n,i,r,o,a,s,l){this.tag=e;this.data=n;this.children=i;this.text=r;this.elm=o;this.ns=undefined;this.context=a;this.fnContext=undefined;this.fnOptions=undefined;this.fnScopeId=undefined;this.key=n&&n.key;this.componentOptions=s;this.componentInstance=undefined;this.parent=undefined;this.raw=false;this.isStatic=false;this.isRootInsert=true;this.isComment=false;this.isCloned=false;this.isOnce=false;this.asyncFactory=l;this.asyncMeta=undefined;this.isAsyncPlaceholder=false};var Pt={child:{configurable:true}};Pt.child.get=function(){return this.componentInstance};Object.defineProperties(St.prototype,Pt);var Nt=function t(e){if(e===void 0)e="";var n=new St;n.text=e;n.isComment=true;return n};function Mt(t){return new St(undefined,undefined,undefined,String(t))}function jt(t){var e=new St(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);e.ns=t.ns;e.isStatic=t.isStatic;e.key=t.key;e.isComment=t.isComment;e.fnContext=t.fnContext;e.fnOptions=t.fnOptions;e.fnScopeId=t.fnScopeId;e.isCloned=true;return e}var It=Array.prototype;var Dt=Object.create(It);var Rt=["push","pop","shift","unshift","splice","sort","reverse"];Rt.forEach(function(t){var e=It[t];G(Dt,t,function n(){var i=[],r=arguments.length;while(r--){i[r]=arguments[r]}var o=e.apply(this,i);var a=this.__ob__;var s;switch(t){case"push":case"unshift":s=i;break;case"splice":s=i.slice(2);break}if(s){a.observeArray(s)}a.dep.notify();return o})});var qt=Object.getOwnPropertyNames(Dt);var Bt=true;function zt(t){Bt=t}var Ft=function t(e){this.value=e;this.dep=new Tt;this.vmCount=0;G(e,"__ob__",this);if(Array.isArray(e)){var n=X?Ut:$t;n(e,Dt,qt);this.observeArray(e)}else{this.walk(e)}};Ft.prototype.walk=function t(e){var n=Object.keys(e);for(var i=0;i<n.length;i++){Zt(e,n[i])}};Ft.prototype.observeArray=function t(e){for(var n=0,i=e.length;n<i;n++){Ht(e[n])}};function Ut(t,e,n){t.__proto__=e}function $t(t,e,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];G(t,o,e[o])}}function Ht(t,e){if(!c(t)||t instanceof St){return}var n;if(E(t,"__ob__")&&t.__ob__ instanceof Ft){n=t.__ob__}else if(Bt&&!ht()&&(Array.isArray(t)||d(t))&&Object.isExtensible(t)&&!t._isVue){n=new Ft(t)}if(e&&n){n.vmCount++}return n}function Zt(t,e,n,i,r){var o=new Tt;var a=Object.getOwnPropertyDescriptor(t,e);if(a&&a.configurable===false){return}var s=a&&a.get;if(!s&&arguments.length===2){n=t[e]}var l=a&&a.set;var u=!r&&Ht(n);Object.defineProperty(t,e,{enumerable:true,configurable:true,get:function e(){var i=s?s.call(t):n;if(Tt.target){o.depend();if(u){u.dep.depend();if(Array.isArray(i)){Gt(i)}}}return i},set:function e(i){var a=s?s.call(t):n;if(i===a||i!==i&&a!==a){return}if(false){}if(l){l.call(t,i)}else{n=i}u=!r&&Ht(i);o.notify()}})}function Vt(t,e,n){if(false){}if(Array.isArray(t)&&v(e)){t.length=Math.max(t.length,e);t.splice(e,1,n);return n}if(e in t&&!(e in Object.prototype)){t[e]=n;return n}var i=t.__ob__;if(t._isVue||i&&i.vmCount){"production"!=="production"&&gt("Avoid adding reactive properties to a Vue instance or its root $data "+"at runtime - declare it upfront in the data option.");return n}if(!i){t[e]=n;return n}Zt(i.value,e,n);i.dep.notify();return n}function Wt(t,e){if(false){}if(Array.isArray(t)&&v(e)){t.splice(e,1);return}var n=t.__ob__;if(t._isVue||n&&n.vmCount){"production"!=="production"&&gt("Avoid deleting properties on a Vue instance or its root $data "+"- just set it to null.");return}if(!E(t,e)){return}delete t[e];if(!n){return}n.dep.notify()}function Gt(t){for(var e=void 0,n=0,i=t.length;n<i;n++){e=t[n];e&&e.__ob__&&e.__ob__.dep.depend();if(Array.isArray(e)){Gt(e)}}}var Kt=V.optionMergeStrategies;if(false){}function Yt(t,e){if(!e){return t}var n,i,r;var o=Object.keys(e);for(var a=0;a<o.length;a++){n=o[a];i=t[n];r=e[n];if(!E(t,n)){Vt(t,n,r)}else if(d(i)&&d(r)){Yt(i,r)}}return t}function Xt(t,e,n){if(!n){if(!e){return t}if(!t){return e}return function n(){return Yt(typeof e==="function"?e.call(this,this):e,typeof t==="function"?t.call(this,this):t)}}else{return function i(){var r=typeof e==="function"?e.call(n,n):e;var o=typeof t==="function"?t.call(n,n):t;if(r){return Yt(r,o)}else{return o}}}}Kt.data=function(t,e,n){if(!n){if(e&&typeof e!=="function"){"production"!=="production"&&gt('The "data" option should be a function '+"that returns a per-instance value in component "+"definitions.",n);return t}return Xt(t,e)}return Xt(t,e,n)};function Jt(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}Z.forEach(function(t){Kt[t]=Jt});function Qt(t,e,n,i){var r=Object.create(t||null);if(e){"production"!=="production"&&ae(i,e,n);return j(r,e)}else{return r}}H.forEach(function(t){Kt[t+"s"]=Qt});Kt.watch=function(t,e,n,i){if(t===lt){t=undefined}if(e===lt){e=undefined}if(!e){return Object.create(t||null)}if(false){}if(!t){return e}var r={};j(r,t);for(var o in e){var a=r[o];var s=e[o];if(a&&!Array.isArray(a)){a=[a]}r[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return r};Kt.props=Kt.methods=Kt.inject=Kt.computed=function(t,e,n,i){if(e&&"production"!=="production"){ae(i,e,n)}if(!t){return e}var r=Object.create(null);j(r,t);if(e){j(r,e)}return r};Kt.provide=Xt;var te=function t(e,n){return n===undefined?e:n};function ee(t){for(var e in t.components){ne(e)}}function ne(t){if(!/^[a-zA-Z][\w-]*$/.test(t)){gt('Invalid component name: "'+t+'". Component names '+"can only contain alphanumeric characters and the hyphen, "+"and must start with a letter.")}if(_(t)||V.isReservedTag(t)){gt("Do not use built-in or reserved HTML elements as component "+"id: "+t)}}function ie(t,e){var n=t.props;if(!n){return}var i={};var r,o,a;if(Array.isArray(n)){r=n.length;while(r--){o=n[r];if(typeof o==="string"){a=T(o);i[a]={type:null}}else if(false){}}}else if(d(n)){for(var s in n){o=n[s];a=T(s);i[a]=d(o)?o:{type:o}}}else if(false){}t.props=i}function re(t,e){var n=t.inject;if(!n){return}var i=t.inject={};if(Array.isArray(n)){for(var r=0;r<n.length;r++){i[n[r]]={from:n[r]}}}else if(d(n)){for(var o in n){var a=n[o];i[o]=d(a)?j({from:o},a):{from:a}}}else if(false){}}function oe(t){var e=t.directives;if(e){for(var n in e){var i=e[n];if(typeof i==="function"){e[n]={bind:i,update:i}}}}}function ae(t,e,n){if(!d(e)){gt('Invalid value for option "'+t+'": expected an Object, '+"but got "+h(e)+".",n)}}function se(t,e,n){if(false){}if(typeof e==="function"){e=e.options}ie(e,n);re(e,n);oe(e);var i=e.extends;if(i){t=se(t,i,n)}if(e.mixins){for(var r=0,o=e.mixins.length;r<o;r++){t=se(t,e.mixins[r],n)}}var a={};var s;for(s in t){l(s)}for(s in e){if(!E(t,s)){l(s)}}function l(i){var r=Kt[i]||te;a[i]=r(t[i],e[i],n,i)}return a}function le(t,e,n,i){if(typeof n!=="string"){return}var r=t[e];if(E(r,n)){return r[n]}var o=T(n);if(E(r,o)){return r[o]}var a=C(o);if(E(r,a)){return r[a]}var s=r[n]||r[o]||r[a];if(false){}return s}function ue(t,e,n,i){var r=e[t];var o=!E(n,t);var a=n[t];var s=me(Boolean,r.type);if(s>-1){if(o&&!E(r,"default")){a=false}else if(a===""||a===A(t)){var l=me(String,r.type);if(l<0||s<l){a=true}}}if(a===undefined){a=ce(i,r,t);var u=Bt;zt(true);Ht(a);zt(u)}if(false){}return a}function ce(t,e,n){if(!E(e,"default")){return undefined}var i=e.default;if(false){}if(t&&t.$options.propsData&&t.$options.propsData[n]===undefined&&t._props[n]!==undefined){return t._props[n]}return typeof i==="function"&&pe(e.type)!=="Function"?i.call(t):i}function fe(t,e,n,i,r){if(t.required&&r){gt('Missing required prop: "'+e+'"',i);return}if(n==null&&!t.required){return}var o=t.type;var a=!o||o===true;var s=[];if(o){if(!Array.isArray(o)){o=[o]}for(var l=0;l<o.length&&!a;l++){var u=de(n,o[l]);s.push(u.expectedType||"");a=u.valid}}if(!a){gt('Invalid prop: type check failed for prop "'+e+'".'+" Expected "+s.map(C).join(", ")+", got "+h(n)+".",i);return}var c=t.validator;if(c){if(!c(n)){gt('Invalid prop: custom validator check failed for prop "'+e+'".',i)}}}var he=/^(String|Number|Boolean|Function|Symbol)$/;function de(t,e){var n;var r=pe(e);if(he.test(r)){var o=typeof t==="undefined"?"undefined":i(t);n=o===r.toLowerCase();if(!n&&o==="object"){n=t instanceof e}}else if(r==="Object"){n=d(t)}else if(r==="Array"){n=Array.isArray(t)}else{n=t instanceof e}return{valid:n,expectedType:r}}function pe(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function ve(t,e){return pe(t)===pe(e)}function me(t,e){if(!Array.isArray(e)){return ve(e,t)?0:-1}for(var n=0,i=e.length;n<i;n++){if(ve(e[n],t)){return n}}return-1}function ge(t,e,n){if(e){var i=e;while(i=i.$parent){var r=i.$options.errorCaptured;if(r){for(var o=0;o<r.length;o++){try{var a=r[o].call(i,t,e,n)===false;if(a){return}}catch(t){ye(t,i,"errorCaptured hook")}}}}}ye(t,e,n)}function ye(t,e,n){if(V.errorHandler){try{return V.errorHandler.call(null,t,e,n)}catch(t){_e(t,null,"config.errorHandler")}}_e(t,e,n)}function _e(t,e,n){if(false){}if((J||Q)&&typeof console!=="undefined"){console.error(t)}else{throw t}}var be=[];var we=false;function xe(){we=false;var t=be.slice(0);be.length=0;for(var e=0;e<t.length;e++){t[e]()}}var Ee;var Oe;var ke=false;if(typeof n!=="undefined"&&pt(n)){Oe=function t(){n(xe)}}else if(typeof MessageChannel!=="undefined"&&(pt(MessageChannel)||MessageChannel.toString()==="[object MessageChannelConstructor]")){var Te=new MessageChannel;var Ce=Te.port2;Te.port1.onmessage=xe;Oe=function t(){Ce.postMessage(1)}}else{Oe=function t(){setTimeout(xe,0)}}if(typeof Promise!=="undefined"&&pt(Promise)){var Le=Promise.resolve();Ee=function t(){Le.then(xe);if(at){setTimeout(D)}}}else{Ee=Oe}function Ae(t){return t._withTask||(t._withTask=function(){ke=true;var e=t.apply(null,arguments);ke=false;return e})}function Se(t,e){var n;be.push(function(){if(t){try{t.call(e)}catch(t){ge(t,e,"nextTick")}}else if(n){n(e)}});if(!we){we=true;if(ke){Oe()}else{Ee()}}if(!t&&typeof Promise!=="undefined"){return new Promise(function(t){n=t})}}var Pe;var Ne;if(false){var Me}var je;if(false){var Ie,De,Re,qe,Be,ze}var Fe=new mt;function Ue(t){$e(t,Fe);Fe.clear()}function $e(t,e){var n,i;var r=Array.isArray(t);if(!r&&!c(t)||Object.isFrozen(t)||t instanceof St){return}if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o)){return}e.add(o)}if(r){n=t.length;while(n--){$e(t[n],e)}}else{i=Object.keys(t);n=i.length;while(n--){$e(t[i[n]],e)}}}var He=O(function(t){var e=t.charAt(0)==="&";t=e?t.slice(1):t;var n=t.charAt(0)==="~";t=n?t.slice(1):t;var i=t.charAt(0)==="!";t=i?t.slice(1):t;return{name:t,once:n,capture:i,passive:e}});function Ze(t){function e(){var t=arguments;var n=e.fns;if(Array.isArray(n)){var i=n.slice();for(var r=0;r<i.length;r++){i[r].apply(null,t)}}else{return n.apply(null,arguments)}}e.fns=t;return e}function Ve(t,e,n,i,r){var a,s,l,u,c;for(a in t){s=l=t[a];u=e[a];c=He(a);if(o(l)){"production"!=="production"&&gt('Invalid handler for event "'+c.name+'": got '+String(l),r)}else if(o(u)){if(o(l.fns)){l=t[a]=Ze(l)}n(c.name,l,c.once,c.capture,c.passive,c.params)}else if(l!==u){u.fns=l;t[a]=u}}for(a in e){if(o(t[a])){c=He(a);i(c.name,e[a],c.capture)}}}function We(t,e,n){if(t instanceof St){t=t.data.hook||(t.data.hook={})}var i;var r=t[e];function l(){n.apply(this,arguments);w(i.fns,l)}if(o(r)){i=Ze([l])}else{if(a(r.fns)&&s(r.merged)){i=r;i.fns.push(l)}else{i=Ze([r,l])}}i.merged=true;t[e]=i}function Ge(t,e,n){var i=e.options.props;if(o(i)){return}var r={};var s=t.attrs;var l=t.props;if(a(s)||a(l)){for(var u in i){var c=A(u);if(false){var f}Ke(r,l,u,c,true)||Ke(r,s,u,c,false)}}return r}function Ke(t,e,n,i,r){if(a(e)){if(E(e,n)){t[n]=e[n];if(!r){delete e[n]}return true}else if(E(e,i)){t[n]=e[i];if(!r){delete e[i]}return true}}return false}function Ye(t){for(var e=0;e<t.length;e++){if(Array.isArray(t[e])){return Array.prototype.concat.apply([],t)}}return t}function Xe(t){return u(t)?[Mt(t)]:Array.isArray(t)?Qe(t):undefined}function Je(t){return a(t)&&a(t.text)&&l(t.isComment)}function Qe(t,e){var n=[];var i,r,l,c;for(i=0;i<t.length;i++){r=t[i];if(o(r)||typeof r==="boolean"){continue}l=n.length-1;c=n[l];if(Array.isArray(r)){if(r.length>0){r=Qe(r,(e||"")+"_"+i);if(Je(r[0])&&Je(c)){n[l]=Mt(c.text+r[0].text);r.shift()}n.push.apply(n,r)}}else if(u(r)){if(Je(c)){n[l]=Mt(c.text+r)}else if(r!==""){n.push(Mt(r))}}else{if(Je(r)&&Je(c)){n[l]=Mt(c.text+r.text)}else{if(s(t._isVList)&&a(r.tag)&&o(r.key)&&a(e)){r.key="__vlist"+e+"_"+i+"__"}n.push(r)}}}return n}function tn(t,e){if(t.__esModule||vt&&t[Symbol.toStringTag]==="Module"){t=t.default}return c(t)?e.extend(t):t}function en(t,e,n,i,r){var o=Nt();o.asyncFactory=t;o.asyncMeta={data:e,context:n,children:i,tag:r};return o}function nn(t,e,n){if(s(t.error)&&a(t.errorComp)){return t.errorComp}if(a(t.resolved)){return t.resolved}if(s(t.loading)&&a(t.loadingComp)){return t.loadingComp}if(a(t.contexts)){t.contexts.push(n)}else{var i=t.contexts=[n];var r=true;var l=function t(){for(var e=0,n=i.length;e<n;e++){i[e].$forceUpdate()}};var u=U(function(n){t.resolved=tn(n,e);if(!r){l()}});var f=U(function(e){"production"!=="production"&&gt("Failed to resolve async component: "+String(t)+(e?"\nReason: "+e:""));if(a(t.errorComp)){t.error=true;l()}});var h=t(u,f);if(c(h)){if(typeof h.then==="function"){if(o(t.resolved)){h.then(u,f)}}else if(a(h.component)&&typeof h.component.then==="function"){h.component.then(u,f);if(a(h.error)){t.errorComp=tn(h.error,e)}if(a(h.loading)){t.loadingComp=tn(h.loading,e);if(h.delay===0){t.loading=true}else{setTimeout(function(){if(o(t.resolved)&&o(t.error)){t.loading=true;l()}},h.delay||200)}}if(a(h.timeout)){setTimeout(function(){if(o(t.resolved)){f(false?undefined:null)}},h.timeout)}}}r=false;return t.loading?t.loadingComp:t.resolved}}function rn(t){return t.isComment&&t.asyncFactory}function on(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++){var n=t[e];if(a(n)&&(a(n.componentOptions)||rn(n))){return n}}}}function an(t){t._events=Object.create(null);t._hasHookEvent=false;var e=t.$options._parentListeners;if(e){cn(t,e)}}var sn;function ln(t,e,n){if(n){sn.$once(t,e)}else{sn.$on(t,e)}}function un(t,e){sn.$off(t,e)}function cn(t,e,n){sn=t;Ve(e,n||{},ln,un,t);sn=undefined}function fn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;var r=this;if(Array.isArray(t)){for(var o=0,a=t.length;o<a;o++){i.$on(t[o],n)}}else{(r._events[t]||(r._events[t]=[])).push(n);if(e.test(t)){r._hasHookEvent=true}}return r};t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i);e.apply(n,arguments)}i.fn=e;n.$on(t,i);return n};t.prototype.$off=function(t,e){var n=this;var i=this;if(!arguments.length){i._events=Object.create(null);return i}if(Array.isArray(t)){for(var r=0,o=t.length;r<o;r++){n.$off(t[r],e)}return i}var a=i._events[t];if(!a){return i}if(!e){i._events[t]=null;return i}if(e){var s;var l=a.length;while(l--){s=a[l];if(s===e||s.fn===e){a.splice(l,1);break}}}return i};t.prototype.$emit=function(t){var e=this;if(false){var n}var i=e._events[t];if(i){i=i.length>1?M(i):i;var r=M(arguments,1);for(var o=0,a=i.length;o<a;o++){try{i[o].apply(e,r)}catch(n){ge(n,e,'event handler for "'+t+'"')}}}return e}}function hn(t,e){var n={};if(!t){return n}for(var i=0,r=t.length;i<r;i++){var o=t[i];var a=o.data;if(a&&a.attrs&&a.attrs.slot){delete a.attrs.slot}if((o.context===e||o.fnContext===e)&&a&&a.slot!=null){var s=a.slot;var l=n[s]||(n[s]=[]);if(o.tag==="template"){l.push.apply(l,o.children||[])}else{l.push(o)}}else{(n.default||(n.default=[])).push(o)}}for(var u in n){if(n[u].every(dn)){delete n[u]}}return n}function dn(t){return t.isComment&&!t.asyncFactory||t.text===" "}function pn(t,e){e=e||{};for(var n=0;n<t.length;n++){if(Array.isArray(t[n])){pn(t[n],e)}else{e[t[n].key]=t[n].fn}}return e}var vn=null;var mn=false;function gn(t){var e=t.$options;var n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent){n=n.$parent}n.$children.push(t)}t.$parent=n;t.$root=n?n.$root:t;t.$children=[];t.$refs={};t._watcher=null;t._inactive=null;t._directInactive=false;t._isMounted=false;t._isDestroyed=false;t._isBeingDestroyed=false}function yn(t){t.prototype._update=function(t,e){var n=this;if(n._isMounted){On(n,"beforeUpdate")}var i=n.$el;var r=n._vnode;var o=vn;vn=n;n._vnode=t;if(!r){n.$el=n.__patch__(n.$el,t,e,false,n.$options._parentElm,n.$options._refElm);n.$options._parentElm=n.$options._refElm=null}else{n.$el=n.__patch__(r,t)}vn=o;if(i){i.__vue__=null}if(n.$el){n.$el.__vue__=n}if(n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode){n.$parent.$el=n.$el}};t.prototype.$forceUpdate=function(){var t=this;if(t._watcher){t._watcher.update()}};t.prototype.$destroy=function(){var t=this;if(t._isBeingDestroyed){return}On(t,"beforeDestroy");t._isBeingDestroyed=true;var e=t.$parent;if(e&&!e._isBeingDestroyed&&!t.$options.abstract){w(e.$children,t)}if(t._watcher){t._watcher.teardown()}var n=t._watchers.length;while(n--){t._watchers[n].teardown()}if(t._data.__ob__){t._data.__ob__.vmCount--}t._isDestroyed=true;t.__patch__(t._vnode,null);On(t,"destroyed");t.$off();if(t.$el){t.$el.__vue__=null}if(t.$vnode){t.$vnode.parent=null}}}function _n(t,e,n){t.$el=e;if(!t.$options.render){t.$options.render=Nt;if(false){}}On(t,"beforeMount");var i;if(false){}else{i=function e(){t._update(t._render(),n)}}new zn(t,i,D,null,true);n=false;if(t.$vnode==null){t._isMounted=true;On(t,"mounted")}return t}function bn(t,e,n,i,o){if(false){}var a=!!(o||t.$options._renderChildren||i.data.scopedSlots||t.$scopedSlots!==r);t.$options._parentVnode=i;t.$vnode=i;if(t._vnode){t._vnode.parent=i}t.$options._renderChildren=o;t.$attrs=i.data.attrs||r;t.$listeners=n||r;if(e&&t.$options.props){zt(false);var s=t._props;var l=t.$options._propKeys||[];for(var u=0;u<l.length;u++){var c=l[u];var f=t.$options.props;s[c]=ue(c,f,e,t)}zt(true);t.$options.propsData=e}n=n||r;var h=t.$options._parentListeners;t.$options._parentListeners=n;cn(t,n,h);if(a){t.$slots=hn(o,i.context);t.$forceUpdate()}if(false){}}function wn(t){while(t&&(t=t.$parent)){if(t._inactive){return true}}return false}function xn(t,e){if(e){t._directInactive=false;if(wn(t)){return}}else if(t._directInactive){return}if(t._inactive||t._inactive===null){t._inactive=false;for(var n=0;n<t.$children.length;n++){xn(t.$children[n])}On(t,"activated")}}function En(t,e){if(e){t._directInactive=true;if(wn(t)){return}}if(!t._inactive){t._inactive=true;for(var n=0;n<t.$children.length;n++){En(t.$children[n])}On(t,"deactivated")}}function On(t,e){Lt();var n=t.$options[e];if(n){for(var i=0,r=n.length;i<r;i++){try{n[i].call(t)}catch(n){ge(n,t,e+" hook")}}}if(t._hasHookEvent){t.$emit("hook:"+e)}At()}var kn=100;var Tn=[];var Cn=[];var Ln={};var An={};var Sn=false;var Pn=false;var Nn=0;function Mn(){Nn=Tn.length=Cn.length=0;Ln={};if(false){}Sn=Pn=false}function jn(){Pn=true;var t,e;Tn.sort(function(t,e){return t.id-e.id});for(Nn=0;Nn<Tn.length;Nn++){t=Tn[Nn];e=t.id;Ln[e]=null;t.run();if(false){}}var n=Cn.slice();var i=Tn.slice();Mn();Rn(n);In(i);if(dt&&V.devtools){dt.emit("flush")}}function In(t){var e=t.length;while(e--){var n=t[e];var i=n.vm;if(i._watcher===n&&i._isMounted){On(i,"updated")}}}function Dn(t){t._inactive=false;Cn.push(t)}function Rn(t){for(var e=0;e<t.length;e++){t[e]._inactive=true;xn(t[e],true)}}function qn(t){var e=t.id;if(Ln[e]==null){Ln[e]=true;if(!Pn){Tn.push(t)}else{var n=Tn.length-1;while(n>Nn&&Tn[n].id>t.id){n--}Tn.splice(n+1,0,t)}if(!Sn){Sn=true;Se(jn)}}}var Bn=0;var zn=function t(e,n,i,r,o){this.vm=e;if(o){e._watcher=this}e._watchers.push(this);if(r){this.deep=!!r.deep;this.user=!!r.user;this.lazy=!!r.lazy;this.sync=!!r.sync}else{this.deep=this.user=this.lazy=this.sync=false}this.cb=i;this.id=++Bn;this.active=true;this.dirty=this.lazy;this.deps=[];this.newDeps=[];this.depIds=new mt;this.newDepIds=new mt;this.expression=false?undefined:"";if(typeof n==="function"){this.getter=n}else{this.getter=Y(n);if(!this.getter){this.getter=function(){};"production"!=="production"&&gt('Failed watching path: "'+n+'" '+"Watcher only accepts simple dot-delimited paths. "+"For full control, use a function instead.",e)}}this.value=this.lazy?undefined:this.get()};zn.prototype.get=function t(){Lt(this);var e;var n=this.vm;try{e=this.getter.call(n,n)}catch(t){if(this.user){ge(t,n,'getter for watcher "'+this.expression+'"')}else{throw t}}finally{if(this.deep){Ue(e)}At();this.cleanupDeps()}return e};zn.prototype.addDep=function t(e){var n=e.id;if(!this.newDepIds.has(n)){this.newDepIds.add(n);this.newDeps.push(e);if(!this.depIds.has(n)){e.addSub(this)}}};zn.prototype.cleanupDeps=function t(){var e=this;var n=this.deps.length;while(n--){var i=e.deps[n];if(!e.newDepIds.has(i.id)){i.removeSub(e)}}var r=this.depIds;this.depIds=this.newDepIds;this.newDepIds=r;this.newDepIds.clear();r=this.deps;this.deps=this.newDeps;this.newDeps=r;this.newDeps.length=0};zn.prototype.update=function t(){if(this.lazy){this.dirty=true}else if(this.sync){this.run()}else{qn(this)}};zn.prototype.run=function t(){if(this.active){var e=this.get();if(e!==this.value||c(e)||this.deep){var n=this.value;this.value=e;if(this.user){try{this.cb.call(this.vm,e,n)}catch(t){ge(t,this.vm,'callback for watcher "'+this.expression+'"')}}else{this.cb.call(this.vm,e,n)}}}};zn.prototype.evaluate=function t(){this.value=this.get();this.dirty=false};zn.prototype.depend=function t(){var e=this;var n=this.deps.length;while(n--){e.deps[n].depend()}};zn.prototype.teardown=function t(){var e=this;if(this.active){if(!this.vm._isBeingDestroyed){w(this.vm._watchers,this)}var n=this.deps.length;while(n--){e.deps[n].removeSub(e)}this.active=false}};var Fn={enumerable:true,configurable:true,get:D,set:D};function Un(t,e,n){Fn.get=function t(){return this[e][n]};Fn.set=function t(i){this[e][n]=i};Object.defineProperty(t,n,Fn)}function $n(t){t._watchers=[];var e=t.$options;if(e.props){Hn(t,e.props)}if(e.methods){Xn(t,e.methods)}if(e.data){Zn(t)}else{Ht(t._data={},true)}if(e.computed){Gn(t,e.computed)}if(e.watch&&e.watch!==lt){Jn(t,e.watch)}}function Hn(t,e){var n=t.$options.propsData||{};var i=t._props={};var r=t.$options._propKeys=[];var o=!t.$parent;if(!o){zt(false)}var a=function o(a){r.push(a);var s=ue(a,e,n,t);if(false){var l}else{Zt(i,a,s)}if(!(a in t)){Un(t,"_props",a)}};for(var s in e){a(s)}zt(true)}function Zn(t){var e=t.$options.data;e=t._data=typeof e==="function"?Vn(e,t):e||{};if(!d(e)){e={};"production"!=="production"&&gt("data functions should return an object:\n"+"https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function",t)}var n=Object.keys(e);var i=t.$options.props;var r=t.$options.methods;var o=n.length;while(o--){var a=n[o];if(false){}if(i&&E(i,a)){"production"!=="production"&&gt('The data property "'+a+'" is already declared as a prop. '+"Use prop default value instead.",t)}else if(!W(a)){Un(t,"_data",a)}}Ht(e,true)}function Vn(t,e){Lt();try{return t.call(e,e)}catch(t){ge(t,e,"data()");return{}}finally{At()}}var Wn={lazy:true};function Gn(t,e){var n=t._computedWatchers=Object.create(null);var i=ht();for(var r in e){var o=e[r];var a=typeof o==="function"?o:o.get;if(false){}if(!i){n[r]=new zn(t,a||D,D,Wn)}if(!(r in t)){Kn(t,r,o)}else if(false){}}}function Kn(t,e,n){var i=!ht();if(typeof n==="function"){Fn.get=i?Yn(e):n;Fn.set=D}else{Fn.get=n.get?i&&n.cache!==false?Yn(e):n.get:D;Fn.set=n.set?n.set:D}if(false){}Object.defineProperty(t,e,Fn)}function Yn(t){return function e(){var n=this._computedWatchers&&this._computedWatchers[t];if(n){if(n.dirty){n.evaluate()}if(Tt.target){n.depend()}return n.value}}}function Xn(t,e){var n=t.$options.props;for(var i in e){if(false){}t[i]=e[i]==null?D:N(e[i],t)}}function Jn(t,e){for(var n in e){var i=e[n];if(Array.isArray(i)){for(var r=0;r<i.length;r++){Qn(t,n,i[r])}}else{Qn(t,n,i)}}}function Qn(t,e,n,i){if(d(n)){i=n;n=n.handler}if(typeof n==="string"){n=t[n]}return t.$watch(e,n,i)}function ti(t){var e={};e.get=function(){return this._data};var n={};n.get=function(){return this._props};if(false){}Object.defineProperty(t.prototype,"$data",e);Object.defineProperty(t.prototype,"$props",n);t.prototype.$set=Vt;t.prototype.$delete=Wt;t.prototype.$watch=function(t,e,n){var i=this;if(d(e)){return Qn(i,t,e,n)}n=n||{};n.user=true;var r=new zn(i,t,e,n);if(n.immediate){e.call(i,r.value)}return function t(){r.teardown()}}}function ei(t){var e=t.$options.provide;if(e){t._provided=typeof e==="function"?e.call(t):e}}function ni(t){var e=ii(t.$options.inject,t);if(e){zt(false);Object.keys(e).forEach(function(n){if(false){}else{Zt(t,n,e[n])}});zt(true)}}function ii(t,e){if(t){var n=Object.create(null);var i=vt?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t);for(var r=0;r<i.length;r++){var o=i[r];var a=t[o].from;var s=e;while(s){if(s._provided&&E(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s){if("default"in t[o]){var l=t[o].default;n[o]=typeof l==="function"?l.call(e):l}else if(false){}}}return n}}function ri(t,e){var n,i,r,o,s;if(Array.isArray(t)||typeof t==="string"){n=new Array(t.length);for(i=0,r=t.length;i<r;i++){n[i]=e(t[i],i)}}else if(typeof t==="number"){n=new Array(t);for(i=0;i<t;i++){n[i]=e(i+1,i)}}else if(c(t)){o=Object.keys(t);n=new Array(o.length);for(i=0,r=o.length;i<r;i++){s=o[i];n[i]=e(t[s],s,i)}}if(a(n)){n._isVList=true}return n}function oi(t,e,n,i){var r=this.$scopedSlots[t];var o;if(r){n=n||{};if(i){if(false){}n=j(j({},i),n)}o=r(n)||e}else{var a=this.$slots[t];if(a){if(false){}a._rendered=true}o=a||e}var s=n&&n.slot;if(s){return this.$createElement("template",{slot:s},o)}else{return o}}function ai(t){return le(this.$options,"filters",t,true)||q}function si(t,e){if(Array.isArray(t)){return t.indexOf(e)===-1}else{return t!==e}}function li(t,e,n,i,r){var o=V.keyCodes[e]||n;if(r&&i&&!V.keyCodes[e]){return si(r,i)}else if(o){return si(o,t)}else if(i){return A(i)!==e}}function ui(t,e,n,i,r){if(n){if(!c(n)){"production"!=="production"&&gt("v-bind without argument expects an Object or Array value",this)}else{if(Array.isArray(n)){n=I(n)}var o;var a=function a(s){if(s==="class"||s==="style"||b(s)){o=t}else{var l=t.attrs&&t.attrs.type;o=i||V.mustUseProp(e,l,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}if(!(s in o)){o[s]=n[s];if(r){var u=t.on||(t.on={});u["update:"+s]=function(t){n[s]=t}}}};for(var s in n){a(s)}}}return t}function ci(t,e){var n=this._staticTrees||(this._staticTrees=[]);var i=n[t];if(i&&!e){return i}i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this);hi(i,"__static__"+t,false);return i}function fi(t,e,n){hi(t,"__once__"+e+(n?"_"+n:""),true);return t}function hi(t,e,n){if(Array.isArray(t)){for(var i=0;i<t.length;i++){if(t[i]&&typeof t[i]!=="string"){di(t[i],e+"_"+i,n)}}}else{di(t,e,n)}}function di(t,e,n){t.isStatic=true;t.key=e;t.isOnce=n}function pi(t,e){if(e){if(!d(e)){"production"!=="production"&&gt("v-on without argument expects an Object value",this)}else{var n=t.on=t.on?j({},t.on):{};for(var i in e){var r=n[i];var o=e[i];n[i]=r?[].concat(r,o):o}}}return t}function vi(t){t._o=fi;t._n=g;t._s=m;t._l=ri;t._t=oi;t._q=z;t._i=F;t._m=ci;t._f=ai;t._k=li;t._b=ui;t._v=Mt;t._e=Nt;t._u=pn;t._g=pi}function mi(t,e,n,i,o){var a=o.options;var l;if(E(i,"_uid")){l=Object.create(i);l._original=i}else{l=i;i=i._original}var u=s(a._compiled);var c=!u;this.data=t;this.props=e;this.children=n;this.parent=i;this.listeners=t.on||r;this.injections=ii(a.inject,i);this.slots=function(){return hn(n,i)};if(u){this.$options=a;this.$slots=this.slots();this.$scopedSlots=t.scopedSlots||r}if(a._scopeId){this._c=function(t,e,n,r){var o=Li(l,t,e,n,r,c);if(o&&!Array.isArray(o)){o.fnScopeId=a._scopeId;o.fnContext=i}return o}}else{this._c=function(t,e,n,i){return Li(l,t,e,n,i,c)}}}vi(mi.prototype);function gi(t,e,n,i,o){var s=t.options;var l={};var u=s.props;if(a(u)){for(var c in u){l[c]=ue(c,u,e||r)}}else{if(a(n.attrs)){_i(l,n.attrs)}if(a(n.props)){_i(l,n.props)}}var f=new mi(n,l,o,i,t);var h=s.render.call(null,f._c,f);if(h instanceof St){return yi(h,n,f.parent,s)}else if(Array.isArray(h)){var d=Xe(h)||[];var p=new Array(d.length);for(var v=0;v<d.length;v++){p[v]=yi(d[v],n,f.parent,s)}return p}}function yi(t,e,n,i){var r=jt(t);r.fnContext=n;r.fnOptions=i;if(e.slot){(r.data||(r.data={})).slot=e.slot}return r}function _i(t,e){for(var n in e){t[T(n)]=e[n]}}var bi={init:function t(e,n,i,r){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var o=e;bi.prepatch(o,o)}else{var a=e.componentInstance=Ei(e,vn,i,r);a.$mount(n?e.elm:undefined,n)}},prepatch:function t(e,n){var i=n.componentOptions;var r=n.componentInstance=e.componentInstance;bn(r,i.propsData,i.listeners,n,i.children)},insert:function t(e){var n=e.context;var i=e.componentInstance;if(!i._isMounted){i._isMounted=true;On(i,"mounted")}if(e.data.keepAlive){if(n._isMounted){Dn(i)}else{xn(i,true)}}},destroy:function t(e){var n=e.componentInstance;if(!n._isDestroyed){if(!e.data.keepAlive){n.$destroy()}else{En(n,true)}}}};var wi=Object.keys(bi);function xi(t,e,n,i,r){if(o(t)){return}var l=n.$options._base;if(c(t)){t=l.extend(t)}if(typeof t!=="function"){if(false){}return}var u;if(o(t.cid)){u=t;t=nn(u,l,n);if(t===undefined){return en(u,e,n,i,r)}}e=e||{};Ri(t);if(a(e.model)){ki(t.options,e)}var f=Ge(e,t,r);if(s(t.options.functional)){return gi(t,f,e,n,i)}var h=e.on;e.on=e.nativeOn;if(s(t.options.abstract)){var d=e.slot;e={};if(d){e.slot=d}}Oi(e);var p=t.options.name||r;var v=new St("vue-component-"+t.cid+(p?"-"+p:""),e,undefined,undefined,undefined,n,{Ctor:t,propsData:f,listeners:h,tag:r,children:i},u);return v}function Ei(t,e,n,i){var r={_isComponent:true,parent:e,_parentVnode:t,_parentElm:n||null,_refElm:i||null};var o=t.data.inlineTemplate;if(a(o)){r.render=o.render;r.staticRenderFns=o.staticRenderFns}return new t.componentOptions.Ctor(r)}function Oi(t){var e=t.hook||(t.hook={});for(var n=0;n<wi.length;n++){var i=wi[n];e[i]=bi[i]}}function ki(t,e){var n=t.model&&t.model.prop||"value";var i=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var r=e.on||(e.on={});if(a(r[i])){r[i]=[e.model.callback].concat(r[i])}else{r[i]=e.model.callback}}var Ti=1;var Ci=2;function Li(t,e,n,i,r,o){if(Array.isArray(n)||u(n)){r=i;i=n;n=undefined}if(s(o)){r=Ci}return Ai(t,e,n,i,r)}function Ai(t,e,n,i,r){if(a(n)&&a(n.__ob__)){"production"!=="production"&&gt("Avoid using observed data object as vnode data: "+JSON.stringify(n)+"\n"+"Always create fresh vnode data objects in each render!",t);return Nt()}if(a(n)&&a(n.is)){e=n.is}if(!e){return Nt()}if(false){}if(Array.isArray(i)&&typeof i[0]==="function"){n=n||{};n.scopedSlots={default:i[0]};i.length=0}if(r===Ci){i=Xe(i)}else if(r===Ti){i=Ye(i)}var o,s;if(typeof e==="string"){var l;s=t.$vnode&&t.$vnode.ns||V.getTagNamespace(e);if(V.isReservedTag(e)){o=new St(V.parsePlatformTagName(e),n,i,undefined,undefined,t)}else if(a(l=le(t.$options,"components",e))){o=xi(l,n,t,i,e)}else{o=new St(e,n,i,undefined,undefined,t)}}else{o=xi(e,n,t,i)}if(Array.isArray(o)){return o}else if(a(o)){if(a(s)){Si(o,s)}if(a(n)){Pi(n)}return o}else{return Nt()}}function Si(t,e,n){t.ns=e;if(t.tag==="foreignObject"){e=undefined;n=true}if(a(t.children)){for(var i=0,r=t.children.length;i<r;i++){var l=t.children[i];if(a(l.tag)&&(o(l.ns)||s(n)&&l.tag!=="svg")){Si(l,e,n)}}}}function Pi(t){if(c(t.style)){Ue(t.style)}if(c(t.class)){Ue(t.class)}}function Ni(t){t._vnode=null;t._staticTrees=null;var e=t.$options;var n=t.$vnode=e._parentVnode;var i=n&&n.context;t.$slots=hn(e._renderChildren,i);t.$scopedSlots=r;t._c=function(e,n,i,r){return Li(t,e,n,i,r,false)};t.$createElement=function(e,n,i,r){return Li(t,e,n,i,r,true)};var o=n&&n.data;if(false){}else{Zt(t,"$attrs",o&&o.attrs||r,null,true);Zt(t,"$listeners",e._parentListeners||r,null,true)}}function Mi(t){vi(t.prototype);t.prototype.$nextTick=function(t){return Se(t,this)};t.prototype._render=function(){var t=this;var e=t.$options;var n=e.render;var i=e._parentVnode;if(false){var o}if(i){t.$scopedSlots=i.data.scopedSlots||r}t.$vnode=i;var a;try{a=n.call(t._renderProxy,t.$createElement)}catch(e){ge(e,t,"render");if(false){}else{a=t._vnode}}if(!(a instanceof St)){if(false){}a=Nt()}a.parent=i;return a}}var ji=0;function Ii(t){t.prototype._init=function(t){var e=this;e._uid=ji++;var n,i;if(false){}e._isVue=true;if(t&&t._isComponent){Di(e,t)}else{e.$options=se(Ri(e.constructor),t||{},e)}if(false){}else{e._renderProxy=e}e._self=e;gn(e);an(e);Ni(e);On(e,"beforeCreate");ni(e);$n(e);ei(e);On(e,"created");if(false){}if(e.$options.el){e.$mount(e.$options.el)}}}function Di(t,e){var n=t.$options=Object.create(t.constructor.options);var i=e._parentVnode;n.parent=e.parent;n._parentVnode=i;n._parentElm=e._parentElm;n._refElm=e._refElm;var r=i.componentOptions;n.propsData=r.propsData;n._parentListeners=r.listeners;n._renderChildren=r.children;n._componentTag=r.tag;if(e.render){n.render=e.render;n.staticRenderFns=e.staticRenderFns}}function Ri(t){var e=t.options;if(t.super){var n=Ri(t.super);var i=t.superOptions;if(n!==i){t.superOptions=n;var r=qi(t);if(r){j(t.extendOptions,r)}e=t.options=se(n,t.extendOptions);if(e.name){e.components[e.name]=t}}}return e}function qi(t){var e;var n=t.options;var i=t.extendOptions;var r=t.sealedOptions;for(var o in n){if(n[o]!==r[o]){if(!e){e={}}e[o]=Bi(n[o],i[o],r[o])}}return e}function Bi(t,e,n){if(Array.isArray(t)){var i=[];n=Array.isArray(n)?n:[n];e=Array.isArray(e)?e:[e];for(var r=0;r<t.length;r++){if(e.indexOf(t[r])>=0||n.indexOf(t[r])<0){i.push(t[r])}}return i}else{return t}}function zi(t){if(false){}this._init(t)}Ii(zi);ti(zi);fn(zi);yn(zi);Mi(zi);function Fi(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1){return this}var n=M(arguments,1);n.unshift(this);if(typeof t.install==="function"){t.install.apply(t,n)}else if(typeof t==="function"){t.apply(null,n)}e.push(t);return this}}function Ui(t){t.mixin=function(t){this.options=se(this.options,t);return this}}function $i(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this;var i=n.cid;var r=t._Ctor||(t._Ctor={});if(r[i]){return r[i]}var o=t.name||n.options.name;if(false){}var a=function t(e){this._init(e)};a.prototype=Object.create(n.prototype);a.prototype.constructor=a;a.cid=e++;a.options=se(n.options,t);a["super"]=n;if(a.options.props){Hi(a)}if(a.options.computed){Zi(a)}a.extend=n.extend;a.mixin=n.mixin;a.use=n.use;H.forEach(function(t){a[t]=n[t]});if(o){a.options.components[o]=a}a.superOptions=n.options;a.extendOptions=t;a.sealedOptions=j({},a.options);r[i]=a;return a}}function Hi(t){var e=t.options.props;for(var n in e){Un(t.prototype,"_props",n)}}function Zi(t){var e=t.options.computed;for(var n in e){Kn(t.prototype,n,e[n])}}function Vi(t){H.forEach(function(e){t[e]=function(t,n){if(!n){return this.options[e+"s"][t]}else{if(false){}if(e==="component"&&d(n)){n.name=n.name||t;n=this.options._base.extend(n)}if(e==="directive"&&typeof n==="function"){n={bind:n,update:n}}this.options[e+"s"][t]=n;return n}}})}function Wi(t){return t&&(t.Ctor.options.name||t.tag)}function Gi(t,e){if(Array.isArray(t)){return t.indexOf(e)>-1}else if(typeof t==="string"){return t.split(",").indexOf(e)>-1}else if(p(t)){return t.test(e)}return false}function Ki(t,e){var n=t.cache;var i=t.keys;var r=t._vnode;for(var o in n){var a=n[o];if(a){var s=Wi(a.componentOptions);if(s&&!e(s)){Yi(n,o,i,r)}}}}function Yi(t,e,n,i){var r=t[e];if(r&&(!i||r.tag!==i.tag)){r.componentInstance.$destroy()}t[e]=null;w(n,e)}var Xi=[String,RegExp,Array];var Ji={name:"keep-alive",abstract:true,props:{include:Xi,exclude:Xi,max:[String,Number]},created:function t(){this.cache=Object.create(null);this.keys=[]},destroyed:function t(){var e=this;for(var n in e.cache){Yi(e.cache,n,e.keys)}},mounted:function t(){var e=this;this.$watch("include",function(t){Ki(e,function(e){return Gi(t,e)})});this.$watch("exclude",function(t){Ki(e,function(e){return!Gi(t,e)})})},render:function t(){var e=this.$slots.default;var n=on(e);var i=n&&n.componentOptions;if(i){var r=Wi(i);var o=this;var a=o.include;var s=o.exclude;if(a&&(!r||!Gi(a,r))||s&&r&&Gi(s,r)){return n}var l=this;var u=l.cache;var c=l.keys;var f=n.key==null?i.Ctor.cid+(i.tag?"::"+i.tag:""):n.key;if(u[f]){n.componentInstance=u[f].componentInstance;w(c,f);c.push(f)}else{u[f]=n;c.push(f);if(this.max&&c.length>parseInt(this.max)){Yi(u,c[0],c,this._vnode)}}n.data.keepAlive=true}return n||e&&e[0]}};var Qi={KeepAlive:Ji};function tr(t){var e={};e.get=function(){return V};if(false){}Object.defineProperty(t,"config",e);t.util={warn:gt,extend:j,mergeOptions:se,defineReactive:Zt};t.set=Vt;t.delete=Wt;t.nextTick=Se;t.options=Object.create(null);H.forEach(function(e){t.options[e+"s"]=Object.create(null)});t.options._base=t;j(t.options.components,Qi);Fi(t);Ui(t);$i(t);Vi(t)}tr(zi);Object.defineProperty(zi.prototype,"$isServer",{get:ht});Object.defineProperty(zi.prototype,"$ssrContext",{get:function t(){return this.$vnode&&this.$vnode.ssrContext}});Object.defineProperty(zi,"FunctionalRenderContext",{value:mi});zi.version="2.5.16";var er=y("style,class");var nr=y("input,textarea,option,select,progress");var ir=function t(e,n,i){return i==="value"&&nr(e)&&n!=="button"||i==="selected"&&e==="option"||i==="checked"&&e==="input"||i==="muted"&&e==="video"};var rr=y("contenteditable,draggable,spellcheck");var or=y("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,"+"default,defaultchecked,defaultmuted,defaultselected,defer,disabled,"+"enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,"+"muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,"+"required,reversed,scoped,seamless,selected,sortable,translate,"+"truespeed,typemustmatch,visible");var ar="http://www.w3.org/1999/xlink";var sr=function t(e){return e.charAt(5)===":"&&e.slice(0,5)==="xlink"};var lr=function t(e){return sr(e)?e.slice(6,e.length):""};var ur=function t(e){return e==null||e===false};function cr(t){var e=t.data;var n=t;var i=t;while(a(i.componentInstance)){i=i.componentInstance._vnode;if(i&&i.data){e=fr(i.data,e)}}while(a(n=n.parent)){if(n&&n.data){e=fr(e,n.data)}}return hr(e.staticClass,e.class)}function fr(t,e){return{staticClass:dr(t.staticClass,e.staticClass),class:a(t.class)?[t.class,e.class]:e.class}}function hr(t,e){if(a(t)||a(e)){return dr(t,pr(e))}return""}function dr(t,e){return t?e?t+" "+e:t:e||""}function pr(t){if(Array.isArray(t)){return vr(t)}if(c(t)){return mr(t)}if(typeof t==="string"){return t}return""}function vr(t){var e="";var n;for(var i=0,r=t.length;i<r;i++){if(a(n=pr(t[i]))&&n!==""){if(e){e+=" "}e+=n}}return e}function mr(t){var e="";for(var n in t){if(t[n]){if(e){e+=" "}e+=n}}return e}var gr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};var yr=y("html,body,base,head,link,meta,style,title,"+"address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,"+"div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,"+"a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,"+"s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,"+"embed,object,param,source,canvas,script,noscript,del,ins,"+"caption,col,colgroup,table,thead,tbody,td,th,tr,"+"button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,"+"output,progress,select,textarea,"+"details,dialog,menu,menuitem,summary,"+"content,element,shadow,template,blockquote,iframe,tfoot");var _r=y("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,"+"foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,"+"polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",true);var br=function t(e){return e==="pre"};var wr=function t(e){return yr(e)||_r(e)};function xr(t){if(_r(t)){return"svg"}if(t==="math"){return"math"}}var Er=Object.create(null);function Or(t){if(!J){return true}if(wr(t)){return false}t=t.toLowerCase();if(Er[t]!=null){return Er[t]}var e=document.createElement(t);if(t.indexOf("-")>-1){return Er[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement}else{return Er[t]=/HTMLUnknownElement/.test(e.toString())}}var kr=y("text,number,password,search,email,tel,url");function Tr(t){if(typeof t==="string"){var e=document.querySelector(t);if(!e){"production"!=="production"&&gt("Cannot find element: "+t);return document.createElement("div")}return e}else{return t}}function Cr(t,e){var n=document.createElement(t);if(t!=="select"){return n}if(e.data&&e.data.attrs&&e.data.attrs.multiple!==undefined){n.setAttribute("multiple","multiple")}return n}function Lr(t,e){return document.createElementNS(gr[t],e)}function Ar(t){return document.createTextNode(t)}function Sr(t){return document.createComment(t)}function Pr(t,e,n){t.insertBefore(e,n)}function Nr(t,e){t.removeChild(e)}function Mr(t,e){t.appendChild(e)}function jr(t){return t.parentNode}function Ir(t){return t.nextSibling}function Dr(t){return t.tagName}function Rr(t,e){t.textContent=e}function qr(t,e){t.setAttribute(e,"")}var Br=Object.freeze({createElement:Cr,createElementNS:Lr,createTextNode:Ar,createComment:Sr,insertBefore:Pr,removeChild:Nr,appendChild:Mr,parentNode:jr,nextSibling:Ir,tagName:Dr,setTextContent:Rr,setStyleScope:qr});var zr={create:function t(e,n){Fr(n)},update:function t(e,n){if(e.data.ref!==n.data.ref){Fr(e,true);Fr(n)}},destroy:function t(e){Fr(e,true)}};function Fr(t,e){var n=t.data.ref;if(!a(n)){return}var i=t.context;var r=t.componentInstance||t.elm;var o=i.$refs;if(e){if(Array.isArray(o[n])){w(o[n],r)}else if(o[n]===r){o[n]=undefined}}else{if(t.data.refInFor){if(!Array.isArray(o[n])){o[n]=[r]}else if(o[n].indexOf(r)<0){o[n].push(r)}}else{o[n]=r}}}var Ur=new St("",{},[]);var $r=["create","activate","update","remove","destroy"];function Hr(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&a(t.data)===a(e.data)&&Zr(t,e)||s(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&o(e.asyncFactory.error))}function Zr(t,e){if(t.tag!=="input"){return true}var n;var i=a(n=t.data)&&a(n=n.attrs)&&n.type;var r=a(n=e.data)&&a(n=n.attrs)&&n.type;return i===r||kr(i)&&kr(r)}function Vr(t,e,n){var i,r;var o={};for(i=e;i<=n;++i){r=t[i].key;if(a(r)){o[r]=i}}return o}function Wr(t){var e,n;var i={};var r=t.modules;var l=t.nodeOps;for(e=0;e<$r.length;++e){i[$r[e]]=[];for(n=0;n<r.length;++n){if(a(r[n][$r[e]])){i[$r[e]].push(r[n][$r[e]])}}}function c(t){return new St(l.tagName(t).toLowerCase(),{},[],undefined,t)}function f(t,e){function n(){if(--n.listeners===0){h(t)}}n.listeners=e;return n}function h(t){var e=l.parentNode(t);if(a(e)){l.removeChild(e,t)}}function d(t,e){return!e&&!t.ns&&!(V.ignoredElements.length&&V.ignoredElements.some(function(e){return p(e)?e.test(t.tag):e===t.tag}))&&V.isUnknownElement(t.tag)}var v=0;function m(t,e,n,i,r,o,u){if(a(t.elm)&&a(o)){t=o[u]=jt(t)}t.isRootInsert=!r;if(g(t,e,n,i)){return}var c=t.data;var f=t.children;var h=t.tag;if(a(h)){if(false){}t.elm=t.ns?l.createElementNS(t.ns,h):l.createElement(h,t);k(t);{x(t,f,e);if(a(c)){O(t,e)}w(n,t.elm,i)}if(false){}}else if(s(t.isComment)){t.elm=l.createComment(t.text);w(n,t.elm,i)}else{t.elm=l.createTextNode(t.text);w(n,t.elm,i)}}function g(t,e,n,i){var r=t.data;if(a(r)){var o=a(t.componentInstance)&&r.keepAlive;if(a(r=r.hook)&&a(r=r.init)){r(t,false,n,i)}if(a(t.componentInstance)){_(t,e);if(s(o)){b(t,e,n,i)}return true}}}function _(t,e){if(a(t.data.pendingInsert)){e.push.apply(e,t.data.pendingInsert);t.data.pendingInsert=null}t.elm=t.componentInstance.$el;if(E(t)){O(t,e);k(t)}else{Fr(t);e.push(t)}}function b(t,e,n,r){var o;var s=t;while(s.componentInstance){s=s.componentInstance._vnode;if(a(o=s.data)&&a(o=o.transition)){for(o=0;o<i.activate.length;++o){i.activate[o](Ur,s)}e.push(s);break}}w(n,t.elm,r)}function w(t,e,n){if(a(t)){if(a(n)){if(n.parentNode===t){l.insertBefore(t,e,n)}}else{l.appendChild(t,e)}}}function x(t,e,n){if(Array.isArray(e)){if(false){}for(var i=0;i<e.length;++i){m(e[i],n,t.elm,null,true,e,i)}}else if(u(t.text)){l.appendChild(t.elm,l.createTextNode(String(t.text)))}}function E(t){while(t.componentInstance){t=t.componentInstance._vnode}return a(t.tag)}function O(t,n){for(var r=0;r<i.create.length;++r){i.create[r](Ur,t)}e=t.data.hook;if(a(e)){if(a(e.create)){e.create(Ur,t)}if(a(e.insert)){n.push(t)}}}function k(t){var e;if(a(e=t.fnScopeId)){l.setStyleScope(t.elm,e)}else{var n=t;while(n){if(a(e=n.context)&&a(e=e.$options._scopeId)){l.setStyleScope(t.elm,e)}n=n.parent}}if(a(e=vn)&&e!==t.context&&e!==t.fnContext&&a(e=e.$options._scopeId)){l.setStyleScope(t.elm,e)}}function T(t,e,n,i,r,o){for(;i<=r;++i){m(n[i],o,t,e,false,n,i)}}function C(t){var e,n;var r=t.data;if(a(r)){if(a(e=r.hook)&&a(e=e.destroy)){e(t)}for(e=0;e<i.destroy.length;++e){i.destroy[e](t)}}if(a(e=t.children)){for(n=0;n<t.children.length;++n){C(t.children[n])}}}function L(t,e,n,i){for(;n<=i;++n){var r=e[n];if(a(r)){if(a(r.tag)){A(r);C(r)}else{h(r.elm)}}}}function A(t,e){if(a(e)||a(t.data)){var n;var r=i.remove.length+1;if(a(e)){e.listeners+=r}else{e=f(t.elm,r)}if(a(n=t.componentInstance)&&a(n=n._vnode)&&a(n.data)){A(n,e)}for(n=0;n<i.remove.length;++n){i.remove[n](t,e)}if(a(n=t.data.hook)&&a(n=n.remove)){n(t,e)}else{e()}}else{h(t.elm)}}function S(t,e,n,i,r){var s=0;var u=0;var c=e.length-1;var f=e[0];var h=e[c];var d=n.length-1;var p=n[0];var v=n[d];var g,y,_,b;var w=!r;if(false){}while(s<=c&&u<=d){if(o(f)){f=e[++s]}else if(o(h)){h=e[--c]}else if(Hr(f,p)){M(f,p,i);f=e[++s];p=n[++u]}else if(Hr(h,v)){M(h,v,i);h=e[--c];v=n[--d]}else if(Hr(f,v)){M(f,v,i);w&&l.insertBefore(t,f.elm,l.nextSibling(h.elm));f=e[++s];v=n[--d]}else if(Hr(h,p)){M(h,p,i);w&&l.insertBefore(t,h.elm,f.elm);h=e[--c];p=n[++u]}else{if(o(g)){g=Vr(e,s,c)}y=a(p.key)?g[p.key]:N(p,e,s,c);if(o(y)){m(p,i,t,f.elm,false,n,u)}else{_=e[y];if(Hr(_,p)){M(_,p,i);e[y]=undefined;w&&l.insertBefore(t,_.elm,f.elm)}else{m(p,i,t,f.elm,false,n,u)}}p=n[++u]}}if(s>c){b=o(n[d+1])?null:n[d+1].elm;T(t,b,n,u,d,i)}else if(u>d){L(t,e,s,c)}}function P(t){var e={};for(var n=0;n<t.length;n++){var i=t[n];var r=i.key;if(a(r)){if(e[r]){gt("Duplicate keys detected: '"+r+"'. This may cause an update error.",i.context)}else{e[r]=true}}}}function N(t,e,n,i){for(var r=n;r<i;r++){var o=e[r];if(a(o)&&Hr(t,o)){return r}}}function M(t,e,n,r){if(t===e){return}var u=e.elm=t.elm;if(s(t.isAsyncPlaceholder)){if(a(e.asyncFactory.resolved)){R(t.elm,e,n)}else{e.isAsyncPlaceholder=true}return}if(s(e.isStatic)&&s(t.isStatic)&&e.key===t.key&&(s(e.isCloned)||s(e.isOnce))){e.componentInstance=t.componentInstance;return}var c;var f=e.data;if(a(f)&&a(c=f.hook)&&a(c=c.prepatch)){c(t,e)}var h=t.children;var d=e.children;if(a(f)&&E(e)){for(c=0;c<i.update.length;++c){i.update[c](t,e)}if(a(c=f.hook)&&a(c=c.update)){c(t,e)}}if(o(e.text)){if(a(h)&&a(d)){if(h!==d){S(u,h,d,n,r)}}else if(a(d)){if(a(t.text)){l.setTextContent(u,"")}T(u,null,d,0,d.length-1,n)}else if(a(h)){L(u,h,0,h.length-1)}else if(a(t.text)){l.setTextContent(u,"")}}else if(t.text!==e.text){l.setTextContent(u,e.text)}if(a(f)){if(a(c=f.hook)&&a(c=c.postpatch)){c(t,e)}}}function j(t,e,n){if(s(n)&&a(t.parent)){t.parent.data.pendingInsert=e}else{for(var i=0;i<e.length;++i){e[i].data.hook.insert(e[i])}}}var I=false;var D=y("attrs,class,staticClass,staticStyle,key");function R(t,e,n,i){var r;var o=e.tag;var l=e.data;var u=e.children;i=i||l&&l.pre;e.elm=t;if(s(e.isComment)&&a(e.asyncFactory)){e.isAsyncPlaceholder=true;return true}if(false){}if(a(l)){if(a(r=l.hook)&&a(r=r.init)){r(e,true)}if(a(r=e.componentInstance)){_(e,n);return true}}if(a(o)){if(a(u)){if(!t.hasChildNodes()){x(e,u,n)}else{if(a(r=l)&&a(r=r.domProps)&&a(r=r.innerHTML)){if(r!==t.innerHTML){if(false){}return false}}else{var c=true;var f=t.firstChild;for(var h=0;h<u.length;h++){if(!f||!R(f,u[h],n,i)){c=false;break}f=f.nextSibling}if(!c||f){if(false){}return false}}}}if(a(l)){var d=false;for(var p in l){if(!D(p)){d=true;O(e,n);break}}if(!d&&l["class"]){Ue(l["class"])}}}else if(t.data!==e.text){t.data=e.text}return true}function q(t,e,n){if(a(e.tag)){return e.tag.indexOf("vue-component")===0||!d(e,n)&&e.tag.toLowerCase()===(t.tagName&&t.tagName.toLowerCase())}else{return t.nodeType===(e.isComment?8:3)}}return function t(e,n,r,u,f,h){if(o(n)){if(a(e)){C(e)}return}var d=false;var p=[];if(o(e)){d=true;m(n,p,f,h)}else{var v=a(e.nodeType);if(!v&&Hr(e,n)){M(e,n,p,u)}else{if(v){if(e.nodeType===1&&e.hasAttribute($)){e.removeAttribute($);r=true}if(s(r)){if(R(e,n,p)){j(n,p,true);return e}else if(false){}}e=c(e)}var g=e.elm;var y=l.parentNode(g);m(n,p,g._leaveCb?null:y,l.nextSibling(g));if(a(n.parent)){var _=n.parent;var b=E(n);while(_){for(var w=0;w<i.destroy.length;++w){i.destroy[w](_)}_.elm=n.elm;if(b){for(var x=0;x<i.create.length;++x){i.create[x](Ur,_)}var O=_.data.hook.insert;if(O.merged){for(var k=1;k<O.fns.length;k++){O.fns[k]()}}}else{Fr(_)}_=_.parent}}if(a(y)){L(y,[e],0,0)}else if(a(e.tag)){C(e)}}}j(n,p,d);return n.elm}}var Gr={create:Kr,update:Kr,destroy:function t(e){Kr(e,Ur)}};function Kr(t,e){if(t.data.directives||e.data.directives){Yr(t,e)}}function Yr(t,e){var n=t===Ur;var i=e===Ur;var r=Jr(t.data.directives,t.context);var o=Jr(e.data.directives,e.context);var a=[];var s=[];var l,u,c;for(l in o){u=r[l];c=o[l];if(!u){to(c,"bind",e,t);if(c.def&&c.def.inserted){a.push(c)}}else{c.oldValue=u.value;to(c,"update",e,t);if(c.def&&c.def.componentUpdated){s.push(c)}}}if(a.length){var f=function n(){for(var i=0;i<a.length;i++){to(a[i],"inserted",e,t)}};if(n){We(e,"insert",f)}else{f()}}if(s.length){We(e,"postpatch",function(){for(var n=0;n<s.length;n++){to(s[n],"componentUpdated",e,t)}})}if(!n){for(l in r){if(!o[l]){to(r[l],"unbind",t,t,i)}}}}var Xr=Object.create(null);function Jr(t,e){var n=Object.create(null);if(!t){return n}var i,r;for(i=0;i<t.length;i++){r=t[i];if(!r.modifiers){r.modifiers=Xr}n[Qr(r)]=r;r.def=le(e.$options,"directives",r.name,true)}return n}function Qr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function to(t,e,n,i,r){var o=t.def&&t.def[e];if(o){try{o(n.elm,t,n,i,r)}catch(i){ge(i,n.context,"directive "+t.name+" "+e+" hook")}}}var eo=[zr,Gr];function no(t,e){var n=e.componentOptions;if(a(n)&&n.Ctor.options.inheritAttrs===false){return}if(o(t.data.attrs)&&o(e.data.attrs)){return}var i,r,s;var l=e.elm;var u=t.data.attrs||{};var c=e.data.attrs||{};if(a(c.__ob__)){c=e.data.attrs=j({},c)}for(i in c){r=c[i];s=u[i];if(s!==r){io(l,i,r)}}if((nt||rt)&&c.value!==u.value){io(l,"value",c.value)}for(i in u){if(o(c[i])){if(sr(i)){l.removeAttributeNS(ar,lr(i))}else if(!rr(i)){l.removeAttribute(i)}}}}function io(t,e,n){if(t.tagName.indexOf("-")>-1){ro(t,e,n)}else if(or(e)){if(ur(n)){t.removeAttribute(e)}else{n=e==="allowfullscreen"&&t.tagName==="EMBED"?"true":e;t.setAttribute(e,n)}}else if(rr(e)){t.setAttribute(e,ur(n)||n==="false"?"false":"true")}else if(sr(e)){if(ur(n)){t.removeAttributeNS(ar,lr(e))}else{t.setAttributeNS(ar,e,n)}}else{ro(t,e,n)}}function ro(t,e,n){if(ur(n)){t.removeAttribute(e)}else{if(nt&&!it&&t.tagName==="TEXTAREA"&&e==="placeholder"&&!t.__ieph){var i=function e(n){n.stopImmediatePropagation();t.removeEventListener("input",e)};t.addEventListener("input",i);t.__ieph=true}t.setAttribute(e,n)}}var oo={create:no,update:no};function ao(t,e){var n=e.elm;var i=e.data;var r=t.data;if(o(i.staticClass)&&o(i.class)&&(o(r)||o(r.staticClass)&&o(r.class))){return}var s=cr(e);var l=n._transitionClasses;if(a(l)){s=dr(s,pr(l))}if(s!==n._prevClass){n.setAttribute("class",s);n._prevClass=s}}var so={create:ao,update:ao};var lo=/[\w).+\-_$\]]/;function uo(t){var e=false;var n=false;var i=false;var r=false;var o=0;var a=0;var s=0;var l=0;var u,c,f,h,d;for(f=0;f<t.length;f++){c=u;u=t.charCodeAt(f);if(e){if(u===39&&c!==92){e=false}}else if(n){if(u===34&&c!==92){n=false}}else if(i){if(u===96&&c!==92){i=false}}else if(r){if(u===47&&c!==92){r=false}}else if(u===124&&t.charCodeAt(f+1)!==124&&t.charCodeAt(f-1)!==124&&!o&&!a&&!s){if(h===undefined){l=f+1;h=t.slice(0,f).trim()}else{m()}}else{switch(u){case 34:n=true;break;case 39:e=true;break;case 96:i=true;break;case 40:s++;break;case 41:s--;break;case 91:a++;break;case 93:a--;break;case 123:o++;break;case 125:o--;break}if(u===47){var p=f-1;var v=void 0;for(;p>=0;p--){v=t.charAt(p);if(v!==" "){break}}if(!v||!lo.test(v)){r=true}}}}if(h===undefined){h=t.slice(0,f).trim()}else if(l!==0){m()}function m(){(d||(d=[])).push(t.slice(l,f).trim());l=f+1}if(d){for(f=0;f<d.length;f++){h=co(h,d[f])}}return h}function co(t,e){var n=e.indexOf("(");if(n<0){return'_f("'+e+'")('+t+")"}else{var i=e.slice(0,n);var r=e.slice(n+1);return'_f("'+i+'")('+t+(r!==")"?","+r:r)}}function fo(t){console.error("[Vue compiler]: "+t)}function ho(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function po(t,e,n){(t.props||(t.props=[])).push({name:e,value:n});t.plain=false}function vo(t,e,n){(t.attrs||(t.attrs=[])).push({name:e,value:n});t.plain=false}function mo(t,e,n){t.attrsMap[e]=n;t.attrsList.push({name:e,value:n})}function go(t,e,n,i,r,o){(t.directives||(t.directives=[])).push({name:e,rawName:n,value:i,arg:r,modifiers:o});t.plain=false}function yo(t,e,n,i,o,a){i=i||r;if(false){}if(i.capture){delete i.capture;e="!"+e}if(i.once){delete i.once;e="~"+e}if(i.passive){delete i.passive;e="&"+e}if(e==="click"){if(i.right){e="contextmenu";delete i.right}else if(i.middle){e="mouseup"}}var s;if(i.native){delete i.native;s=t.nativeEvents||(t.nativeEvents={})}else{s=t.events||(t.events={})}var l={value:n.trim()};if(i!==r){l.modifiers=i}var u=s[e];if(Array.isArray(u)){o?u.unshift(l):u.push(l)}else if(u){s[e]=o?[l,u]:[u,l]}else{s[e]=l}t.plain=false}function _o(t,e,n){var i=bo(t,":"+e)||bo(t,"v-bind:"+e);if(i!=null){return uo(i)}else if(n!==false){var r=bo(t,e);if(r!=null){return JSON.stringify(r)}}}function bo(t,e,n){var i;if((i=t.attrsMap[e])!=null){var r=t.attrsList;for(var o=0,a=r.length;o<a;o++){if(r[o].name===e){r.splice(o,1);break}}}if(n){delete t.attrsMap[e]}return i}function wo(t,e,n){var i=n||{};var r=i.number;var o=i.trim;var a="$$v";var s=a;if(o){s="(typeof "+a+" === 'string'"+"? "+a+".trim()"+": "+a+")"}if(r){s="_n("+s+")"}var l=xo(e,s);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ("+a+") {"+l+"}"}}function xo(t,e){var n=Ao(t);if(n.key===null){return t+"="+e}else{return"$set("+n.exp+", "+n.key+", "+e+")"}}var Eo;var Oo;var ko;var To;var Co;var Lo;function Ao(t){t=t.trim();Eo=t.length;if(t.indexOf("[")<0||t.lastIndexOf("]")<Eo-1){To=t.lastIndexOf(".");if(To>-1){return{exp:t.slice(0,To),key:'"'+t.slice(To+1)+'"'}}else{return{exp:t,key:null}}}Oo=t;To=Co=Lo=0;while(!Po()){ko=So();if(No(ko)){jo(ko)}else if(ko===91){Mo(ko)}}return{exp:t.slice(0,Co),key:t.slice(Co+1,Lo)}}function So(){return Oo.charCodeAt(++To)}function Po(){return To>=Eo}function No(t){return t===34||t===39}function Mo(t){var e=1;Co=To;while(!Po()){t=So();if(No(t)){jo(t);continue}if(t===91){e++}if(t===93){e--}if(e===0){Lo=To;break}}}function jo(t){var e=t;while(!Po()){t=So();if(t===e){break}}}var Io;var Do="__r";var Ro="__c";function qo(t,e,n){Io=n;var i=e.value;var r=e.modifiers;var o=t.tag;var a=t.attrsMap.type;if(false){}if(t.component){wo(t,i,r);return false}else if(o==="select"){Fo(t,i,r)}else if(o==="input"&&a==="checkbox"){Bo(t,i,r)}else if(o==="input"&&a==="radio"){zo(t,i,r)}else if(o==="input"||o==="textarea"){Uo(t,i,r)}else if(!V.isReservedTag(o)){wo(t,i,r);return false}else if(false){}return true}function Bo(t,e,n){var i=n&&n.number;var r=_o(t,"value")||"null";var o=_o(t,"true-value")||"true";var a=_o(t,"false-value")||"false";po(t,"checked","Array.isArray("+e+")"+"?_i("+e+","+r+")>-1"+(o==="true"?":("+e+")":":_q("+e+","+o+")"));yo(t,"change","var $$a="+e+","+"$$el=$event.target,"+"$$c=$$el.checked?("+o+"):("+a+");"+"if(Array.isArray($$a)){"+"var $$v="+(i?"_n("+r+")":r)+","+"$$i=_i($$a,$$v);"+"if($$el.checked){$$i<0&&("+xo(e,"$$a.concat([$$v])")+")}"+"else{$$i>-1&&("+xo(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}"+"}else{"+xo(e,"$$c")+"}",null,true)}function zo(t,e,n){var i=n&&n.number;var r=_o(t,"value")||"null";r=i?"_n("+r+")":r;po(t,"checked","_q("+e+","+r+")");yo(t,"change",xo(e,r),null,true)}function Fo(t,e,n){var i=n&&n.number;var r="Array.prototype.filter"+".call($event.target.options,function(o){return o.selected})"+'.map(function(o){var val = "_value" in o ? o._value : o.value;'+"return "+(i?"_n(val)":"val")+"})";var o="$event.target.multiple ? $$selectedVal : $$selectedVal[0]";var a="var $$selectedVal = "+r+";";a=a+" "+xo(e,o);yo(t,"change",a,null,true)}function Uo(t,e,n){var i=t.attrsMap.type;if(false){var r,o,a}var s=n||{};var l=s.lazy;var u=s.number;var c=s.trim;var f=!l&&i!=="range";var h=l?"change":i==="range"?Do:"input";var d="$event.target.value";if(c){d="$event.target.value.trim()"}if(u){d="_n("+d+")"}var p=xo(e,d);if(f){p="if($event.target.composing)return;"+p}po(t,"value","("+e+")");yo(t,h,p,null,true);if(c||u){yo(t,"blur","$forceUpdate()")}}function $o(t){if(a(t[Do])){var e=nt?"change":"input";t[e]=[].concat(t[Do],t[e]||[]);delete t[Do]}if(a(t[Ro])){t.change=[].concat(t[Ro],t.change||[]);delete t[Ro]}}var Ho;function Zo(t,e,n){var i=Ho;return function r(){var o=t.apply(null,arguments);if(o!==null){Wo(e,r,n,i)}}}function Vo(t,e,n,i,r){e=Ae(e);if(n){e=Zo(e,t,i)}Ho.addEventListener(t,e,ut?{capture:i,passive:r}:i)}function Wo(t,e,n,i){(i||Ho).removeEventListener(t,e._withTask||e,n)}function Go(t,e){if(o(t.data.on)&&o(e.data.on)){return}var n=e.data.on||{};var i=t.data.on||{};Ho=e.elm;$o(n);Ve(n,i,Vo,Wo,e.context);Ho=undefined}var Ko={create:Go,update:Go};function Yo(t,e){if(o(t.data.domProps)&&o(e.data.domProps)){return}var n,i;var r=e.elm;var s=t.data.domProps||{};var l=e.data.domProps||{};if(a(l.__ob__)){l=e.data.domProps=j({},l)}for(n in s){if(o(l[n])){r[n]=""}}for(n in l){i=l[n];if(n==="textContent"||n==="innerHTML"){if(e.children){e.children.length=0}if(i===s[n]){continue}if(r.childNodes.length===1){r.removeChild(r.childNodes[0])}}if(n==="value"){r._value=i;var u=o(i)?"":String(i);if(Xo(r,u)){r.value=u}}else{r[n]=i}}}function Xo(t,e){return!t.composing&&(t.tagName==="OPTION"||Jo(t,e)||Qo(t,e))}function Jo(t,e){var n=true;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}function Qo(t,e){var n=t.value;var i=t._vModifiers;if(a(i)){if(i.lazy){return false}if(i.number){return g(n)!==g(e)}if(i.trim){return n.trim()!==e.trim()}}return n!==e}var ta={create:Yo,update:Yo};var ea=O(function(t){var e={};var n=/;(?![^(]*\))/g;var i=/:(.+)/;t.split(n).forEach(function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}});return e});function na(t){var e=ia(t.style);return t.staticStyle?j(t.staticStyle,e):e}function ia(t){if(Array.isArray(t)){return I(t)}if(typeof t==="string"){return ea(t)}return t}function ra(t,e){var n={};var i;if(e){var r=t;while(r.componentInstance){r=r.componentInstance._vnode;if(r&&r.data&&(i=na(r.data))){j(n,i)}}}if(i=na(t.data)){j(n,i)}var o=t;while(o=o.parent){if(o.data&&(i=na(o.data))){j(n,i)}}return n}var oa=/^--/;var aa=/\s*!important$/;var sa=function t(e,n,i){if(oa.test(n)){e.style.setProperty(n,i)}else if(aa.test(i)){e.style.setProperty(n,i.replace(aa,""),"important")}else{var r=ca(n);if(Array.isArray(i)){for(var o=0,a=i.length;o<a;o++){e.style[r]=i[o]}}else{e.style[r]=i}}};var la=["Webkit","Moz","ms"];var ua;var ca=O(function(t){ua=ua||document.createElement("div").style;t=T(t);if(t!=="filter"&&t in ua){return t}var e=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0;n<la.length;n++){var i=la[n]+e;if(i in ua){return i}}});function fa(t,e){var n=e.data;var i=t.data;if(o(n.staticStyle)&&o(n.style)&&o(i.staticStyle)&&o(i.style)){return}var r,s;var l=e.elm;var u=i.staticStyle;var c=i.normalizedStyle||i.style||{};var f=u||c;var h=ia(e.data.style)||{};e.data.normalizedStyle=a(h.__ob__)?j({},h):h;var d=ra(e,true);for(s in f){if(o(d[s])){sa(l,s,"")}}for(s in d){r=d[s];if(r!==f[s]){sa(l,s,r==null?"":r)}}}var ha={create:fa,update:fa};function da(t,e){if(!e||!(e=e.trim())){return}if(t.classList){if(e.indexOf(" ")>-1){e.split(/\s+/).forEach(function(e){return t.classList.add(e)})}else{t.classList.add(e)}}else{var n=" "+(t.getAttribute("class")||"")+" ";if(n.indexOf(" "+e+" ")<0){t.setAttribute("class",(n+e).trim())}}}function pa(t,e){if(!e||!(e=e.trim())){return}if(t.classList){if(e.indexOf(" ")>-1){e.split(/\s+/).forEach(function(e){return t.classList.remove(e)})}else{t.classList.remove(e)}if(!t.classList.length){t.removeAttribute("class")}}else{var n=" "+(t.getAttribute("class")||"")+" ";var i=" "+e+" ";while(n.indexOf(i)>=0){n=n.replace(i," ")}n=n.trim();if(n){t.setAttribute("class",n)}else{t.removeAttribute("class")}}}function va(t){if(!t){return}if((typeof t==="undefined"?"undefined":i(t))==="object"){var e={};if(t.css!==false){j(e,ma(t.name||"v"))}j(e,t);return e}else if(typeof t==="string"){return ma(t)}}var ma=O(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}});var ga=J&&!it;var ya="transition";var _a="animation";var ba="transition";var wa="transitionend";var xa="animation";var Ea="animationend";if(ga){if(window.ontransitionend===undefined&&window.onwebkittransitionend!==undefined){ba="WebkitTransition";wa="webkitTransitionEnd"}if(window.onanimationend===undefined&&window.onwebkitanimationend!==undefined){xa="WebkitAnimation";Ea="webkitAnimationEnd"}}var Oa=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function ka(t){Oa(function(){Oa(t)})}function Ta(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);if(n.indexOf(e)<0){n.push(e);da(t,e)}}function Ca(t,e){if(t._transitionClasses){w(t._transitionClasses,e)}pa(t,e)}function La(t,e,n){var i=Sa(t,e);var r=i.type;var o=i.timeout;var a=i.propCount;if(!r){return n()}var s=r===ya?wa:Ea;var l=0;var u=function e(){t.removeEventListener(s,c);n()};var c=function e(n){if(n.target===t){if(++l>=a){u()}}};setTimeout(function(){if(l<a){u()}},o+1);t.addEventListener(s,c)}var Aa=/\b(transform|all)(,|$)/;function Sa(t,e){var n=window.getComputedStyle(t);var i=n[ba+"Delay"].split(", ");var r=n[ba+"Duration"].split(", ");var o=Pa(i,r);var a=n[xa+"Delay"].split(", ");var s=n[xa+"Duration"].split(", ");var l=Pa(a,s);var u;var c=0;var f=0;if(e===ya){if(o>0){u=ya;c=o;f=r.length}}else if(e===_a){if(l>0){u=_a;c=l;f=s.length}}else{c=Math.max(o,l);u=c>0?o>l?ya:_a:null;f=u?u===ya?r.length:s.length:0}var h=u===ya&&Aa.test(n[ba+"Property"]);return{type:u,timeout:c,propCount:f,hasTransform:h}}function Pa(t,e){while(t.length<e.length){t=t.concat(t)}return Math.max.apply(null,e.map(function(e,n){return Na(e)+Na(t[n])}))}function Na(t){return Number(t.slice(0,-1))*1e3}function Ma(t,e){var n=t.elm;if(a(n._leaveCb)){n._leaveCb.cancelled=true;n._leaveCb()}var i=va(t.data.transition);if(o(i)){return}if(a(n._enterCb)||n.nodeType!==1){return}var r=i.css;var s=i.type;var l=i.enterClass;var u=i.enterToClass;var f=i.enterActiveClass;var h=i.appearClass;var d=i.appearToClass;var p=i.appearActiveClass;var v=i.beforeEnter;var m=i.enter;var y=i.afterEnter;var _=i.enterCancelled;var b=i.beforeAppear;var w=i.appear;var x=i.afterAppear;var E=i.appearCancelled;var O=i.duration;var k=vn;var T=vn.$vnode;while(T&&T.parent){T=T.parent;k=T.context}var C=!k._isMounted||!t.isRootInsert;if(C&&!w&&w!==""){return}var L=C&&h?h:l;var A=C&&p?p:f;var S=C&&d?d:u;var P=C?b||v:v;var N=C?typeof w==="function"?w:m:m;var M=C?x||y:y;var j=C?E||_:_;var I=g(c(O)?O.enter:O);if(false){}var D=r!==false&&!it;var R=Ra(N);var q=n._enterCb=U(function(){if(D){Ca(n,S);Ca(n,A)}if(q.cancelled){if(D){Ca(n,L)}j&&j(n)}else{M&&M(n)}n._enterCb=null});if(!t.data.show){We(t,"insert",function(){var e=n.parentNode;var i=e&&e._pending&&e._pending[t.key];if(i&&i.tag===t.tag&&i.elm._leaveCb){i.elm._leaveCb()}N&&N(n,q)})}P&&P(n);if(D){Ta(n,L);Ta(n,A);ka(function(){Ca(n,L);if(!q.cancelled){Ta(n,S);if(!R){if(Da(I)){setTimeout(q,I)}else{La(n,s,q)}}}})}if(t.data.show){e&&e();N&&N(n,q)}if(!D&&!R){q()}}function ja(t,e){var n=t.elm;if(a(n._enterCb)){n._enterCb.cancelled=true;n._enterCb()}var i=va(t.data.transition);if(o(i)||n.nodeType!==1){return e()}if(a(n._leaveCb)){return}var r=i.css;var s=i.type;var l=i.leaveClass;var u=i.leaveToClass;var f=i.leaveActiveClass;var h=i.beforeLeave;var d=i.leave;var p=i.afterLeave;var v=i.leaveCancelled;var m=i.delayLeave;var y=i.duration;var _=r!==false&&!it;var b=Ra(d);var w=g(c(y)?y.leave:y);if(false){}var x=n._leaveCb=U(function(){if(n.parentNode&&n.parentNode._pending){n.parentNode._pending[t.key]=null}if(_){Ca(n,u);Ca(n,f)}if(x.cancelled){if(_){Ca(n,l)}v&&v(n)}else{e();p&&p(n)}n._leaveCb=null});if(m){m(E)}else{E()}function E(){if(x.cancelled){return}if(!t.data.show){(n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t}h&&h(n);if(_){Ta(n,l);Ta(n,f);ka(function(){Ca(n,l);if(!x.cancelled){Ta(n,u);if(!b){if(Da(w)){setTimeout(x,w)}else{La(n,s,x)}}}})}d&&d(n,x);if(!_&&!b){x()}}}function Ia(t,e,n){if(typeof t!=="number"){gt("<transition> explicit "+e+" duration is not a valid number - "+"got "+JSON.stringify(t)+".",n.context)}else if(isNaN(t)){gt("<transition> explicit "+e+" duration is NaN - "+"the duration expression might be incorrect.",n.context)}}function Da(t){return typeof t==="number"&&!isNaN(t)}function Ra(t){if(o(t)){return false}var e=t.fns;if(a(e)){return Ra(Array.isArray(e)?e[0]:e)}else{return(t._length||t.length)>1}}function qa(t,e){if(e.data.show!==true){Ma(e)}}var Ba=J?{create:qa,activate:qa,remove:function t(e,n){if(e.data.show!==true){ja(e,n)}else{n()}}}:{};var za=[oo,so,Ko,ta,ha,Ba];var Fa=za.concat(eo);var Ua=Wr({nodeOps:Br,modules:Fa});if(it){document.addEventListener("selectionchange",function(){var t=document.activeElement;if(t&&t.vmodel){Ya(t,"input")}})}var $a={inserted:function t(e,n,i,r){if(i.tag==="select"){if(r.elm&&!r.elm._vOptions){We(i,"postpatch",function(){$a.componentUpdated(e,n,i)})}else{Ha(e,n,i.context)}e._vOptions=[].map.call(e.options,Wa)}else if(i.tag==="textarea"||kr(e.type)){e._vModifiers=n.modifiers;if(!n.modifiers.lazy){e.addEventListener("compositionstart",Ga);e.addEventListener("compositionend",Ka);e.addEventListener("change",Ka);if(it){e.vmodel=true}}}},componentUpdated:function t(e,n,i){if(i.tag==="select"){Ha(e,n,i.context);var r=e._vOptions;var o=e._vOptions=[].map.call(e.options,Wa);if(o.some(function(t,e){return!z(t,r[e])})){var a=e.multiple?n.value.some(function(t){return Va(t,o)}):n.value!==n.oldValue&&Va(n.value,o);if(a){Ya(e,"change")}}}}};function Ha(t,e,n){Za(t,e,n);if(nt||rt){setTimeout(function(){Za(t,e,n)},0)}}function Za(t,e,n){var i=e.value;var r=t.multiple;if(r&&!Array.isArray(i)){"production"!=="production"&&gt('<select multiple v-model="'+e.expression+'"> '+"expects an Array value for its binding, but got "+Object.prototype.toString.call(i).slice(8,-1),n);return}var o,a;for(var s=0,l=t.options.length;s<l;s++){a=t.options[s];if(r){o=F(i,Wa(a))>-1;if(a.selected!==o){a.selected=o}}else{if(z(Wa(a),i)){if(t.selectedIndex!==s){t.selectedIndex=s}return}}}if(!r){t.selectedIndex=-1}}function Va(t,e){return e.every(function(e){return!z(e,t)})}function Wa(t){return"_value"in t?t._value:t.value}function Ga(t){t.target.composing=true}function Ka(t){if(!t.target.composing){return}t.target.composing=false;Ya(t.target,"input")}function Ya(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,true,true);t.dispatchEvent(n)}function Xa(t){return t.componentInstance&&(!t.data||!t.data.transition)?Xa(t.componentInstance._vnode):t}var Ja={bind:function t(e,n,i){var r=n.value;i=Xa(i);var o=i.data&&i.data.transition;var a=e.__vOriginalDisplay=e.style.display==="none"?"":e.style.display;if(r&&o){i.data.show=true;Ma(i,function(){e.style.display=a})}else{e.style.display=r?a:"none"}},update:function t(e,n,i){var r=n.value;var o=n.oldValue;if(!r===!o){return}i=Xa(i);var a=i.data&&i.data.transition;if(a){i.data.show=true;if(r){Ma(i,function(){e.style.display=e.__vOriginalDisplay})}else{ja(i,function(){e.style.display="none"})}}else{e.style.display=r?e.__vOriginalDisplay:"none"}},unbind:function t(e,n,i,r,o){if(!o){e.style.display=e.__vOriginalDisplay}}};var Qa={model:$a,show:Ja};var ts={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function es(t){var e=t&&t.componentOptions;if(e&&e.Ctor.options.abstract){return es(on(e.children))}else{return t}}function ns(t){var e={};var n=t.$options;for(var i in n.propsData){e[i]=t[i]}var r=n._parentListeners;for(var o in r){e[T(o)]=r[o]}return e}function is(t,e){if(/\d-keep-alive$/.test(e.tag)){return t("keep-alive",{props:e.componentOptions.propsData})}}function rs(t){while(t=t.parent){if(t.data.transition){return true}}}function os(t,e){return e.key===t.key&&e.tag===t.tag}var as={name:"transition",props:ts,abstract:true,render:function t(e){var n=this;var i=this.$slots.default;if(!i){return}i=i.filter(function(t){return t.tag||rn(t)});if(!i.length){return}if(false){}var r=this.mode;if(false){}var o=i[0];if(rs(this.$vnode)){return o}var a=es(o);if(!a){return o}if(this._leaving){return is(e,o)}var s="__transition-"+this._uid+"-";a.key=a.key==null?a.isComment?s+"comment":s+a.tag:u(a.key)?String(a.key).indexOf(s)===0?a.key:s+a.key:a.key;var l=(a.data||(a.data={})).transition=ns(this);var c=this._vnode;var f=es(c);if(a.data.directives&&a.data.directives.some(function(t){return t.name==="show"})){a.data.show=true}if(f&&f.data&&!os(a,f)&&!rn(f)&&!(f.componentInstance&&f.componentInstance._vnode.isComment)){var h=f.data.transition=j({},l);if(r==="out-in"){this._leaving=true;We(h,"afterLeave",function(){n._leaving=false;n.$forceUpdate()});return is(e,o)}else if(r==="in-out"){if(rn(a)){return c}var d;var p=function t(){d()};We(l,"afterEnter",p);We(l,"enterCancelled",p);We(h,"delayLeave",function(t){d=t})}}return o}};var ss=j({tag:String,moveClass:String},ts);delete ss.mode;var ls={props:ss,render:function t(e){var n=this.tag||this.$vnode.data.tag||"span";var i=Object.create(null);var r=this.prevChildren=this.children;var o=this.$slots.default||[];var a=this.children=[];var s=ns(this);for(var l=0;l<o.length;l++){var u=o[l];if(u.tag){if(u.key!=null&&String(u.key).indexOf("__vlist")!==0){a.push(u);i[u.key]=u;(u.data||(u.data={})).transition=s}else if(false){var c,f}}}if(r){var h=[];var d=[];for(var p=0;p<r.length;p++){var v=r[p];v.data.transition=s;v.data.pos=v.elm.getBoundingClientRect();if(i[v.key]){h.push(v)}else{d.push(v)}}this.kept=e(n,null,h);this.removed=d}return e(n,null,a)},beforeUpdate:function t(){this.__patch__(this._vnode,this.kept,false,true);this._vnode=this.kept},updated:function t(){var e=this.prevChildren;var n=this.moveClass||(this.name||"v")+"-move";if(!e.length||!this.hasMove(e[0].elm,n)){return}e.forEach(us);e.forEach(cs);e.forEach(fs);this._reflow=document.body.offsetHeight;e.forEach(function(t){if(t.data.moved){var e=t.elm;var i=e.style;Ta(e,n);i.transform=i.WebkitTransform=i.transitionDuration="";e.addEventListener(wa,e._moveCb=function t(i){if(!i||/transform$/.test(i.propertyName)){e.removeEventListener(wa,t);e._moveCb=null;Ca(e,n)}})}})},methods:{hasMove:function t(e,n){if(!ga){return false}if(this._hasMove){return this._hasMove}var i=e.cloneNode();if(e._transitionClasses){e._transitionClasses.forEach(function(t){pa(i,t)})}da(i,n);i.style.display="none";this.$el.appendChild(i);var r=Sa(i);this.$el.removeChild(i);return this._hasMove=r.hasTransform}}};function us(t){if(t.elm._moveCb){t.elm._moveCb()}if(t.elm._enterCb){t.elm._enterCb()}}function cs(t){t.data.newPos=t.elm.getBoundingClientRect()}function fs(t){var e=t.data.pos;var n=t.data.newPos;var i=e.left-n.left;var r=e.top-n.top;if(i||r){t.data.moved=true;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)";o.transitionDuration="0s"}}var hs={Transition:as,TransitionGroup:ls};zi.config.mustUseProp=ir;zi.config.isReservedTag=wr;zi.config.isReservedAttr=er;zi.config.getTagNamespace=xr;zi.config.isUnknownElement=Or;j(zi.options.directives,Qa);j(zi.options.components,hs);zi.prototype.__patch__=J?Ua:D;zi.prototype.$mount=function(t,e){t=t&&J?Tr(t):undefined;return _n(this,t,e)};if(J){setTimeout(function(){if(V.devtools){if(dt){dt.emit("init",zi)}else if(false){}}if(false){}},0)}var ds=/\{\{((?:.|\n)+?)\}\}/g;var ps=/[-.*+?^${}()|[\]\/\\]/g;var vs=O(function(t){var e=t[0].replace(ps,"\\$&");var n=t[1].replace(ps,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")});function ms(t,e){var n=e?vs(e):ds;if(!n.test(t)){return}var i=[];var r=[];var o=n.lastIndex=0;var a,s,l;while(a=n.exec(t)){s=a.index;if(s>o){r.push(l=t.slice(o,s));i.push(JSON.stringify(l))}var u=uo(a[1].trim());i.push("_s("+u+")");r.push({"@binding":u});o=s+a[0].length}if(o<t.length){r.push(l=t.slice(o));i.push(JSON.stringify(l))}return{expression:i.join("+"),tokens:r}}function gs(t,e){var n=e.warn||fo;var i=bo(t,"class");if(false){var r}if(i){t.staticClass=JSON.stringify(i)}var o=_o(t,"class",false);if(o){t.classBinding=o}}function ys(t){var e="";if(t.staticClass){e+="staticClass:"+t.staticClass+","}if(t.classBinding){e+="class:"+t.classBinding+","}return e}var _s={staticKeys:["staticClass"],transformNode:gs,genData:ys};function bs(t,e){var n=e.warn||fo;var i=bo(t,"style");if(i){if(false){var r}t.staticStyle=JSON.stringify(ea(i))}var o=_o(t,"style",false);if(o){t.styleBinding=o}}function ws(t){var e="";if(t.staticStyle){e+="staticStyle:"+t.staticStyle+","}if(t.styleBinding){e+="style:("+t.styleBinding+"),"}return e}var xs={staticKeys:["staticStyle"],transformNode:bs,genData:ws};var Es;var Os={decode:function t(e){Es=Es||document.createElement("div");Es.innerHTML=e;return Es.textContent}};var ks=y("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,"+"link,meta,param,source,track,wbr");var Ts=y("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source");var Cs=y("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,"+"details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,"+"h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,"+"optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,"+"title,tr,track");
/*!
 * HTML Parser By John Resig (ejohn.org)
 * Modified by Juriy "kangax" Zaytsev
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 */var Ls=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/;var As="[a-zA-Z_][\\w\\-\\.]*";var Ss="((?:"+As+"\\:)?"+As+")";var Ps=new RegExp("^<"+Ss);var Ns=/^\s*(\/?)>/;var Ms=new RegExp("^<\\/"+Ss+"[^>]*>");var js=/^<!DOCTYPE [^>]+>/i;var Is=/^<!\--/;var Ds=/^<!\[/;var Rs=false;"x".replace(/x(.)?/g,function(t,e){Rs=e===""});var qs=y("script,style,textarea",true);var Bs={};var zs={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"};var Fs=/&(?:lt|gt|quot|amp);/g;var Us=/&(?:lt|gt|quot|amp|#10|#9);/g;var $s=y("pre,textarea",true);var Hs=function t(e,n){return e&&$s(e)&&n[0]==="\n"};function Zs(t,e){var n=e?Us:Fs;return t.replace(n,function(t){return zs[t]})}function Vs(t,e){var n=[];var i=e.expectHTML;var r=e.isUnaryTag||R;var o=e.canBeLeftOpenTag||R;var a=0;var s,l;while(t){s=t;if(!l||!qs(l)){var u=t.indexOf("<");if(u===0){if(Is.test(t)){var c=t.indexOf("--\x3e");if(c>=0){if(e.shouldKeepComment){e.comment(t.substring(4,c))}E(c+3);continue}}if(Ds.test(t)){var f=t.indexOf("]>");if(f>=0){E(f+2);continue}}var h=t.match(js);if(h){E(h[0].length);continue}var d=t.match(Ms);if(d){var p=a;E(d[0].length);T(d[1],p,a);continue}var v=O();if(v){k(v);if(Hs(l,t)){E(1)}continue}}var m=void 0,g=void 0,y=void 0;if(u>=0){g=t.slice(u);while(!Ms.test(g)&&!Ps.test(g)&&!Is.test(g)&&!Ds.test(g)){y=g.indexOf("<",1);if(y<0){break}u+=y;g=t.slice(u)}m=t.substring(0,u);E(u)}if(u<0){m=t;t=""}if(e.chars&&m){e.chars(m)}}else{var _=0;var b=l.toLowerCase();var w=Bs[b]||(Bs[b]=new RegExp("([\\s\\S]*?)(</"+b+"[^>]*>)","i"));var x=t.replace(w,function(t,n,i){_=i.length;if(!qs(b)&&b!=="noscript"){n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")}if(Hs(b,n)){n=n.slice(1)}if(e.chars){e.chars(n)}return""});a+=t.length-x.length;t=x;T(b,a-_,a)}if(t===s){e.chars&&e.chars(t);if(false){}break}}T();function E(e){a+=e;t=t.substring(e)}function O(){var e=t.match(Ps);if(e){var n={tagName:e[1],attrs:[],start:a};E(e[0].length);var i,r;while(!(i=t.match(Ns))&&(r=t.match(Ls))){E(r[0].length);n.attrs.push(r)}if(i){n.unarySlash=i[1];E(i[0].length);n.end=a;return n}}}function k(t){var a=t.tagName;var s=t.unarySlash;if(i){if(l==="p"&&Cs(a)){T(l)}if(o(a)&&l===a){T(a)}}var u=r(a)||!!s;var c=t.attrs.length;var f=new Array(c);for(var h=0;h<c;h++){var d=t.attrs[h];if(Rs&&d[0].indexOf('""')===-1){if(d[3]===""){delete d[3]}if(d[4]===""){delete d[4]}if(d[5]===""){delete d[5]}}var p=d[3]||d[4]||d[5]||"";var v=a==="a"&&d[1]==="href"?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;f[h]={name:d[1],value:Zs(p,v)}}if(!u){n.push({tag:a,lowerCasedTag:a.toLowerCase(),attrs:f});l=a}if(e.start){e.start(a,f,u,t.start,t.end)}}function T(t,i,r){var o,s;if(i==null){i=a}if(r==null){r=a}if(t){s=t.toLowerCase()}if(t){for(o=n.length-1;o>=0;o--){if(n[o].lowerCasedTag===s){break}}}else{o=0}if(o>=0){for(var u=n.length-1;u>=o;u--){if(false){}if(e.end){e.end(n[u].tag,i,r)}}n.length=o;l=o&&n[o-1].tag}else if(s==="br"){if(e.start){e.start(t,[],true,i,r)}}else if(s==="p"){if(e.start){e.start(t,[],false,i,r)}if(e.end){e.end(t,i,r)}}}}var Ws=/^@|^v-on:/;var Gs=/^v-|^@|^:/;var Ks=/([^]*?)\s+(?:in|of)\s+([^]*)/;var Ys=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/;var Xs=/^\(|\)$/g;var Js=/:(.*)$/;var Qs=/^:|^v-bind:/;var tl=/\.[^.]+/g;var el=O(Os.decode);var nl;var il;var rl;var ol;var al;var sl;var ll;var ul;function cl(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:Al(e),parent:n,children:[]}}function fl(t,e){nl=e.warn||fo;sl=e.isPreTag||R;ll=e.mustUseProp||R;ul=e.getTagNamespace||R;rl=ho(e.modules,"transformNode");ol=ho(e.modules,"preTransformNode");al=ho(e.modules,"postTransformNode");il=e.delimiters;var n=[];var i=e.preserveWhitespace!==false;var r;var o;var a=false;var s=false;var l=false;function u(t){if(!l){l=true;nl(t)}}function c(t){if(t.pre){a=false}if(sl(t.tag)){s=false}for(var n=0;n<al.length;n++){al[n](t,e)}}Vs(t,{warn:nl,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,start:function t(i,l,u){var f=o&&o.ns||ul(i);if(nt&&f==="svg"){l=jl(l)}var h=cl(i,l,o);if(f){h.ns=f}if(Pl(h)&&!ht()){h.forbidden=true;"production"!=="production"&&nl("Templates should only be responsible for mapping the state to the "+"UI. Avoid placing tags with side-effects in your templates, such as "+"<"+i+">"+", as they will not be parsed.")}for(var d=0;d<ol.length;d++){h=ol[d](h,e)||h}if(!a){hl(h);if(h.pre){a=true}}if(sl(h.tag)){s=true}if(a){dl(h)}else if(!h.processed){gl(h);_l(h);El(h);pl(h,e)}function p(t){if(false){}}if(!r){r=h;p(r)}else if(!n.length){if(r.if&&(h.elseif||h.else)){p(h);xl(r,{exp:h.elseif,block:h})}else if(false){}}if(o&&!h.forbidden){if(h.elseif||h.else){bl(h,o)}else if(h.slotScope){o.plain=false;var v=h.slotTarget||'"default"';(o.scopedSlots||(o.scopedSlots={}))[v]=h}else{o.children.push(h);h.parent=o}}if(!u){o=h;n.push(h)}else{c(h)}},end:function t(){var e=n[n.length-1];var i=e.children[e.children.length-1];if(i&&i.type===3&&i.text===" "&&!s){e.children.pop()}n.length-=1;o=n[n.length-1];c(e)},chars:function t(e){if(!o){if(false){}return}if(nt&&o.tag==="textarea"&&o.attrsMap.placeholder===e){return}var n=o.children;e=s||e.trim()?Sl(o)?e:el(e):i&&n.length?" ":"";if(e){var r;if(!a&&e!==" "&&(r=ms(e,il))){n.push({type:2,expression:r.expression,tokens:r.tokens,text:e})}else if(e!==" "||!n.length||n[n.length-1].text!==" "){n.push({type:3,text:e})}}},comment:function t(e){o.children.push({type:3,text:e,isComment:true})}});return r}function hl(t){if(bo(t,"v-pre")!=null){t.pre=true}}function dl(t){var e=t.attrsList.length;if(e){var n=t.attrs=new Array(e);for(var i=0;i<e;i++){n[i]={name:t.attrsList[i].name,value:JSON.stringify(t.attrsList[i].value)}}}else if(!t.pre){t.plain=true}}function pl(t,e){vl(t);t.plain=!t.key&&!t.attrsList.length;ml(t);Ol(t);kl(t);for(var n=0;n<rl.length;n++){t=rl[n](t,e)||t}Tl(t)}function vl(t){var e=_o(t,"key");if(e){if(false){}t.key=e}}function ml(t){var e=_o(t,"ref");if(e){t.ref=e;t.refInFor=Cl(t)}}function gl(t){var e;if(e=bo(t,"v-for")){var n=yl(e);if(n){j(t,n)}else if(false){}}}function yl(t){var e=t.match(Ks);if(!e){return}var n={};n.for=e[2].trim();var i=e[1].trim().replace(Xs,"");var r=i.match(Ys);if(r){n.alias=i.replace(Ys,"");n.iterator1=r[1].trim();if(r[2]){n.iterator2=r[2].trim()}}else{n.alias=i}return n}function _l(t){var e=bo(t,"v-if");if(e){t.if=e;xl(t,{exp:e,block:t})}else{if(bo(t,"v-else")!=null){t.else=true}var n=bo(t,"v-else-if");if(n){t.elseif=n}}}function bl(t,e){var n=wl(e.children);if(n&&n.if){xl(n,{exp:t.elseif,block:t})}else if(false){}}function wl(t){var e=t.length;while(e--){if(t[e].type===1){return t[e]}else{if(false){}t.pop()}}}function xl(t,e){if(!t.ifConditions){t.ifConditions=[]}t.ifConditions.push(e)}function El(t){var e=bo(t,"v-once");if(e!=null){t.once=true}}function Ol(t){if(t.tag==="slot"){t.slotName=_o(t,"name");if(false){}}else{var e;if(t.tag==="template"){e=bo(t,"scope");if(false){}t.slotScope=e||bo(t,"slot-scope")}else if(e=bo(t,"slot-scope")){if(false){}t.slotScope=e}var n=_o(t,"slot");if(n){t.slotTarget=n==='""'?'"default"':n;if(t.tag!=="template"&&!t.slotScope){vo(t,"slot",n)}}}}function kl(t){var e;if(e=_o(t,"is")){t.component=e}if(bo(t,"inline-template")!=null){t.inlineTemplate=true}}function Tl(t){var e=t.attrsList;var n,i,r,o,a,s,l;for(n=0,i=e.length;n<i;n++){r=o=e[n].name;a=e[n].value;if(Gs.test(r)){t.hasBindings=true;s=Ll(r);if(s){r=r.replace(tl,"")}if(Qs.test(r)){r=r.replace(Qs,"");a=uo(a);l=false;if(s){if(s.prop){l=true;r=T(r);if(r==="innerHtml"){r="innerHTML"}}if(s.camel){r=T(r)}if(s.sync){yo(t,"update:"+T(r),xo(a,"$event"))}}if(l||!t.component&&ll(t.tag,t.attrsMap.type,r)){po(t,r,a)}else{vo(t,r,a)}}else if(Ws.test(r)){r=r.replace(Ws,"");yo(t,r,a,s,false,nl)}else{r=r.replace(Gs,"");var u=r.match(Js);var c=u&&u[1];if(c){r=r.slice(0,-(c.length+1))}go(t,r,o,a,c,s);if(false){}}}else{if(false){var f}vo(t,r,JSON.stringify(a));if(!t.component&&r==="muted"&&ll(t.tag,t.attrsMap.type,r)){po(t,r,"true")}}}}function Cl(t){var e=t;while(e){if(e.for!==undefined){return true}e=e.parent}return false}function Ll(t){var e=t.match(tl);if(e){var n={};e.forEach(function(t){n[t.slice(1)]=true});return n}}function Al(t){var e={};for(var n=0,i=t.length;n<i;n++){if(false){}e[t[n].name]=t[n].value}return e}function Sl(t){return t.tag==="script"||t.tag==="style"}function Pl(t){return t.tag==="style"||t.tag==="script"&&(!t.attrsMap.type||t.attrsMap.type==="text/javascript")}var Nl=/^xmlns:NS\d+/;var Ml=/^NS\d+:/;function jl(t){var e=[];for(var n=0;n<t.length;n++){var i=t[n];if(!Nl.test(i.name)){i.name=i.name.replace(Ml,"");e.push(i)}}return e}function Il(t,e){var n=t;while(n){if(n.for&&n.alias===e){nl("<"+t.tag+' v-model="'+e+'">: '+"You are binding v-model directly to a v-for iteration alias. "+"This will not be able to modify the v-for source array because "+"writing to the alias is like modifying a function local variable. "+"Consider using an array of objects and use v-model on an object property instead.")}n=n.parent}}function Dl(t,e){if(t.tag==="input"){var n=t.attrsMap;if(!n["v-model"]){return}var i;if(n[":type"]||n["v-bind:type"]){i=_o(t,"type")}if(!n.type&&!i&&n["v-bind"]){i="("+n["v-bind"]+").type"}if(i){var r=bo(t,"v-if",true);var o=r?"&&("+r+")":"";var a=bo(t,"v-else",true)!=null;var s=bo(t,"v-else-if",true);var l=Rl(t);gl(l);mo(l,"type","checkbox");pl(l,e);l.processed=true;l.if="("+i+")==='checkbox'"+o;xl(l,{exp:l.if,block:l});var u=Rl(t);bo(u,"v-for",true);mo(u,"type","radio");pl(u,e);xl(l,{exp:"("+i+")==='radio'"+o,block:u});var c=Rl(t);bo(c,"v-for",true);mo(c,":type",i);pl(c,e);xl(l,{exp:r,block:c});if(a){l.else=true}else if(s){l.elseif=s}return l}}}function Rl(t){return cl(t.tag,t.attrsList.slice(),t.parent)}var ql={preTransformNode:Dl};var Bl=[_s,xs,ql];function zl(t,e){if(e.value){po(t,"textContent","_s("+e.value+")")}}function Fl(t,e){if(e.value){po(t,"innerHTML","_s("+e.value+")")}}var Ul={model:qo,text:zl,html:Fl};var $l={expectHTML:true,modules:Bl,directives:Ul,isPreTag:br,isUnaryTag:ks,mustUseProp:ir,canBeLeftOpenTag:Ts,isReservedTag:wr,getTagNamespace:xr,staticKeys:B(Bl)};var Hl;var Zl;var Vl=O(Gl);function Wl(t,e){if(!t){return}Hl=Vl(e.staticKeys||"");Zl=e.isReservedTag||R;Kl(t);Yl(t,false)}function Gl(t){return y("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))}function Kl(t){t.static=Xl(t);if(t.type===1){if(!Zl(t.tag)&&t.tag!=="slot"&&t.attrsMap["inline-template"]==null){return}for(var e=0,n=t.children.length;e<n;e++){var i=t.children[e];Kl(i);if(!i.static){t.static=false}}if(t.ifConditions){for(var r=1,o=t.ifConditions.length;r<o;r++){var a=t.ifConditions[r].block;Kl(a);if(!a.static){t.static=false}}}}}function Yl(t,e){if(t.type===1){if(t.static||t.once){t.staticInFor=e}if(t.static&&t.children.length&&!(t.children.length===1&&t.children[0].type===3)){t.staticRoot=true;return}else{t.staticRoot=false}if(t.children){for(var n=0,i=t.children.length;n<i;n++){Yl(t.children[n],e||!!t.for)}}if(t.ifConditions){for(var r=1,o=t.ifConditions.length;r<o;r++){Yl(t.ifConditions[r].block,e)}}}}function Xl(t){if(t.type===2){return false}if(t.type===3){return true}return!!(t.pre||!t.hasBindings&&!t.if&&!t.for&&!_(t.tag)&&Zl(t.tag)&&!Jl(t)&&Object.keys(t).every(Hl))}function Jl(t){while(t.parent){t=t.parent;if(t.tag!=="template"){return false}if(t.for){return true}}return false}var Ql=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/;var tu=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/;var eu={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]};var nu={esc:"Escape",tab:"Tab",enter:"Enter",space:" ",up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete"]};var iu=function t(e){return"if("+e+")return null;"};var ru={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:iu("$event.target !== $event.currentTarget"),ctrl:iu("!$event.ctrlKey"),shift:iu("!$event.shiftKey"),alt:iu("!$event.altKey"),meta:iu("!$event.metaKey"),left:iu("'button' in $event && $event.button !== 0"),middle:iu("'button' in $event && $event.button !== 1"),right:iu("'button' in $event && $event.button !== 2")};function ou(t,e,n){var i=e?"nativeOn:{":"on:{";for(var r in t){i+='"'+r+'":'+au(r,t[r])+","}return i.slice(0,-1)+"}"}function au(t,e){if(!e){return"function(){}"}if(Array.isArray(e)){return"["+e.map(function(e){return au(t,e)}).join(",")+"]"}var n=tu.test(e.value);var i=Ql.test(e.value);if(!e.modifiers){if(n||i){return e.value}return"function($event){"+e.value+"}"}else{var r="";var o="";var a=[];for(var s in e.modifiers){if(ru[s]){o+=ru[s];if(eu[s]){a.push(s)}}else if(s==="exact"){var l=e.modifiers;o+=iu(["ctrl","shift","alt","meta"].filter(function(t){return!l[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else{a.push(s)}}if(a.length){r+=su(a)}if(o){r+=o}var u=n?"return "+e.value+"($event)":i?"return ("+e.value+")($event)":e.value;return"function($event){"+r+u+"}"}}function su(t){return"if(!('button' in $event)&&"+t.map(lu).join("&&")+")return null;"}function lu(t){var e=parseInt(t,10);if(e){return"$event.keyCode!=="+e}var n=eu[t];var i=nu[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+","+"$event.key,"+""+JSON.stringify(i)+")"}function uu(t,e){if(false){}t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}}function cu(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}}var fu={on:uu,bind:cu,cloak:D};var hu=function t(e){this.options=e;this.warn=e.warn||fo;this.transforms=ho(e.modules,"transformCode");this.dataGenFns=ho(e.modules,"genData");this.directives=j(j({},fu),e.directives);var n=e.isReservedTag||R;this.maybeComponent=function(t){return!n(t.tag)};this.onceId=0;this.staticRenderFns=[]};function du(t,e){var n=new hu(e);var i=t?pu(t,n):'_c("div")';return{render:"with(this){return "+i+"}",staticRenderFns:n.staticRenderFns}}function pu(t,e){if(t.staticRoot&&!t.staticProcessed){return vu(t,e)}else if(t.once&&!t.onceProcessed){return mu(t,e)}else if(t.for&&!t.forProcessed){return _u(t,e)}else if(t.if&&!t.ifProcessed){return gu(t,e)}else if(t.tag==="template"&&!t.slotTarget){return Tu(t,e)||"void 0"}else if(t.tag==="slot"){return Nu(t,e)}else{var n;if(t.component){n=Mu(t.component,t,e)}else{var i=t.plain?undefined:bu(t,e);var r=t.inlineTemplate?null:Tu(t,e,true);n="_c('"+t.tag+"'"+(i?","+i:"")+(r?","+r:"")+")"}for(var o=0;o<e.transforms.length;o++){n=e.transforms[o](t,n)}return n}}function vu(t,e){t.staticProcessed=true;e.staticRenderFns.push("with(this){return "+pu(t,e)+"}");return"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function mu(t,e){t.onceProcessed=true;if(t.if&&!t.ifProcessed){return gu(t,e)}else if(t.staticInFor){var n="";var i=t.parent;while(i){if(i.for){n=i.key;break}i=i.parent}if(!n){"production"!=="production"&&e.warn("v-once can only be used inside v-for that is keyed. ");return pu(t,e)}return"_o("+pu(t,e)+","+e.onceId+++","+n+")"}else{return vu(t,e)}}function gu(t,e,n,i){t.ifProcessed=true;return yu(t.ifConditions.slice(),e,n,i)}function yu(t,e,n,i){if(!t.length){return i||"_e()"}var r=t.shift();if(r.exp){return"("+r.exp+")?"+o(r.block)+":"+yu(t,e,n,i)}else{return""+o(r.block)}function o(t){return n?n(t,e):t.once?mu(t,e):pu(t,e)}}function _u(t,e,n,i){var r=t.for;var o=t.alias;var a=t.iterator1?","+t.iterator1:"";var s=t.iterator2?","+t.iterator2:"";if(false){}t.forProcessed=true;return(i||"_l")+"(("+r+"),"+"function("+o+a+s+"){"+"return "+(n||pu)(t,e)+"})"}function bu(t,e){var n="{";var i=wu(t,e);if(i){n+=i+","}if(t.key){n+="key:"+t.key+","}if(t.ref){n+="ref:"+t.ref+","}if(t.refInFor){n+="refInFor:true,"}if(t.pre){n+="pre:true,"}if(t.component){n+='tag:"'+t.tag+'",'}for(var r=0;r<e.dataGenFns.length;r++){n+=e.dataGenFns[r](t)}if(t.attrs){n+="attrs:{"+ju(t.attrs)+"},"}if(t.props){n+="domProps:{"+ju(t.props)+"},"}if(t.events){n+=ou(t.events,false,e.warn)+","}if(t.nativeEvents){n+=ou(t.nativeEvents,true,e.warn)+","}if(t.slotTarget&&!t.slotScope){n+="slot:"+t.slotTarget+","}if(t.scopedSlots){n+=Eu(t.scopedSlots,e)+","}if(t.model){n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"}if(t.inlineTemplate){var o=xu(t,e);if(o){n+=o+","}}n=n.replace(/,$/,"")+"}";if(t.wrapData){n=t.wrapData(n)}if(t.wrapListeners){n=t.wrapListeners(n)}return n}function wu(t,e){var n=t.directives;if(!n){return}var i="directives:[";var r=false;var o,a,s,l;for(o=0,a=n.length;o<a;o++){s=n[o];l=true;var u=e.directives[s.name];if(u){l=!!u(t,s,e.warn)}if(l){r=true;i+='{name:"'+s.name+'",rawName:"'+s.rawName+'"'+(s.value?",value:("+s.value+"),expression:"+JSON.stringify(s.value):"")+(s.arg?',arg:"'+s.arg+'"':"")+(s.modifiers?",modifiers:"+JSON.stringify(s.modifiers):"")+"},"}}if(r){return i.slice(0,-1)+"]"}}function xu(t,e){var n=t.children[0];if(false){}if(n.type===1){var i=du(n,e.options);return"inlineTemplate:{render:function(){"+i.render+"},staticRenderFns:["+i.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}function Eu(t,e){return"scopedSlots:_u(["+Object.keys(t).map(function(n){return Ou(n,t[n],e)}).join(",")+"])"}function Ou(t,e,n){if(e.for&&!e.forProcessed){return ku(t,e,n)}var i="function("+String(e.slotScope)+"){"+"return "+(e.tag==="template"?e.if?e.if+"?"+(Tu(e,n)||"undefined")+":undefined":Tu(e,n)||"undefined":pu(e,n))+"}";return"{key:"+t+",fn:"+i+"}"}function ku(t,e,n){var i=e.for;var r=e.alias;var o=e.iterator1?","+e.iterator1:"";var a=e.iterator2?","+e.iterator2:"";e.forProcessed=true;return"_l(("+i+"),"+"function("+r+o+a+"){"+"return "+Ou(t,e,n)+"})"}function Tu(t,e,n,i,r){var o=t.children;if(o.length){var a=o[0];if(o.length===1&&a.for&&a.tag!=="template"&&a.tag!=="slot"){return(i||pu)(a,e)}var s=n?Cu(o,e.maybeComponent):0;var l=r||Au;return"["+o.map(function(t){return l(t,e)}).join(",")+"]"+(s?","+s:"")}}function Cu(t,e){var n=0;for(var i=0;i<t.length;i++){var r=t[i];if(r.type!==1){continue}if(Lu(r)||r.ifConditions&&r.ifConditions.some(function(t){return Lu(t.block)})){n=2;break}if(e(r)||r.ifConditions&&r.ifConditions.some(function(t){return e(t.block)})){n=1}}return n}function Lu(t){return t.for!==undefined||t.tag==="template"||t.tag==="slot"}function Au(t,e){if(t.type===1){return pu(t,e)}if(t.type===3&&t.isComment){return Pu(t)}else{return Su(t)}}function Su(t){return"_v("+(t.type===2?t.expression:Iu(JSON.stringify(t.text)))+")"}function Pu(t){return"_e("+JSON.stringify(t.text)+")"}function Nu(t,e){var n=t.slotName||'"default"';var i=Tu(t,e);var r="_t("+n+(i?","+i:"");var o=t.attrs&&"{"+t.attrs.map(function(t){return T(t.name)+":"+t.value}).join(",")+"}";var a=t.attrsMap["v-bind"];if((o||a)&&!i){r+=",null"}if(o){r+=","+o}if(a){r+=(o?"":",null")+","+a}return r+")"}function Mu(t,e,n){var i=e.inlineTemplate?null:Tu(e,n,true);return"_c("+t+","+bu(e,n)+(i?","+i:"")+")"}function ju(t){var e="";for(var n=0;n<t.length;n++){var i=t[n];{e+='"'+i.name+'":'+Iu(i.value)+","}}return e.slice(0,-1)}function Iu(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}var Du=new RegExp("\\b"+("do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,"+"super,throw,while,yield,delete,export,import,return,switch,default,"+"extends,finally,continue,debugger,function,arguments").split(",").join("\\b|\\b")+"\\b");var Ru=new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");var qu=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g;function Bu(t){var e=[];if(t){zu(t,e)}return e}function zu(t,e){if(t.type===1){for(var n in t.attrsMap){if(Gs.test(n)){var i=t.attrsMap[n];if(i){if(n==="v-for"){Uu(t,'v-for="'+i+'"',e)}else if(Ws.test(n)){Fu(i,n+'="'+i+'"',e)}else{Hu(i,n+'="'+i+'"',e)}}}}if(t.children){for(var r=0;r<t.children.length;r++){zu(t.children[r],e)}}}else if(t.type===2){Hu(t.expression,t.text,e)}}function Fu(t,e,n){var i=t.replace(qu,"");var r=i.match(Ru);if(r&&i.charAt(r.index-1)!=="$"){n.push("avoid using JavaScript unary operator as property name: "+'"'+r[0]+'" in expression '+e.trim())}Hu(t,e,n)}function Uu(t,e,n){Hu(t.for||"",e,n);$u(t.alias,"v-for alias",e,n);$u(t.iterator1,"v-for iterator",e,n);$u(t.iterator2,"v-for iterator",e,n)}function $u(t,e,n,i){if(typeof t==="string"){try{new Function("var "+t+"=_")}catch(r){i.push("invalid "+e+' "'+t+'" in expression: '+n.trim())}}}function Hu(t,e,n){try{new Function("return "+t)}catch(r){var i=t.replace(qu,"").match(Du);if(i){n.push("avoid using JavaScript keyword as property name: "+'"'+i[0]+'"\n  Raw expression: '+e.trim())}else{n.push("invalid expression: "+r.message+" in\n\n"+"    "+t+"\n\n"+"  Raw expression: "+e.trim()+"\n")}}}function Zu(t,e){try{return new Function(t)}catch(n){e.push({err:n,code:t});return D}}function Vu(t){var e=Object.create(null);return function n(i,r,o){r=j({},r);var a=r.warn||gt;delete r.warn;if(false){}var s=r.delimiters?String(r.delimiters)+i:i;if(e[s]){return e[s]}var l=t(i,r);if(false){}var u={};var c=[];u.render=Zu(l.render,c);u.staticRenderFns=l.staticRenderFns.map(function(t){return Zu(t,c)});if(false){}return e[s]=u}}function Wu(t){return function e(n){function i(e,i){var r=Object.create(n);var o=[];var a=[];r.warn=function(t,e){(e?a:o).push(t)};if(i){if(i.modules){r.modules=(n.modules||[]).concat(i.modules)}if(i.directives){r.directives=j(Object.create(n.directives||null),i.directives)}for(var s in i){if(s!=="modules"&&s!=="directives"){r[s]=i[s]}}}var l=t(e,r);if(false){}l.errors=o;l.tips=a;return l}return{compile:i,compileToFunctions:Vu(i)}}}var Gu=Wu(function t(e,n){var i=fl(e.trim(),n);if(n.optimize!==false){Wl(i,n)}var r=du(i,n);return{ast:i,render:r.render,staticRenderFns:r.staticRenderFns}});var Ku=Gu($l);var Yu=Ku.compileToFunctions;var Xu;function Ju(t){Xu=Xu||document.createElement("div");Xu.innerHTML=t?'<a href="\n"/>':'<div a="\n"/>';return Xu.innerHTML.indexOf("&#10;")>0}var Qu=J?Ju(false):false;var tc=J?Ju(true):false;var ec=O(function(t){var e=Tr(t);return e&&e.innerHTML});var nc=zi.prototype.$mount;zi.prototype.$mount=function(t,e){t=t&&Tr(t);if(t===document.body||t===document.documentElement){"production"!=="production"&&gt("Do not mount Vue to <html> or <body> - mount to normal elements instead.");return this}var n=this.$options;if(!n.render){var i=n.template;if(i){if(typeof i==="string"){if(i.charAt(0)==="#"){i=ec(i);if(false){}}}else if(i.nodeType){i=i.innerHTML}else{if(false){}return this}}else if(t){i=ic(t)}if(i){if(false){}var r=Yu(i,{shouldDecodeNewlines:Qu,shouldDecodeNewlinesForHref:tc,delimiters:n.delimiters,comments:n.comments},this);var o=r.render;var a=r.staticRenderFns;n.render=o;n.staticRenderFns=a;if(false){}}}return nc.call(this,t,e)};function ic(t){if(t.outerHTML){return t.outerHTML}else{var e=document.createElement("div");e.appendChild(t.cloneNode(true));return e.innerHTML}}zi.compile=Yu;e["a"]=zi}).call(this,n(13),n(155).setImmediate)},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:true});var r=n(24);var o=n(7);var a=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.value=function(t){return true};e.prototype.index=function(t,e){if(this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY){return Math.min(e,1)}return-1};e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);if(t>0)n+=1;return[this.parent.domNode,n]};e.prototype.value=function(){return t={},t[this.statics.blotName]=this.statics.value(this.domNode)||true,t;var t};e.scope=o.Scope.INLINE_BLOT;return e}(r.default);e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:true});var r=n(12);var o=n(23);var a=n(17);var s=n(7);var l=function(t){i(e,t);function e(e){var n=t.call(this,e)||this;n.attributes=new o.default(n.domNode);return n}e.formats=function(t){if(typeof this.tagName==="string"){return true}else if(Array.isArray(this.tagName)){return t.tagName.toLowerCase()}return undefined};e.prototype.format=function(t,e){var n=s.query(t);if(n instanceof r.default){this.attributes.attribute(n,e)}else if(e){if(n!=null&&(t!==this.statics.blotName||this.formats()[t]!==e)){this.replaceWith(t,e)}}};e.prototype.formats=function(){var t=this.attributes.values();var e=this.statics.formats(this.domNode);if(e!=null){t[this.statics.blotName]=e}return t};e.prototype.replaceWith=function(e,n){var i=t.prototype.replaceWith.call(this,e,n);this.attributes.copy(i);return i};e.prototype.update=function(e,n){var i=this;t.prototype.update.call(this,e,n);if(e.some(function(t){return t.target===i.domNode&&t.type==="attributes"})){this.attributes.build()}};e.prototype.wrap=function(n,i){var r=t.prototype.wrap.call(this,n,i);if(r instanceof e&&r.statics.scope===this.statics.scope){this.attributes.move(r)}return r};return e}(a.default);e.default=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:true});var r=n(101);var o=n(24);var a=n(7);var s=function(t){i(e,t);function e(e){var n=t.call(this,e)||this;n.build();return n}e.prototype.appendChild=function(t){this.insertBefore(t)};e.prototype.attach=function(){t.prototype.attach.call(this);this.children.forEach(function(t){t.attach()})};e.prototype.build=function(){var t=this;this.children=new r.default;[].slice.call(this.domNode.childNodes).reverse().forEach(function(e){try{var n=l(e);t.insertBefore(n,t.children.head)}catch(t){if(t instanceof a.ParchmentError)return;else throw t}})};e.prototype.deleteAt=function(t,e){if(t===0&&e===this.length()){return this.remove()}this.children.forEachAt(t,e,function(t,e,n){t.deleteAt(e,n)})};e.prototype.descendant=function(t,n){var i=this.children.find(n),r=i[0],o=i[1];if(t.blotName==null&&t(r)||t.blotName!=null&&r instanceof t){return[r,o]}else if(r instanceof e){return r.descendant(t,o)}else{return[null,-1]}};e.prototype.descendants=function(t,n,i){if(n===void 0){n=0}if(i===void 0){i=Number.MAX_VALUE}var r=[],o=i;this.children.forEachAt(n,i,function(n,i,a){if(t.blotName==null&&t(n)||t.blotName!=null&&n instanceof t){r.push(n)}if(n instanceof e){r=r.concat(n.descendants(t,i,o))}o-=a});return r};e.prototype.detach=function(){this.children.forEach(function(t){t.detach()});t.prototype.detach.call(this)};e.prototype.formatAt=function(t,e,n,i){this.children.forEachAt(t,e,function(t,e,r){t.formatAt(e,r,n,i)})};e.prototype.insertAt=function(t,e,n){var i=this.children.find(t),r=i[0],o=i[1];if(r){r.insertAt(o,e,n)}else{var s=n==null?a.create("text",e):a.create(e,n);this.appendChild(s)}};e.prototype.insertBefore=function(t,e){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(e){return t instanceof e})){throw new a.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName)}t.insertInto(this,e)};e.prototype.length=function(){return this.children.reduce(function(t,e){return t+e.length()},0)};e.prototype.moveChildren=function(t,e){this.children.forEach(function(n){t.insertBefore(n,e)})};e.prototype.optimize=function(e){t.prototype.optimize.call(this,e);if(this.children.length===0){if(this.statics.defaultChild!=null){var n=a.create(this.statics.defaultChild);this.appendChild(n);n.optimize(e)}else{this.remove()}}};e.prototype.path=function(t,n){if(n===void 0){n=false}var i=this.children.find(t,n),r=i[0],o=i[1];var a=[[this,t]];if(r instanceof e){return a.concat(r.path(o,n))}else if(r!=null){a.push([r,o])}return a};e.prototype.removeChild=function(t){this.children.remove(t)};e.prototype.replace=function(n){if(n instanceof e){n.moveChildren(this)}t.prototype.replace.call(this,n)};e.prototype.split=function(t,e){if(e===void 0){e=false}if(!e){if(t===0)return this;if(t===this.length())return this.next}var n=this.clone();this.parent.insertBefore(n,this.next);this.children.forEachAt(t,this.length(),function(t,i,r){t=t.split(i,e);n.appendChild(t)});return n};e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next);this.remove()};e.prototype.update=function(t,e){var n=this;var i=[],r=[];t.forEach(function(t){if(t.target===n.domNode&&t.type==="childList"){i.push.apply(i,t.addedNodes);r.push.apply(r,t.removedNodes)}});r.forEach(function(t){if(t.parentNode!=null&&t.tagName!=="IFRAME"&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY){return}var e=a.find(t);if(e==null)return;if(e.domNode.parentNode==null||e.domNode.parentNode===n.domNode){e.detach()}});i.filter(function(t){return t.parentNode==n.domNode}).sort(function(t,e){if(t===e)return 0;if(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING){return 1}return-1}).forEach(function(t){var e=null;if(t.nextSibling!=null){e=a.find(t.nextSibling)}var i=l(t);if(i.next!=e||i.next==null){if(i.parent!=null){i.parent.removeChild(n)}n.insertBefore(i,e)}})};return e}(o.default);function l(t){var e=a.find(t);if(e==null){try{e=a.create(t)}catch(n){e=a.create(a.Scope.INLINE);[].slice.call(t.childNodes).forEach(function(t){e.domNode.appendChild(t)});t.parentNode.replaceChild(e.domNode,t);e.attach()}}return e}e.default=s},function(t,e,n){"use strict";(function(e){var i=n(6);var r=n(142);var o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){if(!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])){t["Content-Type"]=e}}function s(){var t;if(typeof XMLHttpRequest!=="undefined"){t=n(28)}else if(typeof e!=="undefined"){t=n(28)}return t}var l={adapter:s(),transformRequest:[function t(e,n){r(n,"Content-Type");if(i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)){return e}if(i.isArrayBufferView(e)){return e.buffer}if(i.isURLSearchParams(e)){a(n,"application/x-www-form-urlencoded;charset=utf-8");return e.toString()}if(i.isObject(e)){a(n,"application/json;charset=utf-8");return JSON.stringify(e)}return e}],transformResponse:[function t(e){if(typeof e==="string"){try{e=JSON.parse(e)}catch(t){}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function t(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}};i.forEach(["delete","get","head"],function t(e){l.headers[e]={}});i.forEach(["post","put","patch"],function t(e){l.headers[e]=i.merge(o)});t.exports=l}).call(this,n(30))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=i;function i(t,e){var n=[];var i={};for(var r=0;r<e.length;r++){var o=e[r];var a=o[0];var s=o[1];var l=o[2];var u=o[3];var c={id:t+":"+r,css:s,media:l,sourceMap:u};if(!i[a]){n.push(i[a]={id:a,parts:[c]})}else{i[a].parts.push(c)}}return n}},function(t,e){t.exports='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"></line></svg>'},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:true});var r=n(12);function o(t){var e=t.split("-");var n=e.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return e[0]+n}var a=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.keys=function(t){return(t.getAttribute("style")||"").split(";").map(function(t){var e=t.split(":");return e[0].trim()})};e.prototype.add=function(t,e){if(!this.canAdd(t,e))return false;t.style[o(this.keyName)]=e;return true};e.prototype.remove=function(t){t.style[o(this.keyName)]="";if(!t.getAttribute("style")){t.removeAttribute("style")}};e.prototype.value=function(t){var e=t.style[o(this.keyName)];return this.canAdd(t,e)?e:""};return e}(r.default);e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:true});var r=n(12);function o(t,e){var n=t.getAttribute("class")||"";return n.split(/\s+/).filter(function(t){return t.indexOf(e+"-")===0})}var a=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})};e.prototype.add=function(t,e){if(!this.canAdd(t,e))return false;this.remove(t);t.classList.add(this.keyName+"-"+e);return true};e.prototype.remove=function(t){var e=o(t,this.keyName);e.forEach(function(e){t.classList.remove(e)});if(t.classList.length===0){t.removeAttribute("class")}};e.prototype.value=function(t){var e=o(t,this.keyName)[0]||"";var n=e.slice(this.keyName.length+1);return this.canAdd(t,n)?n:""};return e}(r.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var i=n(12);var r=n(22);var o=n(21);var a=n(7);var s=function(){function t(t){this.attributes={};this.domNode=t;this.build()}t.prototype.attribute=function(t,e){if(e){if(t.add(this.domNode,e)){if(t.value(this.domNode)!=null){this.attributes[t.attrName]=t}else{delete this.attributes[t.attrName]}}}else{t.remove(this.domNode);delete this.attributes[t.attrName]}};t.prototype.build=function(){var t=this;this.attributes={};var e=i.default.keys(this.domNode);var n=r.default.keys(this.domNode);var s=o.default.keys(this.domNode);e.concat(n).concat(s).forEach(function(e){var n=a.query(e,a.Scope.ATTRIBUTE);if(n instanceof i.default){t.attributes[n.attrName]=n}})};t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach(function(n){var i=e.attributes[n].value(e.domNode);t.format(n,i)})};t.prototype.move=function(t){var e=this;this.copy(t);Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)});this.attributes={}};t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce(function(e,n){e[n]=t.attributes[n].value(t.domNode);return e},{})};return t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var i=n(7);var r=function(){function t(t){this.domNode=t;this.domNode[i.DATA_KEY]={blot:this}}Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:true,configurable:true});t.create=function(t){if(this.tagName==null){throw new i.ParchmentError("Blot definition missing tagName")}var e;if(Array.isArray(this.tagName)){if(typeof t==="string"){t=t.toUpperCase();if(parseInt(t).toString()===t){t=parseInt(t)}}if(typeof t==="number"){e=document.createElement(this.tagName[t-1])}else if(this.tagName.indexOf(t)>-1){e=document.createElement(t)}else{e=document.createElement(this.tagName[0])}}else{e=document.createElement(this.tagName)}if(this.className){e.classList.add(this.className)}return e};t.prototype.attach=function(){if(this.parent!=null){this.scroll=this.parent.scroll}};t.prototype.clone=function(){var t=this.domNode.cloneNode(false);return i.create(t)};t.prototype.detach=function(){if(this.parent!=null)this.parent.removeChild(this);delete this.domNode[i.DATA_KEY]};t.prototype.deleteAt=function(t,e){var n=this.isolate(t,e);n.remove()};t.prototype.formatAt=function(t,e,n,r){var o=this.isolate(t,e);if(i.query(n,i.Scope.BLOT)!=null&&r){o.wrap(n,r)}else if(i.query(n,i.Scope.ATTRIBUTE)!=null){var a=i.create(this.statics.scope);o.wrap(a);a.format(n,r)}};t.prototype.insertAt=function(t,e,n){var r=n==null?i.create("text",e):i.create(e,n);var o=this.split(t);this.parent.insertBefore(r,o)};t.prototype.insertInto=function(t,e){if(this.parent!=null){this.parent.children.remove(this)}t.children.insertBefore(this,e);if(e!=null){var n=e.domNode}if(this.next==null||this.domNode.nextSibling!=n){t.domNode.insertBefore(this.domNode,typeof n!=="undefined"?n:null)}this.parent=t;this.attach()};t.prototype.isolate=function(t,e){var n=this.split(t);n.split(e);return n};t.prototype.length=function(){return 1};t.prototype.offset=function(t){if(t===void 0){t=this.parent}if(this.parent==null||this==t)return 0;return this.parent.children.offset(this)+this.parent.offset(t)};t.prototype.optimize=function(t){if(this.domNode[i.DATA_KEY]!=null){delete this.domNode[i.DATA_KEY].mutations}};t.prototype.remove=function(){if(this.domNode.parentNode!=null){this.domNode.parentNode.removeChild(this.domNode)}this.detach()};t.prototype.replace=function(t){if(t.parent==null)return;t.parent.insertBefore(this,t.next);t.remove()};t.prototype.replaceWith=function(t,e){var n=typeof t==="string"?i.create(t,e):t;n.replace(this);return n};t.prototype.split=function(t,e){return t===0?this:this.next};t.prototype.update=function(t,e){};t.prototype.wrap=function(t,e){var n=typeof t==="string"?i.create(t,e):t;if(this.parent!=null){this.parent.insertBefore(n,this.next)}n.appendChild(this);return n};t.blotName="abstract";return t}();e.default=r},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function t(){return"Cancel"+(this.message?": "+this.message:"")};i.prototype.__CANCEL__=true;t.exports=i},function(t,e,n){"use strict";t.exports=function t(e){return!!(e&&e.__CANCEL__)}},function(t,e,n){"use strict";var i=n(140);t.exports=function t(e,n,r,o,a){var s=new Error(e);return i(s,n,r,o,a)}},function(t,e,n){"use strict";var i=n(6);var r=n(141);var o=n(139);var a=n(138);var s=n(137);var l=n(27);var u=typeof window!=="undefined"&&window.btoa&&window.btoa.bind(window)||n(136);t.exports=function t(e){return new Promise(function t(c,f){var h=e.data;var d=e.headers;if(i.isFormData(h)){delete d["Content-Type"]}var p=new XMLHttpRequest;var v="onreadystatechange";var m=false;if("production"!=="test"&&typeof window!=="undefined"&&window.XDomainRequest&&!("withCredentials"in p)&&!s(e.url)){p=new window.XDomainRequest;v="onload";m=true;p.onprogress=function t(){};p.ontimeout=function t(){}}if(e.auth){var g=e.auth.username||"";var y=e.auth.password||"";d.Authorization="Basic "+u(g+":"+y)}p.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),true);p.timeout=e.timeout;p[v]=function t(){if(!p||p.readyState!==4&&!m){return}if(p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)){return}var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null;var i=!e.responseType||e.responseType==="text"?p.responseText:p.response;var o={data:i,status:p.status===1223?204:p.status,statusText:p.status===1223?"No Content":p.statusText,headers:n,config:e,request:p};r(c,f,o);p=null};p.onerror=function t(){f(l("Network Error",e,null,p));p=null};p.ontimeout=function t(){f(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p));p=null};if(i.isStandardBrowserEnv()){var _=n(135);var b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?_.read(e.xsrfCookieName):undefined;if(b){d[e.xsrfHeaderName]=b}}if("setRequestHeader"in p){i.forEach(d,function t(e,n){if(typeof h==="undefined"&&n.toLowerCase()==="content-type"){delete d[n]}else{p.setRequestHeader(n,e)}})}if(e.withCredentials){p.withCredentials=true}if(e.responseType){try{p.responseType=e.responseType}catch(t){if(e.responseType!=="json"){throw t}}}if(typeof e.onDownloadProgress==="function"){p.addEventListener("progress",e.onDownloadProgress)}if(typeof e.onUploadProgress==="function"&&p.upload){p.upload.addEventListener("progress",e.onUploadProgress)}if(e.cancelToken){e.cancelToken.promise.then(function t(e){if(!p){return}p.abort();f(e);p=null})}if(h===undefined){h=null}p.send(h)})}},function(t,e,n){"use strict";t.exports=function t(e,n){return function t(){var i=new Array(arguments.length);for(var r=0;r<i.length;r++){i[r]=arguments[r]}return e.apply(n,i)}}},function(t,e){var n=t.exports={};var i;var r;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=o}}catch(t){i=o}try{if(typeof clearTimeout==="function"){r=clearTimeout}else{r=a}}catch(t){r=a}})();function s(t){if(i===setTimeout){return setTimeout(t,0)}if((i===o||!i)&&setTimeout){i=setTimeout;return setTimeout(t,0)}try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function l(t){if(r===clearTimeout){return clearTimeout(t)}if((r===a||!r)&&clearTimeout){r=clearTimeout;return clearTimeout(t)}try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}var u=[];var c=false;var f;var h=-1;function d(){if(!c||!f){return}c=false;if(f.length){u=f.concat(u)}else{h=-1}if(u.length){p()}}function p(){if(c){return}var t=s(d);c=true;var e=u.length;while(e){f=u;u=[];while(++h<e){if(f){f[h].run()}}h=-1;e=u.length}f=null;c=false;l(t)}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}}u.push(new v(t,e));if(u.length===1&&!c){s(p)}};function v(t,e){this.fun=t;this.array=e}v.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function m(){}n.on=m;n.addListener=m;n.once=m;n.off=m;n.removeListener=m;n.removeAllListeners=m;n.emit=m;n.prependListener=m;n.prependOnceListener=m;n.listeners=function(t){return[]};n.binding=function(t){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(t){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},function(t,e){function n(t){if(typeof t.value!=="function"){console.warn("[Vue-click-outside:] provided expression",t.expression,"is not a function.");return false}return true}function i(t,e){if(!t||!e)return false;for(var n=0,i=e.length;n<i;n++){try{if(t.contains(e[n])){return true}if(e[n].contains(t)){return false}}catch(t){return false}}return false}function r(t){return typeof t.componentInstance!=="undefined"&&t.componentInstance.$isServer}e=t.exports={bind:function t(e,o,a){if(!n(o))return;function s(t){if(!a.context)return;var n=t.path||t.composedPath&&t.composedPath();n&&n.length>0&&n.unshift(t.target);if(e.contains(t.target)||i(a.context.popupItem,n))return;e.__vueClickOutside__.callback(t)}e.__vueClickOutside__={handler:s,callback:o.value};!r(a)&&document.addEventListener("click",s)},update:function t(e,i){if(n(i))e.__vueClickOutside__.callback=i.value},unbind:function t(e,n,i){!r(i)&&document.removeEventListener("click",e.__vueClickOutside__.handler);delete e.__vueClickOutside__}}},function(t,e){t.exports='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"></polygon><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"></polygon></svg>'},function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function o(){}if(Object.create){o.prototype=Object.create(null);if(!(new o).__proto__)r=false}function a(t,e,n){this.fn=t;this.context=e;this.once=n||false}function s(){this._events=new o;this._eventsCount=0}s.prototype.eventNames=function t(){var e=[],n,o;if(this._eventsCount===0)return e;for(o in n=this._events){if(i.call(n,o))e.push(r?o.slice(1):o)}if(Object.getOwnPropertySymbols){return e.concat(Object.getOwnPropertySymbols(n))}return e};s.prototype.listeners=function t(e,n){var i=r?r+e:e,o=this._events[i];if(n)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var a=0,s=o.length,l=new Array(s);a<s;a++){l[a]=o[a].fn}return l};s.prototype.emit=function t(e,n,i,o,a,s){var l=r?r+e:e;if(!this._events[l])return false;var u=this._events[l],c=arguments.length,f,h;if(u.fn){if(u.once)this.removeListener(e,u.fn,undefined,true);switch(c){case 1:return u.fn.call(u.context),true;case 2:return u.fn.call(u.context,n),true;case 3:return u.fn.call(u.context,n,i),true;case 4:return u.fn.call(u.context,n,i,o),true;case 5:return u.fn.call(u.context,n,i,o,a),true;case 6:return u.fn.call(u.context,n,i,o,a,s),true}for(h=1,f=new Array(c-1);h<c;h++){f[h-1]=arguments[h]}u.fn.apply(u.context,f)}else{var d=u.length,p;for(h=0;h<d;h++){if(u[h].once)this.removeListener(e,u[h].fn,undefined,true);switch(c){case 1:u[h].fn.call(u[h].context);break;case 2:u[h].fn.call(u[h].context,n);break;case 3:u[h].fn.call(u[h].context,n,i);break;case 4:u[h].fn.call(u[h].context,n,i,o);break;default:if(!f)for(p=1,f=new Array(c-1);p<c;p++){f[p-1]=arguments[p]}u[h].fn.apply(u[h].context,f)}}}return true};s.prototype.on=function t(e,n,i){var o=new a(n,i||this),s=r?r+e:e;if(!this._events[s])this._events[s]=o,this._eventsCount++;else if(!this._events[s].fn)this._events[s].push(o);else this._events[s]=[this._events[s],o];return this};s.prototype.once=function t(e,n,i){var o=new a(n,i||this,true),s=r?r+e:e;if(!this._events[s])this._events[s]=o,this._eventsCount++;else if(!this._events[s].fn)this._events[s].push(o);else this._events[s]=[this._events[s],o];return this};s.prototype.removeListener=function t(e,n,i,a){var s=r?r+e:e;if(!this._events[s])return this;if(!n){if(--this._eventsCount===0)this._events=new o;else delete this._events[s];return this}var l=this._events[s];if(l.fn){if(l.fn===n&&(!a||l.once)&&(!i||l.context===i)){if(--this._eventsCount===0)this._events=new o;else delete this._events[s]}}else{for(var u=0,c=[],f=l.length;u<f;u++){if(l[u].fn!==n||a&&!l[u].once||i&&l[u].context!==i){c.push(l[u])}}if(c.length)this._events[s]=c.length===1?c[0]:c;else if(--this._eventsCount===0)this._events=new o;else delete this._events[s]}return this};s.prototype.removeAllListeners=function t(e){var n;if(e){n=r?r+e:e;if(this._events[n]){if(--this._eventsCount===0)this._events=new o;else delete this._events[n]}}else{this._events=new o;this._eventsCount=0}return this};s.prototype.off=s.prototype.removeListener;s.prototype.addListener=s.prototype.on;s.prototype.setMaxListeners=function t(){return this};s.prefixed=r;s.EventEmitter=s;if(true){t.exports=s}},function(t,e,n){t.exports={blockquote:n(120),bold:n(119),color:n(118),del:n(117),expan:n(116),italic:n(115),link:n(114),list:n(113),location:n(112),note:n(111),paragraph:n(110),person:n(109),subscript:n(108),superscript:n(107),underline:n(106),segment:n(105),smallcaps:n(104),speechpart:n(103),verse:n(102)}},function(t,e,n){"use strict";n.r(e);var i=n(14);var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
/**
 * vuex v3.0.1
 * (c) 2017 Evan You
 * @license MIT
 */var o=function t(e){var n=Number(e.version.split(".")[0]);if(n>=2){e.mixin({beforeCreate:r})}else{var i=e.prototype._init;e.prototype._init=function(t){if(t===void 0)t={};t.init=t.init?[r].concat(t.init):r;i.call(this,t)}}function r(){var t=this.$options;if(t.store){this.$store=typeof t.store==="function"?t.store():t.store}else if(t.parent&&t.parent.$store){this.$store=t.parent.$store}}};var a=typeof window!=="undefined"&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function s(t){if(!a){return}t._devtoolHook=a;a.emit("vuex:init",t);a.on("vuex:travel-to-state",function(e){t.replaceState(e)});t.subscribe(function(t,e){a.emit("vuex:mutation",t,e)})}function l(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function u(t){return t!==null&&(typeof t==="undefined"?"undefined":r(t))==="object"}function c(t){return t&&typeof t.then==="function"}function f(t,e){if(!t){throw new Error("[vuex] "+e)}}var h=function t(e,n){this.runtime=n;this._children=Object.create(null);this._rawModule=e;var i=e.state;this.state=(typeof i==="function"?i():i)||{}};var d={namespaced:{configurable:true}};d.namespaced.get=function(){return!!this._rawModule.namespaced};h.prototype.addChild=function t(e,n){this._children[e]=n};h.prototype.removeChild=function t(e){delete this._children[e]};h.prototype.getChild=function t(e){return this._children[e]};h.prototype.update=function t(e){this._rawModule.namespaced=e.namespaced;if(e.actions){this._rawModule.actions=e.actions}if(e.mutations){this._rawModule.mutations=e.mutations}if(e.getters){this._rawModule.getters=e.getters}};h.prototype.forEachChild=function t(e){l(this._children,e)};h.prototype.forEachGetter=function t(e){if(this._rawModule.getters){l(this._rawModule.getters,e)}};h.prototype.forEachAction=function t(e){if(this._rawModule.actions){l(this._rawModule.actions,e)}};h.prototype.forEachMutation=function t(e){if(this._rawModule.mutations){l(this._rawModule.mutations,e)}};Object.defineProperties(h.prototype,d);var p=function t(e){this.register([],e,false)};p.prototype.get=function t(e){return e.reduce(function(t,e){return t.getChild(e)},this.root)};p.prototype.getNamespace=function t(e){var n=this.root;return e.reduce(function(t,e){n=n.getChild(e);return t+(n.namespaced?e+"/":"")},"")};p.prototype.update=function t(e){v([],this.root,e)};p.prototype.register=function t(e,n,i){var r=this;if(i===void 0)i=true;if(false){}var o=new h(n,i);if(e.length===0){this.root=o}else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],o)}if(n.modules){l(n.modules,function(t,n){r.register(e.concat(n),t,i)})}};p.prototype.unregister=function t(e){var n=this.get(e.slice(0,-1));var i=e[e.length-1];if(!n.getChild(i).runtime){return}n.removeChild(i)};function v(t,e,n){if(false){}e.update(n);if(n.modules){for(var i in n.modules){if(!e.getChild(i)){if(false){}return}v(t.concat(i),e.getChild(i),n.modules[i])}}}var m={assert:function t(e){return typeof e==="function"},expected:"function"};var g={assert:function t(e){return typeof e==="function"||(typeof e==="undefined"?"undefined":r(e))==="object"&&typeof e.handler==="function"},expected:'function or object with "handler" function'};var y={getters:m,mutations:m,actions:g};function _(t,e){Object.keys(y).forEach(function(n){if(!e[n]){return}var i=y[n];l(e[n],function(e,r){f(i.assert(e),b(t,n,r,e,i.expected))})})}function b(t,e,n,i,r){var o=e+" should be "+r+' but "'+e+"."+n+'"';if(t.length>0){o+=' in module "'+t.join(".")+'"'}o+=" is "+JSON.stringify(i)+".";return o}var w;var x=function t(e){var n=this;if(e===void 0)e={};if(!w&&typeof window!=="undefined"&&window.Vue){D(window.Vue)}if(false){}var i=e.plugins;if(i===void 0)i=[];var r=e.strict;if(r===void 0)r=false;var o=e.state;if(o===void 0)o={};if(typeof o==="function"){o=o()||{}}this._committing=false;this._actions=Object.create(null);this._actionSubscribers=[];this._mutations=Object.create(null);this._wrappedGetters=Object.create(null);this._modules=new p(e);this._modulesNamespaceMap=Object.create(null);this._subscribers=[];this._watcherVM=new w;var a=this;var l=this;var u=l.dispatch;var c=l.commit;this.dispatch=function t(e,n){return u.call(a,e,n)};this.commit=function t(e,n,i){return c.call(a,e,n,i)};this.strict=r;C(this,o,[],this._modules.root);T(this,o);i.forEach(function(t){return t(n)});if(w.config.devtools){s(this)}};var E={state:{configurable:true}};E.state.get=function(){return this._vm._data.$$state};E.state.set=function(t){if(false){}};x.prototype.commit=function t(e,n,i){var r=this;var o=I(e,n,i);var a=o.type;var s=o.payload;var l=o.options;var u={type:a,payload:s};var c=this._mutations[a];if(!c){if(false){}return}this._withCommit(function(){c.forEach(function t(e){e(s)})});this._subscribers.forEach(function(t){return t(u,r.state)});if(false){}};x.prototype.dispatch=function t(e,n){var i=this;var r=I(e,n);var o=r.type;var a=r.payload;var s={type:o,payload:a};var l=this._actions[o];if(!l){if(false){}return}this._actionSubscribers.forEach(function(t){return t(s,i.state)});return l.length>1?Promise.all(l.map(function(t){return t(a)})):l[0](a)};x.prototype.subscribe=function t(e){return O(e,this._subscribers)};x.prototype.subscribeAction=function t(e){return O(e,this._actionSubscribers)};x.prototype.watch=function t(e,n,i){var r=this;if(false){}return this._watcherVM.$watch(function(){return e(r.state,r.getters)},n,i)};x.prototype.replaceState=function t(e){var n=this;this._withCommit(function(){n._vm._data.$$state=e})};x.prototype.registerModule=function t(e,n,i){if(i===void 0)i={};if(typeof e==="string"){e=[e]}if(false){}this._modules.register(e,n);C(this,this.state,e,this._modules.get(e),i.preserveState);T(this,this.state)};x.prototype.unregisterModule=function t(e){var n=this;if(typeof e==="string"){e=[e]}if(false){}this._modules.unregister(e);this._withCommit(function(){var t=j(n.state,e.slice(0,-1));w.delete(t,e[e.length-1])});k(this)};x.prototype.hotUpdate=function t(e){this._modules.update(e);k(this,true)};x.prototype._withCommit=function t(e){var n=this._committing;this._committing=true;e();this._committing=n};Object.defineProperties(x.prototype,E);function O(t,e){if(e.indexOf(t)<0){e.push(t)}return function(){var n=e.indexOf(t);if(n>-1){e.splice(n,1)}}}function k(t,e){t._actions=Object.create(null);t._mutations=Object.create(null);t._wrappedGetters=Object.create(null);t._modulesNamespaceMap=Object.create(null);var n=t.state;C(t,n,[],t._modules.root,true);T(t,n,e)}function T(t,e,n){var i=t._vm;t.getters={};var r=t._wrappedGetters;var o={};l(r,function(e,n){o[n]=function(){return e(t)};Object.defineProperty(t.getters,n,{get:function e(){return t._vm[n]},enumerable:true})});var a=w.config.silent;w.config.silent=true;t._vm=new w({data:{$$state:e},computed:o});w.config.silent=a;if(t.strict){M(t)}if(i){if(n){t._withCommit(function(){i._data.$$state=null})}w.nextTick(function(){return i.$destroy()})}}function C(t,e,n,i,r){var o=!n.length;var a=t._modules.getNamespace(n);if(i.namespaced){t._modulesNamespaceMap[a]=i}if(!o&&!r){var s=j(e,n.slice(0,-1));var l=n[n.length-1];t._withCommit(function(){w.set(s,l,i.state)})}var u=i.context=L(t,a,n);i.forEachMutation(function(e,n){var i=a+n;S(t,i,e,u)});i.forEachAction(function(e,n){var i=e.root?n:a+n;var r=e.handler||e;P(t,i,r,u)});i.forEachGetter(function(e,n){var i=a+n;N(t,i,e,u)});i.forEachChild(function(i,o){C(t,e,n.concat(o),i,r)})}function L(t,e,n){var i=e==="";var r={dispatch:i?t.dispatch:function(n,i,r){var o=I(n,i,r);var a=o.payload;var s=o.options;var l=o.type;if(!s||!s.root){l=e+l;if(false){}}return t.dispatch(l,a)},commit:i?t.commit:function(n,i,r){var o=I(n,i,r);var a=o.payload;var s=o.options;var l=o.type;if(!s||!s.root){l=e+l;if(false){}}t.commit(l,a,s)}};Object.defineProperties(r,{getters:{get:i?function(){return t.getters}:function(){return A(t,e)}},state:{get:function e(){return j(t.state,n)}}});return r}function A(t,e){var n={};var i=e.length;Object.keys(t.getters).forEach(function(r){if(r.slice(0,i)!==e){return}var o=r.slice(i);Object.defineProperty(n,o,{get:function e(){return t.getters[r]},enumerable:true})});return n}function S(t,e,n,i){var r=t._mutations[e]||(t._mutations[e]=[]);r.push(function e(r){n.call(t,i.state,r)})}function P(t,e,n,i){var r=t._actions[e]||(t._actions[e]=[]);r.push(function e(r,o){var a=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},r,o);if(!c(a)){a=Promise.resolve(a)}if(t._devtoolHook){return a.catch(function(e){t._devtoolHook.emit("vuex:error",e);throw e})}else{return a}})}function N(t,e,n,i){if(t._wrappedGetters[e]){if(false){}return}t._wrappedGetters[e]=function t(e){return n(i.state,i.getters,e.state,e.getters)}}function M(t){t._vm.$watch(function(){return this._data.$$state},function(){if(false){}},{deep:true,sync:true})}function j(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function I(t,e,n){if(u(t)&&t.type){n=e;e=t;t=t.type}if(false){}return{type:t,payload:e,options:n}}function D(t){if(w&&t===w){if(false){}return}w=t;o(w)}var R=$(function(t,e){var n={};U(e).forEach(function(e){var i=e.key;var r=e.val;n[i]=function e(){var n=this.$store.state;var i=this.$store.getters;if(t){var o=H(this.$store,"mapState",t);if(!o){return}n=o.context.state;i=o.context.getters}return typeof r==="function"?r.call(this,n,i):n[r]};n[i].vuex=true});return n});var q=$(function(t,e){var n={};U(e).forEach(function(e){var i=e.key;var r=e.val;n[i]=function e(){var n=[],i=arguments.length;while(i--){n[i]=arguments[i]}var o=this.$store.commit;if(t){var a=H(this.$store,"mapMutations",t);if(!a){return}o=a.context.commit}return typeof r==="function"?r.apply(this,[o].concat(n)):o.apply(this.$store,[r].concat(n))}});return n});var B=$(function(t,e){var n={};U(e).forEach(function(e){var i=e.key;var r=e.val;r=t+r;n[i]=function e(){if(t&&!H(this.$store,"mapGetters",t)){return}if(false){}return this.$store.getters[r]};n[i].vuex=true});return n});var z=$(function(t,e){var n={};U(e).forEach(function(e){var i=e.key;var r=e.val;n[i]=function e(){var n=[],i=arguments.length;while(i--){n[i]=arguments[i]}var o=this.$store.dispatch;if(t){var a=H(this.$store,"mapActions",t);if(!a){return}o=a.context.dispatch}return typeof r==="function"?r.apply(this,[o].concat(n)):o.apply(this.$store,[r].concat(n))}});return n});var F=function t(e){return{mapState:R.bind(null,e),mapGetters:B.bind(null,e),mapMutations:q.bind(null,e),mapActions:z.bind(null,e)}};function U(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function $(t){return function(e,n){if(typeof e!=="string"){n=e;e=""}else if(e.charAt(e.length-1)!=="/"){e+="/"}return t(e,n)}}function H(t,e,n){var i=t._modulesNamespaceMap[n];if(false){}return i}var Z={Store:x,install:D,version:"3.0.1",mapState:R,mapMutations:q,mapGetters:B,mapActions:z,createNamespacedHelpers:F};var V=Z;var W={name:"tab",props:{name:{required:true},selected:{default:false}},data:function t(){return{isActive:this.selected}}};var G=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return t.isActive?n("div",[t._t("default")],2):t._e()};var K=[];function Y(t,e,n,i,r,o,a,s){t=t||{};var l=typeof t.default;if(l==="object"||l==="function"){t=t.default}var u=typeof t==="function"?t.options:t;if(e){u.render=e;u.staticRenderFns=n;u._compiled=true}if(i){u.functional=true}if(o){u._scopeId=o}var c;if(a){c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext;if(!t&&typeof __VUE_SSR_CONTEXT__!=="undefined"){t=__VUE_SSR_CONTEXT__}if(r){r.call(this,t)}if(t&&t._registeredComponents){t._registeredComponents.add(a)}};u._ssrRegister=c}else if(r){c=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r}if(c){if(u.functional){u._injectStyles=c;var f=u.render;u.render=function t(e,n){c.call(n);return f(e,n)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}}return{exports:t,options:u}}var X=false;var J=null;var Q=null;var tt=null;var et=Y(W,G,K,X,J,Q,tt);var nt=et.exports;var it={name:"tabs",components:{tab:nt},data:function t(){return{tabs:null}},created:function t(){this.tabs=this.$children},methods:{selectTab:function t(e){this.tabs.forEach(function(t){t.isActive=t.name===e.name});e.isActive=true}}};var rt=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",[n("div",{staticClass:"tabs"},[n("ul",t._l(t.tabs,function(e){return n("li",{class:{"is-active":e.isActive}},[n("a",{on:{click:function(n){t.selectTab(e)}}},[t._v(t._s(e.name))])])}))]),t._v(" "),n("div",{staticClass:"tabs-content"},[t._t("default")],2)])};var ot=[];var at=false;var st=null;var lt=null;var ut=null;var ct=Y(it,rt,ot,at,st,lt,ut);var ft=ct.exports;var ht=n(2);var dt=n.n(ht);var pt=n(127);var vt={name:"a-message",props:["type","title","body"]};var mt=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("article",{staticClass:"message",class:t.type},[n("div",{staticClass:"message-header"},[n("p",[t._v(t._s(t.title))])]),t._v(" "),n("div",{staticClass:"message-body"},[n("p",{domProps:{innerHTML:t._s(t.body)}})])])};var gt=[];function yt(t){n(126)}var _t=false;var bt=yt;var wt="data-v-2f12bd82";var xt=null;var Et=Y(vt,mt,gt,_t,bt,wt,xt);var Ot=Et.exports;var kt=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var Tt={components:{AMessage:Ot},name:"iiif-map",props:["manifest","drawMode","displayAnnotationsMode"],data:function t(){return{error:undefined}},mounted:function t(){var e=this.$store.getters["user/authHeader"];var n=this.$store.getters["document/document"].id;var i=this.$store;function r(){return i.getters["user/author"].id}var o=new Liiiflet("liiiflet-map",{loadManifest:function t(){var i=r();var o="/adele/api/1.0/documents/"+n+"/manifest/from-user/"+i;console.log("IIIFMAP: manifest_url: ",o);return dt.a.get(o,e).then(function(t){console.log("IIIFMAP: ",t);return new Promise(function(e){return e(t.data.data)})})},loadAnnotations:function t(n){return dt.a.get(n,e).then(function(t){return new Promise(function(e){return e(t.data)})})},saveAnnotations:function t(i){return dt.a.post("/adele/api/1.0/documents/"+n+"/annotations",{data:i},e)},loadDefaultAnnotationType:function t(){return dt.a.get("/adele/api/1.0/annotation-types",null).then(function(t){var e=function t(e){if(e.label==="annotation"){return{v:new Promise(function(t){return t(e)})}}};var n=true;var i=false;var r=undefined;try{for(var o=t.data.data[Symbol.iterator](),a;!(n=(a=o.next()).done);n=true){var s=a.value;var l=e(s);if((typeof l==="undefined"?"undefined":kt(l))==="object")return l.v}}catch(t){i=true;r=t}finally{try{if(!n&&o.return){o.return()}}finally{if(i){throw r}}}return new Promise(function(e){return e(t.data[0])})})},saveAnnotationAlignments:function t(e){}},{direction:"center",className:"facsimileToolTip"},this.drawMode);setInterval(function(){if(o.map)o.map.invalidateSize(true)},400)},methods:{handleAPIErrors:function t(e){var n=JSON.stringify(e.errors);if(e.errors){this.error=n;throw new Error(n)}}}};var Ct=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",[!t.error?n("div",{ref:"map",staticClass:"iiif-map",attrs:{id:"liiiflet-map"}}):t._e(),t._v(" "),t.error?n("a-message",{attrs:{title:"Erreur",body:t.error,type:"is-danger"}}):t._e()],1)};var Lt=[];function At(t){n(147)}var St=false;var Pt=At;var Nt="data-v-0e47b866";var Mt=null;var jt=Y(Tt,Ct,Lt,St,Pt,Nt,Mt);var It=jt.exports;var Dt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){t[i]=n[i]}}}return t};var Rt={name:"transcription-editor",components:{IIIFMap:It},computed:Dt({},B("document",["manifestURL"]))};var qt=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-half"},[n("IIIFMap",{attrs:{manifest:t.manifestURL,"draw-mode":true,"display-annotations-mode":true}})],1),t._v(" "),t._m(0)])};var Bt=[function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"column is-half"},[n("h1",[t._v("Transcription")])])}];function zt(t){n(149)}var Ft=false;var Ut=zt;var $t="data-v-c9195b88";var Ht=null;var Zt=Y(Rt,qt,Bt,Ft,Ut,$t,Ht);var Vt=Zt.exports;var Wt=n(34);var Gt=n.n(Wt);var Kt={name:"editor-button",props:["selected","active","callback","format"],computed:{iconClass:function t(){return"fa fa-"+this.icon},iconSvg:function t(){return Gt.a[this.format]}}};var Yt=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("button",{staticClass:"button is-small",class:{selected:t.selected},attrs:{disabled:!t.active},domProps:{innerHTML:t._s(t.iconSvg)},on:{click:function(e){t.callback(t.format)}}})};var Xt=[];function Jt(t){n(122)}var Qt=false;var te=Jt;var ee="data-v-6cdad718";var ne=null;var ie=Y(Kt,Yt,Xt,Qt,te,ee,ne);var re=ie.exports;var oe=n(0);var ae=n.n(oe);var se=n(95);var le=n(1);var ue=n.n(le);var ce=n(11);var fe=n.n(ce);var he=n(3);var de=n.n(he);var pe=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var ve=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function me(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ge(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ye(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var _e=function(t){ye(e,t);function e(){me(this,e);return ge(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}pe(e,[{key:"insertInto",value:function t(n,i){if(n.children.length===0){ve(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,n,i)}else{this.remove()}}},{key:"length",value:function t(){return 0}},{key:"value",value:function t(){return""}}],[{key:"value",value:function t(){return undefined}}]);return e}(ae.a.Embed);_e.blotName="break";_e.tagName="BR";var be=_e;function we(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function xe(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ee(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Oe=function(t){Ee(e,t);function e(){we(this,e);return xe(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(ae.a.Text);var ke=Oe;var Te=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var Ce=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function Le(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ae(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Se(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Pe=function(t){Se(e,t);function e(){Le(this,e);return Ae(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Te(e,[{key:"formatAt",value:function t(n,i,r,o){if(e.compare(this.statics.blotName,r)<0&&ae.a.query(r,ae.a.Scope.BLOT)){var a=this.isolate(n,i);if(o){a.wrap(r,o)}}else{Ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,n,i,r,o)}}},{key:"optimize",value:function t(n){Ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,n);if(this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var i=this.parent.isolate(this.offset(),this.length());this.moveChildren(i);i.wrap(this)}}}],[{key:"compare",value:function t(n,i){var r=e.order.indexOf(n);var o=e.order.indexOf(i);if(r>=0||o>=0){return r-o}else if(n===i){return 0}else if(n<i){return-1}else{return 1}}}]);return e}(ae.a.Inline);Pe.allowedChildren=[Pe,ae.a.Embed,ke];Pe.order=["cursor","inline","underline","strike","italic","bold","script","link","code"];var Ne=Pe;var Me=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var je=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function Ie(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function De(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Re(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var qe=1;var Be=function(t){Re(e,t);function e(){Ie(this,e);return De(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Me(e,[{key:"attach",value:function t(){je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this);this.attributes=new ae.a.Attributor.Store(this.domNode)}},{key:"delta",value:function t(){return(new ue.a).insert(this.value(),de()(this.formats(),this.attributes.values()))}},{key:"format",value:function t(e,n){var i=ae.a.query(e,ae.a.Scope.BLOCK_ATTRIBUTE);if(i!=null){this.attributes.attribute(i,n)}}},{key:"formatAt",value:function t(e,n,i,r){this.format(i,r)}},{key:"insertAt",value:function t(n,i,r){if(typeof i==="string"&&i.endsWith("\n")){var o=ae.a.create(ze.blotName);this.parent.insertBefore(o,n===0?this:this.next);o.insertAt(0,i.slice(0,-1))}else{je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,n,i,r)}}}]);return e}(ae.a.Embed);Be.scope=ae.a.Scope.BLOCK_BLOT;var ze=function(t){Re(e,t);function e(t){Ie(this,e);var n=De(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.cache={};return n}Me(e,[{key:"delta",value:function t(){if(this.cache.delta==null){this.cache.delta=this.descendants(ae.a.Leaf).reduce(function(t,e){if(e.length()===0){return t}else{return t.insert(e.value(),Fe(e))}},new ue.a).insert("\n",Fe(this))}return this.cache.delta}},{key:"deleteAt",value:function t(n,i){je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,n,i);this.cache={}}},{key:"formatAt",value:function t(n,i,r,o){if(i<=0)return;if(ae.a.query(r,ae.a.Scope.BLOCK)){if(n+i===this.length()){this.format(r,o)}}else{je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,n,Math.min(i,this.length()-n-1),r,o)}this.cache={}}},{key:"insertAt",value:function t(n,i,r){if(r!=null)return je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,n,i,r);if(i.length===0)return;var o=i.split("\n");var a=o.shift();if(a.length>0){if(n<this.length()-1||this.children.tail==null){je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(n,this.length()-1),a)}else{this.children.tail.insertAt(this.children.tail.length(),a)}this.cache={}}var s=this;o.reduce(function(t,e){s=s.split(t,true);s.insertAt(0,e);return e.length},n+a.length)}},{key:"insertBefore",value:function t(n,i){var r=this.children.head;je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,n,i);if(r instanceof be){r.remove()}this.cache={}}},{key:"length",value:function t(){if(this.cache.length==null){this.cache.length=je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+qe}return this.cache.length}},{key:"moveChildren",value:function t(n,i){je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,n,i);this.cache={}}},{key:"optimize",value:function t(n){je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,n);this.cache={}}},{key:"path",value:function t(n){return je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,n,true)}},{key:"removeChild",value:function t(n){je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,n);this.cache={}}},{key:"split",value:function t(n){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(i&&(n===0||n>=this.length()-qe)){var r=this.clone();if(n===0){this.parent.insertBefore(r,this);return this}else{this.parent.insertBefore(r,this.next);return r}}else{var o=je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,n,i);this.cache={};return o}}}]);return e}(ae.a.Block);ze.blotName="block";ze.tagName="P";ze.defaultChild="break";ze.allowedChildren=[Ne,ae.a.Embed,ke];function Fe(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(t==null)return e;if(typeof t.formats==="function"){e=de()(e,t.formats())}if(t.parent==null||t.parent.blotName=="scroll"||t.parent.statics.scope!==t.statics.scope){return e}return Fe(t.parent,e)}var Ue=function(){function t(t,e){var n=[];var i=true;var r=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){r=true;o=t}finally{try{if(!i&&a["return"])a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var $e=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var He=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function Ze(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ve(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function We(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ge=function(t){We(e,t);function e(){Ze(this,e);return Ve(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Ne);Ge.blotName="code";Ge.tagName="CODE";var Ke=function(t){We(e,t);function e(){Ze(this,e);return Ve(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}$e(e,[{key:"delta",value:function t(){var e=this;var n=this.domNode.textContent;if(n.endsWith("\n")){n=n.slice(0,-1)}return n.split("\n").reduce(function(t,n){return t.insert(n).insert("\n",e.formats())},new ue.a)}},{key:"format",value:function t(n,i){if(n===this.statics.blotName&&i)return;var r=this.descendant(ke,this.length()-1),o=Ue(r,1),a=o[0];if(a!=null){a.deleteAt(a.length()-1,1)}He(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,i)}},{key:"formatAt",value:function t(n,i,r,o){if(i===0)return;if(ae.a.query(r,ae.a.Scope.BLOCK)==null||r===this.statics.blotName&&o===this.statics.formats(this.domNode)){return}var a=this.newlineIndex(n);if(a<0||a>=n+i)return;var s=this.newlineIndex(n,true)+1;var l=a-s+1;var u=this.isolate(s,l);var c=u.next;u.format(r,o);if(c instanceof e){c.formatAt(0,n-s+i-l,r,o)}}},{key:"insertAt",value:function t(e,n,i){if(i!=null)return;var r=this.descendant(ke,e),o=Ue(r,2),a=o[0],s=o[1];a.insertAt(s,n)}},{key:"length",value:function t(){var t=this.domNode.textContent.length;if(!this.domNode.textContent.endsWith("\n")){return t+1}return t}},{key:"newlineIndex",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!n){var i=this.domNode.textContent.slice(e).indexOf("\n");return i>-1?e+i:-1}else{return this.domNode.textContent.slice(0,e).lastIndexOf("\n")}}},{key:"optimize",value:function t(n){if(!this.domNode.textContent.endsWith("\n")){this.appendChild(ae.a.create("text","\n"))}He(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,n);var i=this.next;if(i!=null&&i.prev===this&&i.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===i.statics.formats(i.domNode)){i.optimize(n);i.moveChildren(this);i.remove()}}},{key:"replace",value:function t(n){He(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,n);[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(t){var e=ae.a.find(t);if(e==null){t.parentNode.removeChild(t)}else if(e instanceof ae.a.Embed){e.remove()}else{e.unwrap()}})}}],[{key:"create",value:function t(n){var i=He(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);i.setAttribute("spellcheck",false);return i}},{key:"formats",value:function t(){return true}}]);return e}(ze);Ke.blotName="code-block";Ke.tagName="PRE";Ke.TAB="  ";var Ye=function(){function t(t,e){var n=[];var i=true;var r=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){r=true;o=t}finally{try{if(!i&&a["return"])a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var Xe=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};var Je=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function Qe(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function tn(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function en(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var nn=function(t){en(e,t);Je(e,null,[{key:"value",value:function t(){return undefined}}]);function e(t,n){Qe(this,e);var i=tn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i.selection=n;i.textNode=document.createTextNode(e.CONTENTS);i.domNode.appendChild(i.textNode);i._length=0;return i}Je(e,[{key:"detach",value:function t(){if(this.parent!=null)this.parent.removeChild(this)}},{key:"format",value:function t(n,i){if(this._length!==0){return Xe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,i)}var r=this,o=0;while(r!=null&&r.statics.scope!==ae.a.Scope.BLOCK_BLOT){o+=r.offset(r.parent);r=r.parent}if(r!=null){this._length=e.CONTENTS.length;r.optimize();r.formatAt(o,e.CONTENTS.length,n,i);this._length=0}}},{key:"index",value:function t(n,i){if(n===this.textNode)return 0;return Xe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,n,i)}},{key:"length",value:function t(){return this._length}},{key:"position",value:function t(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function t(){Xe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this);this.parent=null}},{key:"restore",value:function t(){if(this.selection.composing||this.parent==null)return;var n=this.textNode;var i=this.selection.getNativeRange();var r=void 0,o=void 0,a=void 0;if(i!=null&&i.start.node===n&&i.end.node===n){var s=[n,i.start.offset,i.end.offset];r=s[0];o=s[1];a=s[2]}while(this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode){this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode)}if(this.textNode.data!==e.CONTENTS){var l=this.textNode.data.split(e.CONTENTS).join("");if(this.next instanceof ke){r=this.next.domNode;this.next.insertAt(0,l);this.textNode.data=e.CONTENTS}else{this.textNode.data=l;this.parent.insertBefore(ae.a.create(this.textNode),this);this.textNode=document.createTextNode(e.CONTENTS);this.domNode.appendChild(this.textNode)}}this.remove();if(o!=null){var u=[o,a].map(function(t){return Math.max(0,Math.min(r.data.length,t-1))});var c=Ye(u,2);o=c[0];a=c[1];return{startNode:r,startOffset:o,endNode:r,endOffset:a}}}},{key:"update",value:function t(e,n){var i=this;if(e.some(function(t){return t.type==="characterData"&&t.target===i.textNode})){var r=this.restore();if(r)n.range=r}}},{key:"value",value:function t(){return""}}]);return e}(ae.a.Embed);nn.blotName="cursor";nn.className="ql-cursor";nn.tagName="span";nn.CONTENTS="\ufeff";var rn=nn;var on=n(8);var an=n.n(on);var sn=n(9);var ln=n.n(sn);var un=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var cn=function(){function t(t,e){var n=[];var i=true;var r=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){r=true;o=t}finally{try{if(!i&&a["return"])a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var fn=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function hn(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function dn(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var pn=/^[ -~]*$/;var vn=function(){function t(e){dn(this,t);this.scroll=e;this.delta=this.getDelta()}fn(t,[{key:"applyDelta",value:function t(e){var n=this;var i=false;this.scroll.update();var r=this.scroll.length();this.scroll.batchStart();e=gn(e);e.reduce(function(t,e){var o=e.retain||e.delete||e.insert.length||1;var a=e.attributes||{};if(e.insert!=null){if(typeof e.insert==="string"){var s=e.insert;if(s.endsWith("\n")&&i){i=false;s=s.slice(0,-1)}if(t>=r&&!s.endsWith("\n")){i=true}n.scroll.insertAt(t,s);var l=n.scroll.line(t),u=cn(l,2),c=u[0],f=u[1];var h=de()({},Fe(c));if(c instanceof ze){var d=c.descendant(ae.a.Leaf,f),p=cn(d,1),v=p[0];h=de()(h,Fe(v))}a=fe.a.attributes.diff(h,a)||{}}else if(un(e.insert)==="object"){var m=Object.keys(e.insert)[0];if(m==null)return t;n.scroll.insertAt(t,m,e.insert[m])}r+=o}Object.keys(a).forEach(function(e){n.scroll.formatAt(t,o,e,a[e])});return t+o},0);e.reduce(function(t,e){if(typeof e.delete==="number"){n.scroll.deleteAt(t,e.delete);return t}return t+(e.retain||e.insert.length||1)},0);this.scroll.batchEnd();return this.update(e)}},{key:"deleteText",value:function t(e,n){this.scroll.deleteAt(e,n);return this.update((new ue.a).retain(e).delete(n))}},{key:"formatLine",value:function t(e,n){var i=this;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};this.scroll.update();Object.keys(r).forEach(function(t){if(i.scroll.whitelist!=null&&!i.scroll.whitelist[t])return;var o=i.scroll.lines(e,Math.max(n,1));var a=n;o.forEach(function(n){var o=n.length();if(!(n instanceof Ke)){n.format(t,r[t])}else{var s=e-n.offset(i.scroll);var l=n.newlineIndex(s+a)-s+1;n.formatAt(s,l,t,r[t])}a-=o})});this.scroll.optimize();return this.update((new ue.a).retain(e).retain(n,an()(r)))}},{key:"formatText",value:function t(e,n){var i=this;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};Object.keys(r).forEach(function(t){i.scroll.formatAt(e,n,t,r[t])});return this.update((new ue.a).retain(e).retain(n,an()(r)))}},{key:"getContents",value:function t(e,n){return this.delta.slice(e,e+n)}},{key:"getDelta",value:function t(){return this.scroll.lines().reduce(function(t,e){return t.concat(e.delta())},new ue.a)}},{key:"getFormat",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=[],r=[];if(n===0){this.scroll.path(e).forEach(function(t){var e=cn(t,1),n=e[0];if(n instanceof ze){i.push(n)}else if(n instanceof ae.a.Leaf){r.push(n)}})}else{i=this.scroll.lines(e,n);r=this.scroll.descendants(ae.a.Leaf,e,n)}var o=[i,r].map(function(t){if(t.length===0)return{};var e=Fe(t.shift());while(Object.keys(e).length>0){var n=t.shift();if(n==null)return e;e=mn(Fe(n),e)}return e});return de.a.apply(de.a,o)}},{key:"getText",value:function t(e,n){return this.getContents(e,n).filter(function(t){return typeof t.insert==="string"}).map(function(t){return t.insert}).join("")}},{key:"insertEmbed",value:function t(e,n,i){this.scroll.insertAt(e,n,i);return this.update((new ue.a).retain(e).insert(hn({},n,i)))}},{key:"insertText",value:function t(e,n){var i=this;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};n=n.replace(/\r\n/g,"\n").replace(/\r/g,"\n");this.scroll.insertAt(e,n);Object.keys(r).forEach(function(t){i.scroll.formatAt(e,n.length,t,r[t])});return this.update((new ue.a).retain(e).insert(n,an()(r)))}},{key:"isBlank",value:function t(){if(this.scroll.children.length==0)return true;if(this.scroll.children.length>1)return false;var e=this.scroll.children.head;if(e.statics.blotName!==ze.blotName)return false;if(e.children.length>1)return false;return e.children.head instanceof be}},{key:"removeFormat",value:function t(e,n){var i=this.getText(e,n);var r=this.scroll.line(e+n),o=cn(r,2),a=o[0],s=o[1];var l=0,u=new ue.a;if(a!=null){if(!(a instanceof Ke)){l=a.length()-s}else{l=a.newlineIndex(s)-s+1}u=a.delta().slice(s,s+l-1).insert("\n")}var c=this.getContents(e,n+l);var f=c.diff((new ue.a).insert(i).concat(u));var h=(new ue.a).retain(e).concat(f);return this.applyDelta(h)}},{key:"update",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;var r=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(pn)&&ae.a.find(n[0].target)){var o=ae.a.find(n[0].target);var a=Fe(o);var s=o.offset(this.scroll);var l=n[0].oldValue.replace(rn.CONTENTS,"");var u=(new ue.a).insert(l);var c=(new ue.a).insert(o.value());var f=(new ue.a).retain(s).concat(u.diff(c,i));e=f.reduce(function(t,e){if(e.insert){return t.insert(e.insert,a)}else{return t.push(e)}},new ue.a);this.delta=r.compose(e)}else{this.delta=this.getDelta();if(!e||!ln()(r.compose(e),this.delta)){e=r.diff(this.delta,i)}}return e}}]);return t}();function mn(t,e){return Object.keys(e).reduce(function(n,i){if(t[i]==null)return n;if(e[i]===t[i]){n[i]=e[i]}else if(Array.isArray(e[i])){if(e[i].indexOf(t[i])<0){n[i]=e[i].concat([t[i]])}}else{n[i]=[e[i],t[i]]}return n},{})}function gn(t){return t.reduce(function(t,e){if(e.insert===1){var n=an()(e.attributes);delete n["image"];return t.insert({image:e.attributes.image},n)}if(e.attributes!=null&&(e.attributes.list===true||e.attributes.bullet===true)){e=an()(e);if(e.attributes.list){e.attributes.list="ordered"}else{e.attributes.list="bullet";delete e.attributes.bullet}}if(typeof e.insert==="string"){var i=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(i,e.attributes)}return t.push(e)},new ue.a)}var yn=vn;var _n=n(33);var bn=n.n(_n);var wn=["error","warn","log","info"];var xn="warn";function En(t){if(wn.indexOf(t)<=wn.indexOf(xn)){var e;for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++){i[r-1]=arguments[r]}(e=console)[t].apply(e,i)}}function On(t){return wn.reduce(function(e,n){e[n]=En.bind(console,n,t);return e},{})}En.level=On.level=function(t){xn=t};var kn=On;var Tn=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var Cn=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function Ln(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function An(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Sn(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Pn=kn("quill:events");var Nn=["selectionchange","mousedown","mouseup","click"];Nn.forEach(function(t){document.addEventListener(t,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++){e[n]=arguments[n]}[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(t){if(t.__quill&&t.__quill.emitter){var n;(n=t.__quill.emitter).handleDOM.apply(n,e)}})})});var Mn=function(t){Sn(e,t);function e(){Ln(this,e);var t=An(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));t.listeners={};t.on("error",Pn.error);return t}Tn(e,[{key:"emit",value:function t(){Pn.log.apply(Pn,arguments);Cn(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function t(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++){i[r-1]=arguments[r]}(this.listeners[e.type]||[]).forEach(function(t){var n=t.node,r=t.handler;if(e.target===n||n.contains(e.target)){r.apply(undefined,[e].concat(i))}})}},{key:"listenDOM",value:function t(e,n,i){if(!this.listeners[e]){this.listeners[e]=[]}this.listeners[e].push({node:n,handler:i})}}]);return e}(bn.a);Mn.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"};Mn.sources={API:"api",SILENT:"silent",USER:"user"};var jn=Mn;function In(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var Dn=function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};In(this,t);this.quill=e;this.options=n};Dn.DEFAULTS={};var Rn=Dn;var qn=function(){function t(t,e){var n=[];var i=true;var r=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){r=true;o=t}finally{try{if(!i&&a["return"])a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var Bn=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function zn(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}function Fn(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var Un=kn("quill:selection");var $n=function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;Fn(this,t);this.index=e;this.length=n};var Hn=function(){function t(e,n){var i=this;Fn(this,t);this.emitter=n;this.scroll=e;this.composing=false;this.mouseDown=false;this.root=this.scroll.domNode;this.cursor=ae.a.create("cursor",this);this.lastRange=this.savedRange=new $n(0,0);this.handleComposition();this.handleDragging();this.emitter.listenDOM("selectionchange",document,function(){if(!i.mouseDown){setTimeout(i.update.bind(i,jn.sources.USER),1)}});this.emitter.on(jn.events.EDITOR_CHANGE,function(t,e){if(t===jn.events.TEXT_CHANGE&&e.length()>0){i.update(jn.sources.SILENT)}});this.emitter.on(jn.events.SCROLL_BEFORE_UPDATE,function(){if(!i.hasFocus())return;var t=i.getNativeRange();if(t==null)return;if(t.start.node===i.cursor.textNode)return;i.emitter.once(jn.events.SCROLL_UPDATE,function(){try{i.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}})});this.emitter.on(jn.events.SCROLL_OPTIMIZE,function(t,e){if(e.range){var n=e.range,r=n.startNode,o=n.startOffset,a=n.endNode,s=n.endOffset;i.setNativeRange(r,o,a,s)}});this.update(jn.sources.SILENT)}Bn(t,[{key:"handleComposition",value:function t(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=true});this.root.addEventListener("compositionend",function(){e.composing=false;if(e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function t(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=true});this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=false;e.update(jn.sources.USER)})}},{key:"focus",value:function t(){if(this.hasFocus())return;this.root.focus();this.setRange(this.savedRange)}},{key:"format",value:function t(e,n){if(this.scroll.whitelist!=null&&!this.scroll.whitelist[e])return;this.scroll.update();var i=this.getNativeRange();if(i==null||!i.native.collapsed||ae.a.query(e,ae.a.Scope.BLOCK))return;if(i.start.node!==this.cursor.textNode){var r=ae.a.find(i.start.node,false);if(r==null)return;if(r instanceof ae.a.Leaf){var o=r.split(i.start.offset);r.parent.insertBefore(this.cursor,o)}else{r.insertBefore(this.cursor,i.start.node)}this.cursor.attach()}this.cursor.format(e,n);this.scroll.optimize();this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length);this.update()}},{key:"getBounds",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=this.scroll.length();e=Math.min(e,i-1);n=Math.min(e+n,i-1)-e;var r=void 0,o=this.scroll.leaf(e),a=qn(o,2),s=a[0],l=a[1];if(s==null)return null;var u=s.position(l,true);var c=qn(u,2);r=c[0];l=c[1];var f=document.createRange();if(n>0){f.setStart(r,l);var h=this.scroll.leaf(e+n);var d=qn(h,2);s=d[0];l=d[1];if(s==null)return null;var p=s.position(l,true);var v=qn(p,2);r=v[0];l=v[1];f.setEnd(r,l);return f.getBoundingClientRect()}else{var m="left";var g=void 0;if(r instanceof Text){if(l<r.data.length){f.setStart(r,l);f.setEnd(r,l+1)}else{f.setStart(r,l-1);f.setEnd(r,l);m="right"}g=f.getBoundingClientRect()}else{g=s.domNode.getBoundingClientRect();if(l>0)m="right"}return{bottom:g.top+g.height,height:g.height,left:g[m],right:g[m],top:g.top,width:0}}}},{key:"getNativeRange",value:function t(){var e=document.getSelection();if(e==null||e.rangeCount<=0)return null;var n=e.getRangeAt(0);if(n==null)return null;var i=this.normalizeNative(n);Un.info("getNativeRange",i);return i}},{key:"getRange",value:function t(){var e=this.getNativeRange();if(e==null)return[null,null];var n=this.normalizedToRange(e);return[n,e]}},{key:"hasFocus",value:function t(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function t(e){var n=this;var i=[[e.start.node,e.start.offset]];if(!e.native.collapsed){i.push([e.end.node,e.end.offset])}var r=i.map(function(t){var e=qn(t,2),i=e[0],r=e[1];var o=ae.a.find(i,true);var a=o.offset(n.scroll);if(r===0){return a}else if(o instanceof ae.a.Container){return a+o.length()}else{return a+o.index(i,r)}});var o=Math.min(Math.max.apply(Math,zn(r)),this.scroll.length()-1);var a=Math.min.apply(Math,[o].concat(zn(r)));return new $n(a,o-a)}},{key:"normalizeNative",value:function t(e){if(!Zn(this.root,e.startContainer)||!e.collapsed&&!Zn(this.root,e.endContainer)){return null}var n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};[n.start,n.end].forEach(function(t){var e=t.node,n=t.offset;while(!(e instanceof Text)&&e.childNodes.length>0){if(e.childNodes.length>n){e=e.childNodes[n];n=0}else if(e.childNodes.length===n){e=e.lastChild;n=e instanceof Text?e.data.length:e.childNodes.length+1}else{break}}t.node=e,t.offset=n});return n}},{key:"rangeToNative",value:function t(e){var n=this;var i=e.collapsed?[e.index]:[e.index,e.index+e.length];var r=[];var o=this.scroll.length();i.forEach(function(t,e){t=Math.min(o-1,t);var i=void 0,a=n.scroll.leaf(t),s=qn(a,2),l=s[0],u=s[1];var c=l.position(u,e!==0);var f=qn(c,2);i=f[0];u=f[1];r.push(i,u)});if(r.length<2){r=r.concat(r)}return r}},{key:"scrollIntoView",value:function t(e){var n=this.lastRange;if(n==null)return;var i=this.getBounds(n.index,n.length);if(i==null)return;var r=this.scroll.length()-1;var o=this.scroll.line(Math.min(n.index,r)),a=qn(o,1),s=a[0];var l=s;if(n.length>0){var u=this.scroll.line(Math.min(n.index+n.length,r));var c=qn(u,1);l=c[0]}if(s==null||l==null)return;var f=e.getBoundingClientRect();if(i.top<f.top){e.scrollTop-=f.top-i.top}else if(i.bottom>f.bottom){e.scrollTop+=i.bottom-f.bottom}}},{key:"setNativeRange",value:function t(e,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:e;var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:n;var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;Un.info("setNativeRange",e,n,i,r);if(e!=null&&(this.root.parentNode==null||e.parentNode==null||i.parentNode==null)){return}var a=document.getSelection();if(a==null)return;if(e!=null){if(!this.hasFocus())this.root.focus();var s=(this.getNativeRange()||{}).native;if(s==null||o||e!==s.startContainer||n!==s.startOffset||i!==s.endContainer||r!==s.endOffset){if(e.tagName=="BR"){n=[].indexOf.call(e.parentNode.childNodes,e);e=e.parentNode}if(i.tagName=="BR"){r=[].indexOf.call(i.parentNode.childNodes,i);i=i.parentNode}var l=document.createRange();l.setStart(e,n);l.setEnd(i,r);a.removeAllRanges();a.addRange(l)}}else{a.removeAllRanges();this.root.blur();document.body.focus()}}},{key:"setRange",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:jn.sources.API;if(typeof n==="string"){i=n;n=false}Un.info("setRange",e);if(e!=null){var r=this.rangeToNative(e);this.setNativeRange.apply(this,zn(r).concat([n]))}else{this.setNativeRange(null)}this.update(i)}},{key:"update",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:jn.sources.USER;var n=this.lastRange;var i=this.getRange(),r=qn(i,2),o=r[0],a=r[1];this.lastRange=o;if(this.lastRange!=null){this.savedRange=this.lastRange}if(!ln()(n,this.lastRange)){var s;if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){this.cursor.restore()}var l=[jn.events.SELECTION_CHANGE,an()(this.lastRange),an()(n),e];(s=this.emitter).emit.apply(s,[jn.events.EDITOR_CHANGE].concat(l));if(e!==jn.sources.SILENT){var u;(u=this.emitter).emit.apply(u,l)}}}}]);return t}();function Zn(t,e){try{e.parentNode}catch(t){return false}if(e instanceof Text){e=e.parentNode}return t.contains(e)}var Vn=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function Wn(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var Gn=function(){function t(e,n){Wn(this,t);this.quill=e;this.options=n;this.modules={}}Vn(t,[{key:"init",value:function t(){var e=this;Object.keys(this.options.modules).forEach(function(t){if(e.modules[t]==null){e.addModule(t)}})}},{key:"addModule",value:function t(e){var n=this.quill.constructor.import("modules/"+e);this.modules[e]=new n(this.quill,this.options.modules[e]||{});return this.modules[e]}}]);return t}();Gn.DEFAULTS={modules:{}};Gn.themes={default:Gn};var Kn=Gn;var Yn=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var Xn=function(){function t(t,e){var n=[];var i=true;var r=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){r=true;o=t}finally{try{if(!i&&a["return"])a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var Jn=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function Qn(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function ti(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var ei=kn("quill");var ni=function(){Jn(t,null,[{key:"debug",value:function t(e){if(e===true){e="log"}kn.level(e)}},{key:"find",value:function t(e){return e.__quill||ae.a.find(e)}},{key:"import",value:function t(e){if(this.imports[e]==null){ei.error("Cannot import "+e+". Are you sure it was registered?")}return this.imports[e]}},{key:"register",value:function t(e,n){var i=this;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(typeof e!=="string"){var o=e.attrName||e.blotName;if(typeof o==="string"){this.register("formats/"+o,e,n)}else{Object.keys(e).forEach(function(t){i.register(t,e[t],n)})}}else{if(this.imports[e]!=null&&!r){ei.warn("Overwriting "+e+" with",n)}this.imports[e]=n;if((e.startsWith("blots/")||e.startsWith("formats/"))&&n.blotName!=="abstract"){ae.a.register(n)}else if(e.startsWith("modules")&&typeof n.register==="function"){n.register()}}}}]);function t(e){var n=this;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};ti(this,t);this.options=ii(e,i);this.container=this.options.container;if(this.container==null){return ei.error("Invalid Quill container",e)}if(this.options.debug){t.debug(this.options.debug)}var r=this.container.innerHTML.trim();this.container.classList.add("ql-container");this.container.innerHTML="";this.container.__quill=this;this.root=this.addContainer("ql-editor");this.root.classList.add("ql-blank");this.root.setAttribute("data-gramm",false);this.scrollingContainer=this.options.scrollingContainer||this.root;this.emitter=new jn;this.scroll=ae.a.create(this.root,{emitter:this.emitter,whitelist:this.options.formats});this.editor=new yn(this.scroll);this.selection=new Hn(this.scroll,this.emitter);this.theme=new this.options.theme(this,this.options);this.keyboard=this.theme.addModule("keyboard");this.clipboard=this.theme.addModule("clipboard");this.history=this.theme.addModule("history");this.theme.init();this.emitter.on(jn.events.EDITOR_CHANGE,function(t){if(t===jn.events.TEXT_CHANGE){n.root.classList.toggle("ql-blank",n.editor.isBlank())}});this.emitter.on(jn.events.SCROLL_UPDATE,function(t,e){var i=n.selection.lastRange;var r=i&&i.length===0?i.index:undefined;ri.call(n,function(){return n.editor.update(null,e,r)},t)});var o=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(o);this.history.clear();if(this.options.placeholder){this.root.setAttribute("data-placeholder",this.options.placeholder)}if(this.options.readOnly){this.disable()}}Jn(t,[{key:"addContainer",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(typeof e==="string"){var i=e;e=document.createElement("div");e.classList.add(i)}this.container.insertBefore(e,n);return e}},{key:"blur",value:function t(){this.selection.setRange(null)}},{key:"deleteText",value:function t(e,n,i){var r=this;var o=oi(e,n,i);var a=Xn(o,4);e=a[0];n=a[1];i=a[3];return ri.call(this,function(){return r.editor.deleteText(e,n)},i,e,-1*n)}},{key:"disable",value:function t(){this.enable(false)}},{key:"enable",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.scroll.enable(e);this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function t(){var e=this.scrollingContainer.scrollTop;this.selection.focus();this.scrollingContainer.scrollTop=e;this.scrollIntoView()}},{key:"format",value:function t(e,n){var i=this;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:jn.sources.API;return ri.call(this,function(){var t=i.getSelection(true);var r=new ue.a;if(t==null){return r}else if(ae.a.query(e,ae.a.Scope.BLOCK)){r=i.editor.formatLine(t.index,t.length,Qn({},e,n))}else if(t.length===0){i.selection.format(e,n);return r}else{r=i.editor.formatText(t.index,t.length,Qn({},e,n))}i.setSelection(t,jn.sources.SILENT);return r},r)}},{key:"formatLine",value:function t(e,n,i,r,o){var a=this;var s=void 0;var l=oi(e,n,i,r,o);var u=Xn(l,4);e=u[0];n=u[1];s=u[2];o=u[3];return ri.call(this,function(){return a.editor.formatLine(e,n,s)},o,e,0)}},{key:"formatText",value:function t(e,n,i,r,o){var a=this;var s=void 0;var l=oi(e,n,i,r,o);var u=Xn(l,4);e=u[0];n=u[1];s=u[2];o=u[3];return ri.call(this,function(){return a.editor.formatText(e,n,s)},o,e,0)}},{key:"getBounds",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=void 0;if(typeof e==="number"){i=this.selection.getBounds(e,n)}else{i=this.selection.getBounds(e.index,e.length)}var r=this.container.getBoundingClientRect();return{bottom:i.bottom-r.top,height:i.height,left:i.left-r.left,right:i.right-r.left,top:i.top-r.top,width:i.width}}},{key:"getContents",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.getLength()-e;var i=oi(e,n);var r=Xn(i,2);e=r[0];n=r[1];return this.editor.getContents(e,n)}},{key:"getFormat",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getSelection(true);var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(typeof e==="number"){return this.editor.getFormat(e,n)}else{return this.editor.getFormat(e.index,e.length)}}},{key:"getIndex",value:function t(e){return e.offset(this.scroll)}},{key:"getLength",value:function t(){return this.scroll.length()}},{key:"getLeaf",value:function t(e){return this.scroll.leaf(e)}},{key:"getLine",value:function t(e){return this.scroll.line(e)}},{key:"getLines",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Number.MAX_VALUE;if(typeof e!=="number"){return this.scroll.lines(e.index,e.length)}else{return this.scroll.lines(e,n)}}},{key:"getModule",value:function t(e){return this.theme.modules[e]}},{key:"getSelection",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(e)this.focus();this.update();return this.selection.getRange()[0]}},{key:"getText",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.getLength()-e;var i=oi(e,n);var r=Xn(i,2);e=r[0];n=r[1];return this.editor.getText(e,n)}},{key:"hasFocus",value:function t(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function e(n,i,r){var o=this;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:t.sources.API;return ri.call(this,function(){return o.editor.insertEmbed(n,i,r)},a,n)}},{key:"insertText",value:function t(e,n,i,r,o){var a=this;var s=void 0;var l=oi(e,0,i,r,o);var u=Xn(l,4);e=u[0];s=u[2];o=u[3];return ri.call(this,function(){return a.editor.insertText(e,n,s)},o,e,n.length)}},{key:"isEnabled",value:function t(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function t(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function t(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function t(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function t(e,n,i){this.clipboard.dangerouslyPasteHTML(e,n,i)}},{key:"removeFormat",value:function t(e,n,i){var r=this;var o=oi(e,n,i);var a=Xn(o,4);e=a[0];n=a[1];i=a[3];return ri.call(this,function(){return r.editor.removeFormat(e,n)},i,e)}},{key:"scrollIntoView",value:function t(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function t(e){var n=this;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:jn.sources.API;return ri.call(this,function(){e=new ue.a(e);var t=n.getLength();var i=n.editor.deleteText(0,t);var r=n.editor.applyDelta(e);var o=r.ops[r.ops.length-1];if(o!=null&&typeof o.insert==="string"&&o.insert[o.insert.length-1]==="\n"){n.editor.deleteText(n.getLength()-1,1);r.delete(1)}var a=i.compose(r);return a},i)}},{key:"setSelection",value:function e(n,i,r){if(n==null){this.selection.setRange(null,i||t.sources.API)}else{var o=oi(n,i,r);var a=Xn(o,4);n=a[0];i=a[1];r=a[3];this.selection.setRange(new $n(n,i),r);if(r!==jn.sources.SILENT){this.selection.scrollIntoView(this.scrollingContainer)}}}},{key:"setText",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:jn.sources.API;var i=(new ue.a).insert(e);return this.setContents(i,n)}},{key:"update",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:jn.sources.USER;var n=this.scroll.update(e);this.selection.update(e);return n}},{key:"updateContents",value:function t(e){var n=this;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:jn.sources.API;return ri.call(this,function(){e=new ue.a(e);return n.editor.applyDelta(e,i)},i,true)}}]);return t}();ni.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:false,scrollingContainer:null,strict:true,theme:"default"};ni.events=jn.events;ni.sources=jn.sources;ni.version=typeof QUILL_VERSION==="undefined"?"dev":QUILL_VERSION;ni.imports={delta:ue.a,parchment:ae.a,"core/module":Rn,"core/theme":Kn};function ii(t,e){e=de()(true,{container:t,modules:{clipboard:true,keyboard:true,history:true}},e);if(!e.theme||e.theme===ni.DEFAULTS.theme){e.theme=Kn}else{e.theme=ni.import("themes/"+e.theme);if(e.theme==null){throw new Error("Invalid theme "+e.theme+". Did you register it?")}}var n=de()(true,{},e.theme.DEFAULTS);[n,e].forEach(function(t){t.modules=t.modules||{};Object.keys(t.modules).forEach(function(e){if(t.modules[e]===true){t.modules[e]={}}})});var i=Object.keys(n.modules).concat(Object.keys(e.modules));var r=i.reduce(function(t,e){var n=ni.import("modules/"+e);if(n==null){ei.error("Cannot load "+e+" module. Are you sure you registered it?")}else{t[e]=n.DEFAULTS||{}}return t},{});if(e.modules!=null&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object){e.modules.toolbar={container:e.modules.toolbar}}e=de()(true,{},ni.DEFAULTS,{modules:r},n,e);["bounds","container","scrollingContainer"].forEach(function(t){if(typeof e[t]==="string"){e[t]=document.querySelector(e[t])}});e.modules=Object.keys(e.modules).reduce(function(t,n){if(e.modules[n]){t[n]=e.modules[n]}return t},{});return e}function ri(t,e,n,i){if(this.options.strict&&!this.isEnabled()&&e===jn.sources.USER){return new ue.a}var r=n==null?null:this.getSelection();var o=this.editor.delta;var a=t();if(r!=null){if(n===true)n=r.index;if(i==null){r=ai(r,a,e)}else if(i!==0){r=ai(r,n,i,e)}this.setSelection(r,jn.sources.SILENT)}if(a.length()>0){var s;var l=[jn.events.TEXT_CHANGE,a,o,e];(s=this.emitter).emit.apply(s,[jn.events.EDITOR_CHANGE].concat(l));if(e!==jn.sources.SILENT){var u;(u=this.emitter).emit.apply(u,l)}}return a}function oi(t,e,n,i,r){var o={};if(typeof t.index==="number"&&typeof t.length==="number"){if(typeof e!=="number"){r=i,i=n,n=e,e=t.length,t=t.index}else{e=t.length,t=t.index}}else if(typeof e!=="number"){r=i,i=n,n=e,e=0}if((typeof n==="undefined"?"undefined":Yn(n))==="object"){o=n;r=i}else if(typeof n==="string"){if(i!=null){o[n]=i}else{r=n}}r=r||jn.sources.API;return[t,e,o,r]}function ai(t,e,n,i){if(t==null)return null;var r=void 0,o=void 0;if(e instanceof ue.a){var a=[t.index,t.index+t.length].map(function(t){return e.transformPosition(t,i!==jn.sources.USER)});var s=Xn(a,2);r=s[0];o=s[1]}else{var l=[t.index,t.index+t.length].map(function(t){if(t<e||t===e&&i===jn.sources.USER)return t;if(n>=0){return t+n}else{return Math.max(e,t+n)}});var u=Xn(l,2);r=u[0];o=u[1]}return new $n(r,o-r)}function si(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function li(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ui(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ci=function(t){ui(e,t);function e(){si(this,e);return li(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(ae.a.Container);ci.allowedChildren=[ze,Be,ci];var fi=ci;var hi=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var di=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function pi(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function vi(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function mi(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var gi="\ufeff";var yi=function(t){mi(e,t);function e(t){pi(this,e);var n=vi(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.contentNode=document.createElement("span");n.contentNode.setAttribute("contenteditable",false);[].slice.call(n.domNode.childNodes).forEach(function(t){n.contentNode.appendChild(t)});n.leftGuard=document.createTextNode(gi);n.rightGuard=document.createTextNode(gi);n.domNode.appendChild(n.leftGuard);n.domNode.appendChild(n.contentNode);n.domNode.appendChild(n.rightGuard);return n}hi(e,[{key:"index",value:function t(n,i){if(n===this.leftGuard)return 0;if(n===this.rightGuard)return 1;return di(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,n,i)}},{key:"restore",value:function t(e){var n=void 0,i=void 0;var r=e.data.split(gi).join("");if(e===this.leftGuard){if(this.prev instanceof ke){var o=this.prev.length();this.prev.insertAt(o,r);n={startNode:this.prev.domNode,startOffset:o+r.length}}else{i=document.createTextNode(r);this.parent.insertBefore(ae.a.create(i),this);n={startNode:i,startOffset:r.length}}}else if(e===this.rightGuard){if(this.next instanceof ke){this.next.insertAt(0,r);n={startNode:this.next.domNode,startOffset:r.length}}else{i=document.createTextNode(r);this.parent.insertBefore(ae.a.create(i),this.next);n={startNode:i,startOffset:r.length}}}e.data=gi;return n}},{key:"update",value:function t(e,n){var i=this;e.forEach(function(t){if(t.type==="characterData"&&(t.target===i.leftGuard||t.target===i.rightGuard)){var e=i.restore(t.target);if(e)n.range=e}})}}]);return e}(ae.a.Embed);var _i=yi;var bi=function(){function t(t,e){var n=[];var i=true;var r=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){r=true;o=t}finally{try{if(!i&&a["return"])a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var wi=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var xi=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function Ei(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Oi(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ki(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}function Ti(t){return t instanceof ze||t instanceof Be}var Ci=function(t){ki(e,t);function e(t,n){Ei(this,e);var i=Oi(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i.emitter=n.emitter;if(Array.isArray(n.whitelist)){i.whitelist=n.whitelist.reduce(function(t,e){t[e]=true;return t},{})}i.domNode.addEventListener("DOMNodeInserted",function(){});i.optimize();i.enable();return i}wi(e,[{key:"batchStart",value:function t(){this.batch=true}},{key:"batchEnd",value:function t(){this.batch=false;this.optimize()}},{key:"deleteAt",value:function t(n,i){var r=this.line(n),o=bi(r,2),a=o[0],s=o[1];var l=this.line(n+i),u=bi(l,1),c=u[0];xi(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,n,i);if(c!=null&&a!==c&&s>0){if(a instanceof Be||c instanceof Be){this.optimize();return}if(a instanceof Ke){var f=a.newlineIndex(a.length(),true);if(f>-1){a=a.split(f+1);if(a===c){this.optimize();return}}}else if(c instanceof Ke){var h=c.newlineIndex(0);if(h>-1){c.split(h+1)}}var d=c.children.head instanceof be?null:c.children.head;a.moveChildren(c,d);a.remove()}this.optimize()}},{key:"enable",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function t(n,i,r,o){if(this.whitelist!=null&&!this.whitelist[r])return;xi(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,n,i,r,o);this.optimize()}},{key:"insertAt",value:function t(n,i,r){if(r!=null&&this.whitelist!=null&&!this.whitelist[i])return;if(n>=this.length()){if(r==null||ae.a.query(i,ae.a.Scope.BLOCK)==null){var o=ae.a.create(this.statics.defaultChild);this.appendChild(o);if(r==null&&i.endsWith("\n")){i=i.slice(0,-1)}o.insertAt(0,i,r)}else{var a=ae.a.create(i,r);this.appendChild(a)}}else{xi(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,n,i,r)}this.optimize()}},{key:"insertBefore",value:function t(n,i){if(n.statics.scope===ae.a.Scope.INLINE_BLOT){var r=ae.a.create(this.statics.defaultChild);r.appendChild(n);n=r}xi(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,n,i)}},{key:"leaf",value:function t(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function t(e){if(e===this.length()){return this.line(e-1)}return this.descendant(Ti,e)}},{key:"lines",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Number.MAX_VALUE;var i=function t(e,n,i){var r=[],o=i;e.children.forEachAt(n,i,function(e,n,i){if(Ti(e)){r.push(e)}else if(e instanceof ae.a.Container){r=r.concat(t(e,n,o))}o-=i});return r};return i(this,e,n)}},{key:"optimize",value:function t(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.batch===true)return;xi(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,n,i);if(n.length>0){this.emitter.emit(jn.events.SCROLL_OPTIMIZE,n,i)}}},{key:"path",value:function t(n){return xi(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,n).slice(1)}},{key:"update",value:function t(n){if(this.batch===true)return;var i=jn.sources.USER;if(typeof n==="string"){i=n}if(!Array.isArray(n)){n=this.observer.takeRecords()}if(n.length>0){this.emitter.emit(jn.events.SCROLL_BEFORE_UPDATE,i,n)}xi(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,n.concat([]));if(n.length>0){this.emitter.emit(jn.events.SCROLL_UPDATE,i,n)}}}]);return e}(ae.a.Scroll);Ci.blotName="scroll";Ci.className="ql-editor";Ci.tagName="DIV";Ci.defaultChild="block";Ci.allowedChildren=[ze,Be,fi];var Li=Ci;var Ai={scope:ae.a.Scope.BLOCK,whitelist:["right","center","justify"]};var Si=new ae.a.Attributor.Attribute("align","align",Ai);var Pi=new ae.a.Attributor.Class("align","ql-align",Ai);var Ni=new ae.a.Attributor.Style("align","text-align",Ai);var Mi=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var ji=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function Ii(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Di(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ri(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var qi=function(t){Ri(e,t);function e(){Ii(this,e);return Di(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Mi(e,[{key:"value",value:function t(n){var t=ji(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,n);if(!t.startsWith("rgb("))return t;t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");return"#"+t.split(",").map(function(t){return("00"+parseInt(t).toString(16)).slice(-2)}).join("")}}]);return e}(ae.a.Attributor.Style);var Bi=new ae.a.Attributor.Class("color","ql-color",{scope:ae.a.Scope.INLINE});var zi=new qi("color","color",{scope:ae.a.Scope.INLINE});var Fi=new ae.a.Attributor.Class("background","ql-bg",{scope:ae.a.Scope.INLINE});var Ui=new qi("background","background-color",{scope:ae.a.Scope.INLINE});var $i={scope:ae.a.Scope.BLOCK,whitelist:["rtl"]};var Hi=new ae.a.Attributor.Attribute("direction","dir",$i);var Zi=new ae.a.Attributor.Class("direction","ql-direction",$i);var Vi=new ae.a.Attributor.Style("direction","direction",$i);var Wi=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var Gi=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function Ki(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Yi(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Xi(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ji={scope:ae.a.Scope.INLINE,whitelist:["serif","monospace"]};var Qi=new ae.a.Attributor.Class("font","ql-font",Ji);var tr=function(t){Xi(e,t);function e(){Ki(this,e);return Yi(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Wi(e,[{key:"value",value:function t(n){return Gi(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,n).replace(/["']/g,"")}}]);return e}(ae.a.Attributor.Style);var er=new tr("font","font-family",Ji);var nr=new ae.a.Attributor.Class("size","ql-size",{scope:ae.a.Scope.INLINE,whitelist:["small","large","huge"]});var ir=new ae.a.Attributor.Style("size","font-size",{scope:ae.a.Scope.INLINE,whitelist:["10px","18px","32px"]});var rr=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var or=function(){function t(t,e){var n=[];var i=true;var r=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){r=true;o=t}finally{try{if(!i&&a["return"])a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var ar=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function sr(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function lr(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ur(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function cr(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var fr=kn("quill:clipboard");var hr="__ql-matcher";var dr=[[Node.TEXT_NODE,Pr],[Node.TEXT_NODE,Lr],["br",kr],[Node.ELEMENT_NODE,Lr],[Node.ELEMENT_NODE,Or],[Node.ELEMENT_NODE,Ar],[Node.ELEMENT_NODE,Er],[Node.ELEMENT_NODE,Sr],["li",Cr],["b",xr.bind(xr,"bold")],["i",xr.bind(xr,"italic")],["style",Tr]];var pr=[Si,Hi].reduce(function(t,e){t[e.keyName]=e;return t},{});var vr=[Ni,Ui,zi,Vi,er,ir].reduce(function(t,e){t[e.keyName]=e;return t},{});var mr=function(t){cr(e,t);function e(t,n){lr(this,e);var i=ur(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.quill.root.addEventListener("paste",i.onPaste.bind(i));i.container=i.quill.addContainer("ql-clipboard");i.container.setAttribute("contenteditable",true);i.container.setAttribute("tabindex",-1);i.matchers=[];dr.concat(i.options.matchers).forEach(function(t){var e=or(t,2),r=e[0],o=e[1];if(!n.matchVisual&&o===Ar)return;i.addMatcher(r,o)});return i}ar(e,[{key:"addMatcher",value:function t(e,n){this.matchers.push([e,n])}},{key:"convert",value:function t(e){if(typeof e==="string"){this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><");return this.convert()}var n=this.quill.getFormat(this.quill.selection.savedRange.index);if(n[Ke.blotName]){var i=this.container.innerText;this.container.innerHTML="";return(new ue.a).insert(i,sr({},Ke.blotName,n[Ke.blotName]))}var r=this.prepareMatching(),o=or(r,2),a=o[0],s=o[1];var l=wr(this.container,a,s);if(_r(l,"\n")&&l.ops[l.ops.length-1].attributes==null){l=l.compose((new ue.a).retain(l.length()-1).delete(1))}fr.log("convert",this.container.innerHTML,l);this.container.innerHTML="";return l}},{key:"dangerouslyPasteHTML",value:function t(e,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:ni.sources.API;if(typeof e==="string"){this.quill.setContents(this.convert(e),n);this.quill.setSelection(0,ni.sources.SILENT)}else{var r=this.convert(n);this.quill.updateContents((new ue.a).retain(e).concat(r),i);this.quill.setSelection(e+r.length(),ni.sources.SILENT)}}},{key:"onPaste",value:function t(e){var n=this;if(e.defaultPrevented||!this.quill.isEnabled())return;var i=this.quill.getSelection();var r=(new ue.a).retain(i.index);var o=this.quill.scrollingContainer.scrollTop;this.container.focus();this.quill.selection.update(ni.sources.SILENT);setTimeout(function(){r=r.concat(n.convert()).delete(i.length);n.quill.updateContents(r,ni.sources.USER);n.quill.setSelection(r.length()-i.length,ni.sources.SILENT);n.quill.scrollingContainer.scrollTop=o;n.quill.focus()},1)}},{key:"prepareMatching",value:function t(){var e=this;var n=[],i=[];this.matchers.forEach(function(t){var r=or(t,2),o=r[0],a=r[1];switch(o){case Node.TEXT_NODE:i.push(a);break;case Node.ELEMENT_NODE:n.push(a);break;default:[].forEach.call(e.container.querySelectorAll(o),function(t){t[hr]=t[hr]||[];t[hr].push(a)});break}});return[n,i]}}]);return e}(Rn);mr.DEFAULTS={matchers:[],matchVisual:true};function gr(t,e,n){if((typeof e==="undefined"?"undefined":rr(e))==="object"){return Object.keys(e).reduce(function(t,n){return gr(t,n,e[n])},t)}else{return t.reduce(function(t,i){if(i.attributes&&i.attributes[e]){return t.push(i)}else{return t.insert(i.insert,de()({},sr({},e,n),i.attributes))}},new ue.a)}}function yr(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};var e="__ql-computed-style";return t[e]||(t[e]=window.getComputedStyle(t))}function _r(t,e){var n="";for(var i=t.ops.length-1;i>=0&&n.length<e.length;--i){var r=t.ops[i];if(typeof r.insert!=="string")break;n=r.insert+n}return n.slice(-1*e.length)===e}function br(t){if(t.childNodes.length===0)return false;var e=yr(t);return["block","list-item"].indexOf(e.display)>-1}function wr(t,e,n){if(t.nodeType===t.TEXT_NODE){return n.reduce(function(e,n){return n(t,e)},new ue.a)}else if(t.nodeType===t.ELEMENT_NODE){return[].reduce.call(t.childNodes||[],function(i,r){var o=wr(r,e,n);if(r.nodeType===t.ELEMENT_NODE){o=e.reduce(function(t,e){return e(r,t)},o);o=(r[hr]||[]).reduce(function(t,e){return e(r,t)},o)}return i.concat(o)},new ue.a)}else{return new ue.a}}function xr(t,e,n){return gr(n,t,true)}function Er(t,e){var n=ae.a.Attributor.Attribute.keys(t);var i=ae.a.Attributor.Class.keys(t);var r=ae.a.Attributor.Style.keys(t);var o={};n.concat(i).concat(r).forEach(function(e){var n=ae.a.query(e,ae.a.Scope.ATTRIBUTE);if(n!=null){o[n.attrName]=n.value(t);if(o[n.attrName])return}n=pr[e];if(n!=null&&(n.attrName===e||n.keyName===e)){o[n.attrName]=n.value(t)||undefined}n=vr[e];if(n!=null&&(n.attrName===e||n.keyName===e)){n=vr[e];o[n.attrName]=n.value(t)||undefined}});if(Object.keys(o).length>0){e=gr(e,o)}return e}function Or(t,e){var n=ae.a.query(t);if(n==null)return e;if(n.prototype instanceof ae.a.Embed){var i={};var r=n.value(t);if(r!=null){i[n.blotName]=r;e=(new ue.a).insert(i,n.formats(t))}}else if(typeof n.formats==="function"){e=gr(e,n.blotName,n.formats(t))}return e}function kr(t,e){if(!_r(e,"\n")){e.insert("\n")}return e}function Tr(){return new ue.a}function Cr(t,e){var n=ae.a.query(t);if(n==null||n.blotName!=="list-item"||!_r(e,"\n")){return e}var i=-1,r=t.parentNode;while(!r.classList.contains("ql-clipboard")){if((ae.a.query(r)||{}).blotName==="list"){i+=1}r=r.parentNode}if(i<=0)return e;return e.compose((new ue.a).retain(e.length()-1).retain(1,{indent:i}))}function Lr(t,e){if(!_r(e,"\n")){if(br(t)||e.length()>0&&t.nextSibling&&br(t.nextSibling)){e.insert("\n")}}return e}function Ar(t,e){if(br(t)&&t.nextElementSibling!=null&&!_r(e,"\n\n")){var n=t.offsetHeight+parseFloat(yr(t).marginTop)+parseFloat(yr(t).marginBottom);if(t.nextElementSibling.offsetTop>t.offsetTop+n*1.5){e.insert("\n")}}return e}function Sr(t,e){var n={};var i=t.style||{};if(i.fontStyle&&yr(t).fontStyle==="italic"){n.italic=true}if(i.fontWeight&&(yr(t).fontWeight.startsWith("bold")||parseInt(yr(t).fontWeight)>=700)){n.bold=true}if(Object.keys(n).length>0){e=gr(e,n)}if(parseFloat(i.textIndent||0)>0){e=(new ue.a).insert("\t").concat(e)}return e}function Pr(t,e){var n=t.data;if(t.parentNode.tagName==="O:P"){return e.insert(n.trim())}if(n.trim().length===0&&t.parentNode.classList.contains("ql-clipboard")){return e}if(!yr(t.parentNode).whiteSpace.startsWith("pre")){var i=function t(e,n){n=n.replace(/[^\u00a0]/g,"");return n.length<1&&e?" ":n};n=n.replace(/\r\n/g," ").replace(/\n/g," ");n=n.replace(/\s\s+/g,i.bind(i,true));if(t.previousSibling==null&&br(t.parentNode)||t.previousSibling!=null&&br(t.previousSibling)){n=n.replace(/^\s+/,i.bind(i,false))}if(t.nextSibling==null&&br(t.parentNode)||t.nextSibling!=null&&br(t.nextSibling)){n=n.replace(/\s+$/,i.bind(i,false))}}return e.insert(n)}var Nr=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function Mr(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function jr(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ir(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Dr=function(t){Ir(e,t);function e(t,n){Mr(this,e);var i=jr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.lastRecorded=0;i.ignoreChange=false;i.clear();i.quill.on(ni.events.EDITOR_CHANGE,function(t,e,n,r){if(t!==ni.events.TEXT_CHANGE||i.ignoreChange)return;if(!i.options.userOnly||r===ni.sources.USER){i.record(e,n)}else{i.transform(e)}});i.quill.keyboard.addBinding({key:"Z",shortKey:true},i.undo.bind(i));i.quill.keyboard.addBinding({key:"Z",shortKey:true,shiftKey:true},i.redo.bind(i));if(/Win/i.test(navigator.platform)){i.quill.keyboard.addBinding({key:"Y",shortKey:true},i.redo.bind(i))}return i}Nr(e,[{key:"change",value:function t(e,n){if(this.stack[e].length===0)return;var i=this.stack[e].pop();this.stack[n].push(i);this.lastRecorded=0;this.ignoreChange=true;this.quill.updateContents(i[e],ni.sources.USER);this.ignoreChange=false;var r=qr(i[e]);this.quill.setSelection(r)}},{key:"clear",value:function t(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function t(){this.lastRecorded=0}},{key:"record",value:function t(e,n){if(e.ops.length===0)return;this.stack.redo=[];var i=this.quill.getContents().diff(n);var r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var o=this.stack.undo.pop();i=i.compose(o.undo);e=o.redo.compose(e)}else{this.lastRecorded=r}this.stack.undo.push({redo:e,undo:i});if(this.stack.undo.length>this.options.maxStack){this.stack.undo.shift()}}},{key:"redo",value:function t(){this.change("redo","undo")}},{key:"transform",value:function t(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,true);t.redo=e.transform(t.redo,true)});this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,true);t.redo=e.transform(t.redo,true)})}},{key:"undo",value:function t(){this.change("undo","redo")}}]);return e}(Rn);Dr.DEFAULTS={delay:1e3,maxStack:100,userOnly:false};function Rr(t){var e=t.ops[t.ops.length-1];if(e==null)return false;if(e.insert!=null){return typeof e.insert==="string"&&e.insert.endsWith("\n")}if(e.attributes!=null){return Object.keys(e.attributes).some(function(t){return ae.a.query(t,ae.a.Scope.BLOCK)!=null})}return false}function qr(t){var e=t.reduce(function(t,e){t+=e.delete||0;return t},0);var n=t.length()-e;if(Rr(t)){n-=1}return n}var Br=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var zr=function(){function t(t,e){var n=[];var i=true;var r=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){r=true;o=t}finally{try{if(!i&&a["return"])a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var Fr=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function Ur(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function $r(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Hr(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Zr(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Vr=kn("quill:keyboard");var Wr=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";var Gr=function(t){Zr(e,t);Fr(e,null,[{key:"match",value:function t(e,n){n=no(n);if(["altKey","ctrlKey","metaKey","shiftKey"].some(function(t){return!!n[t]!==e[t]&&n[t]!==null})){return false}return n.key===(e.which||e.keyCode)}}]);function e(t,n){$r(this,e);var i=Hr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.bindings={};Object.keys(i.options.bindings).forEach(function(e){if(e==="list autofill"&&t.scroll.whitelist!=null&&!t.scroll.whitelist["list"]){return}if(i.options.bindings[e]){i.addBinding(i.options.bindings[e])}});i.addBinding({key:e.keys.ENTER,shiftKey:null},Qr);i.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){});if(/Firefox/i.test(navigator.userAgent)){i.addBinding({key:e.keys.BACKSPACE},{collapsed:true},Yr);i.addBinding({key:e.keys.DELETE},{collapsed:true},Xr)}else{i.addBinding({key:e.keys.BACKSPACE},{collapsed:true,prefix:/^.?$/},Yr);i.addBinding({key:e.keys.DELETE},{collapsed:true,suffix:/^.?$/},Xr)}i.addBinding({key:e.keys.BACKSPACE},{collapsed:false},Jr);i.addBinding({key:e.keys.DELETE},{collapsed:false},Jr);i.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:true,offset:0},Yr);i.listen();return i}Fr(e,[{key:"addBinding",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var r=no(e);if(r==null||r.key==null){return Vr.warn("Attempted to add invalid keyboard binding",r)}if(typeof n==="function"){n={handler:n}}if(typeof i==="function"){i={handler:i}}r=de()(r,n,i);this.bindings[r.key]=this.bindings[r.key]||[];this.bindings[r.key].push(r)}},{key:"listen",value:function t(){var n=this;this.quill.root.addEventListener("keydown",function(t){if(t.defaultPrevented)return;var i=t.which||t.keyCode;var r=(n.bindings[i]||[]).filter(function(n){return e.match(t,n)});if(r.length===0)return;var o=n.quill.getSelection();if(o==null||!n.quill.hasFocus())return;var a=n.quill.getLine(o.index),s=zr(a,2),l=s[0],u=s[1];var c=n.quill.getLeaf(o.index),f=zr(c,2),h=f[0],d=f[1];var p=o.length===0?[h,d]:n.quill.getLeaf(o.index+o.length),v=zr(p,2),m=v[0],g=v[1];var y=h instanceof ae.a.Text?h.value().slice(0,d):"";var _=m instanceof ae.a.Text?m.value().slice(g):"";var b={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:n.quill.getFormat(o),offset:u,prefix:y,suffix:_};var w=r.some(function(t){if(t.collapsed!=null&&t.collapsed!==b.collapsed)return false;if(t.empty!=null&&t.empty!==b.empty)return false;if(t.offset!=null&&t.offset!==b.offset)return false;if(Array.isArray(t.format)){if(t.format.every(function(t){return b.format[t]==null})){return false}}else if(Br(t.format)==="object"){if(!Object.keys(t.format).every(function(e){if(t.format[e]===true)return b.format[e]!=null;if(t.format[e]===false)return b.format[e]==null;return ln()(t.format[e],b.format[e])})){return false}}if(t.prefix!=null&&!t.prefix.test(b.prefix))return false;if(t.suffix!=null&&!t.suffix.test(b.suffix))return false;return t.handler.call(n,o,b)!==true});if(w){t.preventDefault()}})}}]);return e}(Rn);Gr.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};Gr.DEFAULTS={bindings:{bold:eo("bold"),italic:eo("italic"),underline:eo("underline"),indent:{key:Gr.keys.TAB,format:["blockquote","indent","list"],handler:function t(e,n){if(n.collapsed&&n.offset!==0)return true;this.quill.format("indent","+1",ni.sources.USER)}},outdent:{key:Gr.keys.TAB,shiftKey:true,format:["blockquote","indent","list"],handler:function t(e,n){if(n.collapsed&&n.offset!==0)return true;this.quill.format("indent","-1",ni.sources.USER)}},"outdent backspace":{key:Gr.keys.BACKSPACE,collapsed:true,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function t(e,n){if(n.format.indent!=null){this.quill.format("indent","-1",ni.sources.USER)}else if(n.format.list!=null){this.quill.format("list",false,ni.sources.USER)}}},"indent code-block":to(true),"outdent code-block":to(false),"remove tab":{key:Gr.keys.TAB,shiftKey:true,collapsed:true,prefix:/\t$/,handler:function t(e){this.quill.deleteText(e.index-1,1,ni.sources.USER)}},tab:{key:Gr.keys.TAB,handler:function t(e){this.quill.history.cutoff();var n=(new ue.a).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(n,ni.sources.USER);this.quill.history.cutoff();this.quill.setSelection(e.index+1,ni.sources.SILENT)}},"list empty enter":{key:Gr.keys.ENTER,collapsed:true,format:["list"],empty:true,handler:function t(e,n){this.quill.format("list",false,ni.sources.USER);if(n.format.indent){this.quill.format("indent",false,ni.sources.USER)}}},"checklist enter":{key:Gr.keys.ENTER,collapsed:true,format:{list:"checked"},handler:function t(e){var n=this.quill.getLine(e.index),i=zr(n,2),r=i[0],o=i[1];var a=de()({},r.formats(),{list:"checked"});var s=(new ue.a).retain(e.index).insert("\n",a).retain(r.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,ni.sources.USER);this.quill.setSelection(e.index+1,ni.sources.SILENT);this.quill.scrollIntoView()}},"header enter":{key:Gr.keys.ENTER,collapsed:true,format:["header"],suffix:/^$/,handler:function t(e,n){var i=this.quill.getLine(e.index),r=zr(i,2),o=r[0],a=r[1];var s=(new ue.a).retain(e.index).insert("\n",n.format).retain(o.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,ni.sources.USER);this.quill.setSelection(e.index+1,ni.sources.SILENT);this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:true,format:{list:false},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function t(e,n){var i=n.prefix.length;var r=this.quill.getLine(e.index),o=zr(r,2),a=o[0],s=o[1];if(s>i)return true;var l=void 0;switch(n.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",ni.sources.USER);this.quill.history.cutoff();var u=(new ue.a).retain(e.index-s).delete(i+1).retain(a.length()-2-s).retain(1,{list:l});this.quill.updateContents(u,ni.sources.USER);this.quill.history.cutoff();this.quill.setSelection(e.index-i,ni.sources.SILENT)}},"code exit":{key:Gr.keys.ENTER,collapsed:true,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function t(e){var n=this.quill.getLine(e.index),i=zr(n,2),r=i[0],o=i[1];var a=(new ue.a).retain(e.index+r.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,ni.sources.USER)}},"embed left":Kr(Gr.keys.LEFT,false),"embed left shift":Kr(Gr.keys.LEFT,true),"embed right":Kr(Gr.keys.RIGHT,false),"embed right shift":Kr(Gr.keys.RIGHT,true)}};function Kr(t,e){var n;var i=t===Gr.keys.LEFT?"prefix":"suffix";return n={key:t,shiftKey:e,altKey:null},Ur(n,i,/^$/),Ur(n,"handler",function n(i){var r=i.index;if(t===Gr.keys.RIGHT){r+=i.length+1}var o=this.quill.getLeaf(r),a=zr(o,1),s=a[0];if(!(s instanceof ae.a.Embed))return true;if(t===Gr.keys.LEFT){if(e){this.quill.setSelection(i.index-1,i.length+1,ni.sources.USER)}else{this.quill.setSelection(i.index-1,ni.sources.USER)}}else{if(e){this.quill.setSelection(i.index,i.length+1,ni.sources.USER)}else{this.quill.setSelection(i.index+i.length+1,ni.sources.USER)}}return false}),n}function Yr(t,e){if(t.index===0||this.quill.getLength()<=1)return;var n=this.quill.getLine(t.index),i=zr(n,1),r=i[0];var o={};if(e.offset===0){var a=this.quill.getLine(t.index-1),s=zr(a,1),l=s[0];if(l!=null&&l.length()>1){var u=r.formats();var c=this.quill.getFormat(t.index-1,1);o=fe.a.attributes.diff(u,c)||{}}}var f=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-f,f,ni.sources.USER);if(Object.keys(o).length>0){this.quill.formatLine(t.index-f,f,o,ni.sources.USER)}this.quill.focus()}function Xr(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;var i={},r=0;var o=this.quill.getLine(t.index),a=zr(o,1),s=a[0];if(e.offset>=s.length()-1){var l=this.quill.getLine(t.index+1),u=zr(l,1),c=u[0];if(c){var f=s.formats();var h=this.quill.getFormat(t.index,1);i=fe.a.attributes.diff(f,h)||{};r=c.length()}}this.quill.deleteText(t.index,n,ni.sources.USER);if(Object.keys(i).length>0){this.quill.formatLine(t.index+r-1,n,i,ni.sources.USER)}}function Jr(t){var e=this.quill.getLines(t);var n={};if(e.length>1){var i=e[0].formats();var r=e[e.length-1].formats();n=fe.a.attributes.diff(r,i)||{}}this.quill.deleteText(t,ni.sources.USER);if(Object.keys(n).length>0){this.quill.formatLine(t.index,1,n,ni.sources.USER)}this.quill.setSelection(t.index,ni.sources.SILENT);this.quill.focus()}function Qr(t,e){var n=this;if(t.length>0){this.quill.scroll.deleteAt(t.index,t.length)}var i=Object.keys(e.format).reduce(function(t,n){if(ae.a.query(n,ae.a.Scope.BLOCK)&&!Array.isArray(e.format[n])){t[n]=e.format[n]}return t},{});this.quill.insertText(t.index,"\n",i,ni.sources.USER);this.quill.setSelection(t.index+1,ni.sources.SILENT);this.quill.focus();Object.keys(e.format).forEach(function(t){if(i[t]!=null)return;if(Array.isArray(e.format[t]))return;if(t==="link")return;n.quill.format(t,e.format[t],ni.sources.USER)})}function to(t){return{key:Gr.keys.TAB,shiftKey:!t,format:{"code-block":true},handler:function e(n){var i=ae.a.query("code-block");var r=n.index,o=n.length;var a=this.quill.scroll.descendant(i,r),s=zr(a,2),l=s[0],u=s[1];if(l==null)return;var c=this.quill.getIndex(l);var f=l.newlineIndex(u,true)+1;var h=l.newlineIndex(c+u+o);var d=l.domNode.textContent.slice(f,h).split("\n");u=0;d.forEach(function(e,n){if(t){l.insertAt(f+u,i.TAB);u+=i.TAB.length;if(n===0){r+=i.TAB.length}else{o+=i.TAB.length}}else if(e.startsWith(i.TAB)){l.deleteAt(f+u,i.TAB.length);u-=i.TAB.length;if(n===0){r-=i.TAB.length}else{o-=i.TAB.length}}u+=e.length+1});this.quill.update(ni.sources.USER);this.quill.setSelection(r,o,ni.sources.SILENT)}}}function eo(t){return{key:t[0].toUpperCase(),shortKey:true,handler:function e(n,i){this.quill.format(t,!i.format[t],ni.sources.USER)}}}function no(t){if(typeof t==="string"||typeof t==="number"){return no({key:t})}if((typeof t==="undefined"?"undefined":Br(t))==="object"){t=an()(t,false)}if(typeof t.key==="string"){if(Gr.keys[t.key.toUpperCase()]!=null){t.key=Gr.keys[t.key.toUpperCase()]}else if(t.key.length===1){t.key=t.key.toUpperCase().charCodeAt(0)}else{return null}}if(t.shortKey){t[Wr]=t.shortKey;delete t.shortKey}return t}ni.register({"blots/block":ze,"blots/block/embed":Be,"blots/break":be,"blots/container":fi,"blots/cursor":rn,"blots/embed":_i,"blots/inline":Ne,"blots/scroll":Li,"blots/text":ke,"modules/clipboard":mr,"modules/history":Dr,"modules/keyboard":Gr});ae.a.register(ze,be,rn,Ne,Li,ke);var io=ni;var ro=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var oo=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function ao(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function so(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function lo(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var uo=function(t){lo(e,t);function e(){ao(this,e);return so(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}ro(e,[{key:"add",value:function t(n,i){if(i==="+1"||i==="-1"){var r=this.value(n)||0;i=i==="+1"?r+1:r-1}if(i===0){this.remove(n);return true}else{return oo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,n,i)}}},{key:"canAdd",value:function t(n,i){return oo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,n,i)||oo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,n,parseInt(i))}},{key:"value",value:function t(n){return parseInt(oo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,n))||undefined}}]);return e}(ae.a.Attributor.Class);var co=new uo("indent","ql-indent",{scope:ae.a.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});function fo(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ho(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function po(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var vo=function(t){po(e,t);function e(){fo(this,e);return ho(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(ze);vo.blotName="blockquote";vo.tagName="blockquote";var mo=vo;var go=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function yo(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function _o(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function bo(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var wo=function(t){bo(e,t);function e(){yo(this,e);return _o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}go(e,null,[{key:"formats",value:function t(e){return this.tagName.indexOf(e.tagName)+1}}]);return e}(ze);wo.blotName="header";wo.tagName=["H1","H2","H3","H4","H5","H6"];var xo=wo;var Eo=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var Oo=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function ko(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function To(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Co(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Lo(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ao=function(t){Lo(e,t);function e(){To(this,e);return Co(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Eo(e,[{key:"format",value:function t(n,i){if(n===So.blotName&&!i){this.replaceWith(ae.a.create(this.statics.scope))}else{Oo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,i)}}},{key:"remove",value:function t(){if(this.prev==null&&this.next==null){this.parent.remove()}else{Oo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}}},{key:"replaceWith",value:function t(n,i){this.parent.isolate(this.offset(this.parent),this.length());if(n===this.parent.statics.blotName){this.parent.replaceWith(n,i);return this}else{this.parent.unwrap();return Oo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,n,i)}}}],[{key:"formats",value:function t(n){return n.tagName===this.tagName?undefined:Oo(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,n)}}]);return e}(ze);Ao.blotName="list-item";Ao.tagName="LI";var So=function(t){Lo(e,t);Eo(e,null,[{key:"create",value:function t(n){var i=n==="ordered"?"OL":"UL";var r=Oo(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,i);if(n==="checked"||n==="unchecked"){r.setAttribute("data-checked",n==="checked")}return r}},{key:"formats",value:function t(e){if(e.tagName==="OL")return"ordered";if(e.tagName==="UL"){if(e.hasAttribute("data-checked")){return e.getAttribute("data-checked")==="true"?"checked":"unchecked"}else{return"bullet"}}return undefined}}]);function e(t){To(this,e);var n=Co(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));var i=function e(i){if(i.target.parentNode!==t)return;var r=n.statics.formats(t);var o=ae.a.find(i.target);if(r==="checked"){o.format("list","unchecked")}else if(r==="unchecked"){o.format("list","checked")}};t.addEventListener("touchstart",i);t.addEventListener("mousedown",i);return n}Eo(e,[{key:"format",value:function t(e,n){if(this.children.length>0){this.children.tail.format(e,n)}}},{key:"formats",value:function t(){return ko({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function t(n,i){if(n instanceof Ao){Oo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,n,i)}else{var r=i==null?this.length():i.offset(this);var o=this.split(r);o.parent.insertBefore(n,o)}}},{key:"optimize",value:function t(n){Oo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,n);var i=this.next;if(i!=null&&i.prev===this&&i.statics.blotName===this.statics.blotName&&i.domNode.tagName===this.domNode.tagName&&i.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")){i.moveChildren(this);i.remove()}}},{key:"replace",value:function t(n){if(n.statics.blotName!==this.statics.blotName){var i=ae.a.create(this.statics.defaultChild);n.moveChildren(i);this.appendChild(i)}Oo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,n)}}]);return e}(fi);So.blotName="list";So.scope=ae.a.Scope.BLOCK_BLOT;So.tagName=["OL","UL"];So.defaultChild="list-item";So.allowedChildren=[Ao];var Po=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var No=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function Mo(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function jo(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Io(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Do=function(t){Io(e,t);function e(){Mo(this,e);return jo(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Po(e,[{key:"optimize",value:function t(n){No(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,n);if(this.domNode.tagName!==this.statics.tagName[0]){this.replaceWith(this.statics.blotName)}}}],[{key:"create",value:function t(){return No(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function t(){return true}}]);return e}(Ne);Do.blotName="bold";Do.tagName=["STRONG","B"];var Ro=Do;function qo(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Bo(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function zo(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Fo=function(t){zo(e,t);function e(){qo(this,e);return Bo(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Ro);Fo.blotName="italic";Fo.tagName=["EM","I"];var Uo=Fo;var $o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var Ho=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function Zo(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Vo(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Wo(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Go=function(t){Wo(e,t);function e(){Zo(this,e);return Vo(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}$o(e,[{key:"format",value:function t(n,i){if(n!==this.statics.blotName||!i)return Ho(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,i);i=this.constructor.sanitize(i);this.domNode.setAttribute("href",i)}}],[{key:"create",value:function t(n){var i=Ho(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);n=this.sanitize(n);i.setAttribute("href",n);i.setAttribute("target","_blank");return i}},{key:"formats",value:function t(e){return e.getAttribute("href")}},{key:"sanitize",value:function t(e){return Ko(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]);return e}(Ne);Go.blotName="link";Go.tagName="A";Go.SANITIZED_URL="about:blank";Go.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function Ko(t,e){var n=document.createElement("a");n.href=t;var i=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(i)>-1}var Yo=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var Xo=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function Jo(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Qo(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ta(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ea=function(t){ta(e,t);function e(){Jo(this,e);return Qo(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Yo(e,null,[{key:"create",value:function t(n){if(n==="super"){return document.createElement("sup")}else if(n==="sub"){return document.createElement("sub")}else{return Xo(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n)}}},{key:"formats",value:function t(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super";return undefined}}]);return e}(Ne);ea.blotName="script";ea.tagName=["SUB","SUP"];var na=ea;function ia(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ra(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function oa(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var aa=function(t){oa(e,t);function e(){ia(this,e);return ra(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Ne);aa.blotName="strike";aa.tagName="S";var sa=aa;function la(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ua(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ca(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var fa=function(t){ca(e,t);function e(){la(this,e);return ua(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Ne);fa.blotName="underline";fa.tagName="U";var ha=fa;var da=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var pa=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function va(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ma(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ga(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ya=["alt","height","width"];var _a=function(t){ga(e,t);function e(){va(this,e);return ma(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}da(e,[{key:"format",value:function t(n,i){if(ya.indexOf(n)>-1){if(i){this.domNode.setAttribute(n,i)}else{this.domNode.removeAttribute(n)}}else{pa(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,i)}}}],[{key:"create",value:function t(n){var i=pa(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);if(typeof n==="string"){i.setAttribute("src",this.sanitize(n))}return i}},{key:"formats",value:function t(e){return ya.reduce(function(t,n){if(e.hasAttribute(n)){t[n]=e.getAttribute(n)}return t},{})}},{key:"match",value:function t(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function t(e){return Ko(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function t(e){return e.getAttribute("src")}}]);return e}(ae.a.Embed);_a.blotName="image";_a.tagName="IMG";var ba=_a;var wa=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var xa=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function Ea(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Oa(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ka(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ta=["height","width"];var Ca=function(t){ka(e,t);function e(){Ea(this,e);return Oa(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}wa(e,[{key:"format",value:function t(n,i){if(Ta.indexOf(n)>-1){if(i){this.domNode.setAttribute(n,i)}else{this.domNode.removeAttribute(n)}}else{xa(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,i)}}}],[{key:"create",value:function t(n){var i=xa(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);i.setAttribute("frameborder","0");i.setAttribute("allowfullscreen",true);i.setAttribute("src",this.sanitize(n));return i}},{key:"formats",value:function t(e){return Ta.reduce(function(t,n){if(e.hasAttribute(n)){t[n]=e.getAttribute(n)}return t},{})}},{key:"sanitize",value:function t(e){return Go.sanitize(e)}},{key:"value",value:function t(e){return e.getAttribute("src")}}]);return e}(Be);Ca.blotName="video";Ca.className="ql-video";Ca.tagName="IFRAME";var La=Ca;var Aa=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var Sa=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function Pa(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Na(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ma(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ja=function(t){Ma(e,t);function e(){Pa(this,e);return Na(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Aa(e,null,[{key:"create",value:function t(n){var i=Sa(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);if(typeof n==="string"){window.katex.render(n,i,{throwOnError:false,errorColor:"#f00"});i.setAttribute("data-value",n)}return i}},{key:"value",value:function t(e){return e.getAttribute("data-value")}}]);return e}(_i);ja.blotName="formula";ja.className="ql-formula";ja.tagName="SPAN";var Ia=function(t){Ma(e,t);Aa(e,null,[{key:"register",value:function t(){ni.register(ja,true)}}]);function e(){Pa(this,e);var t=Na(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(window.katex==null){throw new Error("Formula module requires KaTeX.")}return t}return e}(Rn);var Da=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var Ra=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function qa(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ba(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function za(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Fa=function(t){za(e,t);function e(){qa(this,e);return Ba(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Da(e,[{key:"replaceWith",value:function t(n){this.domNode.textContent=this.domNode.textContent;this.attach();Ra(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,n)}},{key:"highlight",value:function t(e){var n=this.domNode.textContent;if(this.cachedText!==n){if(n.trim().length>0||this.cachedText==null){this.domNode.innerHTML=e(n);this.domNode.normalize();this.attach()}this.cachedText=n}}}]);return e}(Ke);Fa.className="ql-syntax";var Ua=new ae.a.Attributor.Class("token","hljs",{scope:ae.a.Scope.INLINE});var $a=function(t){za(e,t);Da(e,null,[{key:"register",value:function t(){ni.register(Ua,true);ni.register(Fa,true)}}]);function e(t,n){qa(this,e);var i=Ba(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(typeof i.options.highlight!=="function"){throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.")}var r=null;i.quill.on(ni.events.SCROLL_OPTIMIZE,function(){clearTimeout(r);r=setTimeout(function(){i.highlight();r=null},i.options.interval)});i.highlight();return i}Da(e,[{key:"highlight",value:function t(){var e=this;if(this.quill.selection.composing)return;this.quill.update(ni.sources.USER);var n=this.quill.getSelection();this.quill.scroll.descendants(Fa).forEach(function(t){t.highlight(e.options.highlight)});this.quill.update(ni.sources.SILENT);if(n!=null){this.quill.setSelection(n,ni.sources.SILENT)}}}]);return e}(Rn);$a.DEFAULTS={highlight:function(){if(window.hljs==null)return null;return function(t){var e=window.hljs.highlightAuto(t);return e.value}}(),interval:1e3};var Ha=function(){function t(t,e){var n=[];var i=true;var r=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){r=true;o=t}finally{try{if(!i&&a["return"])a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var Za=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function Va(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function Wa(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ga(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ka(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ya=kn("quill:toolbar");var Xa=function(t){Ka(e,t);function e(t,n){Wa(this,e);var i=Ga(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(i.options.container)){var r=document.createElement("div");Qa(r,i.options.container);t.container.parentNode.insertBefore(r,t.container);i.container=r}else if(typeof i.options.container==="string"){i.container=document.querySelector(i.options.container)}else{i.container=i.options.container}if(!(i.container instanceof HTMLElement)){var o;return o=Ya.error("Container required for toolbar",i.options),Ga(i,o)}i.container.classList.add("ql-toolbar");i.controls=[];i.handlers={};Object.keys(i.options.handlers).forEach(function(t){i.addHandler(t,i.options.handlers[t])});[].forEach.call(i.container.querySelectorAll("button, select"),function(t){i.attach(t)});i.quill.on(ni.events.EDITOR_CHANGE,function(t,e){if(t===ni.events.SELECTION_CHANGE){i.update(e)}});i.quill.on(ni.events.SCROLL_OPTIMIZE,function(){var t=i.quill.selection.getRange(),e=Ha(t,1),n=e[0];i.update(n)});return i}Za(e,[{key:"addHandler",value:function t(e,n){this.handlers[e]=n}},{key:"attach",value:function t(e){var n=this;var i=[].find.call(e.classList,function(t){return t.indexOf("ql-")===0});if(!i)return;i=i.slice("ql-".length);if(e.tagName==="BUTTON"){e.setAttribute("type","button")}if(this.handlers[i]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[i]==null){Ya.warn("ignoring attaching to disabled format",i,e);return}if(ae.a.query(i)==null){Ya.warn("ignoring attaching to nonexistent format",i,e);return}}var r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,function(t){var r=void 0;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;var o=e.options[e.selectedIndex];if(o.hasAttribute("selected")){r=false}else{r=o.value||false}}else{if(e.classList.contains("ql-active")){r=false}else{r=e.value||!e.hasAttribute("value")}t.preventDefault()}n.quill.focus();var a=n.quill.selection.getRange(),s=Ha(a,1),l=s[0];if(n.handlers[i]!=null){n.handlers[i].call(n,r)}else if(ae.a.query(i).prototype instanceof ae.a.Embed){r=prompt("Enter "+i);if(!r)return;n.quill.updateContents((new ue.a).retain(l.index).delete(l.length).insert(Va({},i,r)),ni.sources.USER)}else{n.quill.format(i,r,ni.sources.USER)}n.update(l)});this.controls.push([i,e])}},{key:"update",value:function t(e){var n=e==null?{}:this.quill.getFormat(e);this.controls.forEach(function(t){var i=Ha(t,2),r=i[0],o=i[1];if(o.tagName==="SELECT"){var a=void 0;if(e==null){a=null}else if(n[r]==null){a=o.querySelector("option[selected]")}else if(!Array.isArray(n[r])){var s=n[r];if(typeof s==="string"){s=s.replace(/\"/g,'\\"')}a=o.querySelector('option[value="'+s+'"]')}if(a==null){o.value="";o.selectedIndex=-1}else{a.selected=true}}else{if(e==null){o.classList.remove("ql-active")}else if(o.hasAttribute("value")){var l=n[r]===o.getAttribute("value")||n[r]!=null&&n[r].toString()===o.getAttribute("value")||n[r]==null&&!o.getAttribute("value");o.classList.toggle("ql-active",l)}else{o.classList.toggle("ql-active",n[r]!=null)}}})}}]);return e}(Rn);Xa.DEFAULTS={};function Ja(t,e,n){var i=document.createElement("button");i.setAttribute("type","button");i.classList.add("ql-"+e);if(n!=null){i.value=n}t.appendChild(i)}function Qa(t,e){if(!Array.isArray(e[0])){e=[e]}e.forEach(function(e){var n=document.createElement("span");n.classList.add("ql-formats");e.forEach(function(t){if(typeof t==="string"){Ja(n,t)}else{var e=Object.keys(t)[0];var i=t[e];if(Array.isArray(i)){ts(n,e,i)}else{Ja(n,e,i)}}});t.appendChild(n)})}function ts(t,e,n){var i=document.createElement("select");i.classList.add("ql-"+e);n.forEach(function(t){var e=document.createElement("option");if(t!==false){e.setAttribute("value",t)}else{e.setAttribute("selected","selected")}i.appendChild(e)});t.appendChild(i)}Xa.DEFAULTS={container:null,handlers:{clean:function t(){var e=this;var n=this.quill.getSelection();if(n==null)return;if(n.length==0){var i=this.quill.getFormat();Object.keys(i).forEach(function(t){if(ae.a.query(t,ae.a.Scope.INLINE)!=null){e.quill.format(t,false)}})}else{this.quill.removeFormat(n,ni.sources.USER)}},direction:function t(e){var n=this.quill.getFormat()["align"];if(e==="rtl"&&n==null){this.quill.format("align","right",ni.sources.USER)}else if(!e&&n==="right"){this.quill.format("align",false,ni.sources.USER)}this.quill.format("direction",e,ni.sources.USER)},indent:function t(e){var n=this.quill.getSelection();var i=this.quill.getFormat(n);var t=parseInt(i.indent||0);if(e==="+1"||e==="-1"){var r=e==="+1"?1:-1;if(i.direction==="rtl")r*=-1;this.quill.format("indent",t+r,ni.sources.USER)}},link:function t(e){if(e===true){e=prompt("Enter link URL:")}this.quill.format("link",e,ni.sources.USER)},list:function t(e){var n=this.quill.getSelection();var i=this.quill.getFormat(n);if(e==="check"){if(i["list"]==="checked"||i["list"]==="unchecked"){this.quill.format("list",false,ni.sources.USER)}else{this.quill.format("list","unchecked",ni.sources.USER)}}else{this.quill.format("list",e,ni.sources.USER)}}}};var es=n(10);var ns=n.n(es);var is=n(32);var rs=n.n(is);var os=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var as=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function ss(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var ls=function(){function t(e){var n=this;ss(this,t);this.select=e;this.container=document.createElement("span");this.buildPicker();this.select.style.display="none";this.select.parentNode.insertBefore(this.container,this.select);this.label.addEventListener("mousedown",function(){n.container.classList.toggle("ql-expanded")});this.select.addEventListener("change",this.update.bind(this))}as(t,[{key:"buildItem",value:function t(e){var n=this;var i=document.createElement("span");i.classList.add("ql-picker-item");if(e.hasAttribute("value")){i.setAttribute("data-value",e.getAttribute("value"))}if(e.textContent){i.setAttribute("data-label",e.textContent)}i.addEventListener("click",function(){n.selectItem(i,true)});return i}},{key:"buildLabel",value:function t(){var e=document.createElement("span");e.classList.add("ql-picker-label");e.innerHTML=rs.a;this.container.appendChild(e);return e}},{key:"buildOptions",value:function t(){var e=this;var n=document.createElement("span");n.classList.add("ql-picker-options");[].slice.call(this.select.options).forEach(function(t){var i=e.buildItem(t);n.appendChild(i);if(t.selected===true){e.selectItem(i)}});this.container.appendChild(n)}},{key:"buildPicker",value:function t(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)});this.container.classList.add("ql-picker");this.label=this.buildLabel();this.buildOptions()}},{key:"close",value:function t(){this.container.classList.remove("ql-expanded")}},{key:"selectItem",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var i=this.container.querySelector(".ql-selected");if(e===i)return;if(i!=null){i.classList.remove("ql-selected")}if(e==null)return;e.classList.add("ql-selected");this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e);if(e.hasAttribute("data-value")){this.label.setAttribute("data-value",e.getAttribute("data-value"))}else{this.label.removeAttribute("data-value")}if(e.hasAttribute("data-label")){this.label.setAttribute("data-label",e.getAttribute("data-label"))}else{this.label.removeAttribute("data-label")}if(n){if(typeof Event==="function"){this.select.dispatchEvent(new Event("change"))}else if((typeof Event==="undefined"?"undefined":os(Event))==="object"){var r=document.createEvent("Event");r.initEvent("change",true,true);this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function t(){var e=void 0;if(this.select.selectedIndex>-1){var n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex];this.selectItem(n)}else{this.selectItem(null)}var i=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",i)}}]);return t}();var us=ls;var cs=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var fs=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function hs(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ds(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ps(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var vs=function(t){ps(e,t);function e(t,n){hs(this,e);var i=ds(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i.label.innerHTML=n;i.container.classList.add("ql-color-picker");[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(t){t.classList.add("ql-primary")});return i}cs(e,[{key:"buildItem",value:function t(n){var i=fs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,n);i.style.backgroundColor=n.getAttribute("value")||"";return i}},{key:"selectItem",value:function t(n,i){fs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,n,i);var r=this.label.querySelector(".ql-color-label");var o=n?n.getAttribute("data-value")||"":"";if(r){if(r.tagName==="line"){r.style.stroke=o}else{r.style.fill=o}}}}]);return e}(us);var ms=vs;var gs=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var ys=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function _s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function bs(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ws(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var xs=function(t){ws(e,t);function e(t,n){_s(this,e);var i=bs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i.container.classList.add("ql-icon-picker");[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),function(t){t.innerHTML=n[t.getAttribute("data-value")||""]});i.defaultItem=i.container.querySelector(".ql-selected");i.selectItem(i.defaultItem);return i}gs(e,[{key:"selectItem",value:function t(n,i){ys(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,n,i);n=n||this.defaultItem;this.label.innerHTML=n.innerHTML}}]);return e}(us);var Es=xs;var Os=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function ks(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var Ts=function(){function t(e,n){var i=this;ks(this,t);this.quill=e;this.boundsContainer=n||document.body;this.root=e.addContainer("ql-tooltip");this.root.innerHTML=this.constructor.TEMPLATE;if(this.quill.root===this.quill.scrollingContainer){this.quill.root.addEventListener("scroll",function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"})}this.hide()}Os(t,[{key:"hide",value:function t(){this.root.classList.add("ql-hidden")}},{key:"position",value:function t(e){var n=e.left+e.width/2-this.root.offsetWidth/2;var i=e.bottom+this.quill.root.scrollTop;this.root.style.left=n+"px";this.root.style.top=i+"px";this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect();var o=this.root.getBoundingClientRect();var a=0;if(o.right>r.right){a=r.right-o.right;this.root.style.left=n+a+"px"}if(o.left<r.left){a=r.left-o.left;this.root.style.left=n+a+"px"}if(o.bottom>r.bottom){var s=o.bottom-o.top;var l=e.bottom-e.top+s;this.root.style.top=i-l+"px";this.root.classList.add("ql-flip")}return a}},{key:"show",value:function t(){this.root.classList.remove("ql-editing");this.root.classList.remove("ql-hidden")}}]);return t}();var Cs=Ts;var Ls=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var As=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function Ss(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ps(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ns(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ms=[false,"center","right","justify"];var js=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"];var Is=[false,"serif","monospace"];var Ds=["1","2","3",false];var Rs=["small",false,"large","huge"];var qs=function(t){Ns(e,t);function e(t,n){Ss(this,e);var i=Ps(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));var r=function e(n){if(!document.body.contains(t.root)){return document.body.removeEventListener("click",e)}if(i.tooltip!=null&&!i.tooltip.root.contains(n.target)&&document.activeElement!==i.tooltip.textbox&&!i.quill.hasFocus()){i.tooltip.hide()}if(i.pickers!=null){i.pickers.forEach(function(t){if(!t.container.contains(n.target)){t.close()}})}};t.emitter.listenDOM("click",document.body,r);return i}Ls(e,[{key:"addModule",value:function t(n){var i=As(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,n);if(n==="toolbar"){this.extendToolbar(i)}return i}},{key:"buildButtons",value:function t(e,n){e.forEach(function(t){var e=t.getAttribute("class")||"";e.split(/\s+/).forEach(function(e){if(!e.startsWith("ql-"))return;e=e.slice("ql-".length);if(n[e]==null)return;if(e==="direction"){t.innerHTML=n[e][""]+n[e]["rtl"]}else if(typeof n[e]==="string"){t.innerHTML=n[e]}else{var i=t.value||"";if(i!=null&&n[e][i]){t.innerHTML=n[e][i]}}})})}},{key:"buildPickers",value:function t(e,n){var i=this;this.pickers=e.map(function(t){if(t.classList.contains("ql-align")){if(t.querySelector("option")==null){Fs(t,Ms)}return new Es(t,n.align)}else if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var e=t.classList.contains("ql-background")?"background":"color";if(t.querySelector("option")==null){Fs(t,js,e==="background"?"#ffffff":"#000000")}return new ms(t,n[e])}else{if(t.querySelector("option")==null){if(t.classList.contains("ql-font")){Fs(t,Is)}else if(t.classList.contains("ql-header")){Fs(t,Ds)}else if(t.classList.contains("ql-size")){Fs(t,Rs)}}return new us(t)}});var r=function t(){i.pickers.forEach(function(t){t.update()})};this.quill.on(jn.events.EDITOR_CHANGE,r)}}]);return e}(Kn);qs.DEFAULTS=de()(true,{},Kn.DEFAULTS,{modules:{toolbar:{handlers:{formula:function t(){this.quill.theme.tooltip.edit("formula")},image:function t(){var e=this;var n=this.container.querySelector("input.ql-image[type=file]");if(n==null){n=document.createElement("input");n.setAttribute("type","file");n.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon");n.classList.add("ql-image");n.addEventListener("change",function(){if(n.files!=null&&n.files[0]!=null){var t=new FileReader;t.onload=function(t){var i=e.quill.getSelection(true);e.quill.updateContents((new ue.a).retain(i.index).delete(i.length).insert({image:t.target.result}),jn.sources.USER);e.quill.setSelection(i.index+1,jn.sources.SILENT);n.value=""};t.readAsDataURL(n.files[0])}});this.container.appendChild(n)}n.click()},video:function t(){this.quill.theme.tooltip.edit("video")}}}}});var Bs=function(t){Ns(e,t);function e(t,n){Ss(this,e);var i=Ps(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.textbox=i.root.querySelector('input[type="text"]');i.listen();return i}Ls(e,[{key:"listen",value:function t(){var e=this;this.textbox.addEventListener("keydown",function(t){if(Gr.match(t,"enter")){e.save();t.preventDefault()}else if(Gr.match(t,"escape")){e.cancel();t.preventDefault()}})}},{key:"cancel",value:function t(){this.hide()}},{key:"edit",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"link";var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.root.classList.remove("ql-hidden");this.root.classList.add("ql-editing");if(n!=null){this.textbox.value=n}else if(e!==this.root.getAttribute("data-mode")){this.textbox.value=""}this.position(this.quill.getBounds(this.quill.selection.savedRange));this.textbox.select();this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||"");this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function t(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus();this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function t(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var n=this.quill.root.scrollTop;if(this.linkRange){this.quill.formatText(this.linkRange,"link",e,jn.sources.USER);delete this.linkRange}else{this.restoreFocus();this.quill.format("link",e,jn.sources.USER)}this.quill.root.scrollTop=n;break}case"video":{e=zs(e)}case"formula":{if(!e)break;var i=this.quill.getSelection(true);if(i!=null){var r=i.index+i.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,jn.sources.USER);if(this.root.getAttribute("data-mode")==="formula"){this.quill.insertText(r+1," ",jn.sources.USER)}this.quill.setSelection(r+2,jn.sources.USER)}break}default:}this.textbox.value="";this.hide()}}]);return e}(Cs);function zs(t){var e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(e){return(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0"}if(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/)){return(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/"}return t}function Fs(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;e.forEach(function(e){var i=document.createElement("option");if(e===n){i.setAttribute("selected","selected")}else{i.setAttribute("value",e)}t.appendChild(i)})}var Us=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};var $s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function Hs(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Zs(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Vs(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ws=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];var Gs=function(t){Vs(e,t);function e(t,n){Hs(this,e);if(n.modules.toolbar!=null&&n.modules.toolbar.container==null){n.modules.toolbar.container=Ws}var i=Zs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.quill.container.classList.add("ql-bubble");return i}$s(e,[{key:"extendToolbar",value:function t(e){this.tooltip=new Ks(this.quill,this.options.bounds);this.tooltip.root.appendChild(e.container);this.buildButtons([].slice.call(e.container.querySelectorAll("button")),ns.a);this.buildPickers([].slice.call(e.container.querySelectorAll("select")),ns.a)}}]);return e}(qs);Gs.DEFAULTS=de()(true,{},qs.DEFAULTS,{modules:{toolbar:{handlers:{link:function t(e){if(!e){this.quill.format("link",false)}else{this.quill.theme.tooltip.edit()}}}}}});var Ks=function(t){Vs(e,t);function e(t,n){Hs(this,e);var i=Zs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.quill.on(jn.events.EDITOR_CHANGE,function(t,e,n,r){if(t!==jn.events.SELECTION_CHANGE)return;if(e!=null&&e.length>0&&r===jn.sources.USER){i.show();i.root.style.left="0px";i.root.style.width="";i.root.style.width=i.root.offsetWidth+"px";var o=i.quill.getLines(e.index,e.length);if(o.length===1){i.position(i.quill.getBounds(e))}else{var a=o[o.length-1];var s=i.quill.getIndex(a);var l=Math.min(a.length()-1,e.index+e.length-s);var u=i.quill.getBounds(new $n(s,l));i.position(u)}}else if(document.activeElement!==i.textbox&&i.quill.hasFocus()){i.hide()}});return i}$s(e,[{key:"listen",value:function t(){var n=this;Us(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this);this.root.querySelector(".ql-close").addEventListener("click",function(){n.root.classList.remove("ql-editing")});this.quill.on(jn.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(n.root.classList.contains("ql-hidden"))return;var t=n.quill.getSelection();if(t!=null){n.position(n.quill.getBounds(t))}},1)})}},{key:"cancel",value:function t(){this.show()}},{key:"position",value:function t(n){var i=Us(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,n);var r=this.root.querySelector(".ql-tooltip-arrow");r.style.marginLeft="";if(i===0)return i;r.style.marginLeft=-1*i-r.offsetWidth/2+"px"}}]);return e}(Bs);Ks.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");var Ys=function(){function t(t,e){var n=[];var i=true;var r=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){r=true;o=t}finally{try{if(!i&&a["return"])a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var Xs=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};var Js=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function Qs(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function tl(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function el(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var nl=[[{header:["1","2","3",false]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];var il=function(t){el(e,t);function e(t,n){Qs(this,e);if(n.modules.toolbar!=null&&n.modules.toolbar.container==null){n.modules.toolbar.container=nl}var i=tl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.quill.container.classList.add("ql-snow");return i}Js(e,[{key:"extendToolbar",value:function t(e){e.container.classList.add("ql-snow");this.buildButtons([].slice.call(e.container.querySelectorAll("button")),ns.a);this.buildPickers([].slice.call(e.container.querySelectorAll("select")),ns.a);this.tooltip=new rl(this.quill,this.options.bounds);if(e.container.querySelector(".ql-link")){this.quill.keyboard.addBinding({key:"K",shortKey:true},function(t,n){e.handlers["link"].call(e,!n.format.link)})}}}]);return e}(qs);il.DEFAULTS=de()(true,{},qs.DEFAULTS,{modules:{toolbar:{handlers:{link:function t(e){if(e){var n=this.quill.getSelection();if(n==null||n.length==0)return;var i=this.quill.getText(n);if(/^\S+@\S+\.\S+$/.test(i)&&i.indexOf("mailto:")!==0){i="mailto:"+i}var r=this.quill.theme.tooltip;r.edit("link",i)}else{this.quill.format("link",false)}}}}}});var rl=function(t){el(e,t);function e(t,n){Qs(this,e);var i=tl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.preview=i.root.querySelector("a.ql-preview");return i}Js(e,[{key:"listen",value:function t(){var n=this;Xs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this);this.root.querySelector("a.ql-action").addEventListener("click",function(t){if(n.root.classList.contains("ql-editing")){n.save()}else{n.edit("link",n.preview.textContent)}t.preventDefault()});this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(n.linkRange!=null){var e=n.linkRange;n.restoreFocus();n.quill.formatText(e,"link",false,jn.sources.USER);delete n.linkRange}t.preventDefault();n.hide()});this.quill.on(jn.events.SELECTION_CHANGE,function(t,e,i){if(t==null)return;if(t.length===0&&i===jn.sources.USER){var r=n.quill.scroll.descendant(Go,t.index),o=Ys(r,2),a=o[0],s=o[1];if(a!=null){n.linkRange=new $n(t.index-s,a.length());var l=Go.formats(a.domNode);n.preview.textContent=l;n.preview.setAttribute("href",l);n.show();n.position(n.quill.getBounds(n.linkRange));return}}else{delete n.linkRange}n.hide()})}},{key:"show",value:function t(){Xs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this);this.root.removeAttribute("data-mode")}}]);return e}(Bs);rl.TEMPLATE=['<a class="ql-preview" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");var ol=il;io.register({"attributors/attribute/direction":Hi,"attributors/class/align":Pi,"attributors/class/background":Fi,"attributors/class/color":Bi,"attributors/class/direction":Zi,"attributors/class/font":Qi,"attributors/class/size":nr,"attributors/style/align":Ni,"attributors/style/background":Ui,"attributors/style/color":zi,"attributors/style/direction":Vi,"attributors/style/font":er,"attributors/style/size":ir},true);io.register({"formats/align":Pi,"formats/direction":Zi,"formats/indent":co,"formats/background":Ui,"formats/color":zi,"formats/font":Qi,"formats/size":nr,"formats/blockquote":mo,"formats/code-block":Ke,"formats/header":xo,"formats/list":So,"formats/bold":Ro,"formats/code":Ge,"formats/italic":Uo,"formats/link":Go,"formats/script":na,"formats/strike":sa,"formats/underline":ha,"formats/image":ba,"formats/video":La,"formats/list/item":Ao,"modules/formula":Ia,"modules/syntax":$a,"modules/toolbar":Xa,"themes/bubble":Gs,"themes/snow":ol,"ui/icons":ns.a,"ui/picker":us,"ui/icon-picker":Es,"ui/color-picker":ms,"ui/tooltip":Cs},true);var al=io;function sl(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ll(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ul(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var cl=al.import("blots/inline");var fl=function(t){ul(e,t);function e(){sl(this,e);return ll(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(cl);fl.blotName="bold";fl.tagName="strong";var hl=fl;function dl(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function pl(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function vl(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ml=al.import("blots/inline");var gl=function(t){vl(e,t);function e(){dl(this,e);return pl(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(ml);gl.blotName="italic";gl.tagName="i";var yl=gl;function _l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function bl(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function wl(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var xl=al.import("blots/inline");var El=function(t){wl(e,t);function e(){_l(this,e);return bl(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(xl);El.blotName="smallcaps";El.tagName="smallcaps";var Ol=El;function kl(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Tl(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Cl(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ll=al.import("blots/inline");var Al=function(t){Cl(e,t);function e(){kl(this,e);return Tl(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Ll);Al.blotName="superscript";Al.tagName="sup";var Sl=Al;function Pl(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Nl(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ml(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var jl=al.import("blots/inline");var Il=function(t){Ml(e,t);function e(){Pl(this,e);return Nl(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(jl);Il.blotName="expan";Il.tagName="ex";var Dl=Il;function Rl(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ql(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Bl(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var zl=al.import("blots/inline");var Fl=function(t){Bl(e,t);function e(){Rl(this,e);return ql(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(zl);Fl.blotName="del";Fl.tagName="del";var Ul=Fl;var $l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var Hl=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function Zl(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Vl(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Wl(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Gl=al.import("blots/inline");var Kl=function(t){Wl(e,t);function e(){Zl(this,e);return Vl(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}$l(e,null,[{key:"create",value:function t(n){var i=Hl(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this);i.setAttribute("href",n);i.setAttribute("target","_blank");return i}},{key:"formats",value:function t(e){return e.getAttribute("href")}}]);return e}(Gl);Kl.blotName="link";Kl.tagName="a";var Yl=Kl;function Xl(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Jl(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ql(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var tu=al.import("blots/block");var eu=function(t){Ql(e,t);function e(){Xl(this,e);return Jl(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(tu);eu.blotName="blockquote";eu.tagName="blockquote";var nu=eu;function iu(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ru(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ou(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var au=al.import("blots/inline");var su=function(t){ou(e,t);function e(){iu(this,e);return ru(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(au);su.blotName="inlinequote";su.tagName="q";var lu=su;var uu=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var cu=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function fu(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function hu(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function du(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var pu=al.import("blots/inline");var vu=function(t){du(e,t);function e(){fu(this,e);return hu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}uu(e,[{key:"format",value:function t(n,i){if(n==="person"&&i){this.domNode.setAttribute("ref",i)}else{cu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,i)}}},{key:"formats",value:function t(){var t=cu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formats",this).call(this);t["person"]=e.formats(this.domNode);return t}}],[{key:"create",value:function t(n){var i=cu(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this);i.setAttribute("ref",n);return i}},{key:"formats",value:function t(e){var n=e.getAttribute("ref");return n||true}}]);return e}(pu);vu.blotName="person";vu.tagName="persName";var mu=vu;var gu=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var yu=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function _u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function bu(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function wu(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var xu=al.import("blots/inline");var Eu=function(t){wu(e,t);function e(){_u(this,e);return bu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}gu(e,[{key:"format",value:function t(n,i){if(n==="location"&&i){this.domNode.setAttribute("ref",i)}else{yu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,i)}}},{key:"formats",value:function t(){var t=yu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formats",this).call(this);t["location"]=e.formats(this.domNode);return t}}],[{key:"create",value:function t(n){var i=yu(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this);i.setAttribute("ref",n);return i}},{key:"formats",value:function t(e){var n=e.getAttribute("ref");return n||true}}]);return e}(xu);Eu.blotName="location";Eu.tagName="placeName";var Ou=Eu;var ku=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var Tu=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function Cu(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Lu(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Au(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Su=function(t){Au(e,t);function e(){Cu(this,e);return Lu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}ku(e,[{key:"length",value:function t(){return 1}}],[{key:"create",value:function t(n){var i=Tu(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this);return i}}]);return e}(ae.a.Embed);Su.blotName="segment";Su.tagName="segment";var Pu=Su;var Nu=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var Mu=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function ju(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Iu(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Du(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ru=function(t){Du(e,t);function e(){ju(this,e);return Iu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Nu(e,[{key:"length",value:function t(){return 1}},{key:"insertInto",value:function t(e,n){_i.prototype.insertInto.call(this,e,n)}}],[{key:"create",value:function t(n){var i=Mu(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);i.innerHTML='<span class="br"></span><span class="segment-bullet"></span>';return i}}]);return e}(_i);Ru.blotName="linebreak";Ru.tagName="lb";var qu=Ru;function Bu(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function zu(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Fu(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Uu=al.import("blots/block");var $u=function(t){Fu(e,t);function e(){Bu(this,e);return zu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Uu);$u.blotName="paragraph";$u.tagName="p";var Hu=$u;function Zu(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Vu(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Wu(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Gu=al.import("blots/block");var Ku=function(t){Wu(e,t);function e(){Zu(this,e);return Vu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Gu);Ku.blotName="verse";Ku.tagName="l";var Yu=Ku;var Xu=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var Ju=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function Qu(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function tc(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ec(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var nc=al.import("blots/inline");var ic=function(t){ec(e,t);function e(){Qu(this,e);return tc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Xu(e,[{key:"format",value:function t(n,i){if(n==="note"&&i){this.domNode.setAttribute("id",i)}else{Ju(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,i)}}},{key:"formats",value:function t(){var t=Ju(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formats",this).call(this);t["note"]=e.formats(this.domNode);return t}}],[{key:"create",value:function t(n){var i=Ju(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this);i.setAttribute("id",n);return i}},{key:"formats",value:function t(e){var n=e.getAttribute("id");return n||true}}]);return e}(nc);ic.blotName="note";ic.tagName="note";var rc=ic;var oc=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var ac=function t(e,n,i){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,n);if(r===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,i)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(i)}};function sc(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function lc(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function uc(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var cc=al.import("blots/inline");var fc=function(t){uc(e,t);function e(){sc(this,e);return lc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}oc(e,[{key:"format",value:function t(n,i){if(n==="speechpart"&&i){this.domNode.setAttribute("id",i)}else{ac(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,i)}}},{key:"formats",value:function t(){var t=ac(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formats",this).call(this);t["speechpart"]=e.formats(this.domNode);return t}}],[{key:"create",value:function t(n){var i=ac(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this);i.setAttribute("id",n);return i}},{key:"formats",value:function t(e){var n=e.getAttribute("id");return n||true}}]);return e}(cc);fc.blotName="speechpart";fc.tagName="speechpart";var hc=fc;al.register(qu,true);al.register(hl,true);al.register(yl,true);al.register(Ol,true);al.register(Sl,true);al.register(Dl,true);al.register(Ul,true);al.register(Yl,true);al.register(nu,true);al.register(lu,true);al.register(Ou,true);al.register(mu,true);al.register(Pu,true);al.register(Hu,true);al.register(Yu,true);al.register(rc,true);al.register(hc,true);function dc(){var t=new ue.a;t.insert({linebreak:""});return t}var pc={modules:{clipboard:{matchers:[["lb",dc]]},keyboard:{bindings:{linebreak:{key:13,shiftKey:true,handler:function t(e){this.quill.insertEmbed(e.index,"linebreak",true,"user");this.quill.setSelection(e.index+1,al.sources.SILENT)}}}}}};function vc(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=e||pc;var i=new al(t,pc);var r=i.getLength();var o=i.getText(r-2,2);if(o==="\n\n"){i.deleteText(i.getLength()-2,2)}return i}var mc=al;var gc=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var yc=function t(){return new ue.a};var _c=function t(e){var n=new ue.a;e.forEach(function(t){if(t.retain){n.retain(t.retain)}else if(t.insert){n.insert(t.insert)}else if(t.delete){n.delete(t.delete)}});return n};var bc=function t(e,n){var i=new ue.a;e.forEach(function(t){var e={};var r=void 0;if(t.retain){r="retain"}else if(t.insert){r="insert"}else if(t.delete){r="delete"}if(t[r]!==null&&gc(t[r])==="object"){var o=Object.assign({},t[r]);n.forEach(function(t){delete o[t]});e[r]=o}else{e[r]=t[r]}if(t.attributes){var a=Object.assign({},t.attributes);n.forEach(function(t){delete a[t]});e.attributes=a}i.ops.push(e)});return i};var wc=function t(e){var n=new ue.a;e.ops.forEach(function(t){if(t.attributes&&t.attributes.note)delete t.attributes.note;n.ops.push(t)});return n};var xc={data:function t(){return{storeActions:{},editor:null,editorContentElement:null,editorHasFocus:false,currentSelection:null,formTextfield:null,actionsPositions:{top:0,left:0,right:0,bottom:0}}},methods:{initEditor:function t(e,n){e.innerHTML=n;this.editor=vc(e);this.activateEvents();this.editor.updateContents(yc().retain(this.editor.getLength(),"api"));this.editorContentElement=e.children[0]},activateEvents:function t(){this.editor.on("selection-change",this.onSelection);this.editor.on("selection-change",this.onFocus);this.editor.on("text-change",this.onTextChange)},deactivateEvents:function t(){this.editor.off("selection-change",this.onSelection);this.editor.off("selection-change",this.onFocus);this.editor.off("text-change",this.onTextChange)},getEditorHTML:function t(){return this.editorContentElement.innerHTML},save:function t(){this.$store.dispatch(this.storeActions.save,this.getEditorHTML())},onTextChange:function t(e,n,i){this.lastOperations=e;this.$store.dispatch(this.storeActions.changed,e)},onSelection:function t(e){if(e){this.setRangeBound(e);var n=this.editor.getFormat(e.index,e.length);this.updateButtons(n);if(!!n.note){this.onNoteSelected(n.note,e);this.buttons.note=false}else{this.selectedNoteId=null;this.buttons.note=true}}},onFocus:function t(){this.editorHasFocus=this.editor.hasFocus()},simpleFormat:function t(e){var n=this.editor.getSelection();var i=this.editor.getFormat(n.index,n.length);var r=!i[e];this.editor.format(e,r);var o=this.editor.getFormat(n.index,n.length);this.updateButtons(o)},insertSegment:function t(){var e=this.editor.getSelection(true);this.editor.updateContents(yc().retain(e.index).delete(e.length).insert({segment:true}),mc.sources.USER);this.editor.setSelection(e.index+1,mc.sources.SILENT)},updateButtons:function t(e){for(var n in this.buttons){this.buttons[n]=!!e[n]}},setRangeBound:function t(e){var n=this.editor.getBounds(e);this.actionsPositions.left=n.left;this.actionsPositions.right=n.right;this.actionsPositions.bottom=n.bottom},displayTextfieldForm:function t(e){var n=this.editor.getFormat();e.value=n[e.format];this.formTextfield=e},cancelTextfieldForm:function t(){this.formTextfield=null},submitTextfieldForm:function t(e){this.editor.format(this.formTextfield.format,e);this.cancelTextfieldForm();var n=this.editor.getFormat();this.updateButtons(n)},displayLocationForm:function t(){this.displayTextfieldForm({format:"location",title:'<i class="fas fa-map-marker-alt"></i> Identifier un lieu',label:"Nom du lieu"})},displayPersonForm:function t(){this.displayTextfieldForm({format:"person",title:'<i class="fas fa-user"></i> Identifier une personne',label:"Nom de la personne"})}},computed:{actionsPosition:function t(){var e=this.actionsPositions.bottom+5;var n=(this.actionsPositions.left+this.actionsPositions.right)/2;return"top:"+e+"px;left:"+n+"px"},isNoteButtonActive:function t(){var e=this.editorHasFocus&&this.buttons.note;return e}}};var Ec=xc;var Oc={data:function t(){return{selectedNoteId:null,currentNote:null,noteEditMode:null,defineNewNote:false}},methods:{onNoteSelected:function t(e,n){if(!n.length)return;this.selectedNoteId=e;var i=this.editor.getContents().ops;var r=i.length},updateNoteId:function t(e){this.editor.format("note",e);this.selectedNoteId=e;this.closeNoteEdit()},updateNote:function t(e){var n=this;var i=this.noteEditMode==="new";var r=i?"notes/add":"notes/update";this.$store.dispatch(r,e).then(function(){if(i){n.editor.format("note",n.$store.getters["notes/newNote"].id);n.selectedNoteId=n.$store.getters["notes/newNote"].id}n.closeNoteEdit()})},unlinkNote:function t(){this.editor.format("note",false);this.selectedNoteId=null},deleteNote:function t(){this.editor.format("note",false);this.selectedNoteId=null;this.closeNoteEdit()},setNoteEditModeList:function t(){this.noteEditMode="list";this.newNoteChoiceClose()},setNoteEditModeDelete:function t(){this.noteEditMode="delete"},setNoteEditModeNew:function t(){this.noteEditMode="new";this.newNoteChoiceClose()},setNoteEditModeEdit:function t(){this.noteEditMode="edit";this.currentNote=this.$store.getters["notes/getNoteById"](this.selectedNoteId)},closeNoteEdit:function t(){this.noteEditMode=null;this.currentNote=null;this.editor.focus()},newNoteChoiceOpen:function t(){this.defineNewNote=true},newNoteChoiceClose:function t(){this.defineNewNote=false}},computed:{isNoteButtonActive:function t(){var e=this.editorHasFocus&&this.buttons.note;return e}}};var kc=Oc;var Tc={name:"in-editor-actions",props:{edit:{type:Function,required:true},delete:{type:Function,required:true}},methods:{deleteAction:function t(){this.$props.delete()},editAction:function t(){this.$props.edit()}}};var Cc=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"in-editor-actions"},[n("div",{staticClass:"field has-addons"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button",on:{click:t.editAction}},[t._m(0),t._v(" "),n("span",[t._v("diter")])])]),t._v(" "),n("p",{staticClass:"control"},[n("a",{staticClass:"button is-danger is-outlined",on:{click:t.deleteAction}},[t._m(1),t._v(" "),n("span",[t._v("Supprimer")])])])])])};var Lc=[function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-edit"})])},function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-eraser"})])}];var Ac=false;var Sc=null;var Pc=null;var Nc=null;var Mc=Y(Tc,Cc,Lc,Ac,Sc,Pc,Nc);var jc=Mc.exports;var Ic={name:"note-actions",props:{edit:{type:Function,required:true},newNote:{type:Function,required:true},delete:{type:Function,required:true},updateLink:{type:Function,required:true},unlink:{type:Function,required:true}},methods:{newAction:function t(){this.$props.newNote()},deleteAction:function t(){this.$props.delete()},editAction:function t(){this.$props.edit()},unlinkAction:function t(){this.$props.unlink()},updateLinkAction:function t(){this.$props.updateLink()}}};var Dc=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"note-actions"},[n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-primary",on:{click:t.newAction}},[t._m(0),t._v(" "),n("span",[t._v("Lier  une nouvelle note")])])])]),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-info",on:{click:t.updateLinkAction}},[t._m(1),t._v(" "),n("span",[t._v("Lier  une note existante")])])])]),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-link",on:{click:t.unlinkAction}},[t._m(2),t._v(" "),n("span",[t._v("Supprimer le lien vers la note")])])])]),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-warning",on:{click:t.editAction}},[t._m(3),t._v(" "),n("span",[t._v("diter la note")])])])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-danger",on:{click:t.deleteAction}},[t._m(4),t._v(" "),n("span",[t._v("Supprimer la note")])])])])])};var Rc=[function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-plus"})])},function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-link"})])},function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-unlink"})])},function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-edit"})])},function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-trash"})])}];var qc=false;var Bc=null;var zc=null;var Fc=null;var Uc=Y(Ic,Dc,Rc,qc,Bc,zc,Fc);var $c=Uc.exports;var Hc={name:"new-note-actions",props:{modeNew:{type:Function,required:true},modeLink:{type:Function,required:true},cancel:{type:Function}},methods:{chooseModeNew:function t(){this.$props.modeNew()},chooseModeLink:function t(){this.$props.modeLink()},chooseModeAction:function t(){this.$props.chooseMode()},cancelAction:function t(){this.$props.cancel()}}};var Zc=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background",on:{click:t.cancel}}),t._v(" "),n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v("Dfinir une nouvelle note")]),t._v(" "),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.cancel}})]),t._v(" "),n("section",{staticClass:"modal-card-body"},[n("div",{staticClass:"new-note-actions"},[n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-primary",on:{click:t.modeNew}},[t._m(0),t._v(" "),n("span",[t._v("Lier  une nouvelle note")])])])]),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-info",on:{click:t.modeLink}},[t._m(1),t._v(" "),n("span",[t._v("Lier  une note existante")])])])])])]),t._v(" "),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button",on:{click:t.cancel}},[t._v("Annuler")])])])])};var Vc=[function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-plus"})])},function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-link"})])}];var Wc=false;var Gc=null;var Kc=null;var Yc=null;var Xc=Y(Hc,Zc,Vc,Wc,Gc,Kc,Yc);var Jc=Xc.exports;var Qc={name:"modal-form",props:["title","cancel","submit","valid","submitText","submitting"]};var tf=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background",on:{click:t.cancel}}),t._v(" "),n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title",domProps:{innerHTML:t._s(t.title)}}),t._v(" "),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.cancel}})]),t._v(" "),n("section",{staticClass:"modal-card-body"},[t._t("default")],2),t._v(" "),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button is-success",attrs:{disabled:!t.valid||t.submitting},on:{click:t.submit}},[t._v("Valider")]),t._v(" "),n("button",{staticClass:"button",attrs:{disabled:t.submitting},on:{click:t.cancel}},[t._v("Annuler")])])])])};var ef=[];var nf=false;var rf=null;var of=null;var af=null;var sf=Y(Qc,tf,ef,nf,rf,of,af);var lf=sf.exports;var uf={name:"field-select",props:{options:{type:Array},label:{type:String},selected:{type:Number},onChange:{type:Function,required:true}},data:function t(){return{val:this.$props.selected||null}},mounted:function t(){this.onChange(this.val)},methods:{optionSelected:function t(e){return e===this.selected}},watch:{selected:function t(){this.val=this.$props.selected}},computed:{hasOptions:function t(){return this.options&&this.options.length>0},isLoading:function t(){return!(this.options&&this.options.length>0)?"is-loading":false}}};var cf=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("label",{staticClass:"label"},[t._v(t._s(t.label))]),t._v(" "),n("span",{staticClass:"select",class:t.isLoading},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.val=e.target.multiple?n:n[0]},function(e){t.onChange(t.val)}]}},t._l(t.options,function(e){return t.hasOptions?n("option",{key:e.id,domProps:{value:e.id,selected:t.optionSelected,innerHTML:t._s(e.label)}}):t._e()}))])])])};var ff=[];var hf=false;var df=null;var pf=null;var vf=null;var mf=Y(uf,cf,ff,hf,df,pf,vf);var gf=mf.exports;var yf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){t[i]=n[i]}}}return t};var _f={name:"note-form",mixins:[Ec],components:{EditorButton:re,FieldSelect:gf,ModalForm:lf},props:["title","noteId","note","cancel","submit"],data:function t(){return{form:Object.assign({},this.note),textLength:0,editor:null,buttons:{bold:false,italic:false,superscript:false,smallcaps:false,underline:false,del:false}}},mounted:function t(){this.$refs.editor.innerHTML=!!this.$props.note?this.$props.note.content:"";this.editor=vc(this.$refs.editor);this.editor.on("selection-change",this.onSelection);this.editor.on("selection-change",this.onFocus);this.editor.on("text-change",this.onTextChange);this.textLength=this.editor.getLength()},methods:{onSelectChange:function t(e){this.form.type_id=e},onTextChange:function t(){this.textLength=this.editor.getLength();this.form.content=this.$refs.editor.childNodes[0].innerHTML},onSelection:function t(e){if(e){var n=this.editor.getFormat(e.index,e.length);this.updateButtons(n)}},submitAction:function t(){this.$props.submit(this.form)},cancelAction:function t(){this.$props.cancel()}},computed:yf({},B("noteTypes",["noteTypes"]))};var bf=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("modal-form",{attrs:{title:t.title,cancel:t.cancelAction,submit:t.submitAction,valid:t.textLength>1,submittin:null}},[n("div",{staticClass:"NoteForm"},[n("form",{on:{submit:function(t){t.preventDefault()}}},[n("field-select",{attrs:{label:"Type",options:t.noteTypes,onChange:t.onSelectChange}}),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("label",{staticClass:"label"},[t._v("Contenu")])]),n("div",{staticClass:"editor-area"},[n("div",{ref:"controls",staticClass:"editor-controls"},[n("editor-button",{attrs:{selected:t.buttons.bold,active:t.editorHasFocus,callback:t.simpleFormat,format:"bold"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.italic,active:t.editorHasFocus,callback:t.simpleFormat,format:"italic"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.superscript,active:t.editorHasFocus,callback:t.simpleFormat,format:"superscript"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.smallcaps,active:t.editorHasFocus,callback:t.simpleFormat,format:"smallcaps"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.underline,active:t.editorHasFocus,callback:t.simpleFormat,format:"underline"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.del,active:t.editorHasFocus,callback:t.simpleFormat,format:"del"}})],1),t._v(" "),n("div",{ref:"editor",staticClass:"quill-editor",attrs:{spellcheck:"false"}})]),t._v(" "),n("p")])],1)])])};var wf=[];var xf=false;var Ef=null;var Of=null;var kf=null;var Tf=Y(_f,bf,wf,xf,Ef,Of,kf);var Cf=Tf.exports;var Lf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){t[i]=n[i]}}}return t};var Af={name:"note-form",props:["title","noteId","cancel","submit"],components:{ModalForm:lf},data:function t(){return{selected:null}},mounted:function t(){console.log("NoteListForm mounted",this.noteId);this.selected=this.noteId},methods:{selectItem:function t(e){this.selected=e},submitAction:function t(){console.log("NotesListForm.submitAction",this.selected);this.$props.submit(this.selected)},cancelAction:function t(){this.$props.cancel()}},computed:Lf({},B("notes",["notes"]))};var Sf=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("modal-form",{attrs:{title:"Choisissez une note",cancel:t.cancelAction,submit:t.submitAction,valid:!!t.selected}},[n("div",{staticClass:"NoteForm"},t._l(t.notes,function(e){return n("a",{key:e.id,staticClass:"notes-list-item",class:{selected:e.id==t.selected},on:{click:function(n){t.selectItem(e.id)}}},[n("p",{staticClass:"content",domProps:{innerHTML:t._s(e.content)}})])}))])};var Pf=[];var Nf=false;var Mf=null;var jf=null;var If=null;var Df=Y(Af,Sf,Pf,Nf,Mf,jf,If);var Rf=Df.exports;var qf={name:"modal-form",props:["title","cancel","submit","submitText"]};var Bf=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background",on:{click:t.cancel}}),t._v(" "),n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v(t._s(t.title))]),t._v(" "),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.cancel}})]),t._v(" "),n("section",{staticClass:"modal-card-body"},[t._t("default")],2),t._v(" "),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button",on:{click:t.cancel}},[t._v("Annuler")]),t._v(" "),n("button",{staticClass:"button is-danger",on:{click:t.submit}},[t._v(t._s(t.submitText))])])])])};var zf=[];function Ff(t){n(55)}var Uf=false;var $f=Ff;var Hf="data-v-27c4a3d0";var Zf=null;var Vf=Y(qf,Bf,zf,Uf,$f,Hf,Zf);var Wf=Vf.exports;var Gf={name:"modal-confirm-note-delete",props:["cancel","submit"],components:{ModalConfirm:Wf},methods:{submitAction:function t(){console.log("NotesListForm.submitAction",this.selected);this.$props.submit(this.selected)},cancelAction:function t(){this.$props.cancel()}}};var Kf=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("modal-confirm",{attrs:{title:"Supprimer la note ?",submitText:"Oui je veux la supprimer",cancel:t.cancelAction,submit:t.submitAction}},[n("article",{staticClass:"message is-danger"},[n("div",{staticClass:"message-header"},[n("p",[t._v("Danger")])]),t._v(" "),n("div",{staticClass:"message-body"},[n("p",[t._v("Vous tes sur le point de supprimer une note.")]),t._v(" "),n("p",[t._v("La note sera galement perdue pour la transcription de ce document, sa traduction et ses commentaires.")]),t._v(" "),n("p",[n("strong",[t._v("Cette action ne peut pas tre annule.")])])])])])};var Yf=[];var Xf=false;var Jf=null;var Qf=null;var th=null;var eh=Y(Gf,Kf,Yf,Xf,Jf,Qf,th);var nh=eh.exports;var ih={name:"save-bar",props:{visible:{type:Boolean,default:true},action:{type:Function,required:true}}};var rh=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"save-bar"},[n("div",{staticClass:"container"},[n("a",{staticClass:"button is-primary",on:{click:t.action}},[t._v("Sauvegarder les changements")])])])};var oh=[];function ah(t){n(53)}var sh=false;var lh=ah;var uh="data-v-bc5d7296";var ch=null;var fh=Y(ih,rh,oh,sh,lh,uh,ch);var hh=fh.exports;var dh={name:"textfield-form",components:{ModalForm:lf},props:{title:{type:String,default:""},label:{type:String,default:""},value:{type:String,default:""},cancel:{type:Function},submit:{type:Function}},data:function t(){return{form:this.value}},mounted:function t(){},methods:{submitAction:function t(){this.$props.submit(this.form)},cancelAction:function t(){this.$props.cancel()}}};var ph=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("modal-form",{attrs:{title:t.title,cancel:t.cancelAction,submit:t.submitAction,valid:t.form.length>=1,submittin:null}},[n("div",{staticClass:"location-form textinput-form"},[n("form",{on:{submit:function(t){t.preventDefault()}}},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form,expression:"form"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form},on:{input:function(e){if(e.target.composing){return}t.form=e.target.value}}})])])])])])};var vh=[];var mh=false;var gh=null;var yh=null;var _h=null;var bh=Y(dh,ph,vh,mh,gh,yh,_h);var wh=bh.exports;var xh={name:"transcription-editor",props:["initialContent"],mixins:[Ec,kc],components:{TextfieldForm:wh,SaveBar:hh,NewNoteActions:Jc,InEditorActions:jc,EditorButton:re,ModalConfirmNoteDelete:nh,NoteActions:$c,NotesListForm:Rf,NoteForm:Cf},data:function t(){return{storeActions:{save:"transcription/save",changed:"transcription/changed"},delta:null,buttons:{bold:false,italic:false,superscript:false,smallcaps:false,underline:false,del:false,expan:false,person:false,location:false,note:false,segment:false,paragraph:false}}},mounted:function t(){this.initEditor(this.$refs.editor,this.$props.initialContent)},beforeDestroy:function t(){this.deactivateEvents()},methods:{updateContent:function t(){this.delta=this.editor.getContents().ops}},computed:{}};var Eh=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"editor-area"},[n("div",{ref:"controls",staticClass:"editor-controls"},[n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Structure ditoriale")]),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.paragraph,active:t.editorHasFocus,callback:t.simpleFormat,format:"paragraph"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.verse,active:t.editorHasFocus,callback:t.simpleFormat,format:"verse"}}),t._v(" "),n("editor-button",{attrs:{active:t.isNoteButtonActive,callback:t.newNoteChoiceOpen,format:"note"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.segment,active:t.editorHasFocus,callback:t.insertSegment,format:"segment"}})],1),t._v(" "),n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Enrichissements typographiques")]),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.bold,active:t.editorHasFocus,callback:t.simpleFormat,format:"bold"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.italic,active:t.editorHasFocus,callback:t.simpleFormat,format:"italic"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.superscript,active:t.editorHasFocus,callback:t.simpleFormat,format:"superscript"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.smallcaps,active:t.editorHasFocus,callback:t.simpleFormat,format:"smallcaps"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.underline,active:t.editorHasFocus,callback:t.simpleFormat,format:"underline"}})],1),t._v(" "),n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Enrichissements smantiques")]),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.del,active:t.editorHasFocus,callback:t.simpleFormat,format:"del"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.expan,active:t.editorHasFocus,callback:t.simpleFormat,format:"expan"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.person,active:t.editorHasFocus,callback:t.displayPersonForm,format:"person"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.location,active:t.editorHasFocus,callback:t.displayLocationForm,format:"location"}})],1)]),t._v(" "),n("div",{staticClass:"editor-container"},[n("div",{ref:"editor",staticClass:"quill-editor",attrs:{id:"transcription-editor",spellcheck:"false"}}),t._v(" "),n("note-actions",{directives:[{name:"show",rawName:"v-show",value:t.selectedNoteId&&this.editor.hasFocus(),expression:"selectedNoteId && this.editor.hasFocus()"}],style:t.actionsPosition,attrs:{refs:"noteActions",newNote:t.setNoteEditModeNew,edit:t.setNoteEditModeEdit,updateLink:t.setNoteEditModeList,unlink:t.unlinkNote,delete:t.setNoteEditModeDelete}}),t._v(" "),n("new-note-actions",{directives:[{name:"show",rawName:"v-show",value:t.defineNewNote,expression:"defineNewNote"}],attrs:{modeNew:t.setNoteEditModeNew,modeLink:t.setNoteEditModeList,cancel:t.newNoteChoiceClose}})],1),t._v(" "),t.noteEditMode=="list"?n("notes-list-form",{attrs:{noteId:t.selectedNoteId,submit:t.updateNoteId,cancel:t.closeNoteEdit}}):t._e(),t._v(" "),t.formTextfield?n("textfield-form",{attrs:{title:t.formTextfield.title,label:t.formTextfield.label,value:t.formTextfield.value,submit:t.submitTextfieldForm,cancel:t.cancelTextfieldForm}}):t._e(),t._v(" "),t.noteEditMode=="new"||t.noteEditMode=="edit"?n("note-form",{attrs:{title:t.noteEditMode=="new"?"nouvelle note":"diter la note",note:t.currentNote,noteId:t.selectedNoteId,submit:t.updateNote,cancel:t.closeNoteEdit}}):t._e(),t._v(" "),t.noteEditMode=="delete"?n("modal-confirm-note-delete",{attrs:{cancel:t.closeNoteEdit,submit:t.deleteNote}}):t._e(),t._v(" "),n("save-bar",{attrs:{action:t.save}})],1)};var Oh=[];var kh=false;var Th=null;var Ch=null;var Lh=null;var Ah=Y(xh,Eh,Oh,kh,Th,Ch,Lh);var Sh=Ah.exports;var Ph={name:"translation-editor",props:["initialContent"],mixins:[Ec,kc],components:{TextfieldForm:wh,SaveBar:hh,NewNoteActions:Jc,InEditorActions:jc,EditorButton:re,ModalConfirmNoteDelete:nh,NoteActions:$c,NotesListForm:Rf,NoteForm:Cf},data:function t(){return{storeActions:{save:"translation/save",changed:"translation/changed"},delta:null,buttons:{bold:false,italic:false,superscript:false,smallcaps:false,underline:false,del:false,expan:false,person:false,location:false,note:false}}},mounted:function t(){this.initEditor(this.$refs.editor,this.$props.initialContent)},methods:{updateContent:function t(){this.delta=this.editor.getContents().ops}},computed:{}};var Nh=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"editor-area"},[n("div",{ref:"controls",staticClass:"editor-controls"},[n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Structure ditoriale")]),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.paragraph,active:t.editorHasFocus,callback:t.simpleFormat,format:"paragraph"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.verse,active:t.editorHasFocus,callback:t.simpleFormat,format:"verse"}}),t._v(" "),n("editor-button",{attrs:{active:t.isNoteButtonActive,callback:t.newNoteChoiceOpen,format:"note"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.segment,active:t.editorHasFocus,callback:t.insertSegment,format:"segment"}})],1),t._v(" "),n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Enrichissements typographiques")]),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.bold,active:t.editorHasFocus,callback:t.simpleFormat,format:"bold"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.italic,active:t.editorHasFocus,callback:t.simpleFormat,format:"italic"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.superscript,active:t.editorHasFocus,callback:t.simpleFormat,format:"superscript"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.smallcaps,active:t.editorHasFocus,callback:t.simpleFormat,format:"smallcaps"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.underline,active:t.editorHasFocus,callback:t.simpleFormat,format:"underline"}})],1),t._v(" "),n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Enrichissements smantiques")]),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.del,active:t.editorHasFocus,callback:t.simpleFormat,format:"del"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.expan,active:t.editorHasFocus,callback:t.simpleFormat,format:"expan"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.person,active:t.editorHasFocus,callback:t.displayPersonForm,format:"person"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.location,active:t.editorHasFocus,callback:t.displayLocationForm,format:"location"}})],1)]),t._v(" "),n("div",{staticClass:"editor-container"},[n("div",{ref:"editor",staticClass:"quill-editor",attrs:{id:"translation-editor",spellcheck:"false"}}),t._v(" "),n("note-actions",{directives:[{name:"show",rawName:"v-show",value:t.selectedNoteId,expression:"selectedNoteId"}],style:t.actionsPosition,attrs:{refs:"noteActions",newNote:t.setNoteEditModeNew,edit:t.setNoteEditModeEdit,updateLink:t.setNoteEditModeList,unlink:t.unlinkNote,delete:t.setNoteEditModeDelete}}),t._v(" "),n("new-note-actions",{directives:[{name:"show",rawName:"v-show",value:t.defineNewNote,expression:"defineNewNote"}],attrs:{modeNew:t.setNoteEditModeNew,modeLink:t.setNoteEditModeList,cancel:t.newNoteChoiceClose}})],1),t._v(" "),t.noteEditMode=="list"?n("notes-list-form",{attrs:{noteId:t.selectedNoteId,submit:t.updateNoteId,cancel:t.closeNoteEdit}}):t._e(),t._v(" "),t.formTextfield?n("textfield-form",{attrs:{title:t.formTextfield.title,label:t.formTextfield.label,value:t.formTextfield.value,submit:t.submitTextfieldForm,cancel:t.cancelTextfieldForm}}):t._e(),t._v(" "),t.noteEditMode=="new"||t.noteEditMode=="edit"?n("note-form",{attrs:{note:t.currentNote,noteId:t.selectedNoteId,submit:t.updateNote,cancel:t.closeNoteEdit}}):t._e(),t._v(" "),t.noteEditMode=="delete"?n("modal-confirm-note-delete",{attrs:{cancel:t.closeNoteEdit,submit:t.deleteNote}}):t._e()],1)};var Mh=[];var jh=false;var Ih=null;var Dh=null;var Rh=null;var qh=Y(Ph,Nh,Mh,jh,Ih,Dh,Rh);var Bh=qh.exports;var zh={name:"visibility-toggle",props:["visible","action","param"],methods:{clickHandler:function t(){console.log("clickHandler");this.action(this.param)}},computed:{iconClass:function t(){return this.visible?"fa-eye":"fa-eye-slash"}}};var Fh=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault();return t.clickHandler(e)}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}]},[n("i",{staticClass:"fas fa-eye"})]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.visible,expression:"!visible"}]},[n("i",{staticClass:"fas fa-eye-slash"})]),t._v(" "),t._t("default")],2)};var Uh=[];function $h(t){n(51)}var Hh=false;var Zh=$h;var Vh="data-v-b44fdeda";var Wh=null;var Gh=Y(zh,Fh,Uh,Hh,Zh,Vh,Wh);var Kh=Gh.exports;var Yh={name:"minimal-message",props:["type","body"]};var Xh=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("article",{staticClass:"message",class:t.type},[n("div",{staticClass:"message-body"},[n("p",{domProps:{innerHTML:t._s(t.body)}})])])};var Jh=[];var Qh=false;var td=null;var ed=null;var nd=null;var id=Y(Yh,Xh,Jh,Qh,td,ed,nd);var rd=id.exports;var od=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){t[i]=n[i]}}}return t};var ad={name:"transcription-edition",components:{MinimalMessage:rd,VisibilityToggle:Kh,IIIFMap:It,TranslationEditor:Bh,TranscriptionEditor:Sh},data:function t(){return{visibility:{image:true,transcription:true,translation:true}}},methods:{toggle:function t(e){console.log("toggle",e);this.visibility[e]=!this.visibility[e]},createTranscription:function t(){var e=this;this.$refs.createTranscriptionButton.setAttribute("disabled","disabled");this.$store.dispatch("transcription/create").then(function(t){console.log("transcription created",t);e.$store.dispatch("transcription/fetch")})},createTranslation:function t(){this.$refs.createTranslationButton.setAttribute("disabled","disabled")}},computed:od({nbCols:function t(){var e=0;if(this.visibility.image)e++;if(this.visibility.transcription)e++;if(this.visibility.translation)e++;return e},columnSize:function t(){if(this.nbCols==2){return"is-half"}else if(this.nbCols==3){return"is-one-third"}return false},isNight:function t(){return this.nbCols?"is-night":""},displayTranscriptionEditor:function t(){return!!this.transcriptionWithSpeechparts},displayTranslationEditor:function t(){return!!this.translationWithNotes},allowedToCreateTranscription:function t(){return!this.transcriptionLoading&&this.currentUserIsAuthor},allowedToCreateTranslation:function t(){return!this.translationLoading&&this.currentUserIsAuthor&&(this.currentUserIsStudent&&this.referenceTranscription||this.currentUserIsTeacher&&this.transcription)}},B("document",["manifestURL"]),R("transcription",["transcriptionContent","transcriptionWithNotes","transcriptionWithSpeechparts","referenceTranscription","transcriptionLoading"]),R("translation",["translationWithNotes","translationLoading"]),R("user",["currentUser","author"]),B("user",["currentUserIsAuthor","currentUserIsStudent","currentUserIsTeacher"]))};var sd=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{class:t.isNight,attrs:{id:"transcription-edition"}},[n("transition",{attrs:{name:"fade"}},[t.nbCols===0?n("div",{attrs:{id:"joke"}},[n("img",{attrs:{id:"astronaut",src:"/adele/static/images/astronaut.svg"}})]):t._e()]),t._v(" "),n("p",{staticClass:"has-text-right is-size-7",staticStyle:{"margin-bottom":"1em"}},[n("span",{staticClass:"tag"},[t._v("\n        Affichage : \n        "),n("visibility-toggle",{attrs:{action:t.toggle,param:"image",visible:t.visibility.image}},[t._v("image")]),t._v("\n        \n        "),n("visibility-toggle",{attrs:{action:t.toggle,param:"transcription",visible:t.visibility.transcription}},[t._v("transcription")]),t._v("\n        \n        "),n("visibility-toggle",{attrs:{action:t.toggle,param:"translation",visible:t.visibility.translation}},[t._v("traduction")])],1)]),t._v(" "),n("div",{staticClass:"columns"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visibility.image,expression:"visibility.image"}],staticClass:"column",class:t.columnSize},[n("h2",{staticClass:"subtitle"},[t._v("Image")]),t._v(" "),n("IIIFMap",{attrs:{manifest:t.manifestURL,"draw-mode":false,"display-annotations-mode":false}})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.visibility.transcription,expression:"visibility.transcription"}],staticClass:"column",class:t.columnSize},[n("h2",{staticClass:"subtitle"},[t._v("Transcription")]),t._v(" "),t.displayTranscriptionEditor?n("transcription-editor",{attrs:{initialContent:t.transcriptionWithNotes}}):n("div",[!t.transcriptionLoading?n("minimal-message",{attrs:{body:"Aucune transcription pour le moment"}}):t._e(),t._v(" "),t.allowedToCreateTranscription?n("p",[n("a",{ref:"createTranscriptionButton",staticClass:"button is-link",on:{click:t.createTranscription}},[t._v("Ajouter une transcription")])]):t._e()],1)],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.visibility.translation,expression:"visibility.translation"}],staticClass:"column",class:t.columnSize},[n("h2",{staticClass:"subtitle"},[t._v("Traduction")]),t._v(" "),t.displayTranslationEditor?n("translation-editor",{attrs:{initialContent:t.translationWithNotes}}):n("div",[!t.translationLoading?n("minimal-message",{attrs:{body:"Aucune traduction pour le moment"}}):t._e(),t._v(" "),t.allowedToCreateTranslation?n("p",[n("a",{ref:"createTranslationButton",staticClass:"button is-link",on:{click:t.createTranslation}},[t._v("Ajouter une traduction")])]):t._e()],1)],1)])],1)};var ld=[];function ud(t){n(124)}var cd=false;var fd=ud;var hd="data-v-145e3bc9";var dd=null;var pd=Y(ad,sd,ld,cd,fd,hd,dd);var vd=pd.exports;var md=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){t[i]=n[i]}}}return t};var gd={name:"translation-edition",components:{TranslationEditor:Bh},computed:md({},B("transcription",["transcriptionWithNotes"]),B("translation",["translationWithNotes"]))};var yd=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-half"},[n("div",{domProps:{innerHTML:t._s(t.transcriptionWithNotes)}})]),t._v(" "),n("div",{staticClass:"column is-half"},[!!t.translationWithNotes?n("translation-editor",{attrs:{initialContent:t.translationWithNotes}}):t._e()],1)])};var _d=[];function bd(t){n(49)}var wd=false;var xd=bd;var Ed="data-v-58fde576";var Od=null;var kd=Y(gd,yd,_d,wd,xd,Ed,Od);var Td=kd.exports;var Cd={name:"alignment-editor",props:["initialContent","type"],mixins:[Ec],components:{SaveBar:hh},data:function t(){return{storeActions:{save:"saveTranslation",changed:"translationChanged"},delta:null,buttons:{bold:false,italic:false,superscript:false,smallcaps:false,underline:false,del:false,expan:false,person:false,location:false,note:false}}},mounted:function t(){this.initEditor(this.$refs.editor,this.$props.initialContent);this.editor.on("selection-change",this.onAlignSelection);this.editor.on("text-change",this.onAlignTextChange)},beforeDestroy:function t(){console.log("beforeDestroy");this.editor.off("selection-change",this.onAlignSelection);this.editor.off("text-change",this.onAlignTextChange)},methods:{updateContent:function t(){this.delta=this.editor.getContents().ops},onAlignSelection:function t(e){if(e){var n=this.editor.getContents(e.index-1,1);var i=false;n.ops.forEach(function(t){if(t.insert&&t.insert.segment)i=true});if(e.length===0&&i){this.allowBackspace()}else{this.preventBackspace()}}},onAlignTextChange:function t(e,n,i){var r=this.editor.getSelection();this.onAlignSelection(r)},preventBackspace:function t(){document.addEventListener("keydown",this.backspacePreventHandler,true)},allowBackspace:function t(){document.removeEventListener("keydown",this.backspacePreventHandler,true)},backspacePreventHandler:function t(e){if(e.keyCode===8){e.preventDefault()}}},computed:{}};var Ld=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"editor-area"},[n("div",{staticClass:"editor-container"},[n("div",{ref:"editor",staticClass:"quill-editor",attrs:{spellcheck:"false"}})]),t._v(" "),n("save-bar",{attrs:{action:t.save}})],1)};var Ad=[];var Sd=false;var Pd=null;var Nd=null;var Md=null;var jd=Y(Cd,Ld,Ad,Sd,Pd,Nd,Md);var Id=jd.exports;var Dd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){t[i]=n[i]}}}return t};var Rd={name:"alignment-edition",components:{AlignmentEditor:Id,TranslationEditor:Bh},computed:Dd({},B(["transcriptionHTML","translationHTML"]))};var qd=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-half"},[n("alignment-editor",{attrs:{initialContent:t.transcriptionHTML,type:"transcription"}})],1),t._v(" "),n("div",{staticClass:"column is-half"},[n("alignment-editor",{attrs:{initialContent:t.translationHTML,type:"translation"}})],1)])};var Bd=[];function zd(t){n(47)}var Fd=false;var Ud=zd;var $d="data-v-b5ba62ea";var Hd=null;var Zd=Y(Rd,qd,Bd,Fd,Ud,$d,Hd);var Vd=Zd.exports;var Wd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){t[i]=n[i]}}}return t};var Gd={name:"speechpart-form",mixins:[Ec],components:{EditorButton:re,FieldSelect:gf,ModalForm:lf},props:["title","speechpartId","speechpart","cancel","submit"],data:function t(){return{form:{},textLength:0,editor:null,buttons:{bold:false,italic:false,superscript:false,smallcaps:false,underline:false,del:false}}},mounted:function t(){console.log("speechPartForm.mounted",this.speechpart);this.$refs.editor.innerHTML=!!this.$props.speechpart?this.$props.speechpart.note?this.$props.speechpart.note:"":"";this.editor=vc(this.$refs.editor);this.editor.on("selection-change",this.onSelection);this.editor.on("selection-change",this.onFocus);this.editor.on("text-change",this.onTextChange);this.textLength=this.editor.getLength();this.form=Object.assign({},this.speechpart);this.form.type_id=this.speechpart.speech_part_type?this.speechpart.speech_part_type.id:0;console.log("SpeechpartForm.mounted",this.form)},methods:{onSelectChange:function t(e){this.form.type_id=e},onTextChange:function t(){this.textLength=this.editor.getLength();this.form.note=this.$refs.editor.childNodes[0].innerHTML},onSelection:function t(e){if(e){var n=this.editor.getFormat(e.index,e.length);this.updateButtons(n)}},submitAction:function t(){this.$props.submit(this.form)},cancelAction:function t(){this.$props.cancel()}},computed:Wd({},B("speechpartTypes",["speechpartTypes"]))};var Kd=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("modal-form",{attrs:{title:t.title,cancel:t.cancelAction,submit:t.submitAction,valid:true,submittin:null}},[n("div",{staticClass:"SpeechpartForm"},[n("form",[n("field-select",{attrs:{label:"Type",selected:t.form.type_id,options:t.speechpartTypes,onChange:t.onSelectChange}}),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("label",{staticClass:"label"},[t._v("Contenu")])]),n("div",{staticClass:"editor-area"},[n("div",{ref:"controls",staticClass:"editor-controls"},[n("editor-button",{attrs:{selected:t.buttons.bold,active:t.editorHasFocus,callback:t.simpleFormat,format:"bold"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.italic,active:t.editorHasFocus,callback:t.simpleFormat,format:"italic"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.superscript,active:t.editorHasFocus,callback:t.simpleFormat,format:"superscript"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.smallcaps,active:t.editorHasFocus,callback:t.simpleFormat,format:"smallcaps"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.underline,active:t.editorHasFocus,callback:t.simpleFormat,format:"underline"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.del,active:t.editorHasFocus,callback:t.simpleFormat,format:"del"}})],1),t._v(" "),n("div",{ref:"editor",staticClass:"quill-editor",attrs:{spellcheck:"false"}})]),t._v(" "),n("p")])],1)])])};var Yd=[];var Xd=false;var Jd=null;var Qd=null;var tp=null;var ep=Y(Gd,Kd,Yd,Xd,Jd,Qd,tp);var np=ep.exports;var ip={name:"speechpart-actions",props:{edit:{type:Function,required:true},delete:{type:Function,required:true}},methods:{deleteAction:function t(){this.$props.delete()},editAction:function t(){this.$props.edit()}}};var rp=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"speechpart-actions"},[n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-warning",on:{click:t.editAction}},[t._m(0),t._v(" "),n("span",[t._v("diter la partie du discours")])])])]),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-danger",on:{click:t.deleteAction}},[t._m(1),t._v(" "),n("span",[t._v("Supprimer la partie du discours")])])])])])};var op=[function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-edit"})])},function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-trash"})])}];var ap=false;var sp=null;var lp=null;var up=null;var cp=Y(ip,rp,op,ap,sp,lp,up);var fp=cp.exports;var hp={name:"modal-confirm-speechpart-delete",props:["cancel","submit"],components:{ModalConfirm:Wf},methods:{submitAction:function t(){this.$props.submit(this.selected)},cancelAction:function t(){this.$props.cancel()}}};var dp=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("modal-confirm",{attrs:{title:"Supprimer la partie du discours ?",submitText:"Oui je veux la supprimer",cancel:t.cancelAction,submit:t.submitAction}},[n("article",{staticClass:"message is-danger"},[n("div",{staticClass:"message-header"},[n("p",[t._v("Danger")])]),t._v(" "),n("div",{staticClass:"message-body"},[n("p",[t._v("Vous tes sur le point de supprimer une partie du discours.")]),t._v(" "),n("p",[n("strong",[t._v("Cette action ne peut pas tre annule.")])])])])])};var pp=[];var vp=false;var mp=null;var gp=null;var yp=null;var _p=Y(hp,dp,pp,vp,mp,gp,yp);var bp=_p.exports;var wp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){t[i]=n[i]}}}return t};var xp={name:"speechparts-editor",props:["initialContent"],mixins:[Ec],components:{ModalConfirmSpeechpartDelete:bp,SpeechpartActions:fp,SpeechpartForm:np,SaveBar:hh,InEditorActions:jc,EditorButton:re},data:function t(){return{storeActions:{save:"transcription/save",changed:"transcription/changed"},delta:null,speechpartEditMode:null,selectedSpeechpartId:null,currentSpeechpart:null,defineNewSpeechpart:false,buttons:{speechpart:false}}},mounted:function t(){this.initEditor(this.$refs.editor,this.$props.initialContent);this.preventKeyboard();this.activateMouseOver()},beforeDestroy:function t(){this.allowKeyboard();this.deactivateMouseOver()},methods:{updateContent:function t(){this.delta=this.editor.getContents().ops},updateButtons:function t(e){for(var n in this.buttons){this.buttons[n]=!!e[n]}},onSelection:function t(e){if(e){this.setRangeBound(e);var n=this.editor.getFormat(e.index,e.length);this.updateButtons(n);if(!!n.speechpart){this.onSpeechpartSelected(n.speechpart,e);this.buttons.speechpart=false}else{this.selectedSpeechpartId=null;this.buttons.speechpart=true}}},onSpeechpartSelected:function t(e,n){if(!n.length)return;this.selectedSpeechpartId=e},updateSpeechpart:function t(e){var n=this.speechpartEditMode==="new";var i=n?"add":"update";e.speech_part_type=this.getSpeechpartTypeById(e.type_id);this.editor.format("speechpart",this.$store.state.speechparts.speechparts.length);this.$store.dispatch("speechparts/add",e);this.closeSpeechpartEdit()},deleteSpeechpart:function t(){this.editor.format("speechpart",false);this.selectedSpeechpartId=null;this.closeSpeechpartEdit()},setSpeechpartEditModeDelete:function t(){this.speechpartEditMode="delete"},setSpeechpartEditModeNew:function t(){this.speechpartEditMode="new";this.currentSpeechpart={transcription_id:this.transcription.id};this.newSpeechpartChoiceClose()},setSpeechpartEditModeEdit:function t(){this.speechpartEditMode="edit";this.currentSpeechpart=this.$store.state.speechparts.speechparts[this.selectedSpeechpartId]},newSpeechpartChoiceClose:function t(){this.defineNewSpeechpart=false},closeSpeechpartEdit:function t(){this.speechpartEditMode=null;this.currentSpeechpart=null;this.editor.focus()},preventKeyboard:function t(){document.addEventListener("keydown",this.keyboardPreventHandler,true)},allowKeyboard:function t(){document.removeEventListener("keydown",this.keyboardPreventHandler,true)},keyboardPreventHandler:function t(e){if(!this.editor.hasFocus())return;if(e.keyCode<37||e.keyCode>40){e.preventDefault()}},activateMouseOver:function t(){this.$refs.editor.addEventListener("mouseover",this.mouseOverHandler);this.$refs.editor.addEventListener("mouseout",this.mouseOutHandler)},deactivateMouseOver:function t(){this.$refs.editor.removeEventListener("mouseover",this.mouseOverHandler);this.$refs.editor.removeEventListener("mouseout",this.mouseOutHandler)},mouseOverHandler:function t(e){var n=null;if(e.target.tagName.toLowerCase()==="speechpart"){n=parseInt(e.target.getAttribute("id"))}else if(e.target.parentNode.tagName.toLowerCase()==="speechpart"){n=parseInt(e.target.parentNode.getAttribute("id"))}if(n===null)return;this.$store.dispatch("speechparts/mouseover",{speechpart:this.$store.state.speechparts.speechparts[n],posY:e.clientY})},mouseOutHandler:function t(e){this.$store.dispatch("speechparts/mouseover",{speechpart:false,posY:0})}},computed:wp({isSpeechpartButtonActive:function t(){var e=this.editorHasFocus&&this.buttons.speechpart;return e}},B("transcription",["transcription"]),B("speechparts",["newSpeechpart"]),B("speechpartTypes",["getSpeechpartTypeById"]))};var Ep=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",[n("h1",{staticClass:"title"},[t._v("Parties du discours")]),t._v(" "),n("div",{staticClass:"editor-area"},[n("div",{ref:"controls",staticClass:"editor-controls"},[n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Structure ditoriale")]),t._v(" "),n("editor-button",{attrs:{active:t.isSpeechpartButtonActive,callback:t.setSpeechpartEditModeNew,format:"speechpart"}})],1)]),t._v(" "),n("div",{staticClass:"editor-container"},[n("div",{ref:"editor",staticClass:"quill-editor",attrs:{spellcheck:"false"}}),t._v(" "),n("speechpart-actions",{directives:[{name:"show",rawName:"v-show",value:t.selectedSpeechpartId&&this.editor.hasFocus(),expression:"selectedSpeechpartId && this.editor.hasFocus()"}],style:t.actionsPosition,attrs:{refs:"speechpartActions",edit:t.setSpeechpartEditModeEdit,delete:t.setSpeechpartEditModeDelete}})],1),t._v(" "),n("save-bar",{attrs:{action:t.save}}),t._v(" "),t.speechpartEditMode=="new"||t.speechpartEditMode=="edit"?n("speechpart-form",{attrs:{speechpart:t.currentSpeechpart,speechpartId:t.selectedSpeechpartId,submit:t.updateSpeechpart,cancel:t.closeSpeechpartEdit}}):t._e(),t._v(" "),t.speechpartEditMode=="delete"?n("modal-confirm-speechpart-delete",{attrs:{cancel:t.closeSpeechpartEdit,submit:t.deleteSpeechpart}}):t._e()],1)])};var Op=[];var kp=false;var Tp=null;var Cp=null;var Lp=null;var Ap=Y(xp,Ep,Op,kp,Tp,Cp,Lp);var Sp=Ap.exports;var Pp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){t[i]=n[i]}}}return t};var Np={name:"speechparts-edition",components:{SpeechpartsEditor:Sp},computed:Pp({hasDefinition:function t(){return this.mouseOver.speech_part_type&&this.mouseOver.speech_part_type.definition&&this.this.mouseOver.speech_part_type.definition.length>0},tooltipPosition:function t(){return"position:fixed;top: "+this.mouseOverY+"px;left:50%;"}},R("transcription",["transcriptionWithSpeechparts"]),R("speechparts",["mouseOver","mouseOverY"]))};var Mp=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-half"},[n("speechparts-editor",{attrs:{initialContent:t.transcriptionWithSpeechparts}})],1),t._v(" "),n("div",{staticClass:"column is-half"},[t.mouseOver?n("div",{staticClass:"speechpart-tooltip",style:t.tooltipPosition},[n("p",{staticClass:"speechpart-tooltip-title"},[n("strong",[t._v(t._s(t.mouseOver.speech_part_type.label))])]),t._v(" "),t.hasDefinition?n("p",{staticClass:"speechpart-tooltip-definition"},[n("em",[t._v(t._s(t.mouseOver.speech_part_type.definition))])]):t._e(),t._v(" "),n("div",{staticClass:"speechpart-tooltip-note"},[n("em",{domProps:{innerHTML:t._s(t.mouseOver.note)}})])]):t._e()])])};var jp=[];function Ip(t){n(45)}var Dp=false;var Rp=Ip;var qp="data-v-2b34eedd";var Bp=null;var zp=Y(Np,Mp,jp,Dp,Rp,qp,Bp);var Fp=zp.exports;var Up=n(31);var $p=n.n(Up);var Hp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){t[i]=n[i]}}}return t};var Zp={name:"field-multiselect",props:{label:{type:String},selectedItems:{type:Array},optionLabelField:{type:String,default:"label"},optionIdField:{type:String,default:"id"},optionsList:{type:Array},onChange:{type:Function,required:true}},directives:{ClickOutside:$p.a},data:function t(){return{listVisible:false,items:[],ids:[]}},mounted:function t(){this.updateAllItems()},methods:{addItem:function t(e){this.items.push(e);this.ids.push(e[this.optionIdField]);this.hideList();this.onChange(this.items)},deleteItem:function t(e){var n=this;this.items=this.items.filter(function(t){return t[n.optionIdField]!==e});this.ids=this.items.map(function(t){return t[n.optionIdField]});this.onChange(this.items)},updateAllItems:function t(){var e=this;if(!this.selectedItems)return;this.items=this.selectedItems.map(function(t){return Hp({},t)});this.ids=this.items.map(function(t){return t[e.optionIdField]})},displayList:function t(){this.listVisible=true},hideList:function t(){this.listVisible=false}},watch:{selectedItems:function t(){this.updateAllItems()}},computed:{optionsNotSelected:function t(){var e=this;if(!this.optionsList)return[];return this.optionsList.filter(function(t){return!e.ids.includes(t[e.optionIdField])})}}};var Vp=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"field field-multiselect"},[n("label",{staticClass:"label",domProps:{innerHTML:t._s(t.label)}}),t._v(" "),n("div",{staticClass:"field selected-list  is-grouped is-grouped-multiline"},t._l(t.items,function(e){return n("div",{key:e[t.optionIdField],staticClass:"control"},[n("div",{staticClass:"tags has-addons selected-item"},[n("span",{staticClass:"tag"},[t._v(t._s(e[t.optionLabelField]))]),t._v(" "),n("a",{staticClass:"tag is-delete",on:{click:function(n){n.preventDefault();t.deleteItem(e[t.optionIdField])}}})])])})),t._v(" "),t.optionsList.length>t.ids.length?n("div",{staticClass:"multiselect-actions"},[n("a",{staticClass:"icon is-large add-item",attrs:{href:"#"},on:{click:function(e){e.preventDefault();return t.displayList(e)}}},[t._m(0)]),t._v(" "),t.listVisible?n("ul",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideList,expression:"hideList"}],staticClass:"box"},t._l(t.optionsNotSelected,function(e){return n("li",{key:e[t.optionIdField]},[n("a",{staticClass:"unselected-item",attrs:{href:"#"},domProps:{innerHTML:t._s(e[t.optionLabelField])},on:{click:function(n){n.preventDefault();t.addItem(e)}}})])})):t._e()]):t._e()])};var Wp=[function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"fa-stack "},[n("i",{staticClass:"fas fa-circle fa-stack-2x"}),t._v(" "),n("i",{staticClass:"fas fa-plus fa-stack-1x "})])}];function Gp(t){n(41)}var Kp=false;var Yp=Gp;var Xp="data-v-1eaa8d02";var Jp=null;var Qp=Y(Zp,Vp,Wp,Kp,Yp,Xp,Jp);var tv=Qp.exports;var ev={name:"save-button",props:["status","text","action"],methods:{clickHandler:function t(){this.$el.blur();this.action()}},computed:{statusClass:function t(){if(this.status==="saving"){return"is-loading is-primary is-outlined"}else if(this.status==="error"){return"is-danger is-outlined"}else if(this.status==="success"){return"is-success is-outlined"}return"is-primary"},statustext:function t(){if(this.status==="loading"){return"Enregistrement..."}else if(this.status==="error"){return"Erreur"}else if(this.status==="success"){return"Enregistrement termin"}return this.text}}};var nv=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("button",{staticClass:"save-button button",class:t.statusClass,on:{click:function(e){e.preventDefault();return t.clickHandler(e)}}},[t._v(t._s(t.statustext))])};var iv=[];function rv(t){n(39)}var ov=false;var av=rv;var sv="data-v-2fcd2e6c";var lv=null;var uv=Y(ev,nv,iv,ov,av,sv,lv);var cv=uv.exports;var fv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){t[i]=n[i]}}}return t};var hv={components:{SaveButton:cv,FieldMultiselect:tv,EditorButton:re,FieldSelect:gf},name:"notice-edition",mixins:[Ec],data:function t(){return{status:"",form:{},centuries:[{id:null,label:"Non dfini"},{id:10,label:"X<sup>e</sup> s."},{id:11,label:"XI<sup>e</sup> s."},{id:12,label:"XII<sup>e</sup> s."},{id:13,label:"XIII<sup>e</sup> s."},{id:14,label:"XIV<sup>e</sup> s."},{id:15,label:"XV<sup>e</sup> s."},{id:16,label:"XVI<sup>e</sup> s."},{id:17,label:"XVII<sup>e</sup> s."},{id:18,label:"XVIII<sup>e</sup> s."}],editor:null,buttons:{bold:false,italic:false,superscript:false,smallcaps:false,underline:false,del:false}}},mounted:function t(){this.$store.dispatch("institutions/fetch");this.$store.dispatch("actTypes/fetch");this.$store.dispatch("countries/fetch");this.$store.dispatch("districts/fetch");this.$store.dispatch("editors/fetch");this.$store.dispatch("languages/fetch");this.$store.dispatch("traditions/fetch");this.$refs.editor.innerHTML=this.document.argument;this.editor=vc(this.$refs.editor);this.editor.on("selection-change",this.onSelection);this.editor.on("selection-change",this.onFocus);this.editor.on("text-change",this.onTextChange);this.textLength=this.editor.getLength();this.form=Object.assign({},this.document);console.log("this.$store.getters['institutions/getInstitutionById']",this.$store.getters["institutions/getInstitutionById"])},methods:{submit:function t(){var e=this;var n=Object.assign({},this.form);n.acte_types=this.form.acte_types.map(function(t){return t.id});n.country_id=this.form.countries.map(function(t){return t.id});n.district_id=this.form.districts.map(function(t){return t.id});n.language_code=this.form.languages.map(function(t){return t.code});n.tradition_id=this.form.traditions.map(function(t){return t.id});n.institution_id=n.institution.id;console.log("submit",n);this.status="saving";this.$store.dispatch("document/save",n).then(function(t){e.status="success"}).catch(function(t){e.status="error"})},onSelectChange:function t(e){this.form.type_id=e},onTextChange:function t(){this.textLength=this.editor.getLength();this.form.argument=this.$refs.editor.childNodes[0].innerHTML},onSelection:function t(e){if(e){var n=this.editor.getFormat(e.index,e.length);this.updateButtons(n)}},onChangeCountries:function t(e){console.log("onChangeCountries",e);this.form.countries=e},onChangeDistricts:function t(e){console.log("onChangeDistricts",e);this.form.districts=e},onChangeActTypes:function t(e){console.log("onChangeActTypes",e);this.form.acte_types=e},onChangeTraditions:function t(e){console.log("onChangeTraditions",e);this.form.traditions=e},onChangeLanguages:function t(e){console.log("onChangeLanguages",e);this.form.languages=e},onChangeEditors:function t(e){console.log("onChangeEditors",e);this.form.editors=e},onChangeCentury:function t(e){console.log("onChangeCentury",e);this.form.copy_cent=e},onChangeInstitution:function t(e){this.form.institution=this.institutionsSelect.find(function(t){return t.id===e})}},computed:fv({institutionId:function t(){console.log("institutionId",this.form.institution);return this.form.institution?this.form.institution.id:null}},B("institutions",["institutionsSelect"]),R("actTypes",["actTypes"]),R("countries",["countries"]),R("districts",["districts"]),R("document",["document"]),R("editors",["editors"]),R("languages",["languages"]),R("traditions",["traditions"]))};var dv=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("form",[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-half"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Titre")]),t._v(" "),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"input",attrs:{type:"text",placeholder:"Titre"},domProps:{value:t.form.title},on:{input:function(e){if(e.target.composing){return}t.$set(t.form,"title",e.target.value)}}})])])])]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Sous-titre")]),t._v(" "),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.subtitle,expression:"form.subtitle"}],staticClass:"textarea",attrs:{type:"text",placeholder:"Sous-titre"},domProps:{value:t.form.subtitle},on:{input:function(e){if(e.target.composing){return}t.$set(t.form,"subtitle",e.target.value)}}})])])])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Anne de cration")]),t._v(" "),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.creation,expression:"form.creation"}],staticClass:"input",attrs:{type:"number",placeholder:"Anne de cration"},domProps:{value:t.form.creation},on:{input:function(e){if(e.target.composing){return}t.$set(t.form,"creation",e.target.value)}}})])])])]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Anne de cration (formate)")]),t._v(" "),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.creation_lab,expression:"form.creation_lab"}],staticClass:"input",attrs:{type:"text",placeholder:"[1200-1210 ca.]"},domProps:{value:t.form.creation_lab},on:{input:function(e){if(e.target.composing){return}t.$set(t.form,"creation_lab",e.target.value)}}})])])])]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Anne de la copie (formate)")]),t._v(" "),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.copy_year,expression:"form.copy_year"}],staticClass:"input",attrs:{type:"text",placeholder:"[1200-1210 ca.]"},domProps:{value:t.form.copy_year},on:{input:function(e){if(e.target.composing){return}t.$set(t.form,"copy_year",e.target.value)}}})])])])]),t._v(" "),n("field-select",{attrs:{options:t.centuries,selected:t.form.copy_cent,label:"Sicle de la copie",onChange:t.onChangeCentury}}),t._v(" "),n("hr"),t._v(" "),n("field-select",{attrs:{options:t.institutionsSelect,selected:t.institutionId,label:"Institution de conservation",onChange:t.onChangeInstitution}}),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Pressmark")]),t._v(" "),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pressmark,expression:"form.pressmark"}],staticClass:"input",attrs:{type:"text",placeholder:"Cote"},domProps:{value:t.form.pressmark},on:{input:function(e){if(e.target.composing){return}t.$set(t.form,"pressmark",e.target.value)}}})])])])]),t._v(" "),n("div",{staticClass:"field"},[t._m(0),t._v(" "),n("div",{staticClass:"editor-area"},[n("div",{ref:"controls",staticClass:"editor-controls"},[n("editor-button",{attrs:{selected:t.buttons.bold,active:t.editorHasFocus,callback:t.simpleFormat,format:"bold"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.italic,active:t.editorHasFocus,callback:t.simpleFormat,format:"italic"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.superscript,active:t.editorHasFocus,callback:t.simpleFormat,format:"superscript"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.smallcaps,active:t.editorHasFocus,callback:t.simpleFormat,format:"smallcaps"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.underline,active:t.editorHasFocus,callback:t.simpleFormat,format:"underline"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.del,active:t.editorHasFocus,callback:t.simpleFormat,format:"del"}})],1),t._v(" "),n("div",{ref:"editor",staticClass:"quill-editor",attrs:{spellcheck:"false"}})])])],1),t._v(" "),n("div",{staticClass:"column is-half"},[n("field-multiselect",{attrs:{label:"Pays :",optionsList:t.countries,selectedItems:t.form.countries,onChange:t.onChangeCountries}}),t._v(" "),n("field-multiselect",{attrs:{label:"District(s) :",optionsList:t.districts,selectedItems:t.form.districts,onChange:t.onChangeDistricts}}),t._v(" "),n("field-multiselect",{attrs:{label:"Type(s) d'acte(s) :",optionsList:t.actTypes,selectedItems:t.form.acte_types,onChange:t.onChangeActTypes}}),t._v(" "),n("field-multiselect",{attrs:{label:"Tradition(s) :",optionsList:t.traditions,selectedItems:t.form.traditions,onChange:t.onChangeTraditions}}),t._v(" "),n("field-multiselect",{attrs:{label:"Langage(s) :",optionIdField:"code",optionsList:t.languages,selectedItems:t.form.languages,onChange:t.onChangeLanguages}}),t._v(" "),n("field-multiselect",{attrs:{label:"diteur(s) :",optionLabelField:"name",optionsList:t.editors,selectedItems:t.form.editors,onChange:t.onChangeEditors}})],1)]),t._v(" "),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("save-button",{attrs:{status:t.status,text:"Enregistrer les modifications",action:t.submit}})],1)])])};var pv=[function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("p",{staticClass:"control"},[n("label",{staticClass:"label"},[t._v("Argument")])])}];function vv(t){n(43)}var mv=false;var gv=vv;var yv="data-v-915611da";var _v=null;var bv=Y(hv,dv,pv,mv,gv,yv,_v);var wv=bv.exports;var xv={name:"loading-indicator",props:{active:{type:Boolean,default:false},fullPage:{type:Boolean,default:false}},computed:{myClasses:function t(){var e=[];if(this.active)e.push("is-active");if(this.fullPage)e.push("is-full-page");return e.join(" ")}}};var Ev=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.active?n("div",{staticClass:"loading-overlay",class:t.myClasses},[n("div",{staticClass:"loading-background"}),t._v(" "),n("div",{staticClass:"loading-icon"})]):t._e()])};var Ov=[];function kv(t){n(37)}var Tv=false;var Cv=kv;var Lv="data-v-6239f32a";var Av=null;var Sv=Y(xv,Ev,Ov,Tv,Cv,Lv,Av);var Pv=Sv.exports;var Nv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){t[i]=n[i]}}}return t};var Mv={name:"author-swap-list-form",props:["title","selectedAuthor","cancel","submit"],components:{ModalForm:lf},data:function t(){return{selected:null,id:false}},mounted:function t(){this.selected=this.selectedAuthor;this.id=this.selected.id},methods:{selectItem:function t(e){this.selected=e;this.id=e.id;console.log("Select user",this.id,this.selected)},submitAction:function t(){this.$props.submit(this.selected)},cancelAction:function t(){this.$props.cancel()}},computed:Nv({},R("user",["author","currentUser"]),R("document",["document"]))};var jv=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("modal-form",{attrs:{title:"Auteur des travaux  afficher",cancel:t.cancelAction,submit:t.submitAction,valid:!!t.selected}},[n("div",{staticClass:"authors-list-form"},[n("a",{key:t.currentUser.id,staticClass:"authors-list-item list-item",class:{selected:t.currentUser.id==t.id},on:{click:function(e){t.selectItem(t.currentUser)}}},[t._v("Vous-mme ("+t._s(t.currentUser.username)+")")]),t._v(" "),n("hr"),t._v(" "),n("p",{staticClass:"list-subsection-title"},[t._v(t._s(t.document.whitelist.label))]),t._v(" "),t._l(t.document.whitelist.users,function(e){return n("a",{key:e.id,staticClass:"authors-list-item list-item",class:{selected:e.id==t.id},on:{click:function(n){t.selectItem(e)}}},[t._v(t._s(e.first_name)+" "+t._s(e.last_name))])})],2)])};var Iv=[];var Dv=false;var Rv=null;var qv=null;var Bv=null;var zv=Y(Mv,jv,Iv,Dv,Rv,qv,Bv);var Fv=zv.exports;var Uv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){t[i]=n[i]}}}return t};var $v={name:"document-edition",components:{MinimalMessage:rd,AuthorSwapListForm:Fv,LoadingIndicator:Pv,NoticeEdition:wv,SpeechpartsEdition:Fp,SpeechpartsEditor:Sp,AlignmentEdition:Vd,TranslationEdition:Td,FacsimileEditor:Vt,TranscriptionEdition:vd,Tabs:ft,Tab:nt},data:function t(){return{swapUser:false}},created:function t(){this.$store.dispatch("transcription/fetch")},methods:{swapAuthor:function t(e){this.cancelSwap();this.$store.dispatch("user/setAuthor",e);this.$store.dispatch("transcription/reset");this.$store.dispatch("translation/reset");this.$store.dispatch("transcription/fetch")},cancelSwap:function t(){this.swapUser=false}},computed:Uv({enabledSwapAuthor:function t(){return this.$store.getters["user/currentUserIsTeacher"]&&this.document.whitelist&&this.document.whitelist.users&&this.document.whitelist.users.length>0}},R("user",["author"]),R("document",["document"]),R("transcription",["transcriptionLoading","transcription"]),R("translation",["translation","translationLoading"]),B("user",["currentUserIsStudent"]))};var Hv=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",[n("loading-indicator",{attrs:{active:t.transcriptionLoading&&t.translationLoading,"full-page":true}}),t._v(" "),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("h1",{staticClass:"title is-size-5",staticStyle:{display:"inline-block","margin-bottom":"0.5em"}},[t._v("Document "+t._s(t.document.id))]),t._v(" "),t.document.whitelist&&!t.currentUserIsStudent?n("a",{staticClass:"button is-link is-small",staticStyle:{"margin-left":"20px"},on:{click:function(e){t.swapUser=true}}},[n("i",{staticClass:"fas fa-user-circle",staticStyle:{"margin-right":"8px"}}),t._v(t._s(t.author.username)+"\n            ")]):t._e()])]),t._v(" "),n("tabs",[n("tab",{attrs:{name:"dition",selected:true}},[n("transcription-edition")],1),t._v(" "),n("tab",{attrs:{name:"Facsimil"}},[!!t.transcription?n("div",[n("facsimile-editor")],1):n("minimal-message",{attrs:{body:"Aucune transcription pour le moment. Une transcription est ncessaire pour diter le facsimil."}})],1),t._v(" "),n("tab",{attrs:{name:"Parties du discours"}},[!!t.transcription?n("div",[n("speechparts-edition")],1):n("minimal-message",{attrs:{body:"Aucune transcription pour le moment. Une transcription est ncessaire pour diter les parties du discours."}})],1),t._v(" "),!t.currentUserIsStudent?n("tab",{attrs:{name:"Notice"}},[n("h1",[t._v("Notice")]),t._v(" "),n("notice-edition")],1):t._e()],1),t._v(" "),t.swapUser?n("author-swap-list-form",{attrs:{"selected-author":t.author,cancel:t.cancelSwap,submit:t.swapAuthor}}):t._e()],1)};var Zv=[];function Vv(t){n(151)}var Wv=false;var Gv=Vv;var Kv="data-v-6d553339";var Yv=null;var Xv=Y($v,Hv,Zv,Wv,Gv,Kv,Yv);var Jv=Xv.exports;var Qv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){t[i]=n[i]}}}return t};var tm={name:"app",components:{DocumentEdition:Jv},props:["doc_id","auth_token"],created:function t(){var e=this;this.$store.dispatch("user/setAuthToken",this.auth_token).then(function(){e.$store.dispatch("user/getCurrentUser").then(function(){return e.$store.dispatch("document/fetch",e.doc_id)})})},computed:Qv({},B("document",["document"]))};var em=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{attrs:{id:"app"}},[!!t.document?n("div",[n("document-edition")],1):t._e()])};var nm=[];function im(t){n(153)}var rm=false;var om=im;var am=null;var sm=null;var lm=Y(tm,em,nm,rm,om,am,sm);var um=lm.exports;var cm={currentUser:undefined,authToken:undefined,author:undefined};var fm={UPDATE_CURRENT_USER:function t(e,n){e.currentUser=n;console.log("STORE MUTATION user/UPDATE_CURRENT_USER")},UPDATE_AUTHOR:function t(e,n){e.author=n;console.log("STORE MUTATION user/UPDATE_AUTHOR",e.author.id,e.author)},UPDATE_AUTH_TOKEN:function t(e,n){e.authToken=n}};var hm={getCurrentUser:function t(e){var n=e.commit,i=e.rootGetters;var r=i["user/authHeader"];return dt.a.get("/adele/api/1.0/user",r).then(function(t){n("UPDATE_CURRENT_USER",t.data.data);n("UPDATE_AUTHOR",t.data.data)})},setAuthToken:function t(e,n){var i=e.commit;i("UPDATE_AUTH_TOKEN",n)},setAuthor:function t(e,n){var i=e.commit;console.log("STORE ACTION user/setAuthor",n.id,n);i("UPDATE_AUTHOR",n)}};var dm=function t(e,n){var i="";if(!(e&&e.roles))return false;switch(e.roles.length){case 1:i="student";break;case 2:i="teacher";break;case 3:i="admin";break}return i===n};var pm={authToken:function t(e){return e.authToken},authHeader:function t(e){return{auth:{username:e.authToken,password:undefined}}},currentUser:function t(e){return e.currentUser},author:function t(e){return e.author},currentUserIsAdmin:function t(e){return dm(e.currentUser,"admin")},currentUserIsAuthor:function t(e){return e.currentUser.id===e.author.id},currentUserIsTeacher:function t(e){return dm(e.currentUser,"teacher")},currentUserIsStudent:function t(e){return dm(e.currentUser,"student")}};var vm={namespaced:true,state:cm,mutations:fm,actions:hm,getters:pm};var mm=vm;var gm={document:undefined,documents:[]};var ym={UPDATE_DOCUMENT:function t(e,n){console.log("UPDATE_DOCUMENT",n);e.document=n},UPDATE_ALL:function t(e,n){e.documents=n}};var _m={fetch:function t(e,n){var i=e.commit;return dt.a.get("/adele/api/1.0/documents/"+n).then(function(t){i("UPDATE_DOCUMENT",t.data.data)})},save:function t(e,n){var i=e.commit,r=e.rootGetters;var o=r["user/authHeader"];return new Promise(function(t,e){dt.a.put("/adele/api/1.0/documents",{data:n},o).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else{i("UPDATE_DOCUMENT",n.data.data);t(n.data)}}).catch(function(t){console.error("error",t);e(t)})})},fetchAll:function t(e,n){var i=e.commit;return dt.a.get("/adele/api/1.0/documents").then(function(t){i("UPDATE_DOCUMENT",t.data.data)})}};var bm={document:function t(e){return e.document},manifestURL:function t(e,n,i){var r="/adele/api/1.0/documents/"+e.document.id+"/manifest";return e.document&&e.document.images&&e.document.images.length>0?r:null}};var wm={namespaced:true,state:gm,mutations:ym,actions:_m,getters:bm};var xm=wm;var Em={actTypes:[]};var Om={UPDATE:function t(e,n){e.actTypes=n}};var km={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/acte-types").then(function(t){var e=t.data.data;var i=Array.isArray(e);var r=i?e:[e];n("UPDATE",r)})}};var Tm={};var Cm={namespaced:true,state:Em,mutations:Om,actions:km,getters:Tm};var Lm=Cm;var Am={countries:[]};var Sm={UPDATE:function t(e,n){e.countries=n}};var Pm={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/countries").then(function(t){var e=t.data.data;var i=Array.isArray(e);var r=i?e:[e];n("UPDATE",r)})}};var Nm={};var Mm={namespaced:true,state:Am,mutations:Sm,actions:Pm,getters:Nm};var jm=Mm;var Im={districts:[]};var Dm={UPDATE:function t(e,n){e.districts=n}};var Rm={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/districts").then(function(t){var e=t.data.data;var i=Array.isArray(e);var r=i?e:[e];n("UPDATE",r)})}};var qm={};var Bm={namespaced:true,state:Im,mutations:Dm,actions:Rm,getters:qm};var zm=Bm;var Fm={};var Um={editors:[]};var $m={UPDATE:function t(e,n){e.editors=n}};var Hm={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/editors").then(function(t){var e=t.data.data;var i=Array.isArray(e);var r=i?e:[e];n("UPDATE",r)})}};var Zm={};var Vm={namespaced:true,state:Um,mutations:$m,actions:Hm,getters:Zm};var Wm=Vm;var Gm={institutions:[]};var Km={UPDATE:function t(e,n){e.institutions=n}};var Ym={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/institutions").then(function(t){var e=t.data.data;var i=Array.isArray(e);var r=i?e:[e];n("UPDATE",r)})}};var Xm={institutionsSelect:function t(e){var n=e.institutions.map(function(t){return{id:t.id,label:t.name}});n.unshift({id:null,label:"Non dfinie"});return n}};var Jm={namespaced:true,state:Gm,mutations:Km,actions:Ym,getters:Xm};var Qm=Jm;var tg={languages:[]};var eg={UPDATE:function t(e,n){e.languages=n}};var ng={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/languages").then(function(t){var e=t.data.data;var i=Array.isArray(e);var r=i?e:[e];n("UPDATE",r)})}};var ig={};var rg={namespaced:true,state:tg,mutations:eg,actions:ng,getters:ig};var og=rg;var ag={traditions:[]};var sg={UPDATE:function t(e,n){e.traditions=n}};var lg={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/traditions").then(function(t){var e=t.data.data;var i=Array.isArray(e);var r=i?e:[e];n("UPDATE",r)})}};var ug={};var cg={namespaced:true,state:ag,mutations:sg,actions:lg,getters:ug};var fg=cg;var hg=new DOMParser;var dg=new XMLSerializer;var pg={h1:{tag:"head",attr:"type",attrValue:"h1"},h2:{tag:"head",attr:"type",attrValue:"h2"},h3:{tag:"head",attr:"type",attrValue:"h3"},h4:{tag:"head",attr:"type",attrValue:"h4"},h5:{tag:"head",attr:"type",attrValue:"h5"},h6:{tag:"head",attr:"type",attrValue:"h6"},section:{tag:"div"},ul:{tag:"list"},li:{tag:"item"},i:{tag:"hi",attr:"rend",attrValue:"i"},strong:{tag:"hi",attr:"rend",attrValue:"b"},sup:{tag:"hi",attr:"rend",attrValue:"sup"},smallcaps:{tag:"hi",attr:"rend",attrValue:"sc"},u:{tag:"hi",attr:"rend",attrValue:"u"},blockquote:{tag:"quote",attr:"rend",attrValue:"block"},q:{tag:"quote",attr:"rend",attrValue:"inline"},cite:{tag:"title"},persname:{tag:"persName"},placeName:{tag:"placeName"}};var vg={head:{mapping:{mapping_type:"attr",mapping_attr:"type",type:{h1:{tag:"h1",removeAttr:"type"},h2:{tag:"h2",removeAttr:"type"},h3:{tag:"h3",removeAttr:"type"},h4:{tag:"h4",removeAttr:"type"},h5:{tag:"h5",removeAttr:"type"},h6:{tag:"h6",removeAttr:"type"}}}},div:{tag:"section"},list:{tag:"ul"},item:{tag:"li"},hi:{mapping:{mapping_type:"attr",mapping_attr:"rend,style",rend:{i:{tag:"i",removeAttr:"rend"},b:{tag:"strong",removeAttr:"rend"},sup:{tag:"sup",removeAttr:"rend"},sc:{tag:"smallcaps",removeAttr:"rend"},u:{tag:"u",removeAttr:"rend"}},style:{tag:"span"}}},quote:{mapping:{mapping_type:"parent",parent:{doc:{tag:"blockquote",removeAttr:"rend"},$default:{tag:"q"}}}},title:{tag:"title"},persName:{tag:"persname"},placeName:{tag:"placename"}};var mg=function t(e){var n=hg.parseFromString("<doc>"+e+"</doc>","text/xml");var i=void 0;i=Eg(n.documentElement,vg);var r=dg.serializeToString(i);r=r.replace(/<lb><\/lb>/gi,"<lb/>");r=r.replace(/<\/?doc([^>]*)>/gi,"");return r};var gg=function t(e){var n=hg.parseFromString("<doc>"+e+"</doc>","text/xml");var i=void 0;i=Eg(n.documentElement,pg);var r=dg.serializeToString(i);r=_g(r);r=r.replace(/<(\/?)persname( ref="[^"]*")?>/gim,"<$1persName$2>");r=r.replace(/<(\/?)placename( ref="[^"]*")?>/gim,"<$1placeName$2>");r=r.replace(/<\/?doc([^>]*)>/gi,"");return r};var yg=function t(e){return e.replace(/<lb\/?>(<\/lb>)?/gi,'<lb><span class="br"></span><span class="segment-bullet"></span></lb>')};var _g=function t(e){return e.replace(/<lb><span class="br"><\/span><span class="segment-bullet"><\/span><\/lb>/gi,"<lb/>")};function bg(t,e){var n=document.createElement(e);n.innerHTML=t.innerHTML;wg(t,n);t.parentNode.replaceChild(n,t)}function wg(t,e){e.innerHTML=t.innerHTML}function xg(t,e){if(t.hasAttributes()){var n=t.attributes;for(var i=n.length-1;i>=0;i--){e.setAttribute(n[i].name,n[i].value)}}}function Eg(t,e){var n=void 0;if(t.nodeType==3){return document.createTextNode(t.nodeValue)}var i=e[t.nodeName];if(i){var r=i.tag;var o=i.attr;var a=i.attrValue||"";if(i.mapping){var s=i.mapping;var l=s.mapping_type;if(l==="attr"){var u=s.mapping_attr.split(",");u.forEach(function(e){var n=t.getAttribute(e);if(n){var i=s[e][n];r=i.tag;if(i.removeAttr){t.removeAttribute(i.removeAttr)}}})}else if(l==="parent"){var c=t.parentNode.tagName;var f=s.parent[c]?s.parent[c]:s.parent["$default"];r=f.tag;if(f.removeAttr){t.removeAttribute(f.removeAttr)}}}n=document.createElement(r);if(o)n.setAttribute(o,a)}else{n=document.createElement(t.nodeName)}xg(t,n);if(t.hasChildNodes()){for(var h=0;h<t.childNodes.length;h++){var d=t.childNodes[h];n.appendChild(Eg(d,e))}}return n}String.prototype.insert=function(t,e){if(t>0)return this.substring(0,t)+e+this.substring(t,this.length);else return e+this};var Og=function t(e,n){var i=e;var r=0;n.forEach(function(t){var e='<note id="'+t.id+'">';var n="</note>";i=i.insert(t.ptr_start+r,e);r+=e.length;i=i.insert(t.ptr_end+r,n);r+=n.length});return i};var kg=function t(e,n,i){var r=i==="transcription"?0:2;var o="<segment></segment>";var a=o.length;var s=e;var l=0;n.forEach(function(t){var e=s.substr(t[r]+l,3);if(t[r]+l>0&&e!=="<p>"&&e!=="<l>"&&e!=="<lb>"){s=s.insert(t[r]+l,o);l+=a}});return s};var Tg=function t(e,n,i,r){var o=r==="transcription"?0:2;var a=[];n.forEach(function(t){a.push({index:t.ptr_start,type:"note_start",note:t});a.push({index:t.ptr_end,type:"note_end"})});i.forEach(function(t){if(t[o])a.push({index:t[o],type:"segment"})});a.sort(function(t,e){return t.index-e.index});var s=e;var l=0;a.forEach(function(t){var e="";var n=false;switch(t.type){case"segment":var i=s.substr(t.index+l,3);n=t.index+l>0&&i!=="<p>"&&i!=="<l>"&&i!=="<lb";if(t.index+l>0&&i!=="<p>"&&i!=="<l>"&&i!=="<lb"){e="<segment></segment>"}break;case"note_start":e='<note id="'+t.note.id+'">';n=true;break;case"note_end":e="</note>";n=true;break}s=s.insert(t.index+l,e);if(n)l+=e.length});return s};var Cg=function t(e,n){var i=[];n.forEach(function(t,e){i.push({index:t.ptr_start,type:"sp_start",note:t,fakeId:e});i.push({index:t.ptr_end,type:"sp_end"})});i.sort(function(t,e){return t.index-e.index});var r=e;var o=0;i.forEach(function(t){var e="";var n=false;switch(t.type){case"sp_start":e='<speechpart id="'+t.fakeId+'">';n=true;break;case"sp_end":e="</speechpart>";n=true;break}r=r.insert(t.index+o,e);if(n)o+=e.length});return r};var Lg=function t(e){return e.replace(/<\/?note( id="\d+")?>/gim,"")};var Ag=function t(e){return e.replace(/<\/?segment>/gim,"")};var Sg=function t(e){return e.replace(/<\/?speechpart( id="\d+")?>/gim,"")};var Pg=function t(e){var n=/<note id="(\d+)">/;var i=/<\/note>/;var r=void 0,o=void 0;var a=[];while((r=n.exec(e))!==null){e=e.replace(n,"");o=i.exec(e);e=e.replace(i,"");a.push({note_id:parseInt(r[1]),ptr_start:r.index,ptr_end:o.index})}return a};var Ng=function t(e){var n=/<segment><\/segment>/gim;var i=e.split(n);var r=[];var o=0;for(var a=0;a<i.length;++a){o+=i[a].length;r.push(o)}var s=e.replace(n,"");var l=/<(p|lb?)\/?>/gim;var u=void 0;while((u=l.exec(s))!==null){r.push(u.index)}r.sort(function(t,e){return t-e});var c=[];for(var f=1;f<r.length;++f){c.push([r[f-1],r[f]])}return c};var Mg=function t(e){var n=/<speechpart id="((\d+)|temp)">/;var i=/<\/speechpart>/;var r=void 0,o=void 0;var a=[];while((r=n.exec(e))!==null){e=e.replace(n,"");o=i.exec(e);e=e.replace(i,"");a.push({index:parseInt(r[1]),ptr_start:r.index,ptr_end:o.index})}return a};function jg(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}var Ig=document.createElement("div");var Dg=document.createElement("div");var Rg=document.createElement("div");var qg=void 0;var Bg=void 0;var zg=void 0;var Fg={transcriptionLoading:true,transcription:false,transcriptionContent:false,transcriptionWithNotes:false,transcriptionWithSpeechparts:false,transcriptionSaved:false,transcriptionError:false,transcriptionAlignments:[],referenceTranscription:false};var Ug={INIT:function t(e,n){if(!qg){Ig.innerHTML=n.content||"";qg=new mc(Ig);e.transcriptionContent=Ig.children[0].innerHTML;Dg.innerHTML=n.withNotes||"";Bg=new mc(Dg);e.transcriptionWithNotes=Dg.children[0].innerHTML;Rg.innerHTML=n.withSpeechparts||"";zg=new mc(Rg);e.transcriptionWithSpeechparts=Rg.children[0].innerHTML}},RESET:function t(e){console.log("STORE MUTATION transcription/RESET");e.transcription=false;e.transcriptionAlignments=[];e.transcriptionContent=false;e.transcriptionWithNotes=false;e.transcriptionWithSpeechparts=false;if(Ig&&Ig.children[0])Ig.children[0].innerHTML="";if(Dg&&Dg.children[0])Dg.children[0].innerHTML="";if(Rg&&Rg.children[0])Rg.children[0].innerHTML=""},LOADING_STATUS:function t(e,n){e.transcriptionLoading=n},ALIGNMENTS:function t(e,n){e.transcriptionAlignments=n},UPDATE:function t(e,n){console.log("STORE MUTATION transcription/UPDATE");e.transcription=n.transcription;e.transcriptionWithNotes=n.withNotes;e.transcriptionWithSpeechparts=n.withSpeechparts;e.transcriptionSaved=true},CHANGED:function t(e){console.log("STORE MUTATION transcription/CHANGED");e.transcriptionSaved=false},ADD_OPERATION:function t(e,n){console.log("STORE MUTATION transcription/ADD_OPERATION",n);var i=bc(n,["note","speechpart"]);var r=bc(n,["segment","speechpart"]);var o=bc(n,["note"]);qg.updateContents(i);Bg.updateContents(r);zg.updateContents(o);e.transcriptionContent=Ig.children[0].innerHTML;e.transcriptionWithNotes=Dg.children[0].innerHTML;e.transcriptionWithSpeechparts=Rg.children[0].innerHTML},SAVED:function t(e){console.log("STORE MUTATION transcription/SAVED");e.transcriptionSaved=false}};var $g={fetch:function t(e){var n=this;var i=e.commit,r=e.rootState;i("LOADING_STATUS",true);var o=r.document.document.id;var a=r.user.author.id;console.log("STORE ACTION transcription/fetch",o,a);this.dispatch("noteTypes/fetch").then(function(){return n.dispatch("speechpartTypes/fetch",o)}).then(function(){return n.dispatch("notes/fetch",o)}).then(function(){return n.dispatch("speechparts/fetch",{doc_id:o,user_id:a})}).then(function(){return n.dispatch("transcription/fetchAlignments",{doc_id:o,user_id:a})}).then(function(){return dt.a.get("/adele/api/1.0/documents/"+o+"/transcriptions/from-user/"+a).then(function(t){console.log("TRANSCRIPTION",t);i("LOADING_STATUS",false);if(t.data.errors&&t.data.errors.status===404){console.log("NO transcription found");var e={transcription:" ",content:" ",withNotes:" ",withSpeechparts:" "};return}var n={content:" ",notes:[]};if(t.data.data&&t.data.data.length!==0){n=t.data.data[0]}var o=mg(n.content);var a=kg(o,Fg.transcriptionAlignments,"transcription");var s=Tg(o,n.notes,Fg.transcriptionAlignments,"transcription");var l=Cg(o,r.speechparts.speechparts);var u={transcription:n,content:yg(a),withNotes:yg(s),withSpeechparts:yg(l)};console.warn("ne pas oublier de mettre les vraies parties");i("INIT",u);i("UPDATE",u)})}).then(function(){return n.dispatch("translation/fetch",{doc_id:o,user_id:a})})},fetchAlignments:function t(e,n){var i=e.commit;var r=n.doc_id,o=n.user_id;return dt.a.get("/adele/api/1.0/documents/"+r+"/transcriptions/alignments/from-user/"+o).then(function(t){console.log("STORE ACTION transcription/fetchAlignments",t);if(t.data.errors){i("ALIGNMENTS",[]);return}var e=t.data.data&&Array.isArray(t.data.data[0])?t.data.data:[t.data.data];i("ALIGNMENTS",e)})},create:function t(e){var n=e.commit,i=e.rootState,r=e.rootGetters;var o=r["user/authHeader"];var a={data:[{content:"<p></p>",username:i.user.currentUser.username}]};return new Promise(function(t,e){dt.a.post("/adele/api/1.0/documents/"+i.document.document.id+"/transcriptions",a,o).then(function(n){if(n.data.errors){e(n.data.errors)}else t(n.data)}).catch(function(t){e(t)})})},save:function t(e,n){var i=e.dispatch,r=e.rootState;console.log("STORE ACTION transcription/save");return i("saveContent").then(function(t){if(r.translation.translation.id){console.log("   => saves");return i("saveAlignment")}console.log("   => bypass");return true}).then(function(t){return i("saveSpeechparts")}).then(function(t){return i("saveNotes")}).then(function(t){if(r.translation.translationq)return i("translation/save",null,{root:true});else return true}).then(function(t){console.log("all saved",t)}).catch(function(t){console.log("something bad happened",t)})},saveContent:function t(e){var n=e.state,i=e.rootGetters,r=e.rootState;console.log("STORE ACTION transcription/saveContent",r);var o=i["user/authHeader"];var a=gg(n.transcriptionContent);var s=Ag(a);var l={data:[{content:s,username:r.user.author.username}]};var u=n.transcription&&n.transcription.doc_id?dt.a.put:dt.a.post;return new Promise(function(t,e){u("/adele/api/1.0/documents/"+r.document.document.id+"/transcriptions",l,o).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else t(n.data)}).catch(function(t){console.error("error",t);e(t)})})},saveNotes:function t(e){var n=e.commit,i=e.rootState,r=e.state,o=e.rootGetters;console.warn("STORE ACTION transcription/saveNotes");var a=Ag(r.transcriptionWithNotes);a=_g(a);var s=Pg(a);s.forEach(function(t){var e=i.notes.notes.find(function(e){return e.id===t.note_id});t.content=e.content});var l=o["user/authHeader"];return new Promise(function(t,e){dt.a.put("/adele/api/1.0/documents/"+i.document.document.id+"/transcriptions/notes",{data:s},l).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else t(n.data)}).catch(function(t){console.error("error",t);e(t)})})},saveSpeechparts:function t(e){var n=e.commit,i=e.rootState,r=e.state,o=e.rootGetters;console.warn("STORE ACTION transcription/saveSpeechparts");var a=Ag(r.transcriptionWithSpeechparts);a=_g(a);var s=Mg(a);s.forEach(function(t){var e=i.speechparts.speechparts[t.index];t.type_id=e.speech_part_type?e.speech_part_type.id:e.type_id;if(e.note)t.note=e.note});var l=o["user/authHeader"];var u={username:i.user.author.username,speech_parts:s};return new Promise(function(t,e){return dt.a.post("/adele/api/1.0/documents/"+i.document.document.id+"/transcriptions/alignments/discours",{data:u},l).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else t(n.data)}).catch(function(t){console.error("error",t);e(t)})})},saveAlignment:function t(e){var n=e.rootState,i=e.rootGetters;console.warn("STORE ACTION transcription/saveAlignment");var r=gg(Fg.transcriptionContent);var o=gg(n.translation.translationContent);var a=Ng(r);var s=Ng(o);var l=[];for(var u=0;u<Math.max(a.length,s.length);++u){l.push([].concat(jg(a[u]?a[u]:[0,0]),jg(s[u]?s[u]:[0,0])))}var c=i["user/authHeader"];var f={data:{username:n.user.author.username,ptr_list:l}};return new Promise(function(t,e){dt.a.post("/adele/api/1.0/documents/"+n.document.document.id+"/transcriptions/alignments",f,c).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else t(n.data)}).catch(function(t){console.error("error",t);e(t)})})},changed:function t(e,n){var i=e.commit;i("ADD_OPERATION",n);i("SAVED",false)},reset:function t(e){var n=e.commit;n("RESET")}};var Hg={transcription:function t(e){return e.transcription},transcriptionContent:function t(e){return e.transcriptionContent},transcriptionWithNotes:function t(e){return e.transcriptionWithNotes},transcriptionWithSegments:function t(e){return e.transcriptionWithSegments},transcriptionIsSaved:function t(e){return e.transcriptionSaved}};var Zg={namespaced:true,state:Fg,mutations:Ug,actions:$g,getters:Hg};var Vg=Zg;var Wg=document.createElement("div");var Gg=document.createElement("div");var Kg=void 0;var Yg=void 0;var Xg={translationLoading:true,translation:false,translationContent:false,translationWithNotes:false,translationSaved:false,translationError:false,translationAlignments:[]};var Jg={INIT:function t(e,n){if(!e.shadowQuill){Wg.innerHTML=n.content;Kg=new mc(Wg);e.translationContent=Wg.children[0].innerHTML;console.log("STORE ACTION translation/INIT");Gg.innerHTML=n.withNotes;Yg=new mc(Gg);e.translationWithNotes=Gg.children[0].innerHTML}},RESET:function t(e){console.log("STORE MUTATION translation/RESET");e.translation=false;e.translationAlignments=[];e.translationContent=false;e.translationWithNotes=false;e.translationWithSpeechparts=false;if(Wg)Wg.innerHTML="";if(Gg)Gg.innerHTML=""},LOADING_STATUS:function t(e,n){e.translationLoading=n},ALIGNMENTS:function t(e,n){e.translationAlignments=n},UPDATE:function t(e,n){e.translation=n.translation;e.translationWithNotes=n.withNotes;e.translationSaved=true},CHANGED:function t(e){e.translationSaved=false},ADD_OPERATION:function t(e,n){console.log("STORE MUTATION translation/ADD_OPERATION");var i=bc(n,["note","speechpart"]);var r=bc(n,["segment","speechpart"]);var o=bc(n,["note","segment"]);Kg.updateContents(i);Yg.updateContents(r);e.translationContent=Wg.children[0].innerHTML;e.translationWithNotes=Gg.children[0].innerHTML},SAVED:function t(e){console.log("STORE MUTATION translation/SAVED");e.translationSaved=false}};var Qg={fetch:function t(e){var n=e.commit,i=e.rootGetters,r=e.rootState;n("LOADING_STATUS",true);var o=r.document.document.id;var a=r.user.author.id;var s=r.transcription.transcriptionAlignments;console.log("STORE ACTION translation/fetch",r);return dt.a.get("/adele/api/1.0/documents/"+o+"/translations/from-user/"+a).then(function(t){n("LOADING_STATUS",false);if(t.data.errors&&t.data.errors.status===404){console.log("NO translation found");return}var e={content:" ",notes:[]};if(t.data.data&&t.data.data.length!==0){e=t.data.data[0]}var i=mg(e.content);var r=kg(i,s,"translation");var o=Tg(i,e.notes,s,"translation");var a={translation:e,content:yg(r),withNotes:yg(o)};n("INIT",a);n("UPDATE",a)})},save:function t(e){var n=e.commit,i=e.dispatch;console.log("STORE ACTION translation/save");return i("saveContent").then(function(t){return i("saveNotes")}).then(function(t){console.log("all saved",t)})},saveContent:function t(e){var n=e.state,i=e.rootState,r=e.rootGetters;console.log("STORE ACTION translation/saveContent");var o=r["user/authHeader"];var a=gg(n.translationContent);var s=Ag(a);var l={data:[{content:s,username:i.user.author.username}]};return new Promise(function(t,e){dt.a.put("/adele/api/1.0/documents/"+n.translation.doc_id+"/translations",l,o).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else t(n.data)}).catch(function(t){console.error("error",t);e(t)})})},saveNotes:function t(e){var n=e.commit,i=e.rootGetters,r=e.state,o=e.rootState;console.log("STORE ACTION translation/saveNotes");var a=Ag(r.translationWithNotes);a=_g(a);var s=Pg(a);s.forEach(function(t){var e=o.notes.notes.find(function(e){return e.id===t.note_id});t.content=e.content});var l=i["user/authHeader"];return new Promise(function(t,e){dt.a.put("/adele/api/1.0/documents/"+r.translation.doc_id+"/translations/notes",{data:s},l).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else t(n.data)}).catch(function(t){console.error("error",t);e(t)})})},changed:function t(e,n){var i=e.commit;i("ADD_OPERATION",n);i("SAVED",false)},reset:function t(e){var n=e.commit;n("RESET")}};var ty={translation:function t(e){return e.translation},translationContent:function t(e){return!!e.translation?e.translation.content:null},translationWithNotes:function t(e){return e.translationWithNotes},translationWithSegments:function t(e){return e.translationWithSegments},translationIsSaved:function t(e){return e.translationSaved}};var ey={namespaced:true,state:Xg,mutations:Jg,actions:Qg,getters:ty};var ny=ey;var iy={noteTypes:undefined};var ry={UPDATE:function t(e,n){e.noteTypes=n}};var oy={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/note-types").then(function(t){var e=t.data.data;var i=Array.isArray(e);var r=i?e:[e];n("UPDATE",r)})}};var ay={noteTypes:function t(e){return e.noteTypes}};var sy={namespaced:true,state:iy,mutations:ry,actions:oy,getters:ay};var ly=sy;var uy={speechparts:[],newSpeechpart:false,mouseOver:false,mouseOverY:0};var cy={UPDATE_ALL:function t(e,n){console.log("STORE ACTION speechpart/UPDATE_ALL",n);e.speechparts=n},NEW:function t(e,n){console.log("STORE ACTION speechpart/NEW",n);e.newSpeechpart=n;e.speechparts.push(n)},MOUSE_OVER:function t(e,n){var i=n.speechpart,r=n.posY;e.mouseOver=i;e.mouseOverY=r},UPDATE_ONE:function t(e,n){console.log("STORE ACTION speechpart/UPDATE_ONE",n);var i=e.speechparts.find(function(t){return t.id===n.id});console.log("speechpart foundSpeechpart",i)}};var fy={fetch:function t(e,n){var i=e.commit,r=e.getters,o=e.rootGetters;var a=n.doc_id,s=n.user_id;console.log("STORE ACTION speechparts/fetch",a,s);return dt.a.get("/adele/api/1.0/documents/"+a+"/transcriptions/alignments/discours/from-user/"+s).then(function(t){i("UPDATE_ALL",t.data.data)}).catch(function(t){console.log(t)})},add:function t(e,n){var i=e.commit,r=e.getters,o=e.rootState;console.log("STORE ACTION speechparts/add",n,o);i("NEW",n)},mouseover:function t(e,n){var i=e.commit,r=e.getters,o=e.rootState;var a=n.speechpart,s=n.posY;i("MOUSE_OVER",{speechpart:a,posY:s})},update:function t(e,n){var i=e.commit,r=e.getters,o=e.rootState;console.log("STORE ACTION speechparts/update",n);var a={auth:{username:o.user.authToken,password:undefined}};var s={data:[{username:o.user.currentUser.username,id:n.id,type_id:n.type_id,content:n.content}]};return dt.a.put("/adele/api/1.0/speechparts",s,a).then(function(t){console.log(t.data);var e=t.data.data;i("UPDATE_ONE",e)})},delete:function t(e,n){var i=e.commit,r=e.getters,o=e.rootState;console.log("STORE ACTION speechparts/delete",n);var a={auth:{username:o.user.authToken,password:undefined}};var s={data:[{username:o.user.currentUser.username,id:n.id,type_id:n.type_id,content:n.content}]};return dt.a.delete("/adele/api/1.0/speechparts",s,a).then(function(t){console.log(t.data);var e=t.data.data;i("UPDATE_ONE",e)})}};var hy={speechparts:function t(e){return e.speechparts},newSpeechpart:function t(e){return e.newSpeechpart},getSpeechpartById:function t(e){return function(t){t=parseInt(t);return e.speechparts.find(function(e){return e.id===t})}}};var dy={namespaced:true,state:uy,mutations:cy,actions:fy,getters:hy};var py=dy;var vy={speechpartTypes:undefined};var my={UPDATE:function t(e,n){e.speechpartTypes=n}};var gy={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/speech-part-types").then(function(t){var e=t.data.data;var i=Array.isArray(e);var r=i?e:[e];n("UPDATE",r)})}};var yy={speechpartTypes:function t(e){return e.speechpartTypes},getSpeechpartTypeById:function t(e){return function(t){return e.speechpartTypes.find(function(e){return e.id===t})}}};var _y={namespaced:true,state:vy,mutations:my,actions:gy,getters:yy};var by=_y;var wy={notes:[],newNote:false};var xy={UPDATE_ALL:function t(e,n){console.log("UPDATE_NOTES");n=Array.isArray(n)?n:[n];e.notes=n},NEW:function t(e,n){e.newNote=n;console.log("NEW",e,e.notes,e.notes.push);e.notes.push(n);console.log("ADD_NEW_NOTE",e.newNote)},UPDATE_ONE:function t(e,n){e.notes.push(n);console.log("UPDATE_NOTE",n);var i=e.notes.find(function(t){return t.id===n.id});console.log("foundNote",i)}};var Ey={fetch:function t(e,n){var i=e.commit,r=e.getters,o=e.rootGetters;console.log("STORE ACTION notes/fetch");return dt.a.get("/adele/api/1.0/documents/"+n+"/notes").then(function(t){i("UPDATE_ALL",t.data.data)}).catch(function(t){console.log(t)})},add:function t(e,n){var i=e.commit,r=e.getters,o=e.rootState;console.log("STORE ACTION addNote",n);var a={auth:{username:o.user.authToken,password:undefined}};var s={data:[{username:o.user.currentUser.username,type_id:n.type_id,content:n.content}]};return dt.a.post("/adele/api/1.0/notes",s,a).then(function(t){var e=t.data.data;i("NEW",e)})},update:function t(e,n){var i=e.commit,r=e.getters,o=e.rootState;console.log("STORE ACTION updateNote",n);var a={auth:{username:o.user.authToken,password:undefined}};var s={data:[{username:o.user.currentUser.username,id:n.id,type_id:n.type_id,content:n.content}]};return dt.a.put("/adele/api/1.0/notes",s,a).then(function(t){console.log(t.data);var e=t.data.data;i("UPDATE_ONE",e)})},delete:function t(e,n){var i=e.commit,r=e.getters,o=e.rootState;console.log("STORE ACTION updateNote",n);var a={auth:{username:o.user.authToken,password:undefined}};var s={data:[{username:o.user.currentUser.username,id:n.id,type_id:n.type_id,content:n.content}]};return dt.a.delete("/adele/api/1.0/notes",s,a).then(function(t){console.log(t.data);var e=t.data.data;i("UPDATE_ONE",e)})}};var Oy={notes:function t(e){return e.notes},newNote:function t(e){return e.newNote},getNoteById:function t(e){return function(t){t=parseInt(t);return e.notes.find(function(e){return e.id===t})}}};var ky={namespaced:true,state:wy,mutations:xy,actions:Ey,getters:Oy};var Ty=ky;i["a"].use(V);var Cy=new V.Store({modules:{actTypes:Lm,countries:jm,districts:zm,editors:Wm,document:xm,institutions:Qm,languages:og,noteTypes:ly,notes:Ty,speechparts:py,speechpartTypes:by,traditions:fg,transcription:Vg,translation:ny,user:mm}});new i["a"]({el:"#app",store:Cy,data:{documentId:undefined,authToken:undefined},beforeMount:function t(){this.documentId=this.$el.dataset.documentId;this.authToken=this.$el.dataset.authToken},render:function t(e){return e(um,{props:{doc_id:this.documentId,auth_token:this.authToken}})}})},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,".fade-enter-active[data-v-6239f32a],.fade-leave-active[data-v-6239f32a]{transition:opacity .25s}.fade-enter[data-v-6239f32a],.fade-leave-to[data-v-6239f32a]{opacity:0}.fade-enter-active .loading-icon[data-v-6239f32a],.fade-leave-active .loading-icon[data-v-6239f32a]{transition:transform .25s}.fade-enter .loading-icon[data-v-6239f32a],.fade-leave-to .loading-icon[data-v-6239f32a]{transform:translateY(100%)}",""])},function(t,e,n){var i=n(36);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("23a8c010",i,true,{})},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,"",""])},function(t,e,n){var i=n(38);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("b97d36b2",i,true,{})},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,"",""])},function(t,e,n){var i=n(40);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("e8931ce6",i,true,{})},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,"",""])},function(t,e,n){var i=n(42);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("2bcffb9c",i,true,{})},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,"",""])},function(t,e,n){var i=n(44);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("4ab12066",i,true,{})},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,"",""])},function(t,e,n){var i=n(46);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("07d1a5e6",i,true,{})},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,"",""])},function(t,e,n){var i=n(48);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("57afd22c",i,true,{})},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,"",""])},function(t,e,n){var i=n(50);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("0dd619d8",i,true,{})},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,"",""])},function(t,e,n){var i=n(52);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("06cdf53a",i,true,{})},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,"",""])},function(t,e,n){var i=n(54);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("0ef43aeb",i,true,{})},function(t,e){t.exports='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"></rect><rect class="ql-fill" height="12" width="1" x="5" y="3"></rect><rect class="ql-fill" height="12" width="1" x="12" y="3"></rect><rect class="ql-fill" height="2" width="8" x="5" y="8"></rect><rect class="ql-fill" height="1" width="3" x="3" y="5"></rect><rect class="ql-fill" height="1" width="3" x="3" y="7"></rect><rect class="ql-fill" height="1" width="3" x="3" y="10"></rect><rect class="ql-fill" height="1" width="3" x="3" y="12"></rect><rect class="ql-fill" height="1" width="3" x="12" y="5"></rect><rect class="ql-fill" height="1" width="3" x="12" y="7"></rect><rect class="ql-fill" height="1" width="3" x="12" y="10"></rect><rect class="ql-fill" height="1" width="3" x="12" y="12"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"></path><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"></line><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"></path><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"></path><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"></path><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"></path></svg>'},function(t,e){t.exports='<svg class viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"></line><polyline class="ql-stroke" points="3 4 4 5 6 3"></polyline><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"></line><polyline class="ql-stroke" points="3 14 4 15 6 13"></polyline><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"></line><polyline class="ql-stroke" points="3 9 4 10 6 8"></polyline></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"></line><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"></line><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"></line><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"></line><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"></line><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"></line></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"></line><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"></line><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"></line><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"></line><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"></path><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"></path><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"></line><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"></path><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"></line><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"></line><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"></line><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"></polyline></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"></line><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"></line><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"></line><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"></rect><circle class="ql-fill" cx="6" cy="7" r="1"></circle><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"></line><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"></line><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"></line></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"></path><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"></rect><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z"></path><path class="ql-fill" d="M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z"></path><path class="ql-fill" d="M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z"></path><path class="ql-fill" d="M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z"></path><rect class="ql-fill" x="8" y="6" width="8" height="6" rx="1" ry="1" transform="translate(24 18) rotate(-180)"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z"></path><path class="ql-fill" d="M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z"></path><path class="ql-fill" d="M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z"></path><path class="ql-fill" d="M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z"></path><rect class="ql-fill" x="2" y="6" width="8" height="6" rx="1" ry="1"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z"></path><path class="ql-fill" d="M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z"></path><rect class="ql-fill" x="2" y="6" width="14" height="6" rx="1" ry="1"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z"></path><path class="ql-fill" d="M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z"></path><rect class="ql-fill" x="3" y="6" width="12" height="6" rx="1" ry="1"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"></line><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"></path><rect class="ql-fill" height="11" width="1" x="5" y="4"></rect><rect class="ql-fill" height="11" width="1" x="7" y="4"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"></line><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"></path><rect class="ql-fill" height="11" width="1" x="11" y="4"></rect><rect class="ql-fill" height="11" width="1" x="13" y="4"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"></line><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"></polyline><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"></line></svg>'},function(t,e){t.exports='<svg class viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"></line><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"></line><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"></line><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"></line><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"></path><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"></rect><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"></rect><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"></path><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon><rect height="1" width="1" x="4" y="4"></rect><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon><rect height="1" width="1" x="2" y="6"></rect><rect height="1" width="1" x="3" y="5"></rect><rect height="1" width="1" x="4" y="7"></rect><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon><rect height="1" width="1" x="2" y="12"></rect><rect height="1" width="1" x="2" y="9"></rect><rect height="1" width="1" x="2" y="15"></rect><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon><rect height="1" width="1" x="3" y="8"></rect><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"></path><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"></path><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"></path><rect height="1" width="1" x="12" y="2"></rect><rect height="1" width="1" x="11" y="3"></rect><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"></path><rect height="1" width="1" x="2" y="3"></rect><rect height="1" width="1" x="6" y="2"></rect><rect height="1" width="1" x="3" y="2"></rect><rect height="1" width="1" x="5" y="3"></rect><rect height="1" width="1" x="9" y="2"></rect><rect height="1" width="1" x="15" y="14"></rect><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon><rect height="1" width="1" x="13" y="7"></rect><rect height="1" width="1" x="15" y="5"></rect><rect height="1" width="1" x="14" y="6"></rect><rect height="1" width="1" x="15" y="8"></rect><rect height="1" width="1" x="14" y="9"></rect><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"></path><rect height="1" width="1" x="14" y="3"></rect><polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon><rect height="1" width="1" x="15" y="2"></rect><rect height="1" width="1" x="12" y="5"></rect><rect height="1" width="1" x="13" y="4"></rect><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon><rect height="1" width="1" x="9" y="14"></rect><rect height="1" width="1" x="8" y="15"></rect><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"></path><rect height="1" width="1" x="5" y="15"></rect><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"></path><rect height="1" width="1" x="11" y="15"></rect><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"></path><rect height="1" width="1" x="14" y="15"></rect><rect height="1" width="1" x="15" y="11"></rect></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"></polyline><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"></line></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"></line><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"></line></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line></svg>'},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){t.deprecate=function(){};t.paths=[];if(!t.children)t.children=[];Object.defineProperty(t,"loaded",{enumerable:true,get:function e(){return t.l}});Object.defineProperty(t,"id",{enumerable:true,get:function e(){return t.i}});t.webpackPolyfill=1}return t}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return n.call(t)=="[object Array]"}},function(t,e){e.read=function(t,e,n,i,r){var o,a;var s=r*8-i-1;var l=(1<<s)-1;var u=l>>1;var c=-7;var f=n?r-1:0;var h=n?-1:1;var d=t[e+f];f+=h;o=d&(1<<-c)-1;d>>=-c;c+=s;for(;c>0;o=o*256+t[e+f],f+=h,c-=8){}a=o&(1<<-c)-1;o>>=-c;c+=i;for(;c>0;a=a*256+t[e+f],f+=h,c-=8){}if(o===0){o=1-u}else if(o===l){return a?NaN:(d?-1:1)*Infinity}else{a=a+Math.pow(2,i);o=o-u}return(d?-1:1)*a*Math.pow(2,o-i)};e.write=function(t,e,n,i,r,o){var a,s,l;var u=o*8-r-1;var c=(1<<u)-1;var f=c>>1;var h=r===23?Math.pow(2,-24)-Math.pow(2,-77):0;var d=i?0:o-1;var p=i?1:-1;var v=e<0||e===0&&1/e<0?1:0;e=Math.abs(e);if(isNaN(e)||e===Infinity){s=isNaN(e)?1:0;a=c}else{a=Math.floor(Math.log(e)/Math.LN2);if(e*(l=Math.pow(2,-a))<1){a--;l*=2}if(a+f>=1){e+=h/l}else{e+=h*Math.pow(2,1-f)}if(e*l>=2){a++;l/=2}if(a+f>=c){s=0;a=c}else if(a+f>=1){s=(e*l-1)*Math.pow(2,r);a=a+f}else{s=e*Math.pow(2,f-1)*Math.pow(2,r);a=0}}for(;r>=8;t[n+d]=s&255,d+=p,s/=256,r-=8){}a=a<<r|s;u+=r;for(;u>0;t[n+d]=a&255,d+=p,a/=256,u-=8){}t[n+d-p]|=v*128}},function(t,e,n){"use strict";e.byteLength=c;e.toByteArray=h;e.fromByteArray=v;var i=[];var r=[];var o=typeof Uint8Array!=="undefined"?Uint8Array:Array;var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var s=0,l=a.length;s<l;++s){i[s]=a[s];r[a.charCodeAt(s)]=s}r["-".charCodeAt(0)]=62;r["_".charCodeAt(0)]=63;function u(t){var e=t.length;if(e%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var n=t.indexOf("=");if(n===-1)n=e;var i=n===e?0:4-n%4;return[n,i]}function c(t){var e=u(t);var n=e[0];var i=e[1];return(n+i)*3/4-i}function f(t,e,n){return(e+n)*3/4-n}function h(t){var e;var n=u(t);var i=n[0];var a=n[1];var s=new o(f(t,i,a));var l=0;var c=a>0?i-4:i;for(var h=0;h<c;h+=4){e=r[t.charCodeAt(h)]<<18|r[t.charCodeAt(h+1)]<<12|r[t.charCodeAt(h+2)]<<6|r[t.charCodeAt(h+3)];s[l++]=e>>16&255;s[l++]=e>>8&255;s[l++]=e&255}if(a===2){e=r[t.charCodeAt(h)]<<2|r[t.charCodeAt(h+1)]>>4;s[l++]=e&255}if(a===1){e=r[t.charCodeAt(h)]<<10|r[t.charCodeAt(h+1)]<<4|r[t.charCodeAt(h+2)]>>2;s[l++]=e>>8&255;s[l++]=e&255}return s}function d(t){return i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[t&63]}function p(t,e,n){var i;var r=[];for(var o=e;o<n;o+=3){i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255);r.push(d(i))}return r.join("")}function v(t){var e;var n=t.length;var r=n%3;var o=[];var a=16383;for(var s=0,l=n-r;s<l;s+=a){o.push(p(t,s,s+a>l?l:s+a))}if(r===1){e=t[n-1];o.push(i[e>>2]+i[e<<4&63]+"==")}else if(r===2){e=(t[n-2]<<8)+t[n-1];o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")}return o.join("")}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=n(90);var r=n(89);var o=n(88);e.Buffer=u;e.SlowBuffer=_;e.INSPECT_MAX_BYTES=50;u.TYPED_ARRAY_SUPPORT=t.TYPED_ARRAY_SUPPORT!==undefined?t.TYPED_ARRAY_SUPPORT:a();e.kMaxLength=s();function a(){try{var t=new Uint8Array(1);t.__proto__={__proto__:Uint8Array.prototype,foo:function t(){return 42}};return t.foo()===42&&typeof t.subarray==="function"&&t.subarray(1,1).byteLength===0}catch(t){return false}}function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(s()<e){throw new RangeError("Invalid typed array length")}if(u.TYPED_ARRAY_SUPPORT){t=new Uint8Array(e);t.__proto__=u.prototype}else{if(t===null){t=new u(e)}t.length=e}return t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u)){return new u(t,e,n)}if(typeof t==="number"){if(typeof e==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return d(this,t)}return c(this,t,e,n)}u.poolSize=8192;u._augment=function(t){t.__proto__=u.prototype;return t};function c(t,e,n,i){if(typeof e==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&e instanceof ArrayBuffer){return m(t,e,n,i)}if(typeof e==="string"){return p(t,e,n)}return g(t,e)}u.from=function(t,e,n){return c(null,t,e,n)};if(u.TYPED_ARRAY_SUPPORT){u.prototype.__proto__=Uint8Array.prototype;u.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&u[Symbol.species]===u){Object.defineProperty(u,Symbol.species,{value:null,configurable:true})}}function f(t){if(typeof t!=="number"){throw new TypeError('"size" argument must be a number')}else if(t<0){throw new RangeError('"size" argument must not be negative')}}function h(t,e,n,i){f(e);if(e<=0){return l(t,e)}if(n!==undefined){return typeof i==="string"?l(t,e).fill(n,i):l(t,e).fill(n)}return l(t,e)}u.alloc=function(t,e,n){return h(null,t,e,n)};function d(t,e){f(e);t=l(t,e<0?0:y(e)|0);if(!u.TYPED_ARRAY_SUPPORT){for(var n=0;n<e;++n){t[n]=0}}return t}u.allocUnsafe=function(t){return d(null,t)};u.allocUnsafeSlow=function(t){return d(null,t)};function p(t,e,n){if(typeof n!=="string"||n===""){n="utf8"}if(!u.isEncoding(n)){throw new TypeError('"encoding" must be a valid string encoding')}var i=b(e,n)|0;t=l(t,i);var r=t.write(e,n);if(r!==i){t=t.slice(0,r)}return t}function v(t,e){var n=e.length<0?0:y(e.length)|0;t=l(t,n);for(var i=0;i<n;i+=1){t[i]=e[i]&255}return t}function m(t,e,n,i){e.byteLength;if(n<0||e.byteLength<n){throw new RangeError("'offset' is out of bounds")}if(e.byteLength<n+(i||0)){throw new RangeError("'length' is out of bounds")}if(n===undefined&&i===undefined){e=new Uint8Array(e)}else if(i===undefined){e=new Uint8Array(e,n)}else{e=new Uint8Array(e,n,i)}if(u.TYPED_ARRAY_SUPPORT){t=e;t.__proto__=u.prototype}else{t=v(t,e)}return t}function g(t,e){if(u.isBuffer(e)){var n=y(e.length)|0;t=l(t,n);if(t.length===0){return t}e.copy(t,0,0,n);return t}if(e){if(typeof ArrayBuffer!=="undefined"&&e.buffer instanceof ArrayBuffer||"length"in e){if(typeof e.length!=="number"||et(e.length)){return l(t,0)}return v(t,e)}if(e.type==="Buffer"&&o(e.data)){return v(t,e.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=s()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+s().toString(16)+" bytes")}return t|0}function _(t){if(+t!=t){t=0}return u.alloc(+t)}u.isBuffer=function t(e){return!!(e!=null&&e._isBuffer)};u.compare=function t(e,n){if(!u.isBuffer(e)||!u.isBuffer(n)){throw new TypeError("Arguments must be Buffers")}if(e===n)return 0;var i=e.length;var r=n.length;for(var o=0,a=Math.min(i,r);o<a;++o){if(e[o]!==n[o]){i=e[o];r=n[o];break}}if(i<r)return-1;if(r<i)return 1;return 0};u.isEncoding=function t(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};u.concat=function t(e,n){if(!o(e)){throw new TypeError('"list" argument must be an Array of Buffers')}if(e.length===0){return u.alloc(0)}var i;if(n===undefined){n=0;for(i=0;i<e.length;++i){n+=e[i].length}}var r=u.allocUnsafe(n);var a=0;for(i=0;i<e.length;++i){var s=e[i];if(!u.isBuffer(s)){throw new TypeError('"list" argument must be an Array of Buffers')}s.copy(r,a);a+=s.length}return r};function b(t,e){if(u.isBuffer(t)){return t.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)){return t.byteLength}if(typeof t!=="string"){t=""+t}var n=t.length;if(n===0)return 0;var i=false;for(;;){switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case undefined:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return Q(t).length;default:if(i)return Y(t).length;e=(""+e).toLowerCase();i=true}}}u.byteLength=b;function w(t,e,n){var i=false;if(e===undefined||e<0){e=0}if(e>this.length){return""}if(n===undefined||n>this.length){n=this.length}if(n<=0){return""}n>>>=0;e>>>=0;if(n<=e){return""}if(!t)t="utf8";while(true){switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return N(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return D(this,e,n);case"base64":return P(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase();i=true}}}u.prototype._isBuffer=true;function x(t,e,n){var i=t[e];t[e]=t[n];t[n]=i}u.prototype.swap16=function t(){var e=this.length;if(e%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var n=0;n<e;n+=2){x(this,n,n+1)}return this};u.prototype.swap32=function t(){var e=this.length;if(e%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var n=0;n<e;n+=4){x(this,n,n+3);x(this,n+1,n+2)}return this};u.prototype.swap64=function t(){var e=this.length;if(e%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var n=0;n<e;n+=8){x(this,n,n+7);x(this,n+1,n+6);x(this,n+2,n+5);x(this,n+3,n+4)}return this};u.prototype.toString=function t(){var e=this.length|0;if(e===0)return"";if(arguments.length===0)return N(this,0,e);return w.apply(this,arguments)};u.prototype.equals=function t(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(this===e)return true;return u.compare(this,e)===0};u.prototype.inspect=function t(){var n="";var i=e.INSPECT_MAX_BYTES;if(this.length>0){n=this.toString("hex",0,i).match(/.{2}/g).join(" ");if(this.length>i)n+=" ... "}return"<Buffer "+n+">"};u.prototype.compare=function t(e,n,i,r,o){if(!u.isBuffer(e)){throw new TypeError("Argument must be a Buffer")}if(n===undefined){n=0}if(i===undefined){i=e?e.length:0}if(r===undefined){r=0}if(o===undefined){o=this.length}if(n<0||i>e.length||r<0||o>this.length){throw new RangeError("out of range index")}if(r>=o&&n>=i){return 0}if(r>=o){return-1}if(n>=i){return 1}n>>>=0;i>>>=0;r>>>=0;o>>>=0;if(this===e)return 0;var a=o-r;var s=i-n;var l=Math.min(a,s);var c=this.slice(r,o);var f=e.slice(n,i);for(var h=0;h<l;++h){if(c[h]!==f[h]){a=c[h];s=f[h];break}}if(a<s)return-1;if(s<a)return 1;return 0};function E(t,e,n,i,r){if(t.length===0)return-1;if(typeof n==="string"){i=n;n=0}else if(n>2147483647){n=2147483647}else if(n<-2147483648){n=-2147483648}n=+n;if(isNaN(n)){n=r?0:t.length-1}if(n<0)n=t.length+n;if(n>=t.length){if(r)return-1;else n=t.length-1}else if(n<0){if(r)n=0;else return-1}if(typeof e==="string"){e=u.from(e,i)}if(u.isBuffer(e)){if(e.length===0){return-1}return O(t,e,n,i,r)}else if(typeof e==="number"){e=e&255;if(u.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==="function"){if(r){return Uint8Array.prototype.indexOf.call(t,e,n)}else{return Uint8Array.prototype.lastIndexOf.call(t,e,n)}}return O(t,[e],n,i,r)}throw new TypeError("val must be string, number or Buffer")}function O(t,e,n,i,r){var o=1;var a=t.length;var s=e.length;if(i!==undefined){i=String(i).toLowerCase();if(i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le"){if(t.length<2||e.length<2){return-1}o=2;a/=2;s/=2;n/=2}}function l(t,e){if(o===1){return t[e]}else{return t.readUInt16BE(e*o)}}var u;if(r){var c=-1;for(u=n;u<a;u++){if(l(t,u)===l(e,c===-1?0:u-c)){if(c===-1)c=u;if(u-c+1===s)return c*o}else{if(c!==-1)u-=u-c;c=-1}}}else{if(n+s>a)n=a-s;for(u=n;u>=0;u--){var f=true;for(var h=0;h<s;h++){if(l(t,u+h)!==l(e,h)){f=false;break}}if(f)return u}}return-1}u.prototype.includes=function t(e,n,i){return this.indexOf(e,n,i)!==-1};u.prototype.indexOf=function t(e,n,i){return E(this,e,n,i,true)};u.prototype.lastIndexOf=function t(e,n,i){return E(this,e,n,i,false)};function k(t,e,n,i){n=Number(n)||0;var r=t.length-n;if(!i){i=r}else{i=Number(i);if(i>r){i=r}}var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");if(i>o/2){i=o/2}for(var a=0;a<i;++a){var s=parseInt(e.substr(a*2,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function T(t,e,n,i){return tt(Y(e,t.length-n),t,n,i)}function C(t,e,n,i){return tt(X(e),t,n,i)}function L(t,e,n,i){return C(t,e,n,i)}function A(t,e,n,i){return tt(Q(e),t,n,i)}function S(t,e,n,i){return tt(J(e,t.length-n),t,n,i)}u.prototype.write=function t(e,n,i,r){if(n===undefined){r="utf8";i=this.length;n=0}else if(i===undefined&&typeof n==="string"){r=n;i=this.length;n=0}else if(isFinite(n)){n=n|0;if(isFinite(i)){i=i|0;if(r===undefined)r="utf8"}else{r=i;i=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var o=this.length-n;if(i===undefined||i>o)i=o;if(e.length>0&&(i<0||n<0)||n>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!r)r="utf8";var a=false;for(;;){switch(r){case"hex":return k(this,e,n,i);case"utf8":case"utf-8":return T(this,e,n,i);case"ascii":return C(this,e,n,i);case"latin1":case"binary":return L(this,e,n,i);case"base64":return A(this,e,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,n,i);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase();a=true}}};u.prototype.toJSON=function t(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(t,e,n){if(e===0&&n===t.length){return i.fromByteArray(t)}else{return i.fromByteArray(t.slice(e,n))}}function N(t,e,n){n=Math.min(t.length,n);var i=[];var r=e;while(r<n){var o=t[r];var a=null;var s=o>239?4:o>223?3:o>191?2:1;if(r+s<=n){var l,u,c,f;switch(s){case 1:if(o<128){a=o}break;case 2:l=t[r+1];if((l&192)===128){f=(o&31)<<6|l&63;if(f>127){a=f}}break;case 3:l=t[r+1];u=t[r+2];if((l&192)===128&&(u&192)===128){f=(o&15)<<12|(l&63)<<6|u&63;if(f>2047&&(f<55296||f>57343)){a=f}}break;case 4:l=t[r+1];u=t[r+2];c=t[r+3];if((l&192)===128&&(u&192)===128&&(c&192)===128){f=(o&15)<<18|(l&63)<<12|(u&63)<<6|c&63;if(f>65535&&f<1114112){a=f}}}}if(a===null){a=65533;s=1}else if(a>65535){a-=65536;i.push(a>>>10&1023|55296);a=56320|a&1023}i.push(a);r+=s}return j(i)}var M=4096;function j(t){var e=t.length;if(e<=M){return String.fromCharCode.apply(String,t)}var n="";var i=0;while(i<e){n+=String.fromCharCode.apply(String,t.slice(i,i+=M))}return n}function I(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r){i+=String.fromCharCode(t[r]&127)}return i}function D(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r){i+=String.fromCharCode(t[r])}return i}function R(t,e,n){var i=t.length;if(!e||e<0)e=0;if(!n||n<0||n>i)n=i;var r="";for(var o=e;o<n;++o){r+=K(t[o])}return r}function q(t,e,n){var i=t.slice(e,n);var r="";for(var o=0;o<i.length;o+=2){r+=String.fromCharCode(i[o]+i[o+1]*256)}return r}u.prototype.slice=function t(e,n){var i=this.length;e=~~e;n=n===undefined?i:~~n;if(e<0){e+=i;if(e<0)e=0}else if(e>i){e=i}if(n<0){n+=i;if(n<0)n=0}else if(n>i){n=i}if(n<e)n=e;var r;if(u.TYPED_ARRAY_SUPPORT){r=this.subarray(e,n);r.__proto__=u.prototype}else{var o=n-e;r=new u(o,undefined);for(var a=0;a<o;++a){r[a]=this[a+e]}}return r};function B(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUIntLE=function t(e,n,i){e=e|0;n=n|0;if(!i)B(e,n,this.length);var r=this[e];var o=1;var a=0;while(++a<n&&(o*=256)){r+=this[e+a]*o}return r};u.prototype.readUIntBE=function t(e,n,i){e=e|0;n=n|0;if(!i){B(e,n,this.length)}var r=this[e+--n];var o=1;while(n>0&&(o*=256)){r+=this[e+--n]*o}return r};u.prototype.readUInt8=function t(e,n){if(!n)B(e,1,this.length);return this[e]};u.prototype.readUInt16LE=function t(e,n){if(!n)B(e,2,this.length);return this[e]|this[e+1]<<8};u.prototype.readUInt16BE=function t(e,n){if(!n)B(e,2,this.length);return this[e]<<8|this[e+1]};u.prototype.readUInt32LE=function t(e,n){if(!n)B(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};u.prototype.readUInt32BE=function t(e,n){if(!n)B(e,4,this.length);return this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};u.prototype.readIntLE=function t(e,n,i){e=e|0;n=n|0;if(!i)B(e,n,this.length);var r=this[e];var o=1;var a=0;while(++a<n&&(o*=256)){r+=this[e+a]*o}o*=128;if(r>=o)r-=Math.pow(2,8*n);return r};u.prototype.readIntBE=function t(e,n,i){e=e|0;n=n|0;if(!i)B(e,n,this.length);var r=n;var o=1;var a=this[e+--r];while(r>0&&(o*=256)){a+=this[e+--r]*o}o*=128;if(a>=o)a-=Math.pow(2,8*n);return a};u.prototype.readInt8=function t(e,n){if(!n)B(e,1,this.length);if(!(this[e]&128))return this[e];return(255-this[e]+1)*-1};u.prototype.readInt16LE=function t(e,n){if(!n)B(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};u.prototype.readInt16BE=function t(e,n){if(!n)B(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};u.prototype.readInt32LE=function t(e,n){if(!n)B(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};u.prototype.readInt32BE=function t(e,n){if(!n)B(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};u.prototype.readFloatLE=function t(e,n){if(!n)B(e,4,this.length);return r.read(this,e,true,23,4)};u.prototype.readFloatBE=function t(e,n){if(!n)B(e,4,this.length);return r.read(this,e,false,23,4)};u.prototype.readDoubleLE=function t(e,n){if(!n)B(e,8,this.length);return r.read(this,e,true,52,8)};u.prototype.readDoubleBE=function t(e,n){if(!n)B(e,8,this.length);return r.read(this,e,false,52,8)};function z(t,e,n,i,r,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}u.prototype.writeUIntLE=function t(e,n,i,r){e=+e;n=n|0;i=i|0;if(!r){var o=Math.pow(2,8*i)-1;z(this,e,n,i,o,0)}var a=1;var s=0;this[n]=e&255;while(++s<i&&(a*=256)){this[n+s]=e/a&255}return n+i};u.prototype.writeUIntBE=function t(e,n,i,r){e=+e;n=n|0;i=i|0;if(!r){var o=Math.pow(2,8*i)-1;z(this,e,n,i,o,0)}var a=i-1;var s=1;this[n+a]=e&255;while(--a>=0&&(s*=256)){this[n+a]=e/s&255}return n+i};u.prototype.writeUInt8=function t(e,n,i){e=+e;n=n|0;if(!i)z(this,e,n,1,255,0);if(!u.TYPED_ARRAY_SUPPORT)e=Math.floor(e);this[n]=e&255;return n+1};function F(t,e,n,i){if(e<0)e=65535+e+1;for(var r=0,o=Math.min(t.length-n,2);r<o;++r){t[n+r]=(e&255<<8*(i?r:1-r))>>>(i?r:1-r)*8}}u.prototype.writeUInt16LE=function t(e,n,i){e=+e;n=n|0;if(!i)z(this,e,n,2,65535,0);if(u.TYPED_ARRAY_SUPPORT){this[n]=e&255;this[n+1]=e>>>8}else{F(this,e,n,true)}return n+2};u.prototype.writeUInt16BE=function t(e,n,i){e=+e;n=n|0;if(!i)z(this,e,n,2,65535,0);if(u.TYPED_ARRAY_SUPPORT){this[n]=e>>>8;this[n+1]=e&255}else{F(this,e,n,false)}return n+2};function U(t,e,n,i){if(e<0)e=4294967295+e+1;for(var r=0,o=Math.min(t.length-n,4);r<o;++r){t[n+r]=e>>>(i?r:3-r)*8&255}}u.prototype.writeUInt32LE=function t(e,n,i){e=+e;n=n|0;if(!i)z(this,e,n,4,4294967295,0);if(u.TYPED_ARRAY_SUPPORT){this[n+3]=e>>>24;this[n+2]=e>>>16;this[n+1]=e>>>8;this[n]=e&255}else{U(this,e,n,true)}return n+4};u.prototype.writeUInt32BE=function t(e,n,i){e=+e;n=n|0;if(!i)z(this,e,n,4,4294967295,0);if(u.TYPED_ARRAY_SUPPORT){this[n]=e>>>24;this[n+1]=e>>>16;this[n+2]=e>>>8;this[n+3]=e&255}else{U(this,e,n,false)}return n+4};u.prototype.writeIntLE=function t(e,n,i,r){e=+e;n=n|0;if(!r){var o=Math.pow(2,8*i-1);z(this,e,n,i,o-1,-o)}var a=0;var s=1;var l=0;this[n]=e&255;while(++a<i&&(s*=256)){if(e<0&&l===0&&this[n+a-1]!==0){l=1}this[n+a]=(e/s>>0)-l&255}return n+i};u.prototype.writeIntBE=function t(e,n,i,r){e=+e;n=n|0;if(!r){var o=Math.pow(2,8*i-1);z(this,e,n,i,o-1,-o)}var a=i-1;var s=1;var l=0;this[n+a]=e&255;while(--a>=0&&(s*=256)){if(e<0&&l===0&&this[n+a+1]!==0){l=1}this[n+a]=(e/s>>0)-l&255}return n+i};u.prototype.writeInt8=function t(e,n,i){e=+e;n=n|0;if(!i)z(this,e,n,1,127,-128);if(!u.TYPED_ARRAY_SUPPORT)e=Math.floor(e);if(e<0)e=255+e+1;this[n]=e&255;return n+1};u.prototype.writeInt16LE=function t(e,n,i){e=+e;n=n|0;if(!i)z(this,e,n,2,32767,-32768);if(u.TYPED_ARRAY_SUPPORT){this[n]=e&255;this[n+1]=e>>>8}else{F(this,e,n,true)}return n+2};u.prototype.writeInt16BE=function t(e,n,i){e=+e;n=n|0;if(!i)z(this,e,n,2,32767,-32768);if(u.TYPED_ARRAY_SUPPORT){this[n]=e>>>8;this[n+1]=e&255}else{F(this,e,n,false)}return n+2};u.prototype.writeInt32LE=function t(e,n,i){e=+e;n=n|0;if(!i)z(this,e,n,4,2147483647,-2147483648);if(u.TYPED_ARRAY_SUPPORT){this[n]=e&255;this[n+1]=e>>>8;this[n+2]=e>>>16;this[n+3]=e>>>24}else{U(this,e,n,true)}return n+4};u.prototype.writeInt32BE=function t(e,n,i){e=+e;n=n|0;if(!i)z(this,e,n,4,2147483647,-2147483648);if(e<0)e=4294967295+e+1;if(u.TYPED_ARRAY_SUPPORT){this[n]=e>>>24;this[n+1]=e>>>16;this[n+2]=e>>>8;this[n+3]=e&255}else{U(this,e,n,false)}return n+4};function $(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(t,e,n,i,o){if(!o){$(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38)}r.write(t,e,n,i,23,4);return n+4}u.prototype.writeFloatLE=function t(e,n,i){return H(this,e,n,true,i)};u.prototype.writeFloatBE=function t(e,n,i){return H(this,e,n,false,i)};function Z(t,e,n,i,o){if(!o){$(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308)}r.write(t,e,n,i,52,8);return n+8}u.prototype.writeDoubleLE=function t(e,n,i){return Z(this,e,n,true,i)};u.prototype.writeDoubleBE=function t(e,n,i){return Z(this,e,n,false,i)};u.prototype.copy=function t(e,n,i,r){if(!i)i=0;if(!r&&r!==0)r=this.length;if(n>=e.length)n=e.length;if(!n)n=0;if(r>0&&r<i)r=i;if(r===i)return 0;if(e.length===0||this.length===0)return 0;if(n<0){throw new RangeError("targetStart out of bounds")}if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");if(r>this.length)r=this.length;if(e.length-n<r-i){r=e.length-n+i}var o=r-i;var a;if(this===e&&i<n&&n<r){for(a=o-1;a>=0;--a){e[a+n]=this[a+i]}}else if(o<1e3||!u.TYPED_ARRAY_SUPPORT){for(a=0;a<o;++a){e[a+n]=this[a+i]}}else{Uint8Array.prototype.set.call(e,this.subarray(i,i+o),n)}return o};u.prototype.fill=function t(e,n,i,r){if(typeof e==="string"){if(typeof n==="string"){r=n;n=0;i=this.length}else if(typeof i==="string"){r=i;i=this.length}if(e.length===1){var o=e.charCodeAt(0);if(o<256){e=o}}if(r!==undefined&&typeof r!=="string"){throw new TypeError("encoding must be a string")}if(typeof r==="string"&&!u.isEncoding(r)){throw new TypeError("Unknown encoding: "+r)}}else if(typeof e==="number"){e=e&255}if(n<0||this.length<n||this.length<i){throw new RangeError("Out of range index")}if(i<=n){return this}n=n>>>0;i=i===undefined?this.length:i>>>0;if(!e)e=0;var a;if(typeof e==="number"){for(a=n;a<i;++a){this[a]=e}}else{var s=u.isBuffer(e)?e:Y(new u(e,r).toString());var l=s.length;for(a=0;a<i-n;++a){this[a+n]=s[a%l]}}return this};var V=/[^+\/0-9A-Za-z-_]/g;function W(t){t=G(t).replace(V,"");if(t.length<2)return"";while(t.length%4!==0){t=t+"="}return t}function G(t){if(t.trim)return t.trim();return t.replace(/^\s+|\s+$/g,"")}function K(t){if(t<16)return"0"+t.toString(16);return t.toString(16)}function Y(t,e){e=e||Infinity;var n;var i=t.length;var r=null;var o=[];for(var a=0;a<i;++a){n=t.charCodeAt(a);if(n>55295&&n<57344){if(!r){if(n>56319){if((e-=3)>-1)o.push(239,191,189);continue}else if(a+1===i){if((e-=3)>-1)o.push(239,191,189);continue}r=n;continue}if(n<56320){if((e-=3)>-1)o.push(239,191,189);r=n;continue}n=(r-55296<<10|n-56320)+65536}else if(r){if((e-=3)>-1)o.push(239,191,189)}r=null;if(n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else{throw new Error("Invalid code point")}}return o}function X(t){var e=[];for(var n=0;n<t.length;++n){e.push(t.charCodeAt(n)&255)}return e}function J(t,e){var n,i,r;var o=[];for(var a=0;a<t.length;++a){if((e-=2)<0)break;n=t.charCodeAt(a);i=n>>8;r=n%256;o.push(r);o.push(i)}return o}function Q(t){return i.toByteArray(W(t))}function tt(t,e,n,i){for(var r=0;r<i;++r){if(r+n>=e.length||r>=t.length)break;e[r+n]=t[r]}return r}function et(t){return t!==t}}).call(this,n(13))},function(t,e){var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";e=t.exports=i?r:o;e.supported=r;function r(t){return Object.prototype.toString.call(t)=="[object Arguments]"}e.unsupported=o;function o(t){return t&&(typeof t==="undefined"?"undefined":n(t))=="object"&&typeof t.length=="number"&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||false}},function(t,e){e=t.exports=typeof Object.keys==="function"?Object.keys:n;e.shim=n;function n(t){var e=[];for(var n in t){e.push(n)}return e}},function(t,e){var n=-1;var i=1;var r=0;function o(t,e,n){if(t==e){if(t){return[[r,t]]}return[]}if(n<0||t.length<n){n=null}var i=u(t,e);var o=t.substring(0,i);t=t.substring(i);e=e.substring(i);i=c(t,e);var s=t.substring(t.length-i);t=t.substring(0,t.length-i);e=e.substring(0,e.length-i);var l=a(t,e);if(o){l.unshift([r,o])}if(s){l.push([r,s])}h(l);if(n!=null){l=v(l,n)}l=m(l);return l}function a(t,e){var a;if(!t){return[[i,e]]}if(!e){return[[n,t]]}var l=t.length>e.length?t:e;var u=t.length>e.length?e:t;var c=l.indexOf(u);if(c!=-1){a=[[i,l.substring(0,c)],[r,u],[i,l.substring(c+u.length)]];if(t.length>e.length){a[0][0]=a[2][0]=n}return a}if(u.length==1){return[[n,t],[i,e]]}var h=f(t,e);if(h){var d=h[0];var p=h[1];var v=h[2];var m=h[3];var g=h[4];var y=o(d,v);var _=o(p,m);return y.concat([[r,g]],_)}return s(t,e)}function s(t,e){var r=t.length;var o=e.length;var a=Math.ceil((r+o)/2);var s=a;var u=2*a;var c=new Array(u);var f=new Array(u);for(var h=0;h<u;h++){c[h]=-1;f[h]=-1}c[s+1]=0;f[s+1]=0;var d=r-o;var p=d%2!=0;var v=0;var m=0;var g=0;var y=0;for(var _=0;_<a;_++){for(var b=-_+v;b<=_-m;b+=2){var w=s+b;var x;if(b==-_||b!=_&&c[w-1]<c[w+1]){x=c[w+1]}else{x=c[w-1]+1}var E=x-b;while(x<r&&E<o&&t.charAt(x)==e.charAt(E)){x++;E++}c[w]=x;if(x>r){m+=2}else if(E>o){v+=2}else if(p){var O=s+d-b;if(O>=0&&O<u&&f[O]!=-1){var k=r-f[O];if(x>=k){return l(t,e,x,E)}}}}for(var T=-_+g;T<=_-y;T+=2){var O=s+T;var k;if(T==-_||T!=_&&f[O-1]<f[O+1]){k=f[O+1]}else{k=f[O-1]+1}var C=k-T;while(k<r&&C<o&&t.charAt(r-k-1)==e.charAt(o-C-1)){k++;C++}f[O]=k;if(k>r){y+=2}else if(C>o){g+=2}else if(!p){var w=s+d-T;if(w>=0&&w<u&&c[w]!=-1){var x=c[w];var E=s+x-w;k=r-k;if(x>=k){return l(t,e,x,E)}}}}}return[[n,t],[i,e]]}function l(t,e,n,i){var r=t.substring(0,n);var a=e.substring(0,i);var s=t.substring(n);var l=e.substring(i);var u=o(r,a);var c=o(s,l);return u.concat(c)}function u(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0)){return 0}var n=0;var i=Math.min(t.length,e.length);var r=i;var o=0;while(n<r){if(t.substring(o,r)==e.substring(o,r)){n=r;o=n}else{i=r}r=Math.floor((i-n)/2+n)}return r}function c(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1)){return 0}var n=0;var i=Math.min(t.length,e.length);var r=i;var o=0;while(n<r){if(t.substring(t.length-r,t.length-o)==e.substring(e.length-r,e.length-o)){n=r;o=n}else{i=r}r=Math.floor((i-n)/2+n)}return r}function f(t,e){var n=t.length>e.length?t:e;var i=t.length>e.length?e:t;if(n.length<4||i.length*2<n.length){return null}function r(t,e,n){var i=t.substring(n,n+Math.floor(t.length/4));var r=-1;var o="";var a,s,l,f;while((r=e.indexOf(i,r+1))!=-1){var h=u(t.substring(n),e.substring(r));var d=c(t.substring(0,n),e.substring(0,r));if(o.length<d+h){o=e.substring(r-d,r)+e.substring(r,r+h);a=t.substring(0,n-d);s=t.substring(n+h);l=e.substring(0,r-d);f=e.substring(r+h)}}if(o.length*2>=t.length){return[a,s,l,f,o]}else{return null}}var o=r(n,i,Math.ceil(n.length/4));var a=r(n,i,Math.ceil(n.length/2));var s;if(!o&&!a){return null}else if(!a){s=o}else if(!o){s=a}else{s=o[4].length>a[4].length?o:a}var l,f,h,d;if(t.length>e.length){l=s[0];f=s[1];h=s[2];d=s[3]}else{h=s[0];d=s[1];l=s[2];f=s[3]}var p=s[4];return[l,f,h,d,p]}function h(t){t.push([r,""]);var e=0;var o=0;var a=0;var s="";var l="";var f;while(e<t.length){switch(t[e][0]){case i:a++;l+=t[e][1];e++;break;case n:o++;s+=t[e][1];e++;break;case r:if(o+a>1){if(o!==0&&a!==0){f=u(l,s);if(f!==0){if(e-o-a>0&&t[e-o-a-1][0]==r){t[e-o-a-1][1]+=l.substring(0,f)}else{t.splice(0,0,[r,l.substring(0,f)]);e++}l=l.substring(f);s=s.substring(f)}f=c(l,s);if(f!==0){t[e][1]=l.substring(l.length-f)+t[e][1];l=l.substring(0,l.length-f);s=s.substring(0,s.length-f)}}if(o===0){t.splice(e-a,o+a,[i,l])}else if(a===0){t.splice(e-o,o+a,[n,s])}else{t.splice(e-o-a,o+a,[n,s],[i,l])}e=e-o-a+(o?1:0)+(a?1:0)+1}else if(e!==0&&t[e-1][0]==r){t[e-1][1]+=t[e][1];t.splice(e,1)}else{e++}a=0;o=0;s="";l="";break}}if(t[t.length-1][1]===""){t.pop()}var d=false;e=1;while(e<t.length-1){if(t[e-1][0]==r&&t[e+1][0]==r){if(t[e][1].substring(t[e][1].length-t[e-1][1].length)==t[e-1][1]){t[e][1]=t[e-1][1]+t[e][1].substring(0,t[e][1].length-t[e-1][1].length);t[e+1][1]=t[e-1][1]+t[e+1][1];t.splice(e-1,1);d=true}else if(t[e][1].substring(0,t[e+1][1].length)==t[e+1][1]){t[e-1][1]+=t[e+1][1];t[e][1]=t[e][1].substring(t[e+1][1].length)+t[e+1][1];t.splice(e+1,1);d=true}}e++}if(d){h(t)}}var d=o;d.INSERT=i;d.DELETE=n;d.EQUAL=r;t.exports=d;function p(t,e){if(e===0){return[r,t]}for(var i=0,o=0;o<t.length;o++){var a=t[o];if(a[0]===n||a[0]===r){var s=i+a[1].length;if(e===s){return[o+1,t]}else if(e<s){t=t.slice();var l=e-i;var u=[a[0],a[1].slice(0,l)];var c=[a[0],a[1].slice(l)];t.splice(o,1,u,c);return[o+1,t]}else{i=s}}}throw new Error("cursor_pos is out of bounds!")}function v(t,e){var n=p(t,e);var i=n[1];var o=n[0];var a=i[o];var s=i[o+1];if(a==null){return t}else if(a[0]!==r){return t}else{if(s!=null&&a[1]+s[1]===s[1]+a[1]){i.splice(o,2,s,a);return g(i,o,2)}else if(s!=null&&s[1].indexOf(a[1])===0){i.splice(o,2,[s[0],a[1]],[0,a[1]]);var l=s[1].slice(a[1].length);if(l.length>0){i.splice(o+2,0,[s[0],l])}return g(i,o,3)}else{return t}}}function m(t){var e=false;var o=function t(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343};var a=function t(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319};for(var s=2;s<t.length;s+=1){if(t[s-2][0]===r&&a(t[s-2][1])&&t[s-1][0]===n&&o(t[s-1][1])&&t[s][0]===i&&o(t[s][1])){e=true;t[s-1][1]=t[s-2][1].slice(-1)+t[s-1][1];t[s][1]=t[s-2][1].slice(-1)+t[s][1];t[s-2][1]=t[s-2][1].slice(0,-1)}}if(!e){return t}var l=[];for(var s=0;s<t.length;s+=1){if(t[s][1].length>0){l.push(t[s])}}return l}function g(t,e,n){for(var i=e+n-1;i>=0&&i>=e-1;i--){if(i+1<t.length){var r=t[i];var o=t[i+1];if(r[0]===o[1]){t.splice(i,2,[r[0],r[1]+o[1]])}}}return t}},function(t,e){var n=document.createElement("div");n.classList.toggle("test-class",false);if(n.classList.contains("test-class")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){if(arguments.length>1&&!this.contains(t)===!e){return e}else{return i.call(this,t)}}}if(!String.prototype.startsWith){String.prototype.startsWith=function(t,e){e=e||0;return this.substr(e,t.length)===t}}if(!String.prototype.endsWith){String.prototype.endsWith=function(t,e){var n=this.toString();if(typeof e!=="number"||!isFinite(e)||Math.floor(e)!==e||e>n.length){e=n.length}e-=t.length;var i=n.indexOf(t,e);return i!==-1&&i===e}}if(!Array.prototype.find){Object.defineProperty(Array.prototype,"find",{value:function t(e){if(this===null){throw new TypeError("Array.prototype.find called on null or undefined")}if(typeof e!=="function"){throw new TypeError("predicate must be a function")}var n=Object(this);var i=n.length>>>0;var r=arguments[1];var t;for(var o=0;o<i;o++){t=n[o];if(e.call(r,t,o,n)){return t}}return undefined}})}document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",false,false);document.execCommand("autoUrlDetect",false,false)})},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:true});var r=n(15);var o=n(7);var a=function(t){i(e,t);function e(e){var n=t.call(this,e)||this;n.text=n.statics.value(n.domNode);return n}e.create=function(t){return document.createTextNode(t)};e.value=function(t){var e=t.data;if(e["normalize"])e=e["normalize"]();return e};e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)};e.prototype.index=function(t,e){if(this.domNode===t){return e}return-1};e.prototype.insertAt=function(e,n,i){if(i==null){this.text=this.text.slice(0,e)+n+this.text.slice(e);this.domNode.data=this.text}else{t.prototype.insertAt.call(this,e,n,i)}};e.prototype.length=function(){return this.text.length};e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);this.text=this.statics.value(this.domNode);if(this.text.length===0){this.remove()}else if(this.next instanceof e&&this.next.prev===this){this.insertAt(this.length(),this.next.value());this.next.remove()}};e.prototype.position=function(t,e){if(e===void 0){e=false}return[this.domNode,t]};e.prototype.split=function(t,e){if(e===void 0){e=false}if(!e){if(t===0)return this;if(t===this.length())return this.next}var n=o.create(this.domNode.splitText(t));this.parent.insertBefore(n,this.next);this.text=this.statics.value(this.domNode);return n};e.prototype.update=function(t,e){var n=this;if(t.some(function(t){return t.type==="characterData"&&t.target===n.domNode})){this.text=this.statics.value(this.domNode)}};e.prototype.value=function(){return this.text};e.blotName="text";e.scope=o.Scope.INLINE_BLOT;return e}(r.default);e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:true});var r=n(15);var o=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.formats=function(t){return undefined};e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)};e.prototype.formatAt=function(e,n,i,r){if(e===0&&n===this.length()){this.format(i,r)}else{t.prototype.formatAt.call(this,e,n,i,r)}};e.prototype.formats=function(){return this.statics.formats(this.domNode)};return e}(r.default);e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:true});var r=n(16);var o=n(7);var a=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.formats=function(n){var i=o.query(e.blotName).tagName;if(n.tagName===i)return undefined;return t.formats.call(this,n)};e.prototype.format=function(n,i){if(o.query(n,o.Scope.BLOCK)==null){return}else if(n===this.statics.blotName&&!i){this.replaceWith(e.blotName)}else{t.prototype.format.call(this,n,i)}};e.prototype.formatAt=function(e,n,i,r){if(o.query(i,o.Scope.BLOCK)!=null){this.format(i,r)}else{t.prototype.formatAt.call(this,e,n,i,r)}};e.prototype.insertAt=function(e,n,i){if(i==null||o.query(n,o.Scope.INLINE)!=null){t.prototype.insertAt.call(this,e,n,i)}else{var r=this.split(e);var a=o.create(n,i);r.parent.insertBefore(a,r)}};e.prototype.update=function(e,n){if(navigator.userAgent.match(/Trident/)){this.build()}else{t.prototype.update.call(this,e,n)}};e.blotName="block";e.scope=o.Scope.BLOCK_BLOT;e.tagName="P";return e}(r.default);e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:true});var r=n(16);var o=n(7);function a(t,e){if(Object.keys(t).length!==Object.keys(e).length)return false;for(var n in t){if(t[n]!==e[n])return false}return true}var s=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.formats=function(n){if(n.tagName===e.tagName)return undefined;return t.formats.call(this,n)};e.prototype.format=function(n,i){var o=this;if(n===this.statics.blotName&&!i){this.children.forEach(function(t){if(!(t instanceof r.default)){t=t.wrap(e.blotName,true)}o.attributes.copy(t)});this.unwrap()}else{t.prototype.format.call(this,n,i)}};e.prototype.formatAt=function(e,n,i,r){if(this.formats()[i]!=null||o.query(i,o.Scope.ATTRIBUTE)){var a=this.isolate(e,n);a.format(i,r)}else{t.prototype.formatAt.call(this,e,n,i,r)}};e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var i=this.formats();if(Object.keys(i).length===0){return this.unwrap()}var r=this.next;if(r instanceof e&&r.prev===this&&a(i,r.formats())){r.moveChildren(this);r.remove()}};e.blotName="inline";e.scope=o.Scope.INLINE_BLOT;e.tagName="SPAN";return e}(r.default);e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:true});var r=n(17);var o=n(7);var a={attributes:true,characterData:true,characterDataOldValue:true,childList:true,subtree:true};var s=100;var l=function(t){i(e,t);function e(e){var n=t.call(this,e)||this;n.parent=null;n.scroll=n;n.observer=new MutationObserver(function(t){n.update(t)});n.observer.observe(n.domNode,a);n.attach();return n}e.prototype.detach=function(){t.prototype.detach.call(this);this.observer.disconnect()};e.prototype.deleteAt=function(e,n){this.update();if(e===0&&n===this.length()){this.children.forEach(function(t){t.remove()})}else{t.prototype.deleteAt.call(this,e,n)}};e.prototype.formatAt=function(e,n,i,r){this.update();t.prototype.formatAt.call(this,e,n,i,r)};e.prototype.insertAt=function(e,n,i){this.update();t.prototype.insertAt.call(this,e,n,i)};e.prototype.optimize=function(e,n){var i=this;if(e===void 0){e=[]}if(n===void 0){n={}}t.prototype.optimize.call(this,n);var a=[].slice.call(this.observer.takeRecords());while(a.length>0)e.push(a.pop());var l=function(t,e){if(e===void 0){e=true}if(t==null||t===i)return;if(t.domNode.parentNode==null)return;if(t.domNode[o.DATA_KEY].mutations==null){t.domNode[o.DATA_KEY].mutations=[]}if(e)l(t.parent)};var u=function(t){if(t.domNode[o.DATA_KEY]==null||t.domNode[o.DATA_KEY].mutations==null){return}if(t instanceof r.default){t.children.forEach(u)}t.optimize(n)};var c=e;for(var f=0;c.length>0;f+=1){if(f>=s){throw new Error("[Parchment] Maximum optimize iterations reached")}c.forEach(function(t){var e=o.find(t.target,true);if(e==null)return;if(e.domNode===t.target){if(t.type==="childList"){l(o.find(t.previousSibling,false));[].forEach.call(t.addedNodes,function(t){var e=o.find(t,false);l(e,false);if(e instanceof r.default){e.children.forEach(function(t){l(t,false)})}})}else if(t.type==="attributes"){l(e.prev)}}l(e)});this.children.forEach(u);c=[].slice.call(this.observer.takeRecords());a=c.slice();while(a.length>0)e.push(a.pop())}};e.prototype.update=function(e,n){var i=this;if(n===void 0){n={}}e=e||this.observer.takeRecords();e.map(function(t){var e=o.find(t.target,true);if(e==null)return;if(e.domNode[o.DATA_KEY].mutations==null){e.domNode[o.DATA_KEY].mutations=[t];return e}else{e.domNode[o.DATA_KEY].mutations.push(t);return null}}).forEach(function(t){if(t==null||t===i||t.domNode[o.DATA_KEY]==null)return;t.update(t.domNode[o.DATA_KEY].mutations||[],n)});if(this.domNode[o.DATA_KEY].mutations!=null){t.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,n)}this.optimize(e,n)};e.blotName="scroll";e.defaultChild="block";e.scope=o.Scope.BLOCK_BLOT;e.tagName="DIV";return e}(r.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var i=function(){function t(){this.head=this.tail=undefined;this.length=0}t.prototype.append=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}this.insertBefore(t[0],undefined);if(t.length>1){this.append.apply(this,t.slice(1))}};t.prototype.contains=function(t){var e,n=this.iterator();while(e=n()){if(e===t)return true}return false};t.prototype.insertBefore=function(t,e){t.next=e;if(e!=null){t.prev=e.prev;if(e.prev!=null){e.prev.next=t}e.prev=t;if(e===this.head){this.head=t}}else if(this.tail!=null){this.tail.next=t;t.prev=this.tail;this.tail=t}else{t.prev=undefined;this.head=this.tail=t}this.length+=1};t.prototype.offset=function(t){var e=0,n=this.head;while(n!=null){if(n===t)return e;e+=n.length();n=n.next}return-1};t.prototype.remove=function(t){if(!this.contains(t))return;if(t.prev!=null)t.prev.next=t.next;if(t.next!=null)t.next.prev=t.prev;if(t===this.head)this.head=t.next;if(t===this.tail)this.tail=t.prev;this.length-=1};t.prototype.iterator=function(t){if(t===void 0){t=this.head}return function(){var e=t;if(t!=null)t=t.next;return e}};t.prototype.find=function(t,e){if(e===void 0){e=false}var n,i=this.iterator();while(n=i()){var r=n.length();if(t<r||e&&t===r&&(n.next==null||n.next.length()!==0)){return[n,t]}t-=r}return[null,0]};t.prototype.forEach=function(t){var e,n=this.iterator();while(e=n()){t(e)}};t.prototype.forEachAt=function(t,e,n){if(e<=0)return;var i=this.find(t),r=i[0],o=i[1];var a,s=t-o,l=this.iterator(r);while((a=l())&&s<t+e){var u=a.length();if(t>s){n(a,t-s,Math.min(e,s+u-t))}else{n(a,0,Math.min(u,t+e-s))}s+=u}};t.prototype.map=function(t){return this.reduce(function(e,n){e.push(t(n));return e},[])};t.prototype.reduce=function(t,e){var n,i=this.iterator();while(n=i()){e=t(e,n)}return e};return t}();e.default=i},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M512 0C504.81.01 98.51 22.01 71.47 287.42c-2.62 22.6-4.22 45.28-5.37 67.98l160.65-160.65c6.25-6.25 16.38-6.25 22.62 0s6.25 16.38 0 22.62l-240 240a31.9 31.9 0 0 0-9.38 22.67C.02 497.68 14.33 512 32 512c8.19 0 16.38-3.12 22.62-9.38l55.05-55.05c38.4-.5 76.76-2.63 114.91-7.05 11.58-1.18 22.54-3.29 33.21-5.84L256 384h101.86c12.61-10.63 24.12-22.45 34.76-35.07L384 288h50.19C502.8 163.6 512 .1 512 0z"></path></svg>'},function(t,e){t.exports='<svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"><path d="M256,32C114.6,32,0,125.1,0,240c0,49.6,21.4,95,57,130.7C44.5,421.1,2.7,466,2.2,466.5c-2.2,2.3-2.8,5.7-1.5,8.7 S4.8,480,8,480c66.3,0,116-31.8,140.6-51.4c32.7,12.3,69,19.4,107.4,19.4c141.4,0,256-93.1,256-208S397.4,32,256,32z M375,279h-84 v84h-84v-84h-84v-84h84v-84h84v84h84V279z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"><line class="ql-stroke" x1="2.5" y1="4" x2="11.4" y2="4"></line><line class="ql-stroke" x1="6.9" y1="14" x2="6.9" y2="4"></line><line class="ql-stroke" x1="9.7" y1="6.9" x2="15.6" y2="6.9"></line><line class="ql-stroke" x1="12.6" y1="14" x2="12.6" y2="6.9"></line></svg>'},function(t,e){t.exports='<svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 273.6" style="enable-background:new 0 0 512 273.6;" xml:space="preserve"><style type="text/css"> .st0{fill:#231F20;} </style><g><path class="st0" d="M98.6,73h104.2c10,0,18.2-8.2,18.2-18.2s-8.2-18.2-18.2-18.2H98.6c-10,0-18.2,8.2-18.2,18.2S88.6,73,98.6,73z"></path><path class="st0" d="M202.8,127.7H98.6c-10,0-18.2,8.2-18.2,18.2s8.2,18.2,18.2,18.2h104.2c10,0,18.2-8.2,18.2-18.2 S212.8,127.7,202.8,127.7z"></path><path class="st0" d="M202.8,218.9H98.6c-10,0-18.2,8.2-18.2,18.2s8.2,18.2,18.2,18.2h104.2c10,0,18.2-8.2,18.2-18.2 S212.8,218.9,202.8,218.9z"></path><polygon class="st0" points="21.6,19 22.9,17.8 24.3,16.5 25.5,15.3 26.3,14.5 26.2,17.7 26,21.3 26,24.7 25.9,27.4 25.9,65.1 39.7,65.1 39.7,0 28.4,0 7.4,16.7 14.1,25 "></polygon><path class="st0" d="M17.3,155.6l7.8-7.9c2.3-2.3,4.5-4.5,6.5-6.7c2-2.2,3.8-4.5,5.4-6.7c1.5-2.2,2.7-4.5,3.6-6.9 c0.9-2.3,1.4-4.8,1.4-7.3c0-2.8-0.5-5.3-1.4-7.6c-0.9-2.3-2.3-4.2-4-5.8s-3.8-2.8-6.3-3.7c-2.5-0.9-5.3-1.3-8.4-1.3 c-2.6,0-5,0.3-7.1,0.8c-2.1,0.5-4.1,1.2-5.8,2.1c-1.7,0.9-3.3,1.9-4.8,3L0,111.1l7.5,8.9c2.4-2.1,4.6-3.8,6.8-4.9 c2.2-1.2,4.4-1.7,6.8-1.7c2.2,0,4,0.6,5.3,1.8c1.3,1.2,2,2.9,2,5.1c0,2-0.3,3.8-0.9,5.6c-0.6,1.7-1.5,3.4-2.6,5.1s-2.5,3.4-4.1,5.1 c-1.6,1.8-3.3,3.7-5.2,5.8L0.2,158.3v9.6h43.7v-11.6H17.3V155.6z"></path><path class="st0" d="M27.9,238.7v-0.3c2-0.5,3.8-1.2,5.5-2.1c1.7-0.9,3.2-2,4.5-3.4c1.3-1.4,2.3-2.9,3-4.7c0.7-1.8,1.1-3.8,1.1-6.1 c0-2.5-0.5-4.6-1.5-6.6c-1-1.9-2.5-3.5-4.3-4.9c-1.9-1.3-4.1-2.3-6.8-3c-2.6-0.7-5.5-1.1-8.7-1.1c-2.3,0-4.4,0.2-6.4,0.5 c-2,0.3-3.8,0.8-5.6,1.4c-1.7,0.6-3.3,1.2-4.8,2l-4.1,2.5l6.9,9.2l2.4-1.5l2.9-1.4l3.4-1.1l4-0.4c3.1,0,5.4,0.6,6.8,2 c1.5,1.3,2.2,3.1,2.2,5.4l-0.7,3.6l-2.3,3c-1.1,0.9-2.5,1.5-4.3,2c-1.8,0.5-4.1,0.7-6.8,0.7H9.8v9.7h4.6c2.9,0,5.3,0.2,7.3,0.6 c2,0.4,3.6,1,4.8,1.8l2.7,2.8l0.8,3.6l-0.6,3.9l-2.2,3.1c-1,0.9-2.4,1.5-4.1,2c-1.7,0.5-3.8,0.7-6.3,0.7l-4.1-0.3l-4.4-0.8 l-4.5-1.4l-4.2-1.9v11.7c2.7,1.2,5.6,2.1,8.7,2.7c3.1,0.6,6.4,0.9,9.9,0.9c4.4,0,8.2-0.5,11.4-1.5c3.2-1,5.9-2.4,8-4.2 c2.1-1.8,3.7-3.9,4.7-6.3c1-2.4,1.5-5.1,1.5-7.9c0-4.3-1.3-7.7-4-10.3C37.2,240.9,33.2,239.3,27.9,238.7z"></path></g><g><path class="st0" d="M386.6,73h104.2c10,0,18.2-8.2,18.2-18.2s-8.2-18.2-18.2-18.2H386.6c-10,0-18.2,8.2-18.2,18.2 S376.6,73,386.6,73z"></path><path class="st0" d="M490.8,127.7H386.6c-10,0-18.2,8.2-18.2,18.2s8.2,18.2,18.2,18.2h104.2c10,0,18.2-8.2,18.2-18.2 S500.8,127.7,490.8,127.7z"></path><path class="st0" d="M490.8,218.9H386.6c-10,0-18.2,8.2-18.2,18.2s8.2,18.2,18.2,18.2h104.2c10,0,18.2-8.2,18.2-18.2 S500.8,218.9,490.8,218.9z"></path><polygon class="st0" points="309.6,19 310.9,17.8 312.3,16.5 313.5,15.3 314.3,14.5 314.2,17.7 314,21.3 314,24.7 313.9,27.4 313.9,65.1 327.7,65.1 327.7,0 316.4,0 295.4,16.7 302.1,25 "></polygon><path class="st0" d="M305.3,155.6l7.8-7.9c2.3-2.3,4.5-4.5,6.5-6.7c2-2.2,3.8-4.5,5.4-6.7c1.5-2.2,2.7-4.5,3.6-6.9 c0.9-2.3,1.4-4.8,1.4-7.3c0-2.8-0.5-5.3-1.4-7.6c-0.9-2.3-2.3-4.2-4-5.8s-3.8-2.8-6.3-3.7c-2.5-0.9-5.3-1.3-8.4-1.3 c-2.6,0-5,0.3-7.1,0.8c-2.1,0.5-4.1,1.2-5.8,2.1c-1.7,0.9-3.3,1.9-4.8,3l-4.2,3.5l7.5,8.9c2.4-2.1,4.6-3.8,6.8-4.9 c2.2-1.2,4.4-1.7,6.8-1.7c2.2,0,4,0.6,5.3,1.8c1.3,1.2,2,2.9,2,5.1c0,2-0.3,3.8-0.9,5.6c-0.6,1.7-1.5,3.4-2.6,5.1s-2.5,3.4-4.1,5.1 c-1.6,1.8-3.3,3.7-5.2,5.8l-15.3,16.5v9.6h43.7v-11.6h-26.5V155.6z"></path><path class="st0" d="M315.9,238.7v-0.3c2-0.5,3.8-1.2,5.5-2.1c1.7-0.9,3.2-2,4.5-3.4c1.3-1.4,2.3-2.9,3-4.7 c0.7-1.8,1.1-3.8,1.1-6.1c0-2.5-0.5-4.6-1.5-6.6c-1-1.9-2.5-3.5-4.3-4.9c-1.9-1.3-4.1-2.3-6.8-3c-2.6-0.7-5.5-1.1-8.7-1.1 c-2.3,0-4.4,0.2-6.4,0.5c-2,0.3-3.8,0.8-5.6,1.4c-1.7,0.6-3.3,1.2-4.8,2l-4.1,2.5l6.9,9.2l2.4-1.5l2.9-1.4l3.4-1.1l4-0.4 c3.1,0,5.4,0.6,6.8,2c1.5,1.3,2.2,3.1,2.2,5.4l-0.7,3.6l-2.3,3c-1.1,0.9-2.5,1.5-4.3,2c-1.8,0.5-4.1,0.7-6.8,0.7h-4.5v9.7h4.6 c2.9,0,5.3,0.2,7.3,0.6c2,0.4,3.6,1,4.8,1.8l2.7,2.8l0.8,3.6l-0.6,3.9l-2.2,3.1c-1,0.9-2.4,1.5-4.1,2c-1.7,0.5-3.8,0.7-6.3,0.7 l-4.1-0.3l-4.4-0.8l-4.5-1.4l-4.2-1.9v11.7c2.7,1.2,5.6,2.1,8.7,2.7c3.1,0.6,6.4,0.9,9.9,0.9c4.4,0,8.2-0.5,11.4-1.5 c3.2-1,5.9-2.4,8-4.2c2.1-1.8,3.7-3.9,4.7-6.3c1-2.4,1.5-5.1,1.5-7.9c0-4.3-1.3-7.7-4-10.3C325.2,240.9,321.2,239.3,315.9,238.7z"></path></g></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"></path><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"></path><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"></path><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"><g><path class="st0 ql-fill" d="M8.9,9.8c2.1,0,3.2-2.1,3.2-4.9c0-1.8-1.4-3-3.2-3c-1.8,0-3.2,1.3-3.2,3C5.7,7.4,6.8,9.8,8.9,9.8z M15.2,13.9 C15.1,13.9,15.1,13.8,15.2,13.9c0-0.1,0-0.2-0.1-0.2c-0.2-0.4-1.1-1.8-1.6-3c-0.3-0.6-0.8-0.9-1.4-0.8c-0.5,0-1,0.2-1.4,0.7 c-0.4,0.4-1.1,0.6-1.8,0.6c-0.7,0-1.4-0.3-1.8-0.6c-0.4-0.4-0.9-0.7-1.4-0.7c-0.5,0-1,0.2-1.4,0.8c-0.6,1.1-1.5,2.6-1.6,3 c0,0.1,0,0.1,0,0.2c0,0,0,0.1,0,0.1c0,0,0,0.1,0,0.1c0,0.1,0,0.1,0,0.2c0,0,0,0.1,0.1,0.1c0,0.1,0.1,0.1,0.1,0.1c0,0,0,0,0,0 c0.1,0,0.1,0.1,0.1,0.1s0.1,0,0.2,0c1.4,0,10.9,0,11.5,0c0.1,0,0.2,0,0.2,0s0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0.1-0.1,0.1-0.1 c0,0,0,0,0.1-0.1c0-0.1,0-0.1,0-0.2C15.2,14,15.2,13.9,15.2,13.9z"></path></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M408 32H177.531C88.948 32 16.045 103.335 16 191.918 15.956 280.321 87.607 352 176 352v104c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V112h32v344c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V112h40c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"><g><path class="ql-fill" d="M1,1v12h4v4l5.6-4H17V1H1z M15,11h-4l-4,3v-3H3V3h12V11z"></path><polygon class="ql-fill" points="8,10 10,10 10,8 12,8 12,6 10,6 10,4 8,4 8,6 6,6 6,8 8,8 "></polygon></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M8.9,1.9C6.3,1.9,4.2,4,4.2,6.6c0,3.1,4.7,7.8,4.7,7.8s4.7-4.7,4.7-7.8C13.6,4,11.5,1.9,8.9,1.9z M8.9,9.7 c-1.7,0-3.1-1.4-3.1-3.1c0-1.7,1.4-3.1,3.1-3.1S12,4.9,12,6.6C12,8.3,10.6,9.7,8.9,9.7z"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"></line><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"></line><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"></line><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"></line><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"></line><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"></line></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"></line><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"></path><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"></line><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"></line><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"></line></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"><polyline class="ql-stroke" points="4.6,14 2.5,14 2.5,4 4.6,4 "></polyline><polyline class="ql-stroke" points="13.5,4 15.6,4 15.6,14 13.5,14 "></polyline><polyline class="ql-stroke" points="4.6,14 2.5,14 2.5,4 4.6,4 "></polyline><g><path class="ql-fill" d="M7.8,9H5.4v2.3h2.7v0.7H4.6V5.7h3.4v0.7H5.4v2h2.4V9z"></path><path class="ql-fill" d="M12.6,11.9l-0.8-1.4C11.4,10,11.2,9.7,11,9.3h0c-0.2,0.4-0.4,0.7-0.7,1.2l-0.8,1.4H8.7l1.9-3.2L8.7,5.7h0.9l0.8,1.5 c0.2,0.4,0.4,0.7,0.6,1.1h0c0.2-0.4,0.3-0.7,0.6-1.1l0.9-1.5h0.9l-1.9,3l1.9,3.2H12.6z"></path></g></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"></line><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"></path><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"></line><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"></polyline><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"></line></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18" style="enable-background:new 0 0 750 700;" xml:space="preserve"><path class="ql-stroke" d="M5,4h4.5C10.9,4,12,5.1,12,6.5l0,0C12,7.9,10.9,9,9.5,9H5l0,0V4L5,4z"></path><path class="ql-stroke" d="M5,9h5.5c1.4,0,2.5,1.1,2.5,2.5l0,0c0,1.4-1.1,2.5-2.5,2.5H5l0,0V9L5,9z"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"></rect><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"></rect><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"></path><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"></path></svg>'},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,"",""])},function(t,e,n){var i=n(121);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("5a6730bc",i,true,{})},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,"#joke[data-v-145e3bc9]{background:#000 url(/adele/static/images/solar-system.svg) no-repeat 50% 50%;background-size:cover;position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1}#astronaut[data-v-145e3bc9]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-30deg);animation:astronaut-rotation-data-v-145e3bc9 5s infinite linear}.fade-enter-active[data-v-145e3bc9]{transition:all 1s ease}.fade-leave-active[data-v-145e3bc9]{transition:all .5s ease}.fade-enter[data-v-145e3bc9],.fade-leave-to[data-v-145e3bc9]{opacity:0}@keyframes astronaut-rotation-data-v-145e3bc9{0%{transform:translate(-50%,-50%) rotate(-30deg)}to{transform:translate(-50%,-50%) rotate(330deg)}}",""])},function(t,e,n){var i=n(123);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("560bdb94",i,true,{})},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,"",""])},function(t,e,n){var i=n(125);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("5116f4e3",i,true,{})},function(t,e,n){(function(t){var e={};function n(i){if(e[i]){return e[i].exports}var r=e[i]={i,l:false,exports:{}};t[i].call(r.exports,r,r.exports,n);r.l=true;return r.exports}n.m=t;n.c=e;n.d=function(t,e,i){if(!n.o(t,e)){Object.defineProperty(t,e,{enumerable:true,get:i})}};n.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};n.t=function(t,e){if(e&1)t=n(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var i=Object.create(null);n.r(i);Object.defineProperty(i,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i};n.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};n.d(e,"a",e);return e};n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};n.p="";return n(n.s=9)})([function(t,e,n){"use strict";var i=n(4);var r=n(15);var o=Object.prototype.toString;function a(t){return o.call(t)==="[object Array]"}function s(t){return o.call(t)==="[object ArrayBuffer]"}function l(t){return typeof FormData!=="undefined"&&t instanceof FormData}function u(t){var e;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView){e=ArrayBuffer.isView(t)}else{e=t&&t.buffer&&t.buffer instanceof ArrayBuffer}return e}function c(t){return typeof t==="string"}function f(t){return typeof t==="number"}function h(t){return typeof t==="undefined"}function d(t){return t!==null&&typeof t==="object"}function p(t){return o.call(t)==="[object Date]"}function v(t){return o.call(t)==="[object File]"}function m(t){return o.call(t)==="[object Blob]"}function g(t){return o.call(t)==="[object Function]"}function y(t){return d(t)&&g(t.pipe)}function _(t){return typeof URLSearchParams!=="undefined"&&t instanceof URLSearchParams}function b(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function w(){if(typeof navigator!=="undefined"&&navigator.product==="ReactNative"){return false}return typeof window!=="undefined"&&typeof document!=="undefined"}function x(t,e){if(t===null||typeof t==="undefined"){return}if(typeof t!=="object"){t=[t]}if(a(t)){for(var n=0,i=t.length;n<i;n++){e.call(null,t[n],n,t)}}else{for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r)){e.call(null,t[r],r,t)}}}}function E(){var t={};function e(e,n){if(typeof t[n]==="object"&&typeof e==="object"){t[n]=E(t[n],e)}else{t[n]=e}}for(var n=0,i=arguments.length;n<i;n++){x(arguments[n],e)}return t}function O(t,e,n){x(e,function e(r,o){if(n&&typeof r==="function"){t[o]=i(r,n)}else{t[o]=r}});return t}t.exports={isArray:a,isArrayBuffer:s,isBuffer:r,isFormData:l,isArrayBufferView:u,isString:c,isNumber:f,isObject:d,isUndefined:h,isDate:p,isFile:v,isBlob:m,isFunction:g,isStream:y,isURLSearchParams:_,isStandardBrowserEnv:w,forEach:x,merge:E,extend:O,trim:b}},function(t,e,n){
/* @preserve
   * Leaflet 1.3.4, a JS library for interactive maps. http://leafletjs.com
   * (c) 2010-2018 Vladimir Agafonkin, (c) 2010-2011 CloudMade
   */
(function(t,n){true?n(e):undefined})(this,function(t){"use strict";var e="1.3.4";var n=Object.freeze;Object.freeze=function(t){return t};function i(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++){r=arguments[n];for(e in r){t[e]=r[e]}}return t}var r=Object.create||function(){function t(){}return function(e){t.prototype=e;return new t}}();function o(t,e){var n=Array.prototype.slice;if(t.bind){return t.bind.apply(t,n.call(arguments,1))}var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var a=0;function s(t){t._leaflet_id=t._leaflet_id||++a;return t._leaflet_id}function l(t,e,n){var i,r,o,a;a=function(){i=false;if(r){o.apply(n,r);r=false}};o=function(){if(i){r=arguments}else{t.apply(n,arguments);setTimeout(a,e);i=true}};return o}function u(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function c(){return false}function f(t,e){var n=Math.pow(10,e===undefined?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function d(t){return h(t).split(/\s+/)}function p(t,e){if(!t.hasOwnProperty("options")){t.options=t.options?r(t.options):{}}for(var n in e){t.options[n]=e[n]}return t.options}function v(t,e,n){var i=[];for(var r in t){i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]))}return(!e||e.indexOf("?")===-1?"?":"&")+i.join("&")}var m=/\{ *([\w_-]+) *\}/g;function g(t,e){return t.replace(m,function(t,n){var i=e[n];if(i===undefined){throw new Error("No value provided for variable "+t)}else if(typeof i==="function"){i=i(e)}return i})}var y=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function _(t,e){for(var n=0;n<t.length;n++){if(t[n]===e){return n}}return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function w(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var x=0;function E(t){var e=+new Date,n=Math.max(0,16-(e-x));x=e+n;return window.setTimeout(t,n)}var O=window.requestAnimationFrame||w("RequestAnimationFrame")||E;var k=window.cancelAnimationFrame||w("CancelAnimationFrame")||w("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,n){if(n&&O===E){t.call(e)}else{return O.call(window,o(t,e))}}function C(t){if(t){k.call(window,t)}}var A=(Object.freeze||Object)({freeze:n,extend:i,create:r,bind:o,lastId:a,stamp:s,throttle:l,wrapNum:u,falseFn:c,formatNum:f,trim:h,splitWords:d,setOptions:p,getParamString:v,template:g,isArray:y,indexOf:_,emptyImageUrl:b,requestFn:O,cancelFn:k,requestAnimFrame:T,cancelAnimFrame:C});function S(){}S.extend=function(t){var e=function(){if(this.initialize){this.initialize.apply(this,arguments)}this.callInitHooks()};var n=e.__super__=this.prototype;var o=r(n);o.constructor=e;e.prototype=o;for(var a in this){if(this.hasOwnProperty(a)&&a!=="prototype"&&a!=="__super__"){e[a]=this[a]}}if(t.statics){i(e,t.statics);delete t.statics}if(t.includes){P(t.includes);i.apply(null,[o].concat(t.includes));delete t.includes}if(o.options){t.options=i(r(o.options),t.options)}i(o,t);o._initHooks=[];o.callInitHooks=function(){if(this._initHooksCalled){return}if(n.callInitHooks){n.callInitHooks.call(this)}this._initHooksCalled=true;for(var t=0,e=o._initHooks.length;t<e;t++){o._initHooks[t].call(this)}};return e};S.include=function(t){i(this.prototype,t);return this};S.mergeOptions=function(t){i(this.prototype.options,t);return this};S.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1);var n=typeof t==="function"?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push(n);return this};function P(t){if(typeof L==="undefined"||!L||!L.Mixin){return}t=y(t)?t:[t];for(var e=0;e<t.length;e++){if(t[e]===L.Mixin.Events){console.warn("Deprecated include of L.Mixin.Events: "+"this property will be removed in future releases, "+"please inherit from L.Evented instead.",(new Error).stack)}}}var N={on:function(t,e,n){if(typeof t==="object"){for(var i in t){this._on(i,t[i],e)}}else{t=d(t);for(var r=0,o=t.length;r<o;r++){this._on(t[r],e,n)}}return this},off:function(t,e,n){if(!t){delete this._events}else if(typeof t==="object"){for(var i in t){this._off(i,t[i],e)}}else{t=d(t);for(var r=0,o=t.length;r<o;r++){this._off(t[r],e,n)}}return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];if(!i){i=[];this._events[t]=i}if(n===this){n=undefined}var r={fn:e,ctx:n},o=i;for(var a=0,s=o.length;a<s;a++){if(o[a].fn===e&&o[a].ctx===n){return}}o.push(r)},_off:function(t,e,n){var i,r,o;if(!this._events){return}i=this._events[t];if(!i){return}if(!e){for(r=0,o=i.length;r<o;r++){i[r].fn=c}delete this._events[t];return}if(n===this){n=undefined}if(i){for(r=0,o=i.length;r<o;r++){var a=i[r];if(a.ctx!==n){continue}if(a.fn===e){a.fn=c;if(this._firingCount){this._events[t]=i=i.slice()}i.splice(r,1);return}}}},fire:function(t,e,n){if(!this.listens(t,n)){return this}var r=i({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var l=o[a];l.fn.call(l.ctx||this,r)}this._firingCount--}}if(n){this._propagateEvent(r)}return this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length){return true}if(e){for(var i in this._eventParents){if(this._eventParents[i].listens(t,e)){return true}}}return false},once:function(t,e,n){if(typeof t==="object"){for(var i in t){this.once(i,t[i],e)}return this}var r=o(function(){this.off(t,e,n).off(t,r,n)},this);return this.on(t,e,n).on(t,r,n)},addEventParent:function(t){this._eventParents=this._eventParents||{};this._eventParents[s(t)]=t;return this},removeEventParent:function(t){if(this._eventParents){delete this._eventParents[s(t)]}return this},_propagateEvent:function(t){for(var e in this._eventParents){this._eventParents[e].fire(t.type,i({layer:t.target,propagatedFrom:t.target},t),true)}}};N.addEventListener=N.on;N.removeEventListener=N.clearAllEventListeners=N.off;N.addOneTimeEventListener=N.once;N.fireEvent=N.fire;N.hasEventListeners=N.listens;var M=S.extend(N);function j(t,e,n){this.x=n?Math.round(t):t;this.y=n?Math.round(e):e}var I=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};j.prototype={clone:function(){return new j(this.x,this.y)},add:function(t){return this.clone()._add(D(t))},_add:function(t){this.x+=t.x;this.y+=t.y;return this},subtract:function(t){return this.clone()._subtract(D(t))},_subtract:function(t){this.x-=t.x;this.y-=t.y;return this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){this.x/=t;this.y/=t;return this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){this.x*=t;this.y*=t;return this},scaleBy:function(t){return new j(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new j(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){return this.clone()._ceil()},_ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},trunc:function(){return this.clone()._trunc()},_trunc:function(){this.x=I(this.x);this.y=I(this.y);return this},distanceTo:function(t){t=D(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){t=D(t);return t.x===this.x&&t.y===this.y},contains:function(t){t=D(t);return Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+f(this.x)+", "+f(this.y)+")"}};function D(t,e,n){if(t instanceof j){return t}if(y(t)){return new j(t[0],t[1])}if(t===undefined||t===null){return t}if(typeof t==="object"&&"x"in t&&"y"in t){return new j(t.x,t.y)}return new j(t,e,n)}function R(t,e){if(!t){return}var n=e?[t,e]:t;for(var i=0,r=n.length;i<r;i++){this.extend(n[i])}}R.prototype={extend:function(t){t=D(t);if(!this.min&&!this.max){this.min=t.clone();this.max=t.clone()}else{this.min.x=Math.min(t.x,this.min.x);this.max.x=Math.max(t.x,this.max.x);this.min.y=Math.min(t.y,this.min.y);this.max.y=Math.max(t.y,this.max.y)}return this},getCenter:function(t){return new j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new j(this.min.x,this.max.y)},getTopRight:function(){return new j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;if(typeof t[0]==="number"||t instanceof j){t=D(t)}else{t=q(t)}if(t instanceof R){e=t.min;n=t.max}else{e=n=t}return e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=q(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,a=r.y>=e.y&&i.y<=n.y;return o&&a},overlaps:function(t){t=q(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,a=r.y>e.y&&i.y<n.y;return o&&a},isValid:function(){return!!(this.min&&this.max)}};function q(t,e){if(!t||t instanceof R){return t}return new R(t,e)}function B(t,e){if(!t){return}var n=e?[t,e]:t;for(var i=0,r=n.length;i<r;i++){this.extend(n[i])}}B.prototype={extend:function(t){var e=this._southWest,n=this._northEast,i,r;if(t instanceof F){i=t;r=t}else if(t instanceof B){i=t._southWest;r=t._northEast;if(!i||!r){return this}}else{return t?this.extend(U(t)||z(t)):this}if(!e&&!n){this._southWest=new F(i.lat,i.lng);this._northEast=new F(r.lat,r.lng)}else{e.lat=Math.min(i.lat,e.lat);e.lng=Math.min(i.lng,e.lng);n.lat=Math.max(r.lat,n.lat);n.lng=Math.max(r.lng,n.lng)}return this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new B(new F(e.lat-i,e.lng-r),new F(n.lat+i,n.lng+r))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){if(typeof t[0]==="number"||t instanceof F||"lat"in t){t=U(t)}else{t=z(t)}var e=this._southWest,n=this._northEast,i,r;if(t instanceof B){i=t.getSouthWest();r=t.getNorthEast()}else{i=r=t}return i.lat>=e.lat&&r.lat<=n.lat&&i.lng>=e.lng&&r.lng<=n.lng},intersects:function(t){t=z(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,a=r.lng>=e.lng&&i.lng<=n.lng;return o&&a},overlaps:function(t){t=z(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,a=r.lng>e.lng&&i.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){if(!t){return false}t=z(t);return this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)},isValid:function(){return!!(this._southWest&&this._northEast)}};function z(t,e){if(t instanceof B){return t}return new B(t,e)}function F(t,e,n){if(isNaN(t)||isNaN(e)){throw new Error("Invalid LatLng object: ("+t+", "+e+")")}this.lat=+t;this.lng=+e;if(n!==undefined){this.alt=+n}}F.prototype={equals:function(t,e){if(!t){return false}t=U(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(e===undefined?1e-9:e)},toString:function(t){return"LatLng("+f(this.lat,t)+", "+f(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,U(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return z([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};function U(t,e,n){if(t instanceof F){return t}if(y(t)&&typeof t[0]!=="object"){if(t.length===3){return new F(t[0],t[1],t[2])}if(t.length===2){return new F(t[0],t[1])}return null}if(t===undefined||t===null){return t}if(typeof t==="object"&&"lat"in t){return new F(t.lat,"lng"in t?t.lng:t.lon,t.alt)}if(e===undefined){return null}return new F(t,e,n)}var $={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite){return null}var e=this.projection.bounds,n=this.scale(t),i=this.transformation.transform(e.min,n),r=this.transformation.transform(e.max,n);return new R(i,r)},infinite:false,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,true):t.lng,n=this.wrapLat?u(t.lat,this.wrapLat,true):t.lat,i=t.alt;return new F(n,e,i)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(i===0&&r===0){return t}var o=t.getSouthWest(),a=t.getNorthEast(),s=new F(o.lat-i,o.lng-r),l=new F(a.lat-i,a.lng-r);return new B(s,l)}};var H=i({},$,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=o*o+Math.cos(i)*Math.cos(r)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}});var Z={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new j(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new F((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return new R([-t,-t],[t,t])}()};function V(t,e,n,i){if(y(t)){this._a=t[0];this._b=t[1];this._c=t[2];this._d=t[3];return}this._a=t;this._b=e;this._c=n;this._d=i}V.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){e=e||1;t.x=e*(this._a*t.x+this._b);t.y=e*(this._c*t.y+this._d);return t},untransform:function(t,e){e=e||1;return new j((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function W(t,e,n,i){return new V(t,e,n,i)}var G=i({},H,{code:"EPSG:3857",projection:Z,transformation:function(){var t=.5/(Math.PI*Z.R);return W(t,.5,-t,.5)}()});var K=i({},G,{code:"EPSG:900913"});function Y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function X(t,e){var n="",i,r,o,a,s,l;for(i=0,o=t.length;i<o;i++){s=t[i];for(r=0,a=s.length;r<a;r++){l=s[r];n+=(r?"L":"M")+l.x+" "+l.y}n+=e?Lt?"z":"x":""}return n||"M0 0"}var J=document.documentElement.style;var Q="ActiveXObject"in window;var tt=Q&&!document.addEventListener;var et="msLaunchUri"in navigator&&!("documentMode"in document);var nt=St("webkit");var it=St("android");var rt=St("android 2")||St("android 3");var ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10);var at=it&&St("Google")&&ot<537&&!("AudioNode"in window);var st=!!window.opera;var lt=St("chrome");var ut=St("gecko")&&!nt&&!st&&!Q;var ct=!lt&&St("safari");var ft=St("phantom");var ht="OTransition"in J;var dt=navigator.platform.indexOf("Win")===0;var pt=Q&&"transition"in J;var vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt;var mt="MozPerspective"in J;var gt=!window.L_DISABLE_3D&&(pt||vt||mt)&&!ht&&!ft;var yt=typeof orientation!=="undefined"||St("mobile");var _t=yt&&nt;var bt=yt&&vt;var wt=!window.PointerEvent&&window.MSPointerEvent;var xt=!!(window.PointerEvent||wt);var Et=!window.L_NO_TOUCH&&(xt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);var Ot=yt&&st;var kt=yt&&ut;var Tt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1;var Ct=function(){return!!document.createElement("canvas").getContext}();var Lt=!!(document.createElementNS&&Y("svg").createSVGRect);var At=!Lt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;e.style.behavior="url(#default#VML)";return e&&typeof e.adj==="object"}catch(t){return false}}();function St(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Pt=(Object.freeze||Object)({ie:Q,ielt9:tt,edge:et,webkit:nt,android:it,android23:rt,androidStock:at,opera:st,chrome:lt,gecko:ut,safari:ct,phantom:ft,opera12:ht,win:dt,ie3d:pt,webkit3d:vt,gecko3d:mt,any3d:gt,mobile:yt,mobileWebkit:_t,mobileWebkit3d:bt,msPointer:wt,pointer:xt,touch:Et,mobileOpera:Ot,mobileGecko:kt,retina:Tt,canvas:Ct,svg:Lt,vml:At});var Nt=wt?"MSPointerDown":"pointerdown";var Mt=wt?"MSPointerMove":"pointermove";var jt=wt?"MSPointerUp":"pointerup";var It=wt?"MSPointerCancel":"pointercancel";var Dt=["INPUT","SELECT","OPTION"];var Rt={};var qt=false;var Bt=0;function zt(t,e,n,i){if(e==="touchstart"){Ut(t,n,i)}else if(e==="touchmove"){Wt(t,n,i)}else if(e==="touchend"){Gt(t,n,i)}return this}function Ft(t,e,n){var i=t["_leaflet_"+e+n];if(e==="touchstart"){t.removeEventListener(Nt,i,false)}else if(e==="touchmove"){t.removeEventListener(Mt,i,false)}else if(e==="touchend"){t.removeEventListener(jt,i,false);t.removeEventListener(It,i,false)}return this}function Ut(t,e,n){var i=o(function(t){if(t.pointerType!=="mouse"&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(Dt.indexOf(t.target.tagName)<0){Ue(t)}else{return}}Vt(t,e)});t["_leaflet_touchstart"+n]=i;t.addEventListener(Nt,i,false);if(!qt){document.documentElement.addEventListener(Nt,$t,true);document.documentElement.addEventListener(Mt,Ht,true);document.documentElement.addEventListener(jt,Zt,true);document.documentElement.addEventListener(It,Zt,true);qt=true}}function $t(t){Rt[t.pointerId]=t;Bt++}function Ht(t){if(Rt[t.pointerId]){Rt[t.pointerId]=t}}function Zt(t){delete Rt[t.pointerId];Bt--}function Vt(t,e){t.touches=[];for(var n in Rt){t.touches.push(Rt[n])}t.changedTouches=[t];e(t)}function Wt(t,e,n){var i=function(t){if((t.pointerType===t.MSPOINTER_TYPE_MOUSE||t.pointerType==="mouse")&&t.buttons===0){return}Vt(t,e)};t["_leaflet_touchmove"+n]=i;t.addEventListener(Mt,i,false)}function Gt(t,e,n){var i=function(t){Vt(t,e)};t["_leaflet_touchend"+n]=i;t.addEventListener(jt,i,false);t.addEventListener(It,i,false)}var Kt=wt?"MSPointerDown":xt?"pointerdown":"touchstart";var Yt=wt?"MSPointerUp":xt?"pointerup":"touchend";var Xt="_leaflet_";function Jt(t,e,n){var i,r,o=false,a=250;function s(t){var e;if(xt){if(!et||t.pointerType==="mouse"){return}e=Bt}else{e=t.touches.length}if(e>1){return}var n=Date.now(),s=n-(i||n);r=t.touches?t.touches[0]:t;o=s>0&&s<=a;i=n}function l(t){if(o&&!r.cancelBubble){if(xt){if(!et||t.pointerType==="mouse"){return}var n={},a,s;for(s in r){a=r[s];n[s]=a&&a.bind?a.bind(r):a}r=n}r.type="dblclick";e(r);i=null}}t[Xt+Kt+n]=s;t[Xt+Yt+n]=l;t[Xt+"dblclick"+n]=e;t.addEventListener(Kt,s,false);t.addEventListener(Yt,l,false);t.addEventListener("dblclick",e,false);return this}function Qt(t,e){var n=t[Xt+Kt+e],i=t[Xt+Yt+e],r=t[Xt+"dblclick"+e];t.removeEventListener(Kt,n,false);t.removeEventListener(Yt,i,false);if(!et){t.removeEventListener("dblclick",r,false)}return this}var te=ge(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);var ee=ge(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);var ne=ee==="webkitTransition"||ee==="OTransition"?ee+"End":"transitionend";function ie(t){return typeof t==="string"?document.getElementById(t):t}function re(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||n==="auto")&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return n==="auto"?null:n}function oe(t,e,n){var i=document.createElement(t);i.className=e||"";if(n){n.appendChild(i)}return i}function ae(t){var e=t.parentNode;if(e){e.removeChild(t)}}function se(t){while(t.firstChild){t.removeChild(t.firstChild)}}function le(t){var e=t.parentNode;if(e.lastChild!==t){e.appendChild(t)}}function ue(t){var e=t.parentNode;if(e.firstChild!==t){e.insertBefore(t,e.firstChild)}}function ce(t,e){if(t.classList!==undefined){return t.classList.contains(e)}var n=pe(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function fe(t,e){if(t.classList!==undefined){var n=d(e);for(var i=0,r=n.length;i<r;i++){t.classList.add(n[i])}}else if(!ce(t,e)){var o=pe(t);de(t,(o?o+" ":"")+e)}}function he(t,e){if(t.classList!==undefined){t.classList.remove(e)}else{de(t,h((" "+pe(t)+" ").replace(" "+e+" "," ")))}}function de(t,e){if(t.className.baseVal===undefined){t.className=e}else{t.className.baseVal=e}}function pe(t){return t.className.baseVal===undefined?t.className:t.className.baseVal}function ve(t,e){if("opacity"in t.style){t.style.opacity=e}else if("filter"in t.style){me(t,e)}}function me(t,e){var n=false,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(e===1){return}}e=Math.round(e*100);if(n){n.Enabled=e!==100;n.Opacity=e}else{t.style.filter+=" progid:"+i+"(opacity="+e+")"}}function ge(t){var e=document.documentElement.style;for(var n=0;n<t.length;n++){if(t[n]in e){return t[n]}}return false}function ye(t,e,n){var i=e||new j(0,0);t.style[te]=(pt?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function _e(t,e){t._leaflet_pos=e;if(gt){ye(t,e)}else{t.style.left=e.x+"px";t.style.top=e.y+"px"}}function be(t){return t._leaflet_pos||new j(0,0)}var we;var xe;var Ee;if("onselectstart"in document){we=function(){je(window,"selectstart",Ue)};xe=function(){De(window,"selectstart",Ue)}}else{var Oe=ge(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);we=function(){if(Oe){var t=document.documentElement.style;Ee=t[Oe];t[Oe]="none"}};xe=function(){if(Oe){document.documentElement.style[Oe]=Ee;Ee=undefined}}}function ke(){je(window,"dragstart",Ue)}function Te(){De(window,"dragstart",Ue)}var Ce;var Le;function Ae(t){while(t.tabIndex===-1){t=t.parentNode}if(!t.style){return}Se();Ce=t;Le=t.style.outline;t.style.outline="none";je(window,"keydown",Se)}function Se(){if(!Ce){return}Ce.style.outline=Le;Ce=undefined;Le=undefined;De(window,"keydown",Se)}function Pe(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Ne(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Me=(Object.freeze||Object)({TRANSFORM:te,TRANSITION:ee,TRANSITION_END:ne,get:ie,getStyle:re,create:oe,remove:ae,empty:se,toFront:le,toBack:ue,hasClass:ce,addClass:fe,removeClass:he,setClass:de,getClass:pe,setOpacity:ve,testProp:ge,setTransform:ye,setPosition:_e,getPosition:be,disableTextSelection:we,enableTextSelection:xe,disableImageDrag:ke,enableImageDrag:Te,preventOutline:Ae,restoreOutline:Se,getSizedParentNode:Pe,getScale:Ne});function je(t,e,n,i){if(typeof e==="object"){for(var r in e){Re(t,r,e[r],n)}}else{e=d(e);for(var o=0,a=e.length;o<a;o++){Re(t,e[o],n,i)}}return this}var Ie="_leaflet_events";function De(t,e,n,i){if(typeof e==="object"){for(var r in e){qe(t,r,e[r],n)}}else if(e){e=d(e);for(var o=0,a=e.length;o<a;o++){qe(t,e[o],n,i)}}else{for(var s in t[Ie]){qe(t,s,t[Ie][s])}delete t[Ie]}return this}function Re(t,e,n,i){var r=e+s(n)+(i?"_"+s(i):"");if(t[Ie]&&t[Ie][r]){return this}var o=function(e){return n.call(i||t,e||window.event)};var a=o;if(xt&&e.indexOf("touch")===0){zt(t,e,o,r)}else if(Et&&e==="dblclick"&&Jt&&!(xt&&lt)){Jt(t,o,r)}else if("addEventListener"in t){if(e==="mousewheel"){t.addEventListener("onwheel"in t?"wheel":"mousewheel",o,false)}else if(e==="mouseenter"||e==="mouseleave"){o=function(e){e=e||window.event;if(Ye(t,e)){a(e)}};t.addEventListener(e==="mouseenter"?"mouseover":"mouseout",o,false)}else{if(e==="click"&&it){o=function(t){Je(t,a)}}t.addEventListener(e,o,false)}}else if("attachEvent"in t){t.attachEvent("on"+e,o)}t[Ie]=t[Ie]||{};t[Ie][r]=o}function qe(t,e,n,i){var r=e+s(n)+(i?"_"+s(i):""),o=t[Ie]&&t[Ie][r];if(!o){return this}if(xt&&e.indexOf("touch")===0){Ft(t,e,r)}else if(Et&&e==="dblclick"&&Qt&&!(xt&&lt)){Qt(t,r)}else if("removeEventListener"in t){if(e==="mousewheel"){t.removeEventListener("onwheel"in t?"wheel":"mousewheel",o,false)}else{t.removeEventListener(e==="mouseenter"?"mouseover":e==="mouseleave"?"mouseout":e,o,false)}}else if("detachEvent"in t){t.detachEvent("on"+e,o)}t[Ie][r]=null}function Be(t){if(t.stopPropagation){t.stopPropagation()}else if(t.originalEvent){t.originalEvent._stopped=true}else{t.cancelBubble=true}Ke(t);return this}function ze(t){Re(t,"mousewheel",Be);return this}function Fe(t){je(t,"mousedown touchstart dblclick",Be);Re(t,"click",Ge);return this}function Ue(t){if(t.preventDefault){t.preventDefault()}else{t.returnValue=false}return this}function $e(t){Ue(t);Be(t);return this}function He(t,e){if(!e){return new j(t.clientX,t.clientY)}var n=Ne(e),i=n.boundingClientRect;return new j((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Ze=dt&&lt?2*window.devicePixelRatio:ut?window.devicePixelRatio:1;function Ve(t){return et?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Ze:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}var We={};function Ge(t){We[t.type]=true}function Ke(t){var e=We[t.type];We[t.type]=false;return e}function Ye(t,e){var n=e.relatedTarget;if(!n){return true}try{while(n&&n!==t){n=n.parentNode}}catch(t){return false}return n!==t}var Xe;function Je(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=Xe&&n-Xe;if(i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated){$e(t);return}Xe=n;e(t)}var Qe=(Object.freeze||Object)({on:je,off:De,stopPropagation:Be,disableScrollPropagation:ze,disableClickPropagation:Fe,preventDefault:Ue,stop:$e,getMousePosition:He,getWheelDelta:Ve,fakeStop:Ge,skipped:Ke,isExternalTarget:Ye,addListener:je,removeListener:De});var tn=M.extend({run:function(t,e,n,i){this.stop();this._el=t;this._inProgress=true;this._duration=n||.25;this._easeOutPower=1/Math.max(i||.5,.2);this._startPos=be(t);this._offset=e.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){if(!this._inProgress){return}this._step(true);this._complete()},_animate:function(){this._animId=T(this._animate,this);this._step()},_step:function(t){var e=+new Date-this._startTime,n=this._duration*1e3;if(e<n){this._runFrame(this._easeOut(e/n),t)}else{this._runFrame(1);this._complete()}},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));if(e){n._round()}_e(this._el,n);this.fire("step")},_complete:function(){C(this._animId);this._inProgress=false;this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}});var en=M.extend({options:{crs:G,center:undefined,zoom:undefined,minZoom:undefined,maxZoom:undefined,layers:[],maxBounds:undefined,renderer:undefined,zoomAnimation:true,zoomAnimationThreshold:4,fadeAnimation:true,markerZoomAnimation:true,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:true},initialize:function(t,e){e=p(this,e);this._initContainer(t);this._initLayout();this._onResize=o(this._onResize,this);this._initEvents();if(e.maxBounds){this.setMaxBounds(e.maxBounds)}if(e.zoom!==undefined){this._zoom=this._limitZoom(e.zoom)}if(e.center&&e.zoom!==undefined){this.setView(U(e.center),e.zoom,{reset:true})}this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=true;this.callInitHooks();this._zoomAnimated=ee&&gt&&!Ot&&this.options.zoomAnimation;if(this._zoomAnimated){this._createAnimProxy();je(this._proxy,ne,this._catchTransitionEnd,this)}this._addLayers(this.options.layers)},setView:function(t,e,n){e=e===undefined?this._zoom:this._limitZoom(e);t=this._limitCenter(U(t),e,this.options.maxBounds);n=n||{};this._stop();if(this._loaded&&!n.reset&&n!==true){if(n.animate!==undefined){n.zoom=i({animate:n.animate},n.zoom);n.pan=i({animate:n.animate,duration:n.duration},n.pan)}var r=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(r){clearTimeout(this._sizeTimer);return this}}this._resetView(t,e);return this},setZoom:function(t,e){if(!this._loaded){this._zoom=t;return this}return this.setView(this.getCenter(),t,{zoom:e})},zoomIn:function(t,e){t=t||(gt?this.options.zoomDelta:1);return this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){t=t||(gt?this.options.zoomDelta:1);return this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=t instanceof j?t:this.latLngToContainerPoint(t),a=o.subtract(r).multiplyBy(1-1/i),s=this.containerPointToLatLng(r.add(a));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{};t=t.getBounds?t.getBounds():z(t);var n=D(e.paddingTopLeft||e.padding||[0,0]),i=D(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,false,n.add(i));r=typeof e.maxZoom==="number"?Math.min(e.maxZoom,r):r;if(r===Infinity){return{center:t.getCenter(),zoom:r}}var o=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),r),s=this.project(t.getNorthEast(),r),l=this.unproject(a.add(s).divideBy(2).add(o),r);return{center:l,zoom:r}},fitBounds:function(t,e){t=z(t);if(!t.isValid()){throw new Error("Bounds are not valid.")}var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){t=D(t).round();e=e||{};if(!t.x&&!t.y){return this.fire("moveend")}if(e.animate!==true&&!this.getSize().contains(t)){this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom());return this}if(!this._panAnim){this._panAnim=new tn;this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)}if(!e.noMoveStart){this.fire("movestart")}if(e.animate!==false){fe(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else{this._rawPanBy(t);this.fire("move").fire("moveend")}return this},flyTo:function(t,e,n){n=n||{};if(n.animate===false||!gt){return this.setView(t,e,n)}this._stop();var i=this.project(this.getCenter()),r=this.project(t),o=this.getSize(),a=this._zoom;t=U(t);e=e===undefined?a:e;var s=Math.max(o.x,o.y),l=s*this.getZoomScale(a,e),u=r.distanceTo(i)||1,c=1.42,f=c*c;function h(t){var e=t?-1:1,n=t?l:s,i=l*l-s*s+e*f*f*u*u,r=2*n*f*u,o=i/r,a=Math.sqrt(o*o+1)-o;var c=a<1e-9?-18:Math.log(a);return c}function d(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}function v(t){return d(t)/p(t)}var m=h(0);function g(t){return s*(p(m)/p(m+c*t))}function y(t){return s*(p(m)*v(m+c*t)-d(m))/f}function _(t){return 1-Math.pow(1-t,1.5)}var b=Date.now(),w=(h(1)-m)/c,x=n.duration?1e3*n.duration:1e3*w*.8;function E(){var n=(Date.now()-b)/x,o=_(n)*w;if(n<=1){this._flyToFrame=T(E,this);this._move(this.unproject(i.add(r.subtract(i).multiplyBy(y(o)/u)),a),this.getScaleZoom(s/g(o),a),{flyTo:true})}else{this._move(t,e)._moveEnd(true)}}this._moveStart(true,n.noMoveStart);E.call(this);return this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){t=z(t);if(!t.isValid()){this.options.maxBounds=null;return this.off("moveend",this._panInsideMaxBounds)}else if(this.options.maxBounds){this.off("moveend",this._panInsideMaxBounds)}this.options.maxBounds=t;if(this._loaded){this._panInsideMaxBounds()}return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(t){var e=this.options.minZoom;this.options.minZoom=t;if(this._loaded&&e!==t){this.fire("zoomlevelschange");if(this.getZoom()<this.options.minZoom){return this.setZoom(t)}}return this},setMaxZoom:function(t){var e=this.options.maxZoom;this.options.maxZoom=t;if(this._loaded&&e!==t){this.fire("zoomlevelschange");if(this.getZoom()>this.options.maxZoom){return this.setZoom(t)}}return this},panInsideBounds:function(t,e){this._enforcingBounds=true;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,z(t));if(!n.equals(i)){this.panTo(i,e)}this._enforcingBounds=false;return this},invalidateSize:function(t){if(!this._loaded){return this}t=i({animate:false,pan:true},t===true?{animate:true}:t);var e=this.getSize();this._sizeChanged=true;this._lastCenter=null;var n=this.getSize(),r=e.divideBy(2).round(),a=n.divideBy(2).round(),s=r.subtract(a);if(!s.x&&!s.y){return this}if(t.animate&&t.pan){this.panBy(s)}else{if(t.pan){this._rawPanBy(s)}this.fire("move");if(t.debounceMoveend){clearTimeout(this._sizeTimer);this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)}else{this.fire("moveend")}}return this.fire("resize",{oldSize:e,newSize:n})},stop:function(){this.setZoom(this._limitZoom(this._zoom));if(!this.options.zoomSnap){this.fire("viewreset")}return this._stop()},locate:function(t){t=this._locateOptions=i({timeout:1e4,watch:false},t);if(!("geolocation"in navigator)){this._handleGeolocationError({code:0,message:"Geolocation not supported."});return this}var e=o(this._handleGeolocationResponse,this),n=o(this._handleGeolocationError,this);if(t.watch){this._locationWatchId=navigator.geolocation.watchPosition(e,n,t)}else{navigator.geolocation.getCurrentPosition(e,n,t)}return this},stopLocate:function(){if(navigator.geolocation&&navigator.geolocation.clearWatch){navigator.geolocation.clearWatch(this._locationWatchId)}if(this._locateOptions){this._locateOptions.setView=false}return this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");if(this._locateOptions.setView&&!this._loaded){this.fitWorld()}this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new F(e,n),r=i.toBounds(t.coords.accuracy*2),o=this._locateOptions;if(o.setView){var a=this.getBoundsZoom(r);this.setView(i,o.maxZoom?Math.min(a,o.maxZoom):a)}var s={latlng:i,bounds:r,timestamp:t.timestamp};for(var l in t.coords){if(typeof t.coords[l]==="number"){s[l]=t.coords[l]}}this.fire("locationfound",s)},addHandler:function(t,e){if(!e){return this}var n=this[t]=new e(this);this._handlers.push(n);if(this.options[t]){n.enable()}return this},remove:function(){this._initEvents(true);if(this._containerId!==this._container._leaflet_id){throw new Error("Map container is being reused by another instance")}try{delete this._container._leaflet_id;delete this._containerId}catch(t){this._container._leaflet_id=undefined;this._containerId=undefined}if(this._locationWatchId!==undefined){this.stopLocate()}this._stop();ae(this._mapPane);if(this._clearControlPos){this._clearControlPos()}if(this._resizeRequest){C(this._resizeRequest);this._resizeRequest=null}this._clearHandlers();if(this._loaded){this.fire("unload")}var t;for(t in this._layers){this._layers[t].remove()}for(t in this._panes){ae(this._panes[t])}this._layers=[];this._panes=[];delete this._mapPane;delete this._renderer;return this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=oe("div",n,e||this._mapPane);if(t){this._panes[t]=i}return i},getCenter:function(){this._checkIfLoaded();if(this._lastCenter&&!this._moved()){return this._lastCenter}return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new B(e,n)},getMinZoom:function(){return this.options.minZoom===undefined?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===undefined?this._layersMaxZoom===undefined?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=z(t);n=D(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(n),u=q(this.project(s,i),this.project(a,i)).getSize(),c=gt?this.options.zoomSnap:1,f=l.x/u.x,h=l.y/u.y,d=e?Math.max(f,h):Math.min(f,h);i=this.getScaleZoom(d,i);if(c){i=Math.round(i/(c/100))*(c/100);i=e?Math.ceil(i/c)*c:Math.floor(i/c)*c}return Math.max(r,Math.min(o,i))},getSize:function(){if(!this._size||this._sizeChanged){this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0);this._sizeChanged=false}return this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new R(n,n.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===undefined?this.getZoom():t)},getPane:function(t){return typeof t==="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;e=e===undefined?this._zoom:e;return n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=e===undefined?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?Infinity:i},project:function(t,e){e=e===undefined?this._zoom:e;return this.options.crs.latLngToPoint(U(t),e)},unproject:function(t,e){e=e===undefined?this._zoom:e;return this.options.crs.pointToLatLng(D(t),e)},layerPointToLatLng:function(t){var e=D(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(U(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(U(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(z(t))},distance:function(t,e){return this.options.crs.distance(U(t),U(e))},containerPointToLayerPoint:function(t){return D(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return D(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(D(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(t)))},mouseEventToContainerPoint:function(t){return He(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ie(t);if(!e){throw new Error("Map container not found.")}else if(e._leaflet_id){throw new Error("Map container is already initialized.")}je(e,"scroll",this._onScroll,this);this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&gt;fe(t,"leaflet-container"+(Et?" leaflet-touch":"")+(Tt?" leaflet-retina":"")+(tt?" leaflet-oldie":"")+(ct?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=re(t,"position");if(e!=="absolute"&&e!=="relative"&&e!=="fixed"){t.style.position="relative"}this._initPanes();if(this._initControlPos){this._initControlPos()}},_initPanes:function(){var t=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);_e(this._mapPane,new j(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");if(!this.options.markerZoomAnimation){fe(t.markerPane,"leaflet-zoom-hide");fe(t.shadowPane,"leaflet-zoom-hide")}},_resetView:function(t,e){_e(this._mapPane,new j(0,0));var n=!this._loaded;this._loaded=true;e=this._limitZoom(e);this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,false)._move(t,e)._moveEnd(i);this.fire("viewreset");if(n){this.fire("load")}},_moveStart:function(t,e){if(t){this.fire("zoomstart")}if(!e){this.fire("movestart")}return this},_move:function(t,e,n){if(e===undefined){e=this._zoom}var i=this._zoom!==e;this._zoom=e;this._lastCenter=t;this._pixelOrigin=this._getNewPixelOrigin(t);if(i||n&&n.pinch){this.fire("zoom",n)}return this.fire("move",n)},_moveEnd:function(t){if(t){this.fire("zoomend")}return this.fire("moveend")},_stop:function(){C(this._flyToFrame);if(this._panAnim){this._panAnim.stop()}return this},_rawPanBy:function(t){_e(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){if(!this._enforcingBounds){this.panInsideBounds(this.options.maxBounds)}},_checkIfLoaded:function(){if(!this._loaded){throw new Error("Set map center and zoom first.")}},_initEvents:function(t){this._targets={};this._targets[s(this._container)]=this;var e=t?De:je;e(this._container,"click dblclick mousedown mouseup "+"mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this);if(this.options.trackResize){e(window,"resize",this._onResize,this)}if(gt&&this.options.transform3DLimit){(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)}},_onResize:function(){C(this._resizeRequest);this._resizeRequest=T(function(){this.invalidateSize({debounceMoveend:true})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();if(Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit){this._resetView(this.getCenter(),this.getZoom())}},_findEventTargets:function(t,e){var n=[],i,r=e==="mouseout"||e==="mouseover",o=t.target||t.srcElement,a=false;while(o){i=this._targets[s(o)];if(i&&(e==="click"||e==="preclick")&&!t._simulated&&this._draggableMoved(i)){a=true;break}if(i&&i.listens(e,true)){if(r&&!Ye(o,t)){break}n.push(i);if(r){break}}if(o===this._container){break}o=o.parentNode}if(!n.length&&!a&&!r&&Ye(o,t)){n=[this]}return n},_handleDOMEvent:function(t){if(!this._loaded||Ke(t)){return}var e=t.type;if(e==="mousedown"||e==="keypress"){Ae(t.target||t.srcElement)}this._fireDOMEvent(t,e)},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if(t.type==="click"){var r=i({},t);r.type="preclick";this._fireDOMEvent(r,r.type,n)}if(t._stopped){return}n=(n||[]).concat(this._findEventTargets(t,e));if(!n.length){return}var o=n[0];if(e==="contextmenu"&&o.listens(e,true)){Ue(t)}var a={originalEvent:t};if(t.type!=="keypress"){var s=o.getLatLng&&(!o._radius||o._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t);a.layerPoint=this.containerPointToLayerPoint(a.containerPoint);a.latlng=s?o.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var l=0;l<n.length;l++){n[l].fire(e,a,true);if(a.originalEvent._stopped||n[l].options.bubblingMouseEvents===false&&_(this._mouseEvents,e)!==-1){return}}},_draggableMoved:function(t){t=t.dragging&&t.dragging.enabled()?t:this;return t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++){this._handlers[t].disable()}},whenReady:function(t,e){if(this._loaded){t.call(e||this,{target:this})}else{this.on("load",t,e)}return this},_getMapPanePos:function(){return be(this._mapPane)||new j(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&e!==undefined?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return q([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n){return t}var i=this.project(t,e),r=this.getSize().divideBy(2),o=new R(i.subtract(r),i.add(r)),a=this._getBoundsOffset(o,n,e);if(a.round().equals([0,0])){return t}return this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e){return t}var n=this.getPixelBounds(),i=new R(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=q(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max),a=this._rebound(r.x,-o.x),s=this._rebound(r.y,-o.y);return new j(a,s)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=gt?this.options.zoomSnap:1;if(i){t=Math.round(t/i)*i}return Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){he(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();if((e&&e.animate)!==true&&!this.getSize().contains(n)){return false}this.panBy(n,e);return true},_createAnimProxy:function(){var t=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t);this.on("zoomanim",function(t){var e=te,n=this._proxy.style[e];ye(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1));if(n===this._proxy.style[e]&&this._animatingZoom){this._onZoomTransitionEnd()}},this);this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();ye(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this);this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ae(this._proxy);delete this._proxy},_catchTransitionEnd:function(t){if(this._animatingZoom&&t.propertyName.indexOf("transform")>=0){this._onZoomTransitionEnd()}},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom){return true}n=n||{};if(!this._zoomAnimated||n.animate===false||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold){return false}var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);if(n.animate!==true&&!this.getSize().contains(r)){return false}T(function(){this._moveStart(true,false)._animateZoom(t,e,true)},this);return true},_animateZoom:function(t,e,n,i){if(!this._mapPane){return}if(n){this._animatingZoom=true;this._animateToCenter=t;this._animateToZoom=e;fe(this._mapPane,"leaflet-zoom-anim")}this.fire("zoomanim",{center:t,zoom:e,noUpdate:i});setTimeout(o(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){if(!this._animatingZoom){return}if(this._mapPane){he(this._mapPane,"leaflet-zoom-anim")}this._animatingZoom=false;this._move(this._animateToCenter,this._animateToZoom);T(function(){this._moveEnd(true)},this)}});function nn(t,e){return new en(t,e)}var rn=S.extend({options:{position:"topright"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;if(e){e.removeControl(this)}this.options.position=t;if(e){e.addControl(this)}return this},getContainer:function(){return this._container},addTo:function(t){this.remove();this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];fe(e,"leaflet-control");if(n.indexOf("bottom")!==-1){i.insertBefore(e,i.firstChild)}else{i.appendChild(e)}return this},remove:function(){if(!this._map){return this}ae(this._container);if(this.onRemove){this.onRemove(this._map)}this._map=null;return this},_refocusOnMap:function(t){if(this._map&&t&&t.screenX>0&&t.screenY>0){this._map.getContainer().focus()}}});var on=function(t){return new rn(t)};en.include({addControl:function(t){t.addTo(this);return this},removeControl:function(t){t.remove();return this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=oe("div",e+"control-container",this._container);function i(i,r){var o=e+i+" "+e+r;t[i+r]=oe("div",o,n)}i("top","left");i("top","right");i("bottom","left");i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners){ae(this._controlCorners[t])}ae(this._controlContainer);delete this._controlCorners;delete this._controlContainer}});var an=rn.extend({options:{collapsed:true,position:"topright",autoZIndex:true,hideSingleBase:false,sortLayers:false,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){p(this,n);this._layerControlInputs=[];this._layers=[];this._lastZIndex=0;this._handlingClick=false;for(var i in t){this._addLayer(t[i],i)}for(i in e){this._addLayer(e[i],i,true)}},onAdd:function(t){this._initLayout();this._update();this._map=t;t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++){this._layers[e].layer.on("add remove",this._onLayerChange,this)}return this._container},addTo:function(t){rn.prototype.addTo.call(this,t);return this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++){this._layers[t].layer.off("add remove",this._onLayerChange,this)}},addBaseLayer:function(t,e){this._addLayer(t,e);return this._map?this._update():this},addOverlay:function(t,e){this._addLayer(t,e,true);return this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));if(e){this._layers.splice(this._layers.indexOf(e),1)}return this._map?this._update():this},expand:function(){fe(this._container,"leaflet-control-layers-expanded");this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);if(t<this._form.clientHeight){fe(this._form,"leaflet-control-layers-scrollbar");this._form.style.height=t+"px"}else{he(this._form,"leaflet-control-layers-scrollbar")}this._checkDisabledLayers();return this},collapse:function(){he(this._container,"leaflet-control-layers-expanded");return this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=oe("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",true);Fe(e);ze(e);var i=this._form=oe("form",t+"-list");if(n){this._map.on("click",this.collapse,this);if(!it){je(e,{mouseenter:this.expand,mouseleave:this.collapse},this)}}var r=this._layersLink=oe("a",t+"-toggle",e);r.href="#";r.title="Layers";if(Et){je(r,"click",$e);je(r,"click",this.expand,this)}else{je(r,"focus",this.expand,this)}if(!n){this.expand()}this._baseLayersList=oe("div",t+"-base",i);this._separator=oe("div",t+"-separator",i);this._overlaysList=oe("div",t+"-overlays",i);e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++){if(this._layers[e]&&s(this._layers[e].layer)===t){return this._layers[e]}}},_addLayer:function(t,e,n){if(this._map){t.on("add remove",this._onLayerChange,this)}this._layers.push({layer:t,name:e,overlay:n});if(this.options.sortLayers){this._layers.sort(o(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this))}if(this.options.autoZIndex&&t.setZIndex){this._lastZIndex++;t.setZIndex(this._lastZIndex)}this._expandIfNotCollapsed()},_update:function(){if(!this._container){return this}se(this._baseLayersList);se(this._overlaysList);this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++){i=this._layers[n];this._addItem(i);e=e||i.overlay;t=t||!i.overlay;r+=!i.overlay?1:0}if(this.options.hideSingleBase){t=t&&r>1;this._baseLayersList.style.display=t?"":"none"}this._separator.style.display=e&&t?"":"none";return this},_onLayerChange:function(t){if(!this._handlingClick){this._update()}var e=this._getLayer(s(t.target));var n=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;if(n){this._map.fire(n,e)}},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>";var i=document.createElement("div");i.innerHTML=n;return i.firstChild},_addItem:function(t){var e=document.createElement("label"),n=this._map.hasLayer(t.layer),i;if(t.overlay){i=document.createElement("input");i.type="checkbox";i.className="leaflet-control-layers-selector";i.defaultChecked=n}else{i=this._createRadioElement("leaflet-base-layers",n)}this._layerControlInputs.push(i);i.layerId=s(t.layer);je(i,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var o=document.createElement("div");e.appendChild(o);o.appendChild(i);o.appendChild(r);var a=t.overlay?this._overlaysList:this._baseLayersList;a.appendChild(e);this._checkDisabledLayers();return e},_onInputClick:function(){var t=this._layerControlInputs,e,n;var i=[],r=[];this._handlingClick=true;for(var o=t.length-1;o>=0;o--){e=t[o];n=this._getLayer(e.layerId).layer;if(e.checked){i.push(n)}else if(!e.checked){r.push(n)}}for(o=0;o<r.length;o++){if(this._map.hasLayer(r[o])){this._map.removeLayer(r[o])}}for(o=0;o<i.length;o++){if(!this._map.hasLayer(i[o])){this._map.addLayer(i[o])}}this._handlingClick=false;this._refocusOnMap()},_checkDisabledLayers:function(){var t=this._layerControlInputs,e,n,i=this._map.getZoom();for(var r=t.length-1;r>=0;r--){e=t[r];n=this._getLayer(e.layerId).layer;e.disabled=n.options.minZoom!==undefined&&i<n.options.minZoom||n.options.maxZoom!==undefined&&i>n.options.maxZoom}},_expandIfNotCollapsed:function(){if(this._map&&!this.options.collapsed){this.expand()}return this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}});var sn=function(t,e,n){return new an(t,e,n)};var ln=rn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=oe("div",e+" leaflet-bar"),i=this.options;this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn);this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut);this._updateDisabled();t.on("zoomend zoomlevelschange",this._updateDisabled,this);return n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){this._disabled=true;this._updateDisabled();return this},enable:function(){this._disabled=false;this._updateDisabled();return this},_zoomIn:function(t){if(!this._disabled&&this._map._zoom<this._map.getMaxZoom()){this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))}},_zoomOut:function(t){if(!this._disabled&&this._map._zoom>this._map.getMinZoom()){this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))}},_createButton:function(t,e,n,i,r){var o=oe("a",n,i);o.innerHTML=t;o.href="#";o.title=e;o.setAttribute("role","button");o.setAttribute("aria-label",e);Fe(o);je(o,"click",$e);je(o,"click",r,this);je(o,"click",this._refocusOnMap,this);return o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";he(this._zoomInButton,e);he(this._zoomOutButton,e);if(this._disabled||t._zoom===t.getMinZoom()){fe(this._zoomOutButton,e)}if(this._disabled||t._zoom===t.getMaxZoom()){fe(this._zoomInButton,e)}}});en.mergeOptions({zoomControl:true});en.addInitHook(function(){if(this.options.zoomControl){this.zoomControl=new ln;this.addControl(this.zoomControl)}});var un=function(t){return new ln(t)};var cn=rn.extend({options:{position:"bottomleft",maxWidth:100,metric:true,imperial:true},onAdd:function(t){var e="leaflet-control-scale",n=oe("div",e),i=this.options;this._addScales(i,e+"-line",n);t.on(i.updateWhenIdle?"moveend":"move",this._update,this);t.whenReady(this._update,this);return n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){if(t.metric){this._mScale=oe("div",e,n)}if(t.imperial){this._iScale=oe("div",e,n)}},_update:function(){var t=this._map,e=t.getSize().y/2;var n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){if(this.options.metric&&t){this._updateMetric(t)}if(this.options.imperial&&t){this._updateImperial(t)}},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e=t*3.2808399,n,i,r;if(e>5280){n=e/5280;i=this._getRoundNum(n);this._updateScale(this._iScale,i+" mi",i/n)}else{r=this._getRoundNum(e);this._updateScale(this._iScale,r+" ft",r/e)}},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px";t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1;return e*n}});var fn=function(t){return new cn(t)};var hn=rn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){p(this,t);this._attributions={}},onAdd:function(t){t.attributionControl=this;this._container=oe("div","leaflet-control-attribution");Fe(this._container);for(var e in t._layers){if(t._layers[e].getAttribution){this.addAttribution(t._layers[e].getAttribution())}}this._update();return this._container},setPrefix:function(t){this.options.prefix=t;this._update();return this},addAttribution:function(t){if(!t){return this}if(!this._attributions[t]){this._attributions[t]=0}this._attributions[t]++;this._update();return this},removeAttribution:function(t){if(!t){return this}if(this._attributions[t]){this._attributions[t]--;this._update()}return this},_update:function(){if(!this._map){return}var t=[];for(var e in this._attributions){if(this._attributions[e]){t.push(e)}}var n=[];if(this.options.prefix){n.push(this.options.prefix)}if(t.length){n.push(t.join(", "))}this._container.innerHTML=n.join(" | ")}});en.mergeOptions({attributionControl:true});en.addInitHook(function(){if(this.options.attributionControl){(new hn).addTo(this)}});var dn=function(t){return new hn(t)};rn.Layers=an;rn.Zoom=ln;rn.Scale=cn;rn.Attribution=hn;on.layers=sn;on.zoom=un;on.scale=fn;on.attribution=dn;var pn=S.extend({initialize:function(t){this._map=t},enable:function(){if(this._enabled){return this}this._enabled=true;this.addHooks();return this},disable:function(){if(!this._enabled){return this}this._enabled=false;this.removeHooks();return this},enabled:function(){return!!this._enabled}});pn.addTo=function(t,e){t.addHandler(e,this);return this};var vn={Events:N};var mn=Et?"touchstart mousedown":"mousedown";var gn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"};var yn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"};var _n=M.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){p(this,i);this._element=t;this._dragStartTarget=e||t;this._preventOutline=n},enable:function(){if(this._enabled){return}je(this._dragStartTarget,mn,this._onDown,this);this._enabled=true},disable:function(){if(!this._enabled){return}if(_n._dragging===this){this.finishDrag()}De(this._dragStartTarget,mn,this._onDown,this);this._enabled=false;this._moved=false},_onDown:function(t){if(t._simulated||!this._enabled){return}this._moved=false;if(ce(this._element,"leaflet-zoom-anim")){return}if(_n._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches){return}_n._dragging=this;if(this._preventOutline){Ae(this._element)}ke();we();if(this._moving){return}this.fire("down");var e=t.touches?t.touches[0]:t,n=Pe(this._element);this._startPoint=new j(e.clientX,e.clientY);this._parentScale=Ne(n);je(document,yn[t.type],this._onMove,this);je(document,gn[t.type],this._onUp,this)},_onMove:function(t){if(t._simulated||!this._enabled){return}if(t.touches&&t.touches.length>1){this._moved=true;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,n=new j(e.clientX,e.clientY)._subtract(this._startPoint);if(!n.x&&!n.y){return}if(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance){return}n.x/=this._parentScale.x;n.y/=this._parentScale.y;Ue(t);if(!this._moved){this.fire("dragstart");this._moved=true;this._startPos=be(this._element).subtract(n);fe(document.body,"leaflet-dragging");this._lastTarget=t.target||t.srcElement;if(window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance){this._lastTarget=this._lastTarget.correspondingUseElement}fe(this._lastTarget,"leaflet-drag-target")}this._newPos=this._startPos.add(n);this._moving=true;C(this._animRequest);this._lastEvent=t;this._animRequest=T(this._updatePosition,this,true)},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t);_e(this._element,this._newPos);this.fire("drag",t)},_onUp:function(t){if(t._simulated||!this._enabled){return}this.finishDrag()},finishDrag:function(){he(document.body,"leaflet-dragging");if(this._lastTarget){he(this._lastTarget,"leaflet-drag-target");this._lastTarget=null}for(var t in yn){De(document,yn[t],this._onMove,this);De(document,gn[t],this._onUp,this)}Te();xe();if(this._moved&&this._moving){C(this._animRequest);this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})}this._moving=false;_n._dragging=false}});function bn(t,e){if(!e||!t.length){return t.slice()}var n=e*e;t=kn(t,n);t=En(t,n);return t}function wn(t,e,n){return Math.sqrt(Pn(t,e,n,true))}function xn(t,e,n){return Pn(t,e,n)}function En(t,e){var n=t.length,i=typeof Uint8Array!==undefined+""?Uint8Array:Array,r=new i(n);r[0]=r[n-1]=1;On(t,r,e,0,n-1);var o,a=[];for(o=0;o<n;o++){if(r[o]){a.push(t[o])}}return a}function On(t,e,n,i,r){var o=0,a,s,l;for(s=i+1;s<=r-1;s++){l=Pn(t[s],t[i],t[r],true);if(l>o){a=s;o=l}}if(o>n){e[a]=1;On(t,e,n,i,a);On(t,e,n,a,r)}}function kn(t,e){var n=[t[0]];for(var i=1,r=0,o=t.length;i<o;i++){if(Sn(t[i],t[r])>e){n.push(t[i]);r=i}}if(r<o-1){n.push(t[o-1])}return n}var Tn;function Cn(t,e,n,i,r){var o=i?Tn:An(t,n),a=An(e,n),s,l,u;Tn=a;while(true){if(!(o|a)){return[t,e]}if(o&a){return false}s=o||a;l=Ln(t,e,s,n,r);u=An(l,n);if(s===o){t=l;o=u}else{e=l;a=u}}}function Ln(t,e,n,i,r){var o=e.x-t.x,a=e.y-t.y,s=i.min,l=i.max,u,c;if(n&8){u=t.x+o*(l.y-t.y)/a;c=l.y}else if(n&4){u=t.x+o*(s.y-t.y)/a;c=s.y}else if(n&2){u=l.x;c=t.y+a*(l.x-t.x)/o}else if(n&1){u=s.x;c=t.y+a*(s.x-t.x)/o}return new j(u,c,r)}function An(t,e){var n=0;if(t.x<e.min.x){n|=1}else if(t.x>e.max.x){n|=2}if(t.y<e.min.y){n|=4}else if(t.y>e.max.y){n|=8}return n}function Sn(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function Pn(t,e,n,i){var r=e.x,o=e.y,a=n.x-r,s=n.y-o,l=a*a+s*s,u;if(l>0){u=((t.x-r)*a+(t.y-o)*s)/l;if(u>1){r=n.x;o=n.y}else if(u>0){r+=a*u;o+=s*u}}a=t.x-r;s=t.y-o;return i?a*a+s*s:new j(r,o)}function Nn(t){return!y(t[0])||typeof t[0][0]!=="object"&&typeof t[0][0]!=="undefined"}function Mn(t){console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead.");return Nn(t)}var jn=(Object.freeze||Object)({simplify:bn,pointToSegmentDistance:wn,closestPointOnSegment:xn,clipSegment:Cn,_getEdgeIntersection:Ln,_getBitCode:An,_sqClosestPointOnSegment:Pn,isFlat:Nn,_flat:Mn});function In(t,e,n){var i,r=[1,4,2,8],o,a,s,l,u,c,f,h;for(o=0,c=t.length;o<c;o++){t[o]._code=An(t[o],e)}for(s=0;s<4;s++){f=r[s];i=[];for(o=0,c=t.length,a=c-1;o<c;a=o++){l=t[o];u=t[a];if(!(l._code&f)){if(u._code&f){h=Ln(u,l,f,e,n);h._code=An(h,e);i.push(h)}i.push(l)}else if(!(u._code&f)){h=Ln(u,l,f,e,n);h._code=An(h,e);i.push(h)}}t=i}return t}var Dn=(Object.freeze||Object)({clipPolygon:In});var Rn={project:function(t){return new j(t.lng,t.lat)},unproject:function(t){return new F(t.y,t.x)},bounds:new R([-180,-90],[180,90])};var qn={R:6378137,R_MINOR:6356752.314245179,bounds:new R([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),a=o*Math.sin(i);var s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),o/2);i=-n*Math.log(Math.max(s,1e-10));return new j(t.lng*e*n,i)},unproject:function(t){var e=180/Math.PI,n=this.R,i=this.R_MINOR/n,r=Math.sqrt(1-i*i),o=Math.exp(-t.y/n),a=Math.PI/2-2*Math.atan(o);for(var s=0,l=.1,u;s<15&&Math.abs(l)>1e-7;s++){u=r*Math.sin(a);u=Math.pow((1-u)/(1+u),r/2);l=Math.PI/2-2*Math.atan(o*u)-a;a+=l}return new F(a*e,t.x*e/n)}};var Bn=(Object.freeze||Object)({LonLat:Rn,Mercator:qn,SphericalMercator:Z});var zn=i({},H,{code:"EPSG:3395",projection:qn,transformation:function(){var t=.5/(Math.PI*qn.R);return W(t,.5,-t,.5)}()});var Fn=i({},H,{code:"EPSG:4326",projection:Rn,transformation:W(1/180,1,-1/180,.5)});var Un=i({},$,{projection:Rn,transformation:W(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:true});$.Earth=H;$.EPSG3395=zn;$.EPSG3857=G;$.EPSG900913=K;$.EPSG4326=Fn;$.Simple=Un;var $n=M.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:true},addTo:function(t){t.addLayer(this);return this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){if(t){t.removeLayer(this)}return this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){this._map._targets[s(t)]=this;return this},removeInteractiveTarget:function(t){delete this._map._targets[s(t)];return this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(!e.hasLayer(this)){return}this._map=e;this._zoomAnimated=e._zoomAnimated;if(this.getEvents){var n=this.getEvents();e.on(n,this);this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e);if(this.getAttribution&&e.attributionControl){e.attributionControl.addAttribution(this.getAttribution())}this.fire("add");e.fire("layeradd",{layer:this})}});en.include({addLayer:function(t){if(!t._layerAdd){throw new Error("The provided object is not a Layer.")}var e=s(t);if(this._layers[e]){return this}this._layers[e]=t;t._mapToAdd=this;if(t.beforeAdd){t.beforeAdd(this)}this.whenReady(t._layerAdd,t);return this},removeLayer:function(t){var e=s(t);if(!this._layers[e]){return this}if(this._loaded){t.onRemove(this)}if(t.getAttribution&&this.attributionControl){this.attributionControl.removeAttribution(t.getAttribution())}delete this._layers[e];if(this._loaded){this.fire("layerremove",{layer:t});t.fire("remove")}t._map=t._mapToAdd=null;return this},hasLayer:function(t){return!!t&&s(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers){t.call(e,this._layers[n])}return this},_addLayers:function(t){t=t?y(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++){this.addLayer(t[e])}},_addZoomLimit:function(t){if(isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom)){this._zoomBoundLayers[s(t)]=t;this._updateZoomLevels()}},_removeZoomLimit:function(t){var e=s(t);if(this._zoomBoundLayers[e]){delete this._zoomBoundLayers[e];this._updateZoomLevels()}},_updateZoomLevels:function(){var t=Infinity,e=-Infinity,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=r.minZoom===undefined?t:Math.min(t,r.minZoom);e=r.maxZoom===undefined?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-Infinity?undefined:e;this._layersMinZoom=t===Infinity?undefined:t;if(n!==this._getZoomSpan()){this.fire("zoomlevelschange")}if(this.options.maxZoom===undefined&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom){this.setZoom(this._layersMaxZoom)}if(this.options.minZoom===undefined&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom){this.setZoom(this._layersMinZoom)}}});var Hn=$n.extend({initialize:function(t,e){p(this,e);this._layers={};var n,i;if(t){for(n=0,i=t.length;n<i;n++){this.addLayer(t[n])}}},addLayer:function(t){var e=this.getLayerId(t);this._layers[e]=t;if(this._map){this._map.addLayer(t)}return this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);if(this._map&&this._layers[e]){this._map.removeLayer(this._layers[e])}delete this._layers[e];return this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),n,i;for(n in this._layers){i=this._layers[n];if(i[t]){i[t].apply(i,e)}}return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers){t.call(e,this._layers[n])}return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];this.eachLayer(t.push,t);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}});var Zn=function(t,e){return new Hn(t,e)};var Vn=Hn.extend({addLayer:function(t){if(this.hasLayer(t)){return this}t.addEventParent(this);Hn.prototype.addLayer.call(this,t);return this.fire("layeradd",{layer:t})},removeLayer:function(t){if(!this.hasLayer(t)){return this}if(t in this._layers){t=this._layers[t]}t.removeEventParent(this);Hn.prototype.removeLayer.call(this,t);return this.fire("layerremove",{layer:t})},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new B;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}});var Wn=function(t){return new Vn(t)};var Gn=S.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if(t==="icon"){throw new Error("iconUrl not set in Icon options (see the docs).")}return null}var i=this._createImg(n,e&&e.tagName==="IMG"?e:null);this._setIconStyles(i,t);return i},_setIconStyles:function(t,e){var n=this.options;var i=n[e+"Size"];if(typeof i==="number"){i=[i,i]}var r=D(i),o=D(e==="shadow"&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,true));t.className="leaflet-marker-"+e+" "+(n.className||"");if(o){t.style.marginLeft=-o.x+"px";t.style.marginTop=-o.y+"px"}if(r){t.style.width=r.x+"px";t.style.height=r.y+"px"}},_createImg:function(t,e){e=e||document.createElement("img");e.src=t;return e},_getIconUrl:function(t){return Tt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Kn(t){return new Gn(t)}var Yn=Gn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){if(!Yn.imagePath){Yn.imagePath=this._detectIconPath()}return(this.options.imagePath||Yn.imagePath)+Gn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=oe("div","leaflet-default-icon-path",document.body);var e=re(t,"background-image")||re(t,"backgroundImage");document.body.removeChild(t);if(e===null||e.indexOf("url")!==0){e=""}else{e=e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}return e}});var Xn=pn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;if(!this._draggable){this._draggable=new _n(t,t,true)}this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable();fe(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();if(this._marker._icon){he(this._marker._icon,"leaflet-marker-draggable")}},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=be(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin();var l=q(a.min._subtract(s).add(r),a.max._subtract(s).subtract(r));if(!l.contains(o)){var u=D((Math.max(l.max.x,o.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(i);n.panBy(u,{animate:false});this._draggable._newPos._add(u);this._draggable._startPos._add(u);_e(e._icon,this._draggable._newPos);this._onDrag(t);this._panRequest=T(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){if(this._marker.options.autoPan){C(this._panRequest);this._panRequest=T(this._adjustPan.bind(this,t))}},_onDrag:function(t){var e=this._marker,n=e._shadow,i=be(e._icon),r=e._map.layerPointToLatLng(i);if(n){_e(n,i)}e._latlng=r;t.latlng=r;t.oldLatLng=this._oldLatLng;e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){C(this._panRequest);delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",t)}});var Jn=$n.extend({options:{icon:new Yn,interactive:true,keyboard:true,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:false,riseOffset:250,pane:"markerPane",bubblingMouseEvents:false,draggable:false,autoPan:false,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){p(this,e);this._latlng=U(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation;if(this._zoomAnimated){t.on("zoomanim",this._animateZoom,this)}this._initIcon();this.update()},onRemove:function(t){if(this.dragging&&this.dragging.enabled()){this.options.draggable=true;this.dragging.removeHooks()}delete this.dragging;if(this._zoomAnimated){t.off("zoomanim",this._animateZoom,this)}this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;this._latlng=U(t);this.update();return this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){this.options.zIndexOffset=t;return this.update()},setIcon:function(t){this.options.icon=t;if(this._map){this._initIcon();this.update()}if(this._popup){this.bindPopup(this._popup,this._popup.options)}return this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");var n=t.icon.createIcon(this._icon),i=false;if(n!==this._icon){if(this._icon){this._removeIcon()}i=true;if(t.title){n.title=t.title}if(n.tagName==="IMG"){n.alt=t.alt||""}}fe(n,e);if(t.keyboard){n.tabIndex="0"}this._icon=n;if(t.riseOnHover){this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex})}var r=t.icon.createShadow(this._shadow),o=false;if(r!==this._shadow){this._removeShadow();o=true}if(r){fe(r,e);r.alt=""}this._shadow=r;if(t.opacity<1){this._updateOpacity()}if(i){this.getPane().appendChild(this._icon)}this._initInteraction();if(r&&o){this.getPane("shadowPane").appendChild(this._shadow)}},_removeIcon:function(){if(this.options.riseOnHover){this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex})}ae(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){if(this._shadow){ae(this._shadow)}this._shadow=null},_setPos:function(t){_e(this._icon,t);if(this._shadow){_e(this._shadow,t)}this._zIndex=t.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(!this.options.interactive){return}fe(this._icon,"leaflet-interactive");this.addInteractiveTarget(this._icon);if(Xn){var t=this.options.draggable;if(this.dragging){t=this.dragging.enabled();this.dragging.disable()}this.dragging=new Xn(this);if(t){this.dragging.enable()}}},setOpacity:function(t){this.options.opacity=t;if(this._map){this._updateOpacity()}return this},_updateOpacity:function(){var t=this.options.opacity;ve(this._icon,t);if(this._shadow){ve(this._shadow,t)}},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qn(t,e){return new Jn(t,e)}var ti=$n.extend({options:{stroke:true,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:false,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:true,bubblingMouseEvents:true},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){if(this._map){this._renderer._updatePath(this)}return this},setStyle:function(t){p(this,t);if(this._renderer){this._renderer._updateStyle(this)}return this},bringToFront:function(){if(this._renderer){this._renderer._bringToFront(this)}return this},bringToBack:function(){if(this._renderer){this._renderer._bringToBack(this)}return this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}});var ei=ti.extend({options:{fill:true,radius:10},initialize:function(t,e){p(this,e);this._latlng=U(t);this._radius=this.options.radius},setLatLng:function(t){this._latlng=U(t);this.redraw();return this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){this.options.radius=this._radius=t;return this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;ti.prototype.setStyle.call(this,t);this.setRadius(e);return this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new R(this._point.subtract(i),this._point.add(i))},_update:function(){if(this._map){this._updatePath()}},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ni(t,e){return new ei(t,e)}var ii=ei.extend({initialize:function(t,e,n){if(typeof e==="number"){e=i({},n,{radius:e})}p(this,e);this._latlng=U(t);if(isNaN(this.options.radius)){throw new Error("Circle radius cannot be NaN")}this._mRadius=this.options.radius},setRadius:function(t){this._mRadius=t;return this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ti.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===H.distance){var r=Math.PI/180,o=this._mRadius/H.R/r,a=n.project([e+o,t]),s=n.project([e-o,t]),l=a.add(s).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(u*r))/(Math.cos(e*r)*Math.cos(u*r)))/r;if(isNaN(c)||c===0){c=o/Math.cos(Math.PI/180*e)}this._point=l.subtract(n.getPixelOrigin());this._radius=isNaN(c)?0:l.x-n.project([u,t-c]).x;this._radiusY=l.y-a.y}else{var f=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng);this._radius=this._point.x-n.latLngToLayerPoint(f).x}this._updateBounds()}});function ri(t,e,n){return new ii(t,e,n)}var oi=ti.extend({options:{smoothFactor:1,noClip:false},initialize:function(t,e){p(this,e);this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){this._setLatLngs(t);return this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){var e=Infinity,n=null,i=Pn,r,o;for(var a=0,s=this._parts.length;a<s;a++){var l=this._parts[a];for(var u=1,c=l.length;u<c;u++){r=l[u-1];o=l[u];var f=i(t,r,o,true);if(f<e){e=f;n=i(t,r,o)}}}if(n){n.distance=Math.sqrt(e)}return n},getCenter:function(){if(!this._map){throw new Error("Must add layer to map before using getCenter()")}var t,e,n,i,r,o,a,s=this._rings[0],l=s.length;if(!l){return null}for(t=0,e=0;t<l-1;t++){e+=s[t].distanceTo(s[t+1])/2}if(e===0){return this._map.layerPointToLatLng(s[0])}for(t=0,i=0;t<l-1;t++){r=s[t];o=s[t+1];n=r.distanceTo(o);i+=n;if(i>e){a=(i-e)/n;return this._map.layerPointToLatLng([o.x-a*(o.x-r.x),o.y-a*(o.y-r.y)])}}},getBounds:function(){return this._bounds},addLatLng:function(t,e){e=e||this._defaultShape();t=U(t);e.push(t);this._bounds.extend(t);return this.redraw()},_setLatLngs:function(t){this._bounds=new B;this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Nn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){var e=[],n=Nn(t);for(var i=0,r=t.length;i<r;i++){if(n){e[i]=U(t[i]);this._bounds.extend(e[i])}else{e[i]=this._convertLatLngs(t[i])}}return e},_project:function(){var t=new R;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new j(e,e);if(this._bounds.isValid()&&t.isValid()){t.min._subtract(n);t.max._add(n);this._pxBounds=t}},_projectLatlngs:function(t,e,n){var i=t[0]instanceof F,r=t.length,o,a;if(i){a=[];for(o=0;o<r;o++){a[o]=this._map.latLngToLayerPoint(t[o]);n.extend(a[o])}e.push(a)}else{for(o=0;o<r;o++){this._projectLatlngs(t[o],e,n)}}},_clipPoints:function(){var t=this._renderer._bounds;this._parts=[];if(!this._pxBounds||!this._pxBounds.intersects(t)){return}if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,n,i,r,o,a,s,l;for(n=0,r=0,o=this._rings.length;n<o;n++){l=this._rings[n];for(i=0,a=l.length;i<a-1;i++){s=Cn(l[i],l[i+1],t,i,true);if(!s){continue}e[r]=e[r]||[];e[r].push(s[0]);if(s[1]!==l[i+1]||i===a-2){e[r].push(s[1]);r++}}}},_simplifyPoints:function(){var t=this._parts,e=this.options.smoothFactor;for(var n=0,i=t.length;n<i;n++){t[n]=bn(t[n],e)}},_update:function(){if(!this._map){return}this._clipPoints();this._simplifyPoints();this._updatePath()},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t)){return false}for(n=0,o=this._parts.length;n<o;n++){s=this._parts[n];for(i=0,a=s.length,r=a-1;i<a;r=i++){if(!e&&i===0){continue}if(wn(t,s[r],s[i])<=l){return true}}}return false}});function ai(t,e){return new oi(t,e)}oi._flat=Mn;var si=oi.extend({options:{fill:true},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map){throw new Error("Must add layer to map before using getCenter()")}var t,e,n,i,r,o,a,s,l,u=this._rings[0],c=u.length;if(!c){return null}o=a=s=0;for(t=0,e=c-1;t<c;e=t++){n=u[t];i=u[e];r=n.y*i.x-i.y*n.x;a+=(n.x+i.x)*r;s+=(n.y+i.y)*r;o+=r*3}if(o===0){l=u[0]}else{l=[a/o,s/o]}return this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=oi.prototype._convertLatLngs.call(this,t),n=e.length;if(n>=2&&e[0]instanceof F&&e[0].equals(e[n-1])){e.pop()}return e},_setLatLngs:function(t){oi.prototype._setLatLngs.call(this,t);if(Nn(this._latlngs)){this._latlngs=[this._latlngs]}},_defaultShape:function(){return Nn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new j(e,e);t=new R(t.min.subtract(n),t.max.add(n));this._parts=[];if(!this._pxBounds||!this._pxBounds.intersects(t)){return}if(this.options.noClip){this._parts=this._rings;return}for(var i=0,r=this._rings.length,o;i<r;i++){o=In(this._rings[i],t,true);if(o.length){this._parts.push(o)}}},_updatePath:function(){this._renderer._updatePoly(this,true)},_containsPoint:function(t){var e=false,n,i,r,o,a,s,l,u;if(!this._pxBounds||!this._pxBounds.contains(t)){return false}for(o=0,l=this._parts.length;o<l;o++){n=this._parts[o];for(a=0,u=n.length,s=u-1;a<u;s=a++){i=n[a];r=n[s];if(i.y>t.y!==r.y>t.y&&t.x<(r.x-i.x)*(t.y-i.y)/(r.y-i.y)+i.x){e=!e}}}return e||oi.prototype._containsPoint.call(this,t,true)}});function li(t,e){return new si(t,e)}var ui=Vn.extend({initialize:function(t,e){p(this,e);this._layers={};if(t){this.addData(t)}},addData:function(t){var e=y(t)?t:t.features,n,i,r;if(e){for(n=0,i=e.length;n<i;n++){r=e[n];if(r.geometries||r.geometry||r.features||r.coordinates){this.addData(r)}}return this}var o=this.options;if(o.filter&&!o.filter(t)){return this}var a=ci(t,o);if(!a){return this}a.feature=mi(t);a.defaultOptions=a.options;this.resetStyle(a);if(o.onEachFeature){o.onEachFeature(t,a)}return this.addLayer(a)},resetStyle:function(t){t.options=i({},t.defaultOptions);this._setLayerStyle(t,this.options.style);return this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){if(typeof e==="function"){e=e(t.feature)}if(t.setStyle){t.setStyle(e)}}});function ci(t,e){var n=t.type==="Feature"?t.geometry:t,i=n?n.coordinates:null,r=[],o=e&&e.pointToLayer,a=e&&e.coordsToLatLng||fi,s,l,u,c;if(!i&&!n){return null}switch(n.type){case"Point":s=a(i);return o?o(t,s):new Jn(s);case"MultiPoint":for(u=0,c=i.length;u<c;u++){s=a(i[u]);r.push(o?o(t,s):new Jn(s))}return new Vn(r);case"LineString":case"MultiLineString":l=hi(i,n.type==="LineString"?0:1,a);return new oi(l,e);case"Polygon":case"MultiPolygon":l=hi(i,n.type==="Polygon"?1:2,a);return new si(l,e);case"GeometryCollection":for(u=0,c=n.geometries.length;u<c;u++){var f=ci({geometry:n.geometries[u],type:"Feature",properties:t.properties},e);if(f){r.push(f)}}return new Vn(r);default:throw new Error("Invalid GeoJSON object.")}}function fi(t){return new F(t[1],t[0],t[2])}function hi(t,e,n){var i=[];for(var r=0,o=t.length,a;r<o;r++){a=e?hi(t[r],e-1,n):(n||fi)(t[r]);i.push(a)}return i}function di(t,e){e=typeof e==="number"?e:6;return t.alt!==undefined?[f(t.lng,e),f(t.lat,e),f(t.alt,e)]:[f(t.lng,e),f(t.lat,e)]}function pi(t,e,n,i){var r=[];for(var o=0,a=t.length;o<a;o++){r.push(e?pi(t[o],e-1,n,i):di(t[o],i))}if(!e&&n){r.push(r[0])}return r}function vi(t,e){return t.feature?i({},t.feature,{geometry:e}):mi(e)}function mi(t){if(t.type==="Feature"||t.type==="FeatureCollection"){return t}return{type:"Feature",properties:{},geometry:t}}var gi={toGeoJSON:function(t){return vi(this,{type:"Point",coordinates:di(this.getLatLng(),t)})}};Jn.include(gi);ii.include(gi);ei.include(gi);oi.include({toGeoJSON:function(t){var e=!Nn(this._latlngs);var n=pi(this._latlngs,e?1:0,false,t);return vi(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}});si.include({toGeoJSON:function(t){var e=!Nn(this._latlngs),n=e&&!Nn(this._latlngs[0]);var i=pi(this._latlngs,n?2:e?1:0,true,t);if(!e){i=[i]}return vi(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}});Hn.include({toMultiPoint:function(t){var e=[];this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)});return vi(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint"){return this.toMultiPoint(t)}var n=e==="GeometryCollection",i=[];this.eachLayer(function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n){i.push(r.geometry)}else{var o=mi(r);if(o.type==="FeatureCollection"){i.push.apply(i,o.features)}else{i.push(o)}}}});if(n){return vi(this,{geometries:i,type:"GeometryCollection"})}return{type:"FeatureCollection",features:i}}});function yi(t,e){return new ui(t,e)}var _i=yi;var bi=$n.extend({options:{opacity:1,alt:"",interactive:false,crossOrigin:false,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t;this._bounds=z(e);p(this,n)},onAdd:function(){if(!this._image){this._initImage();if(this.options.opacity<1){this._updateOpacity()}}if(this.options.interactive){fe(this._image,"leaflet-interactive");this.addInteractiveTarget(this._image)}this.getPane().appendChild(this._image);this._reset()},onRemove:function(){ae(this._image);if(this.options.interactive){this.removeInteractiveTarget(this._image)}},setOpacity:function(t){this.options.opacity=t;if(this._image){this._updateOpacity()}return this},setStyle:function(t){if(t.opacity){this.setOpacity(t.opacity)}return this},bringToFront:function(){if(this._map){le(this._image)}return this},bringToBack:function(){if(this._map){ue(this._image)}return this},setUrl:function(t){this._url=t;if(this._image){this._image.src=t}return this},setBounds:function(t){this._bounds=z(t);if(this._map){this._reset()}return this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};if(this._zoomAnimated){t.zoomanim=this._animateZoom}return t},setZIndex:function(t){this.options.zIndex=t;this._updateZIndex();return this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG";var e=this._image=t?this._url:oe("img");fe(e,"leaflet-image-layer");if(this._zoomAnimated){fe(e,"leaflet-zoom-animated")}if(this.options.className){fe(e,this.options.className)}e.onselectstart=c;e.onmousemove=c;e.onload=o(this.fire,this,"load");e.onerror=o(this._overlayOnError,this,"error");if(this.options.crossOrigin||this.options.crossOrigin===""){e.crossOrigin=this.options.crossOrigin===true?"":this.options.crossOrigin}if(this.options.zIndex){this._updateZIndex()}if(t){this._url=e.src;return}e.src=this._url;e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ye(this._image,n,e)},_reset:function(){var t=this._image,e=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();_e(t,e.min);t.style.width=n.x+"px";t.style.height=n.y+"px"},_updateOpacity:function(){ve(this._image,this.options.opacity)},_updateZIndex:function(){if(this._image&&this.options.zIndex!==undefined&&this.options.zIndex!==null){this._image.style.zIndex=this.options.zIndex}},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;if(t&&this._url!==t){this._url=t;this._image.src=t}}});var wi=function(t,e,n){return new bi(t,e,n)};var xi=bi.extend({options:{autoplay:true,loop:true},_initImage:function(){var t=this._url.tagName==="VIDEO";var e=this._image=t?this._url:oe("video");fe(e,"leaflet-image-layer");if(this._zoomAnimated){fe(e,"leaflet-zoom-animated")}e.onselectstart=c;e.onmousemove=c;e.onloadeddata=o(this.fire,this,"load");if(t){var n=e.getElementsByTagName("source");var i=[];for(var r=0;r<n.length;r++){i.push(n[r].src)}this._url=n.length>0?i:[e.src];return}if(!y(this._url)){this._url=[this._url]}e.autoplay=!!this.options.autoplay;e.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var s=oe("source");s.src=this._url[a];e.appendChild(s)}}});function Ei(t,e,n){return new xi(t,e,n)}var Oi=$n.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){p(this,t);this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated;if(!this._container){this._initLayout()}if(t._fadeAnimated){ve(this._container,0)}clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();if(t._fadeAnimated){ve(this._container,1)}this.bringToFront()},onRemove:function(t){if(t._fadeAnimated){ve(this._container,0);this._removeTimeout=setTimeout(o(ae,undefined,this._container),200)}else{ae(this._container)}},getLatLng:function(){return this._latlng},setLatLng:function(t){this._latlng=U(t);if(this._map){this._updatePosition();this._adjustPan()}return this},getContent:function(){return this._content},setContent:function(t){this._content=t;this.update();return this},getElement:function(){return this._container},update:function(){if(!this._map){return}this._container.style.visibility="hidden";this._updateContent();this._updateLayout();this._updatePosition();this._container.style.visibility="";this._adjustPan()},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};if(this._zoomAnimated){t.zoomanim=this._animateZoom}return t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){if(this._map){le(this._container)}return this},bringToBack:function(){if(this._map){ue(this._container)}return this},_updateContent:function(){if(!this._content){return}var t=this._contentNode;var e=typeof this._content==="function"?this._content(this._source||this):this._content;if(typeof e==="string"){t.innerHTML=e}else{while(t.hasChildNodes()){t.removeChild(t.firstChild)}t.appendChild(e)}this.fire("contentupdate")},_updatePosition:function(){if(!this._map){return}var t=this._map.latLngToLayerPoint(this._latlng),e=D(this.options.offset),n=this._getAnchor();if(this._zoomAnimated){_e(this._container,t.add(n))}else{e=e.add(t).add(n)}var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px";this._container.style.left=r+"px"},_getAnchor:function(){return[0,0]}});var ki=Oi.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:true,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:false,closeButton:true,autoClose:true,closeOnEscapeKey:true,className:""},openOn:function(t){t.openPopup(this);return this},onAdd:function(t){Oi.prototype.onAdd.call(this,t);t.fire("popupopen",{popup:this});if(this._source){this._source.fire("popupopen",{popup:this},true);if(!(this._source instanceof ti)){this._source.on("preclick",Be)}}},onRemove:function(t){Oi.prototype.onRemove.call(this,t);t.fire("popupclose",{popup:this});if(this._source){this._source.fire("popupclose",{popup:this},true);if(!(this._source instanceof ti)){this._source.off("preclick",Be)}}},getEvents:function(){var t=Oi.prototype.getEvents.call(this);if(this.options.closeOnClick!==undefined?this.options.closeOnClick:this._map.options.closePopupOnClick){t.preclick=this._close}if(this.options.keepInView){t.moveend=this._adjustPan}return t},_close:function(){if(this._map){this._map.closePopup(this)}},_initLayout:function(){var t="leaflet-popup",e=this._container=oe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated");var n=this._wrapper=oe("div",t+"-content-wrapper",e);this._contentNode=oe("div",t+"-content",n);Fe(n);ze(this._contentNode);je(n,"contextmenu",Be);this._tipContainer=oe("div",t+"-tip-container",e);this._tip=oe("div",t+"-tip",this._tipContainer);if(this.options.closeButton){var i=this._closeButton=oe("a",t+"-close-button",e);i.href="#close";i.innerHTML="&#215;";je(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="";e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth);n=Math.max(n,this.options.minWidth);e.width=n+1+"px";e.whiteSpace="";e.height="";var i=t.offsetHeight,r=this.options.maxHeight,o="leaflet-popup-scrolled";if(r&&i>r){e.height=r+"px";fe(t,o)}else{he(t,o)}this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();_e(this._container,e.add(n))},_adjustPan:function(){if(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress){return}var t=this._map,e=parseInt(re(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new j(this._containerLeft,-n-this._containerBottom);r._add(be(this._container));var o=t.layerPointToContainerPoint(r),a=D(this.options.autoPanPadding),s=D(this.options.autoPanPaddingTopLeft||a),l=D(this.options.autoPanPaddingBottomRight||a),u=t.getSize(),c=0,f=0;if(o.x+i+l.x>u.x){c=o.x+i-u.x+l.x}if(o.x-c-s.x<0){c=o.x-s.x}if(o.y+n+l.y>u.y){f=o.y+n-u.y+l.y}if(o.y-f-s.y<0){f=o.y-s.y}if(c||f){t.fire("autopanstart").panBy([c,f])}},_onCloseButtonClick:function(t){this._close();$e(t)},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});var Ti=function(t,e){return new ki(t,e)};en.mergeOptions({closePopupOnClick:true});en.include({openPopup:function(t,e,n){if(!(t instanceof ki)){t=new ki(n).setContent(t)}if(e){t.setLatLng(e)}if(this.hasLayer(t)){return this}if(this._popup&&this._popup.options.autoClose){this.closePopup()}this._popup=t;return this.addLayer(t)},closePopup:function(t){if(!t||t===this._popup){t=this._popup;this._popup=null}if(t){this.removeLayer(t)}return this}});$n.include({bindPopup:function(t,e){if(t instanceof ki){p(t,e);this._popup=t;t._source=this}else{if(!this._popup||e){this._popup=new ki(e,this)}this._popup.setContent(t)}if(!this._popupHandlersAdded){this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=true}return this},unbindPopup:function(){if(this._popup){this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=false;this._popup=null}return this},openPopup:function(t,e){if(!(t instanceof $n)){e=t;t=this}if(t instanceof Vn){for(var n in this._layers){t=this._layers[n];break}}if(!e){e=t.getCenter?t.getCenter():t.getLatLng()}if(this._popup&&this._map){this._popup._source=t;this._popup.update();this._map.openPopup(this._popup,e)}return this},closePopup:function(){if(this._popup){this._popup._close()}return this},togglePopup:function(t){if(this._popup){if(this._popup._map){this.closePopup()}else{this.openPopup(t)}}return this},isPopupOpen:function(){return this._popup?this._popup.isOpen():false},setPopupContent:function(t){if(this._popup){this._popup.setContent(t)}return this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(!this._popup){return}if(!this._map){return}$e(t);if(e instanceof ti){this.openPopup(t.layer||t.target,t.latlng);return}if(this._map.hasLayer(this._popup)&&this._popup._source===e){this.closePopup()}else{this.openPopup(e,t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){if(t.originalEvent.keyCode===13){this._openPopup(t)}}});var Ci=Oi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:false,sticky:false,interactive:false,opacity:.9},onAdd:function(t){Oi.prototype.onAdd.call(this,t);this.setOpacity(this.options.opacity);t.fire("tooltipopen",{tooltip:this});if(this._source){this._source.fire("tooltipopen",{tooltip:this},true)}},onRemove:function(t){Oi.prototype.onRemove.call(this,t);t.fire("tooltipclose",{tooltip:this});if(this._source){this._source.fire("tooltipclose",{tooltip:this},true)}},getEvents:function(){var t=Oi.prototype.getEvents.call(this);if(Et&&!this.options.permanent){t.preclick=this._close}return t},_close:function(){if(this._map){this._map.closeTooltip(this)}},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),o=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,l=D(this.options.offset),u=this._getAnchor();if(o==="top"){t=t.add(D(-a/2+l.x,-s+l.y+u.y,true))}else if(o==="bottom"){t=t.subtract(D(a/2-l.x,-l.y,true))}else if(o==="center"){t=t.subtract(D(a/2+l.x,s/2-u.y+l.y,true))}else if(o==="right"||o==="auto"&&r.x<i.x){o="right";t=t.add(D(l.x+u.x,u.y-s/2+l.y,true))}else{o="left";t=t.subtract(D(a+u.x-l.x,s/2-u.y-l.y,true))}he(n,"leaflet-tooltip-right");he(n,"leaflet-tooltip-left");he(n,"leaflet-tooltip-top");he(n,"leaflet-tooltip-bottom");fe(n,"leaflet-tooltip-"+o);_e(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t;if(this._container){ve(this._container,t)}},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});var Li=function(t,e){return new Ci(t,e)};en.include({openTooltip:function(t,e,n){if(!(t instanceof Ci)){t=new Ci(n).setContent(t)}if(e){t.setLatLng(e)}if(this.hasLayer(t)){return this}return this.addLayer(t)},closeTooltip:function(t){if(t){this.removeLayer(t)}return this}});$n.include({bindTooltip:function(t,e){if(t instanceof Ci){p(t,e);this._tooltip=t;t._source=this}else{if(!this._tooltip||e){this._tooltip=new Ci(e,this)}this._tooltip.setContent(t)}this._initTooltipInteractions();if(this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)){this.openTooltip()}return this},unbindTooltip:function(){if(this._tooltip){this._initTooltipInteractions(true);this.closeTooltip();this._tooltip=null}return this},_initTooltipInteractions:function(t){if(!t&&this._tooltipHandlersAdded){return}var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};if(!this._tooltip.options.permanent){n.mouseover=this._openTooltip;n.mouseout=this.closeTooltip;if(this._tooltip.options.sticky){n.mousemove=this._moveTooltip}if(Et){n.click=this._openTooltip}}else{n.add=this._openTooltip}this[e](n);this._tooltipHandlersAdded=!t},openTooltip:function(t,e){if(!(t instanceof $n)){e=t;t=this}if(t instanceof Vn){for(var n in this._layers){t=this._layers[n];break}}if(!e){e=t.getCenter?t.getCenter():t.getLatLng()}if(this._tooltip&&this._map){this._tooltip._source=t;this._tooltip.update();this._map.openTooltip(this._tooltip,e);if(this._tooltip.options.interactive&&this._tooltip._container){fe(this._tooltip._container,"leaflet-clickable");this.addInteractiveTarget(this._tooltip._container)}}return this},closeTooltip:function(){if(this._tooltip){this._tooltip._close();if(this._tooltip.options.interactive&&this._tooltip._container){he(this._tooltip._container,"leaflet-clickable");this.removeInteractiveTarget(this._tooltip._container)}}return this},toggleTooltip:function(t){if(this._tooltip){if(this._tooltip._map){this.closeTooltip()}else{this.openTooltip(t)}}return this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){if(this._tooltip){this._tooltip.setContent(t)}return this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;if(!this._tooltip||!this._map){return}this.openTooltip(e,this._tooltip.options.sticky?t.latlng:undefined)},_moveTooltip:function(t){var e=t.latlng,n,i;if(this._tooltip.options.sticky&&t.originalEvent){n=this._map.mouseEventToContainerPoint(t.originalEvent);i=this._map.containerPointToLayerPoint(n);e=this._map.layerPointToLatLng(i)}this._tooltip.setLatLng(e)}});var Ai=Gn.extend({options:{iconSize:[12,12],html:false,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),n=this.options;e.innerHTML=n.html!==false?n.html:"";if(n.bgPos){var i=D(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}this._setIconStyles(e,"icon");return e},createShadow:function(){return null}});function Si(t){return new Ai(t)}Gn.Default=Yn;var Pi=$n.extend({options:{tileSize:256,opacity:1,updateWhenIdle:yt,updateWhenZooming:true,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:undefined,maxNativeZoom:undefined,minNativeZoom:undefined,noWrap:false,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles();ae(this._container);t._removeZoomLimit(this);this._container=null;this._tileZoom=undefined},bringToFront:function(){if(this._map){le(this._container);this._setAutoZIndex(Math.max)}return this},bringToBack:function(){if(this._map){ue(this._container);this._setAutoZIndex(Math.min)}return this},getContainer:function(){return this._container},setOpacity:function(t){this.options.opacity=t;this._updateOpacity();return this},setZIndex:function(t){this.options.zIndex=t;this._updateZIndex();return this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};if(!this.options.updateWhenIdle){if(!this._onMove){this._onMove=l(this._onMoveEnd,this.options.updateInterval,this)}t.move=this._onMove}if(this._zoomAnimated){t.zoomanim=this._animateZoom}return t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof j?t:new j(t,t)},_updateZIndex:function(){if(this._container&&this.options.zIndex!==undefined&&this.options.zIndex!==null){this._container.style.zIndex=this.options.zIndex}},_setAutoZIndex:function(t){var e=this.getPane().children,n=-t(-Infinity,Infinity);for(var i=0,r=e.length,o;i<r;i++){o=e[i].style.zIndex;if(e[i]!==this._container&&o){n=t(n,+o)}}if(isFinite(n)){this.options.zIndex=n+t(-1,1);this._updateZIndex()}},_updateOpacity:function(){if(!this._map){return}if(tt){return}ve(this._container,this.options.opacity);var t=+new Date,e=false,n=false;for(var i in this._tiles){var r=this._tiles[i];if(!r.current||!r.loaded){continue}var o=Math.min(1,(t-r.loaded)/200);ve(r.el,o);if(o<1){e=true}else{if(r.active){n=true}else{this._onOpaqueTile(r)}r.active=true}}if(n&&!this._noPrune){this._pruneTiles()}if(e){C(this._fadeFrame);this._fadeFrame=T(this._updateOpacity,this)}},_onOpaqueTile:c,_initContainer:function(){if(this._container){return}this._container=oe("div","leaflet-layer "+(this.options.className||""));this._updateZIndex();if(this.options.opacity<1){this._updateOpacity()}this.getPane().appendChild(this._container)},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t===undefined){return undefined}for(var n in this._levels){if(this._levels[n].el.children.length||n===t){this._levels[n].el.style.zIndex=e-Math.abs(t-n);this._onUpdateLevel(n)}else{ae(this._levels[n].el);this._removeTilesAtZoom(n);this._onRemoveLevel(n);delete this._levels[n]}}var i=this._levels[t],r=this._map;if(!i){i=this._levels[t]={};i.el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container);i.el.style.zIndex=e;i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round();i.zoom=t;this._setZoomTransform(i,r.getCenter(),r.getZoom());c(i.el.offsetWidth);this._onCreateLevel(i)}this._level=i;return i},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(!this._map){return}var t,e;var n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles){e=this._tiles[t];e.retain=e.current}for(t in this._tiles){e=this._tiles[t];if(e.current&&!e.active){var i=e.coords;if(!this._retainParent(i.x,i.y,i.z,i.z-5)){this._retainChildren(i.x,i.y,i.z,i.z+2)}}}for(t in this._tiles){if(!this._tiles[t].retain){this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles){if(this._tiles[e].coords.z!==t){continue}this._removeTile(e)}},_removeAllTiles:function(){for(var t in this._tiles){this._removeTile(t)}},_invalidateAll:function(){for(var t in this._levels){ae(this._levels[t].el);this._onRemoveLevel(t);delete this._levels[t]}this._removeAllTiles();this._tileZoom=undefined},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new j(+r,+o);s.z=+a;var l=this._tileCoordsToKey(s),u=this._tiles[l];if(u&&u.active){u.retain=true;return true}else if(u&&u.loaded){u.retain=true}if(a>i){return this._retainParent(r,o,a,i)}return false},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++){for(var o=2*e;o<2*e+2;o++){var a=new j(r,o);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];if(l&&l.active){l.retain=true;continue}else if(l&&l.loaded){l.retain=true}if(n+1<i){this._retainChildren(r,o,n+1,i)}}}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,true,t.noUpdate)},_clampZoom:function(t){var e=this.options;if(undefined!==e.minNativeZoom&&t<e.minNativeZoom){return e.minNativeZoom}if(undefined!==e.maxNativeZoom&&e.maxNativeZoom<t){return e.maxNativeZoom}return t},_setView:function(t,e,n,i){var r=this._clampZoom(Math.round(e));if(this.options.maxZoom!==undefined&&r>this.options.maxZoom||this.options.minZoom!==undefined&&r<this.options.minZoom){r=undefined}var o=this.options.updateWhenZooming&&r!==this._tileZoom;if(!i||o){this._tileZoom=r;if(this._abortLoading){this._abortLoading()}this._updateLevels();this._resetGrid();if(r!==undefined){this._update(t)}if(!n){this._pruneTiles()}this._noPrune=!!n}this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels){this._setZoomTransform(this._levels[n],t,e)}},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();if(gt){ye(t.el,r,i)}else{_e(t.el,r)}},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom;var r=this._map.getPixelWorldBounds(this._tileZoom);if(r){this._globalTileRange=this._pxBoundsToTileRange(r)}this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)];this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){if(!this._map||this._map._animatingZoom){return}this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(i*2);return new R(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(!e){return}var n=this._clampZoom(e.getZoom());if(t===undefined){t=e.getCenter()}if(this._tileZoom===undefined){return}var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),a=[],s=this.options.keepBuffer,l=new R(r.getBottomLeft().subtract([s,-s]),r.getTopRight().add([s,-s]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y))){throw new Error("Attempted to load an infinite number of tiles")}for(var u in this._tiles){var c=this._tiles[u].coords;if(c.z!==this._tileZoom||!l.contains(new j(c.x,c.y))){this._tiles[u].current=false}}if(Math.abs(n-this._tileZoom)>1){this._setView(t,n);return}for(var f=r.min.y;f<=r.max.y;f++){for(var h=r.min.x;h<=r.max.x;h++){var d=new j(h,f);d.z=this._tileZoom;if(!this._isValidTile(d)){continue}var p=this._tiles[this._tileCoordsToKey(d)];if(p){p.current=true}else{a.push(d)}}}a.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)});if(a.length!==0){if(!this._loading){this._loading=true;this.fire("loading")}var v=document.createDocumentFragment();for(h=0;h<a.length;h++){this._addTile(a[h],v)}this._level.el.appendChild(v)}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y)){return false}}if(!this.options.bounds){return true}var i=this._tileCoordsToBounds(t);return z(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n),o=e.unproject(i,t.z),a=e.unproject(r,t.z);return[o,a]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new B(e[0],e[1]);if(!this.options.noWrap){n=this._map.wrapLatLngBounds(n)}return n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new j(+e[0],+e[1]);n.z=+e[2];return n},_removeTile:function(t){var e=this._tiles[t];if(!e){return}ae(e.el);delete this._tiles[t];this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)})},_initTile:function(t){fe(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px";t.style.height=e.y+"px";t.onselectstart=c;t.onmousemove=c;if(tt&&this.options.opacity<1){ve(t,this.options.opacity)}if(it&&!rt){t.style.WebkitBackfaceVisibility="hidden"}},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t);var r=this.createTile(this._wrapCoords(t),o(this._tileReady,this,t));this._initTile(r);if(this.createTile.length<2){T(o(this._tileReady,this,t,null,r))}_e(r,n);this._tiles[i]={el:r,coords:t,current:true};e.appendChild(r);this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,n){if(e){this.fire("tileerror",{error:e,tile:n,coords:t})}var i=this._tileCoordsToKey(t);n=this._tiles[i];if(!n){return}n.loaded=+new Date;if(this._map._fadeAnimated){ve(n.el,0);C(this._fadeFrame);this._fadeFrame=T(this._updateOpacity,this)}else{n.active=true;this._pruneTiles()}if(!e){fe(n.el,"leaflet-tile-loaded");this.fire("tileload",{tile:n.el,coords:t})}if(this._noTilesToLoad()){this._loading=false;this.fire("load");if(tt||!this._map._fadeAnimated){T(this._pruneTiles,this)}else{setTimeout(o(this._pruneTiles,this),250)}}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new j(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);e.z=t.z;return e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new R(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles){if(!this._tiles[t].loaded){return false}}return true}});function Ni(t){return new Pi(t)}var Mi=Pi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:false,zoomReverse:false,detectRetina:false,crossOrigin:false},initialize:function(t,e){this._url=t;e=p(this,e);if(e.detectRetina&&Tt&&e.maxZoom>0){e.tileSize=Math.floor(e.tileSize/2);if(!e.zoomReverse){e.zoomOffset++;e.maxZoom--}else{e.zoomOffset--;e.minZoom++}e.minZoom=Math.max(0,e.minZoom)}if(typeof e.subdomains==="string"){e.subdomains=e.subdomains.split("")}if(!it){this.on("tileunload",this._onTileRemove)}},setUrl:function(t,e){this._url=t;if(!e){this.redraw()}return this},createTile:function(t,e){var n=document.createElement("img");je(n,"load",o(this._tileOnLoad,this,e,n));je(n,"error",o(this._tileOnError,this,e,n));if(this.options.crossOrigin||this.options.crossOrigin===""){n.crossOrigin=this.options.crossOrigin===true?"":this.options.crossOrigin}n.alt="";n.setAttribute("role","presentation");n.src=this.getTileUrl(t);return n},getTileUrl:function(t){var e={r:Tt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;if(this.options.tms){e["y"]=n}e["-y"]=n}return g(this._url,i(e,this.options))},_tileOnLoad:function(t,e){if(tt){setTimeout(o(t,this,null,e),0)}else{t(null,e)}},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;if(i&&e.getAttribute("src")!==i){e.src=i}t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;if(n){t=e-t}return t+i},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles){if(this._tiles[t].coords.z!==this._tileZoom){e=this._tiles[t].el;e.onload=c;e.onerror=c;if(!e.complete){e.src=b;ae(e);delete this._tiles[t]}}}},_removeTile:function(t){var e=this._tiles[t];if(!e){return}if(!at){e.el.setAttribute("src",b)}return Pi.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(!this._map||n&&n.getAttribute("src")===b){return}return Pi.prototype._tileReady.call(this,t,e,n)}});function ji(t,e){return new Mi(t,e)}var Ii=Mi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:false,version:"1.1.1"},options:{crs:null,uppercase:false},initialize:function(t,e){this._url=t;var n=i({},this.defaultWmsParams);for(var r in e){if(!(r in this.options)){n[r]=e[r]}}e=p(this,e);var o=e.detectRetina&&Tt?2:1;var a=this.getTileSize();n.width=a.x*o;n.height=a.y*o;this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code;Mi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=q(n.project(e[0]),n.project(e[1])),r=i.min,o=i.max,a=(this._wmsVersion>=1.3&&this._crs===Fn?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),s=Mi.prototype.getTileUrl.call(this,t);return s+v(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){i(this.wmsParams,t);if(!e){this.redraw()}return this}});function Di(t,e){return new Ii(t,e)}Mi.WMS=Ii;ji.wms=Di;var Ri=$n.extend({options:{padding:.1,tolerance:0},initialize:function(t){p(this,t);s(this);this._layers=this._layers||{}},onAdd:function(){if(!this._container){this._initContainer();if(this._zoomAnimated){fe(this._container,"leaflet-zoom-animated")}}this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};if(this._zoomAnimated){t.zoomanim=this._onAnimZoom}return t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=be(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),a=this._map.project(t,e),s=a.subtract(o),l=r.multiplyBy(-n).add(i).add(r).subtract(s);if(gt){ye(this._container,l,n)}else{_e(this._container,l)}},_reset:function(){this._update();this._updateTransform(this._center,this._zoom);for(var t in this._layers){this._layers[t]._reset()}},_onZoomEnd:function(){for(var t in this._layers){this._layers[t]._project()}},_updatePaths:function(){for(var t in this._layers){this._layers[t]._update()}},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new R(n,n.add(e.multiplyBy(1+t*2)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}});var qi=Ri.extend({getEvents:function(){var t=Ri.prototype.getEvents.call(this);t.viewprereset=this._onViewPreReset;return t},_onViewPreReset:function(){this._postponeUpdatePaths=true},onAdd:function(){Ri.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");je(t,"mousemove",l(this._onMouseMove,32,this),this);je(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this);je(t,"mouseout",this._handleMouseOut,this);this._ctx=t.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest);delete this._ctx;ae(this._container);De(this._container);delete this._container},_updatePaths:function(){if(this._postponeUpdatePaths){return}var t;this._redrawBounds=null;for(var e in this._layers){t=this._layers[e];t._update()}this._redraw()},_update:function(){if(this._map._animatingZoom&&this._bounds){return}this._drawnLayers={};Ri.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Tt?2:1;_e(e,t.min);e.width=i*n.x;e.height=i*n.y;e.style.width=n.x+"px";e.style.height=n.y+"px";if(Tt){this._ctx.scale(2,2)}this._ctx.translate(-t.min.x,-t.min.y);this.fire("update")},_reset:function(){Ri.prototype._reset.call(this);if(this._postponeUpdatePaths){this._postponeUpdatePaths=false;this._updatePaths()}},_initPath:function(t){this._updateDashArray(t);this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};if(this._drawLast){this._drawLast.next=e}this._drawLast=e;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order;var n=e.next;var i=e.prev;if(n){n.prev=i}else{this._drawLast=i}if(i){i.next=n}else{this._drawFirst=n}delete this._drawnLayers[t._leaflet_id];delete t._order;delete this._layers[s(t)];this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t);t._project();t._update();this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t);this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray==="string"){var e=t.options.dashArray.split(/[, ]+/),n=[],i;for(i=0;i<e.length;i++){n.push(Number(e[i]))}t.options._dashArray=n}else{t.options._dashArray=t.options.dashArray}},_requestRedraw:function(t){if(!this._map){return}this._extendRedrawBounds(t);this._redrawRequest=this._redrawRequest||T(this._redraw,this)},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R;this._redrawBounds.extend(t._pxBounds.min.subtract([e,e]));this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null;if(this._redrawBounds){this._redrawBounds.min._floor();this._redrawBounds.max._ceil()}this._clear();this._draw();this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else{this._ctx.clearRect(0,0,this._container.width,this._container.height)}},_draw:function(){var t,e=this._redrawBounds;this._ctx.save();if(e){var n=e.getSize();this._ctx.beginPath();this._ctx.rect(e.min.x,e.min.y,n.x,n.y);this._ctx.clip()}this._drawing=true;for(var i=this._drawFirst;i;i=i.next){t=i.layer;if(!e||t._pxBounds&&t._pxBounds.intersects(e)){t._updatePath()}}this._drawing=false;this._ctx.restore()},_updatePoly:function(t,e){if(!this._drawing){return}var n,i,r,o,a=t._parts,s=a.length,l=this._ctx;if(!s){return}this._drawnLayers[t._leaflet_id]=t;l.beginPath();for(n=0;n<s;n++){for(i=0,r=a[n].length;i<r;i++){o=a[n][i];l[i?"lineTo":"moveTo"](o.x,o.y)}if(e){l.closePath()}}this._fillStroke(l,t)},_updateCircle:function(t){if(!this._drawing||t._empty()){return}var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||i)/i;this._drawnLayers[t._leaflet_id]=t;if(r!==1){n.save();n.scale(1,r)}n.beginPath();n.arc(e.x,e.y/r,i,0,Math.PI*2,false);if(r!==1){n.restore()}this._fillStroke(n,t)},_fillStroke:function(t,e){var n=e.options;if(n.fill){t.globalAlpha=n.fillOpacity;t.fillStyle=n.fillColor||n.color;t.fill(n.fillRule||"evenodd")}if(n.stroke&&n.weight!==0){if(t.setLineDash){t.setLineDash(e.options&&e.options._dashArray||[])}t.globalAlpha=n.opacity;t.lineWidth=n.weight;t.strokeStyle=n.color;t.lineCap=n.lineCap;t.lineJoin=n.lineJoin;t.stroke()}},_onClick:function(t){var e=this._map.mouseEventToLayerPoint(t),n,i;for(var r=this._drawFirst;r;r=r.next){n=r.layer;if(n.options.interactive&&n._containsPoint(e)&&!this._map._draggableMoved(n)){i=n}}if(i){Ge(t);this._fireEvent([i],t)}},_onMouseMove:function(t){if(!this._map||this._map.dragging.moving()||this._map._animatingZoom){return}var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)},_handleMouseOut:function(t){var e=this._hoveredLayer;if(e){he(this._container,"leaflet-interactive");this._fireEvent([e],t,"mouseout");this._hoveredLayer=null}},_handleMouseHover:function(t,e){var n,i;for(var r=this._drawFirst;r;r=r.next){n=r.layer;if(n.options.interactive&&n._containsPoint(e)){i=n}}if(i!==this._hoveredLayer){this._handleMouseOut(t);if(i){fe(this._container,"leaflet-interactive");this._fireEvent([i],t,"mouseover");this._hoveredLayer=i}}if(this._hoveredLayer){this._fireEvent([this._hoveredLayer],t)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;var n=e.next;var i=e.prev;if(n){n.prev=i}else{return}if(i){i.next=n}else if(n){this._drawFirst=n}e.prev=this._drawLast;this._drawLast.next=e;e.next=null;this._drawLast=e;this._requestRedraw(t)},_bringToBack:function(t){var e=t._order;var n=e.next;var i=e.prev;if(i){i.next=n}else{return}if(n){n.prev=i}else if(i){this._drawLast=i}e.prev=null;e.next=this._drawFirst;this._drawFirst.prev=e;this._drawFirst=e;this._requestRedraw(t)}});function Bi(t){return Ct?new qi(t):null}var zi=function(){try{document.namespaces.add("lvml","urn:schemas-microsoft-com:vml");return function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}();var Fi={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){if(this._map._animatingZoom){return}Ri.prototype._update.call(this);this.fire("update")},_initPath:function(t){var e=t._container=zi("shape");fe(e,"leaflet-vml-shape "+(this.options.className||""));e.coordsize="1 1";t._path=zi("path");e.appendChild(t._path);this._updateStyle(t);this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e);if(t.options.interactive){t.addInteractiveTarget(e)}},_removePath:function(t){var e=t._container;ae(e);t.removeInteractiveTarget(e);delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke;r.filled=!!i.fill;if(i.stroke){if(!e){e=t._stroke=zi("stroke")}r.appendChild(e);e.weight=i.weight+"px";e.color=i.color;e.opacity=i.opacity;if(i.dashArray){e.dashStyle=y(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," ")}else{e.dashStyle=""}e.endcap=i.lineCap.replace("butt","flat");e.joinstyle=i.lineJoin}else if(e){r.removeChild(e);t._stroke=null}if(i.fill){if(!n){n=t._fill=zi("fill")}r.appendChild(n);n.color=i.fillColor||i.color;n.opacity=i.fillOpacity}else if(n){r.removeChild(n);t._fill=null}},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){le(t._container)},_bringToBack:function(t){ue(t._container)}};var Ui=At?zi:Y;var $i=Ri.extend({getEvents:function(){var t=Ri.prototype.getEvents.call(this);t.zoomstart=this._onZoomStart;return t},_initContainer:function(){this._container=Ui("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=Ui("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ae(this._container);De(this._container);delete this._container;delete this._rootGroup;delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(this._map._animatingZoom&&this._bounds){return}Ri.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;if(!this._svgSize||!this._svgSize.equals(e)){this._svgSize=e;n.setAttribute("width",e.x);n.setAttribute("height",e.y)}_e(n,t.min);n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" "));this.fire("update")},_initPath:function(t){var e=t._path=Ui("path");if(t.options.className){fe(e,t.options.className)}if(t.options.interactive){fe(e,"leaflet-interactive")}this._updateStyle(t);this._layers[s(t)]=t},_addPath:function(t){if(!this._rootGroup){this._initContainer()}this._rootGroup.appendChild(t._path);t.addInteractiveTarget(t._path)},_removePath:function(t){ae(t._path);t.removeInteractiveTarget(t._path);delete this._layers[s(t)]},_updatePath:function(t){t._project();t._update()},_updateStyle:function(t){var e=t._path,n=t.options;if(!e){return}if(n.stroke){e.setAttribute("stroke",n.color);e.setAttribute("stroke-opacity",n.opacity);e.setAttribute("stroke-width",n.weight);e.setAttribute("stroke-linecap",n.lineCap);e.setAttribute("stroke-linejoin",n.lineJoin);if(n.dashArray){e.setAttribute("stroke-dasharray",n.dashArray)}else{e.removeAttribute("stroke-dasharray")}if(n.dashOffset){e.setAttribute("stroke-dashoffset",n.dashOffset)}else{e.removeAttribute("stroke-dashoffset")}}else{e.setAttribute("stroke","none")}if(n.fill){e.setAttribute("fill",n.fillColor||n.color);e.setAttribute("fill-opacity",n.fillOpacity);e.setAttribute("fill-rule",n.fillRule||"evenodd")}else{e.setAttribute("fill","none")}},_updatePoly:function(t,e){this._setPath(t,X(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i=Math.max(Math.round(t._radiusY),1)||n,r="a"+n+","+i+" 0 1,0 ";var o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+n*2+",0 "+r+-n*2+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){le(t._path)},_bringToBack:function(t){ue(t._path)}});if(At){$i.include(Fi)}function Hi(t){return Lt||At?new $i(t):null}en.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;if(!e){e=this._renderer=this._createRenderer()}if(!this.hasLayer(e)){this.addLayer(e)}return e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===undefined){return false}var e=this._paneRenderers[t];if(e===undefined){e=this._createRenderer({pane:t});this._paneRenderers[t]=e}return e},_createRenderer:function(t){return this.options.preferCanvas&&Bi(t)||Hi(t)}});var Zi=si.extend({initialize:function(t,e){si.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){t=z(t);return[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Vi(t,e){return new Zi(t,e)}$i.create=Ui;$i.pointsToPath=X;ui.geometryToLayer=ci;ui.coordsToLatLng=fi;ui.coordsToLatLngs=hi;ui.latLngToCoords=di;ui.latLngsToCoords=pi;ui.getFeature=vi;ui.asFeature=mi;en.mergeOptions({boxZoom:true});var Wi=pn.extend({initialize:function(t){this._map=t;this._container=t._container;this._pane=t._panes.overlayPane;this._resetStateTimeout=0;t.on("unload",this._destroy,this)},addHooks:function(){je(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){De(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ae(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=false},_clearDeferredResetState:function(){if(this._resetStateTimeout!==0){clearTimeout(this._resetStateTimeout);this._resetStateTimeout=0}},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1){return false}this._clearDeferredResetState();this._resetState();we();ke();this._startPoint=this._map.mouseEventToContainerPoint(t);je(document,{contextmenu:$e,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){if(!this._moved){this._moved=true;this._box=oe("div","leaflet-zoom-box",this._container);fe(this._container,"leaflet-crosshair");this._map.fire("boxzoomstart")}this._point=this._map.mouseEventToContainerPoint(t);var e=new R(this._point,this._startPoint),n=e.getSize();_e(this._box,e.min);this._box.style.width=n.x+"px";this._box.style.height=n.y+"px"},_finish:function(){if(this._moved){ae(this._box);he(this._container,"leaflet-crosshair")}xe();Te();De(document,{contextmenu:$e,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(t.which!==1&&t.button!==1){return}this._finish();if(!this._moved){return}this._clearDeferredResetState();this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var e=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})},_onKeyDown:function(t){if(t.keyCode===27){this._finish()}}});en.addInitHook("addHandler","boxZoom",Wi);en.mergeOptions({doubleClickZoom:true});var Gi=pn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;if(e.options.doubleClickZoom==="center"){e.setZoom(r)}else{e.setZoomAround(t.containerPoint,r)}}});en.addInitHook("addHandler","doubleClickZoom",Gi);en.mergeOptions({dragging:true,inertia:!rt,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:.2,worldCopyJump:false,maxBoundsViscosity:0});var Ki=pn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new _n(t._mapPane,t._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);this._draggable.on("predrag",this._onPreDragLimit,this);if(t.options.worldCopyJump){this._draggable.on("predrag",this._onPreDragWrap,this);t.on("zoomend",this._onZoomEnd,this);t.whenReady(this._onZoomEnd,this)}}fe(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){he(this._map._container,"leaflet-grab");he(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;t._stop();if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=z(this._map.options.maxBounds);this._offsetLimit=q(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else{this._offsetLimit=null}t.fire("movestart").fire("dragstart");if(t.options.inertia){this._positions=[];this._times=[]}},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n);this._times.push(e);this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){while(this._positions.length>1&&t-this._times[0]>50){this._positions.shift();this._times.shift()}},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!this._viscosity||!this._offsetLimit){return}var t=this._draggable._newPos.subtract(this._draggable._startPos);var e=this._offsetLimit;if(t.x<e.min.x){t.x=this._viscousLimit(t.x,e.min.x)}if(t.y<e.min.y){t.y=this._viscousLimit(t.y,e.min.y)}if(t.x>e.max.x){t.x=this._viscousLimit(t.x,e.max.x)}if(t.y>e.max.y){t.y=this._viscousLimit(t.y,e.max.y)}this._draggable._newPos=this._draggable._startPos.add(t)},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,a=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;e.fire("dragend",t);if(i){e.fire("moveend")}else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=r.multiplyBy(a/o),l=s.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=s.multiplyBy(u/l),f=u/(n.inertiaDeceleration*a),h=c.multiplyBy(-f/2).round();if(!h.x&&!h.y){e.fire("moveend")}else{h=e._limitOffset(h,e.options.maxBounds);T(function(){e.panBy(h,{duration:f,easeLinearity:a,noMoveStart:true,animate:true})})}}}});en.addInitHook("addHandler","dragging",Ki);en.mergeOptions({keyboard:true,keyboardPanDelta:80});var Yi=pn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t;this._setPanDelta(t.options.keyboardPanDelta);this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;if(t.tabIndex<=0){t.tabIndex="0"}je(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();De(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(this._focused){return}var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus();window.scrollTo(i,n)},_onFocus:function(){this._focused=true;this._map.fire("focus")},_onBlur:function(){this._focused=false;this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},n=this.keyCodes,i,r;for(i=0,r=n.left.length;i<r;i++){e[n.left[i]]=[-1*t,0]}for(i=0,r=n.right.length;i<r;i++){e[n.right[i]]=[t,0]}for(i=0,r=n.down.length;i<r;i++){e[n.down[i]]=[0,t]}for(i=0,r=n.up.length;i<r;i++){e[n.up[i]]=[0,-1*t]}},_setZoomDelta:function(t){var e=this._zoomKeys={},n=this.keyCodes,i,r;for(i=0,r=n.zoomIn.length;i<r;i++){e[n.zoomIn[i]]=t}for(i=0,r=n.zoomOut.length;i<r;i++){e[n.zoomOut[i]]=-t}},_addHooks:function(){je(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){De(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(t.altKey||t.ctrlKey||t.metaKey){return}var e=t.keyCode,n=this._map,i;if(e in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress){i=this._panKeys[e];if(t.shiftKey){i=D(i).multiplyBy(3)}n.panBy(i);if(n.options.maxBounds){n.panInsideBounds(n.options.maxBounds)}}}else if(e in this._zoomKeys){n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e])}else if(e===27&&n._popup&&n._popup.options.closeOnEscapeKey){n.closePopup()}else{return}$e(t)}});en.addInitHook("addHandler","keyboard",Yi);en.mergeOptions({scrollWheelZoom:true,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Xi=pn.extend({addHooks:function(){je(this._map._container,"mousewheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){De(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Ve(t);var n=this._map.options.wheelDebounceTime;this._delta+=e;this._lastMousePos=this._map.mouseEventToContainerPoint(t);if(!this._startTime){this._startTime=+new Date}var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(o(this._performZoom,this),i);$e(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(this._map.options.wheelPxPerZoomLevel*4),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,a=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0;this._startTime=null;if(!a){return}if(t.options.scrollWheelZoom==="center"){t.setZoom(e+a)}else{t.setZoomAround(this._lastMousePos,e+a)}}});en.addInitHook("addHandler","scrollWheelZoom",Xi);en.mergeOptions({tap:true,tapTolerance:15});var Ji=pn.extend({addHooks:function(){je(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){De(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(!t.touches){return}Ue(t);this._fireClick=true;if(t.touches.length>1){this._fireClick=false;clearTimeout(this._holdTimeout);return}var e=t.touches[0],n=e.target;this._startPos=this._newPos=new j(e.clientX,e.clientY);if(n.tagName&&n.tagName.toLowerCase()==="a"){fe(n,"leaflet-active")}this._holdTimeout=setTimeout(o(function(){if(this._isTapValid()){this._fireClick=false;this._onUp();this._simulateEvent("contextmenu",e)}},this),1e3);this._simulateEvent("mousedown",e);je(document,{touchmove:this._onMove,touchend:this._onUp},this)},_onUp:function(t){clearTimeout(this._holdTimeout);De(document,{touchmove:this._onMove,touchend:this._onUp},this);if(this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;if(n&&n.tagName&&n.tagName.toLowerCase()==="a"){he(n,"leaflet-active")}this._simulateEvent("mouseup",e);if(this._isTapValid()){this._simulateEvent("click",e)}}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new j(e.clientX,e.clientY);this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=true;e.target._simulatedClick=true;n.initMouseEvent(t,true,true,window,1,e.screenX,e.screenY,e.clientX,e.clientY,false,false,false,false,0,null);e.target.dispatchEvent(n)}});if(Et&&!xt){en.addInitHook("addHandler","tap",Ji)}en.mergeOptions({touchZoom:Et&&!rt,bounceAtZoomLimits:true});var Qi=pn.extend({addHooks:function(){fe(this._map._container,"leaflet-touch-zoom");je(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){he(this._map._container,"leaflet-touch-zoom");De(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming){return}var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2);this._startLatLng=e.containerPointToLatLng(this._centerPoint);if(e.options.touchZoom!=="center"){this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))}this._startDist=n.distanceTo(i);this._startZoom=e.getZoom();this._moved=false;this._zooming=true;e._stop();je(document,"touchmove",this._onTouchMove,this);je(document,"touchend",this._onTouchEnd,this);Ue(t)},_onTouchMove:function(t){if(!t.touches||t.touches.length!==2||!this._zooming){return}var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),r=n.distanceTo(i)/this._startDist;this._zoom=e.getScaleZoom(r,this._startZoom);if(!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)){this._zoom=e._limitZoom(this._zoom)}if(e.options.touchZoom==="center"){this._center=this._startLatLng;if(r===1){return}}else{var a=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(r===1&&a.x===0&&a.y===0){return}this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}if(!this._moved){e._moveStart(true,false);this._moved=true}C(this._animRequest);var s=o(e._move,e,this._center,this._zoom,{pinch:true,round:false});this._animRequest=T(s,this,true);Ue(t)},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=false;return}this._zooming=false;C(this._animRequest);De(document,"touchmove",this._onTouchMove);De(document,"touchend",this._onTouchEnd);if(this._map.options.zoomAnimation){this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),true,this._map.options.zoomSnap)}else{this._map._resetView(this._center,this._map._limitZoom(this._zoom))}}});en.addInitHook("addHandler","touchZoom",Qi);en.BoxZoom=Wi;en.DoubleClickZoom=Gi;en.Drag=Ki;en.Keyboard=Yi;en.ScrollWheelZoom=Xi;en.Tap=Ji;en.TouchZoom=Qi;Object.freeze=n;t.version=e;t.Control=rn;t.control=on;t.Browser=Pt;t.Evented=M;t.Mixin=vn;t.Util=A;t.Class=S;t.Handler=pn;t.extend=i;t.bind=o;t.stamp=s;t.setOptions=p;t.DomEvent=Qe;t.DomUtil=Me;t.PosAnimation=tn;t.Draggable=_n;t.LineUtil=jn;t.PolyUtil=Dn;t.Point=j;t.point=D;t.Bounds=R;t.bounds=q;t.Transformation=V;t.transformation=W;t.Projection=Bn;t.LatLng=F;t.latLng=U;t.LatLngBounds=B;t.latLngBounds=z;t.CRS=$;t.GeoJSON=ui;t.geoJSON=yi;t.geoJson=_i;t.Layer=$n;t.LayerGroup=Hn;t.layerGroup=Zn;t.FeatureGroup=Vn;t.featureGroup=Wn;t.ImageOverlay=bi;t.imageOverlay=wi;t.VideoOverlay=xi;t.videoOverlay=Ei;t.DivOverlay=Oi;t.Popup=ki;t.popup=Ti;t.Tooltip=Ci;t.tooltip=Li;t.Icon=Gn;t.icon=Kn;t.DivIcon=Ai;t.divIcon=Si;t.Marker=Jn;t.marker=Qn;t.TileLayer=Mi;t.tileLayer=ji;t.GridLayer=Pi;t.gridLayer=Ni;t.SVG=$i;t.svg=Hi;t.Renderer=Ri;t.Canvas=qi;t.canvas=Bi;t.Path=ti;t.CircleMarker=ei;t.circleMarker=ni;t.Circle=ii;t.circle=ri;t.Polyline=oi;t.polyline=ai;t.Polygon=si;t.polygon=li;t.Rectangle=Zi;t.rectangle=Vi;t.Map=en;t.map=nn;var tr=window.L;t.noConflict=function(){window.L=tr;return this};window.L=t})},function(t,e,n){"use strict";(function(e){var i=n(0);var r=n(18);var o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){if(!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])){t["Content-Type"]=e}}function s(){var t;if(typeof XMLHttpRequest!=="undefined"){t=n(5)}else if(typeof e!=="undefined"){t=n(5)}return t}var l={adapter:s(),transformRequest:[function t(e,n){r(n,"Content-Type");if(i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)){return e}if(i.isArrayBufferView(e)){return e.buffer}if(i.isURLSearchParams(e)){a(n,"application/x-www-form-urlencoded;charset=utf-8");return e.toString()}if(i.isObject(e)){a(n,"application/json;charset=utf-8");return JSON.stringify(e)}return e}],transformResponse:[function t(e){if(typeof e==="string"){try{e=JSON.parse(e)}catch(t){}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function t(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}};i.forEach(["delete","get","head"],function t(e){l.headers[e]={}});i.forEach(["post","put","patch"],function t(e){l.headers[e]=i.merge(o)});t.exports=l}).call(this,n(17))},function(t,e,n){t.exports=n(14)},function(t,e,n){"use strict";t.exports=function t(e,n){return function t(){var i=new Array(arguments.length);for(var r=0;r<i.length;r++){i[r]=arguments[r]}return e.apply(n,i)}}},function(t,e,n){"use strict";var i=n(0);var r=n(19);var o=n(21);var a=n(22);var s=n(23);var l=n(6);var u=typeof window!=="undefined"&&window.btoa&&window.btoa.bind(window)||n(24);t.exports=function t(e){return new Promise(function t(c,f){var h=e.data;var d=e.headers;if(i.isFormData(h)){delete d["Content-Type"]}var p=new XMLHttpRequest;var v="onreadystatechange";var m=false;if("production"!=="test"&&typeof window!=="undefined"&&window.XDomainRequest&&!("withCredentials"in p)&&!s(e.url)){p=new window.XDomainRequest;v="onload";m=true;p.onprogress=function t(){};p.ontimeout=function t(){}}if(e.auth){var g=e.auth.username||"";var y=e.auth.password||"";d.Authorization="Basic "+u(g+":"+y)}p.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),true);p.timeout=e.timeout;p[v]=function t(){if(!p||p.readyState!==4&&!m){return}if(p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)){return}var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null;var i=!e.responseType||e.responseType==="text"?p.responseText:p.response;var o={data:i,status:p.status===1223?204:p.status,statusText:p.status===1223?"No Content":p.statusText,headers:n,config:e,request:p};r(c,f,o);p=null};p.onerror=function t(){f(l("Network Error",e,null,p));p=null};p.ontimeout=function t(){f(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p));p=null};if(i.isStandardBrowserEnv()){var _=n(25);var b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?_.read(e.xsrfCookieName):undefined;if(b){d[e.xsrfHeaderName]=b}}if("setRequestHeader"in p){i.forEach(d,function t(e,n){if(typeof h==="undefined"&&n.toLowerCase()==="content-type"){delete d[n]}else{p.setRequestHeader(n,e)}})}if(e.withCredentials){p.withCredentials=true}if(e.responseType){try{p.responseType=e.responseType}catch(t){if(e.responseType!=="json"){throw t}}}if(typeof e.onDownloadProgress==="function"){p.addEventListener("progress",e.onDownloadProgress)}if(typeof e.onUploadProgress==="function"&&p.upload){p.upload.addEventListener("progress",e.onUploadProgress)}if(e.cancelToken){e.cancelToken.promise.then(function t(e){if(!p){return}p.abort();f(e);p=null})}if(h===undefined){h=null}p.send(h)})}},function(t,e,n){"use strict";var i=n(20);t.exports=function t(e,n,r,o,a){var s=new Error(e);return i(s,n,r,o,a)}},function(t,e,n){"use strict";t.exports=function t(e){return!!(e&&e.__CANCEL__)}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function t(){return"Cancel"+(this.message?": "+this.message:"")};i.prototype.__CANCEL__=true;t.exports=i},function(t,e,n){"use strict";var i=s(n(1));n(10);n(11);n(12);var r=s(n(13));var o=s(n(33));var a=s(n(34));n(35);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}function c(t,e,n){if(e)u(t.prototype,e);if(n)u(t,n);return t}var f=function(){function t(e,n,r){var o=this;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;l(this,t);this.callbacks=n;this.map_id=e;this.auth_header=null;this.must_be_saved=false;this.enable_edition=a;this.erasing=false;this.showing=false;this.tooltipOptions=r;this.editableLayers=new i.default.FeatureGroup;if(!this.callbacks.loadManifest||!this.callbacks.loadDefaultAnnotationType){console.log("Liiiflet callbacks are improperly configured");return}this.callbacks.loadDefaultAnnotationType().then(function(e){o.default_zone_type=e;o.callbacks.loadManifest().then(function(e){o.canvases_data=e.sequences[0].canvases;o.displayMap(0);if(o.enable_edition){t.disableShowingMode()}else{o.showing=false;o.hideShapes()}})})}c(t,[{key:"handleAPIErrors",value:function t(e){var n=JSON.stringify(e.errors);if(e.errors){this.error=n;throw new Error(n)}}},{key:"mapCreate",value:function e(n,o){this.map=i.default.map(this.map_id,{center:[0,0],crs:i.default.CRS.Simple,zoom:0,zoomControl:false,editable:this.enable_edition});this.map.doubleClickZoom.disable();var a=this.canvases_data[n].images[o].resource.service["@id"]+"/info.json";this.baseLayer=(0,r.default)(a);this.baseLayer.addTo(this.map);this.clearAnnotations();this.map.addLayer(this.editableLayers);this.canvases=[];this.images=[];var s=true;var l=false;var u=undefined;try{for(var c=this.canvases_data[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;this.canvases.push(h["@id"]);this.images.push(h.images[0].resource["@id"])}}catch(t){l=true;u=t}finally{try{if(!s&&c.return!=null){c.return()}}finally{if(l){throw u}}}var d=this;this.map.on("editable:editing",function(){d.must_be_saved=true});this.map.on("editable:created",function(t){d.editableLayers.addLayer(t.layer);d.must_be_saved=true;t.layer.on("click",i.default.DomEvent.stop).on("click",function(){d.onShapeClick(t.layer)})});this.map.on("editable:drawing:commit",function(e){t.unselectDrawingTools()});if(this.canvases.length>1){this.addPaginationControls()}if(this.enable_edition){this.addDrawControls()}}},{key:"displayMap",value:function t(e){this.current_canvas_idx=e;this.current_img_idx=0;if(!this.map){this.mapCreate(this.current_canvas_idx,this.current_img_idx)}else{var n=this.canvases_data[e].images[this.current_img_idx].resource.service["@id"]+"/info.json";this.map.removeLayer(this.baseLayer);this.baseLayer=(0,r.default)(n);this.baseLayer.addTo(this.map);this.editableLayers.clearLayers();this.map.addLayer(this.editableLayers)}this.clearAnnotations();this.annotationsLoader=a.default.initialize(this.canvases_data[this.current_canvas_idx],this.callbacks.loadAnnotations);o.default.initialize(this.map,this.editableLayers,this.default_zone_type,this.tooltipOptions);return this.setDisplayMode()}},{key:"addPaginationControls",value:function e(){var n="";var r=1;var o=true;var a=false;var s=undefined;try{for(var l=this.images[Symbol.iterator](),u;!(o=(u=l.next()).done);o=true){var c=u.value;var f=c.replace("full/full","full/,80");n+='<div class="iiif-thumbnail '+(this.current_canvas_idx+1===r?"selected-page":"")+'">';n+='<img src="'+f+'"/><div>'+r+"</div>";n+='<input type="hidden" value="'+(r-1)+'"/></div>';r+=1}}catch(t){a=true;s=t}finally{try{if(!o&&l.return!=null){l.return()}}finally{if(a){throw s}}}var h=this;function d(e){if(e.target.tagName==="IMG"){var n=e.target.parentNode;var i=parseInt(n.getElementsByTagName("input")[0].value);h.displayMap(i);var r=true;var o=false;var a=undefined;try{for(var s=document.getElementsByClassName("iiif-thumbnail")[Symbol.iterator](),l;!(r=(l=s.next()).done);r=true){var u=l.value;u.classList.remove("selected-page")}}catch(t){o=true;a=t}finally{try{if(!r&&s.return!=null){s.return()}}finally{if(o){throw a}}}n.classList.add("selected-page");if(h.enable_edition){t.disableErasingMode();t.unselectDrawingTools()}}}i.default.control.custom({id:"facsimile-pagination-control",position:"bottomleft",content:'<div class="facsimile-pagination">'+n+"</div>",classes:"",style:{padding:"0px 0 0 0",cursor:"pointer"},events:{click:function t(e){return d(e)}}}).addTo(this.map)}},{key:"createDrawControls",value:function e(){console.log("create draw controls");var n=i.default.DomUtil.create("div","leaflet-control leaflet-bar drawing-tools-bar");var r=i.default.DomUtil.create("div","leaflet-control leaflet-bar workflow-tools-bar");var s=this;i.default.DomEvent.disableClickPropagation(n);i.default.DomEvent.disableClickPropagation(r);var l=function e(n){return function(e,i){if(s.map.editTools.drawing()){this.map.editTools.stopDrawing()}else{t.enableShowingMode();t.disableErasingMode();n.bind(this.map.editTools)(e,i)}}};i.default.EditControl=i.default.Control.extend({options:{position:"topright",callback:null,kind:"",title:"",classes:""},onAdd:function e(r){var o=i.default.DomUtil.create("a","",n),a=i.default.DomUtil.create("a","",o);o.href="#";o.title=this.options.title;i.default.DomUtil.addClass(a,"fas fa-save fa-lg");var l=true;var u=false;var c=undefined;try{for(var f=this.options.classes[Symbol.iterator](),h;!(l=(h=f.next()).done);l=true){var d=h.value;i.default.DomUtil.addClass(a,d)}}catch(t){u=true;c=t}finally{try{if(!l&&f.return!=null){f.return()}}finally{if(u){throw c}}}i.default.DomEvent.on(o,"click",i.default.DomEvent.stop).on(o,"click",function(){s.erasing=false;window.LAYER=this.options.callback.call(r.editTools);var e=i.default.DomUtil.hasClass(o,"tool-enabled");t.unselectDrawingTools();if(e){i.default.DomUtil.removeClass(o,"tool-enabled");i.default.DomUtil.addClass(o,"tool-disabled")}else{i.default.DomUtil.removeClass(o,"tool-disabled");i.default.DomUtil.addClass(o,"tool-enabled")}},this);return n}});i.default.NewPolygonControl=i.default.EditControl.extend({options:{callback:l(this.map.editTools.startPolygon),title:"Ajouter un polygone",classes:["leaflet-iiifmap-toolbar","leaflet-iiifmap-toolbar-polygon","fas","fa-draw-polygon"]}});i.default.NewRectangleControl=i.default.EditControl.extend({options:{callback:l(this.map.editTools.startRectangle),title:"Ajouter un rectangle",classes:["leaflet-iiifmap-toolbar","leaflet-iiifmap-toolbar-rectangle","fas","fa-square-full"]}});i.default.NewCircleControl=i.default.EditControl.extend({options:{callback:l(this.map.editTools.startCircle),title:"Ajouter un cercle",classes:["leaflet-iiifmap-toolbar","leaflet-iiifmap-toolbar-circle","fas","fa-circle"]}});i.default.ShowingModeControl=i.default.Control.extend({onAdd:function e(n){var o=i.default.DomUtil.create("a","",r),a=i.default.DomUtil.create("a","",o);o.href="#";o.title="Afficher les zones";t.enableShowingMode=function(){s.showing=true;t.showShapes();i.default.DomUtil.addClass(o,"tool-enabled");i.default.DomUtil.removeClass(o,"tool-disabled")};t.disableShowingMode=function(){t.disableErasingMode();s.showing=false;s.hideShapes();i.default.DomUtil.addClass(o,"tool-disabled");i.default.DomUtil.removeClass(o,"tool-enabled")};s.toggleShowingMode=function(){s.showing=!s.showing;t.unselectDrawingTools();if(s.showing){t.enableShowingMode()}else{t.disableShowingMode()}};i.default.DomUtil.addClass(a,"fas fa-eye fa-lg workflow-tool");i.default.DomEvent.on(o,"click",i.default.DomEvent.stop).on(o,"click",s.toggleShowingMode,this);return r}});i.default.ErasingModeControl=i.default.Control.extend({onAdd:function e(n){var o=i.default.DomUtil.create("a","",r),a=i.default.DomUtil.create("a","",o);o.href="#";o.title="Supprimer une zone";i.default.DomUtil.addClass(o,"tool-disabled");i.default.DomUtil.addClass(a,"fas fa-eraser fa-lg workflow-tool");t.disableErasingMode=function(){s.erasing=false;i.default.DomUtil.addClass(o,"tool-disabled");i.default.DomUtil.removeClass(o,"tool-enabled")};t.enableErasingMode=function(){s.erasing=true;s.editableLayers.eachLayer(function(t){t.disableEdit()});t.enableShowingMode();i.default.DomUtil.removeClass(o,"tool-disabled");i.default.DomUtil.addClass(o,"tool-enabled")};s.toggleErasingMode=function(){t.unselectDrawingTools();s.erasing=!s.erasing;if(s.erasing){t.enableErasingMode()}else{t.disableErasingMode()}};i.default.DomEvent.on(o,"click",i.default.DomEvent.stop).on(o,"click",s.toggleErasingMode,this);return r}});i.default.SaveAllControl=i.default.Control.extend({onAdd:function t(e){var n=i.default.DomUtil.create("a","",r),o=i.default.DomUtil.create("a","",n);n.href="#";n.title="Sauvegarder";i.default.DomUtil.addClass(o,"fas fa-save fa-lg workflow-tool");i.default.DomEvent.on(n,"click",i.default.DomEvent.stop).on(n,"click",function(){if(s.must_be_saved){s.saveAll().then(function(){s.editableLayers.eachLayer(function(t){t.disableEdit();s.must_be_saved=false},this)})}else{s.editableLayers.eachLayer(function(t){t.disableEdit()})}},this);return r}});i.default.ReloadControl=i.default.Control.extend({onAdd:function e(n){var l=i.default.DomUtil.create("a","",r),u=i.default.DomUtil.create("a","",l);l.href="#";l.title="Annuler les changements apports";i.default.DomUtil.addClass(u,"fas fa-undo fa-lg workflow-tool");i.default.DomEvent.on(l,"click",i.default.DomEvent.stop).on(l,"dbclick",i.default.DomEvent.stop).on(l,"click",function(){console.log("reload annotations");var e=s.showing;t.unselectDrawingTools();t.disableErasingMode();s.clearAnnotations();s.annotationsLoader=a.default.initialize(s.canvases_data[s.current_canvas_idx],s.callbacks.loadAnnotations);o.default.initialize(s.map,s.editableLayers,s.default_zone_type,s.tooltipOptions);s.setAnnotations().then(function(){if(e){t.enableShowingMode()}})},this);return r}});this.mapControls=[new i.default.ShowingModeControl,new i.default.NewPolygonControl,new i.default.NewRectangleControl,new i.default.NewCircleControl,new i.default.ErasingModeControl,new i.default.SaveAllControl,new i.default.ReloadControl]}},{key:"addDrawControls",value:function t(){this.createDrawControls();var e=true;var n=false;var i=undefined;try{for(var r=this.mapControls[Symbol.iterator](),o;!(e=(o=r.next()).done);e=true){var a=o.value;this.map.addControl(a)}}catch(t){n=true;i=t}finally{try{if(!e&&r.return!=null){r.return()}}finally{if(n){throw i}}}}},{key:"removeDrawControls",value:function t(){var e=true;var n=false;var i=undefined;try{for(var r=this.mapControls[Symbol.iterator](),o;!(e=(o=r.next()).done);e=true){var a=o.value;this.map.removeControl(a)}}catch(t){n=true;i=t}finally{try{if(!e&&r.return!=null){r.return()}}finally{if(n){throw i}}}this.mapControls=[]}},{key:"saveZones",value:function t(e){if(!this.enable_edition){return}if(!this.callbacks.saveAnnotations){console.log("Liiiflet 'saveAnnotations' callback improperly configured");return}var n=[];var i=true;var r=false;var o=undefined;try{for(var a=e[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){var l=s.value;var u={img_idx:this.current_img_idx,canvas_idx:this.current_canvas_idx,coords:l.region.coords,content:l.content?l.content:"",zone_type_id:l.annotation_type.id};n.push(u)}}catch(t){r=true;o=t}finally{try{if(!i&&a.return!=null){a.return()}}finally{if(r){throw o}}}return this.callbacks.saveAnnotations(n)}},{key:"saveAlignments",value:function t(e){if(!this.enable_edition){return}if(!this.callbacks.saveAnnotationAlignments){console.log("Liiiflet 'saveAnnotationAlignments' callback improperly configured");return}return this.callbacks.saveAnnotationAlignments(e)}},{key:"getCurrentCanevasId",value:function t(){return this.canvases[this.current_canvas_idx]}},{key:"getCurrentImageId",value:function t(){return this.images[this.current_img_idx]}},{key:"saveAll",value:function t(){var e=this;var n=o.default.getAnnotations(this.getCurrentCanevasId(),this.getCurrentImageId());console.log("save: ",this.getCurrentCanevasId(),this.getCurrentImageId());return this.saveZones(n).then(function(t){console.log(t);e.handleAPIErrors(t);return e.saveAlignments(n)}).then(function(t){console.log(t);e.handleAPIErrors(t);return true})}},{key:"setAnnotations",value:function e(){console.log("set annotations");var n=this;return this.annotationsLoader.then(function(){o.default.setAnnotations(a.default.annotationLists);n.editableLayers.eachLayer(function(t){t.on("click",i.default.DomEvent.stop).on("click",function(){n.onShapeClick(t)})});n.must_be_saved=false;if(!n.showing){if(n.enable_edition){t.disableShowingMode()}else{n.showing=false;n.hideShapes()}}})}},{key:"clearAnnotations",value:function t(){console.log("clear annotations");var e=this;return new Promise(function(t,n){e.editableLayers.clearLayers();t()})}},{key:"setDisplayMode",value:function t(){if(this.displayAnnotationsMode){return this.setAnnotations()}else{return this.clearAnnotations()}}},{key:"onShapeClick",value:function t(e){if(this.enable_edition){if(this.erasing){this.editableLayers.removeLayer(e);this.must_be_saved=true}else{if(this.showing){e.toggleEdit()}}}}},{key:"displayAnnotationsMode",value:function t(){if(this.displayAnnotationsMode){this.setAnnotations()}else{this.clearAnnotations()}}},{key:"hideShapes",value:function t(){var e=true;var n=false;var i=undefined;try{for(var r=document.getElementsByClassName("leaflet-interactive")[Symbol.iterator](),o;!(e=(o=r.next()).done);e=true){var a=o.value;a.style.opacity=0;a.style.cursor="pointer";a.onmouseover=function(){this.style.opacity=0};a.onmouseout=function(){this.style.opacity=0}}}catch(t){n=true;i=t}finally{try{if(!e&&r.return!=null){r.return()}}finally{if(n){throw i}}}this.editableLayers.eachLayer(function(t){t.disableEdit()})}}],[{key:"unselectDrawingTools",value:function t(){var e=true;var n=false;var i=undefined;try{for(var r=document.getElementsByClassName("drawing-tools-bar")[Symbol.iterator](),o;!(e=(o=r.next()).done);e=true){var a=o.value;var s=true;var l=false;var u=undefined;try{for(var c=a.getElementsByTagName("a")[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;h.classList.remove("tool-enabled");h.classList.add("tool-disabled")}}catch(t){l=true;u=t}finally{try{if(!s&&c.return!=null){c.return()}}finally{if(l){throw u}}}}}catch(t){n=true;i=t}finally{try{if(!e&&r.return!=null){r.return()}}finally{if(n){throw i}}}}},{key:"showShapes",value:function t(){var e=true;var n=false;var i=undefined;try{for(var r=document.getElementsByClassName("leaflet-interactive")[Symbol.iterator](),o;!(e=(o=r.next()).done);e=true){var a=o.value;a.style.opacity=100;a.style.cursor="pointer";a.onmouseover=null;a.onmouseout=null}}catch(t){n=true;i=t}finally{try{if(!e&&r.return!=null){r.return()}}finally{if(n){throw i}}}}}]);return t}();window.Liiiflet=f},function(t,e,n){"use strict";var i,r,o;function a(t){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){a=function t(e){return typeof e}}else{a=function t(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return a(t)}(function(a,s){if(true){!(r=[n(1)],i=a,o=typeof i==="function"?i.apply(e,r):i,o!==undefined&&(t.exports=o))}else{}if(typeof s!=="undefined"&&s.L){a(s.L)}})(function(t){t.Editable=t.Evented.extend({statics:{FORWARD:1,BACKWARD:-1},options:{zIndex:1e3,polygonClass:t.Polygon,polylineClass:t.Polyline,markerClass:t.Marker,rectangleClass:t.Rectangle,circleClass:t.Circle,drawingCSSClass:"leaflet-editable-drawing",drawingCursor:"crosshair",editLayer:undefined,featuresLayer:undefined,polylineEditorClass:undefined,polygonEditorClass:undefined,markerEditorClass:undefined,rectangleEditorClass:undefined,circleEditorClass:undefined,lineGuideOptions:{},skipMiddleMarkers:false},initialize:function e(n,i){t.setOptions(this,i);this._lastZIndex=this.options.zIndex;this.map=n;this.editLayer=this.createEditLayer();this.featuresLayer=this.createFeaturesLayer();this.forwardLineGuide=this.createLineGuide();this.backwardLineGuide=this.createLineGuide()},fireAndForward:function t(e,n){n=n||{};n.editTools=this;this.fire(e,n);this.map.fire(e,n)},createLineGuide:function e(){var n=t.extend({dashArray:"5,10",weight:1,interactive:false},this.options.lineGuideOptions);return t.polyline([],n)},createVertexIcon:function e(n){return t.Browser.mobile&&t.Browser.touch?new t.Editable.TouchVertexIcon(n):new t.Editable.VertexIcon(n)},createEditLayer:function e(){return this.options.editLayer||(new t.LayerGroup).addTo(this.map)},createFeaturesLayer:function e(){return this.options.featuresLayer||(new t.LayerGroup).addTo(this.map)},moveForwardLineGuide:function t(e){if(this.forwardLineGuide._latlngs.length){this.forwardLineGuide._latlngs[1]=e;this.forwardLineGuide._bounds.extend(e);this.forwardLineGuide.redraw()}},moveBackwardLineGuide:function t(e){if(this.backwardLineGuide._latlngs.length){this.backwardLineGuide._latlngs[1]=e;this.backwardLineGuide._bounds.extend(e);this.backwardLineGuide.redraw()}},anchorForwardLineGuide:function t(e){this.forwardLineGuide._latlngs[0]=e;this.forwardLineGuide._bounds.extend(e);this.forwardLineGuide.redraw()},anchorBackwardLineGuide:function t(e){this.backwardLineGuide._latlngs[0]=e;this.backwardLineGuide._bounds.extend(e);this.backwardLineGuide.redraw()},attachForwardLineGuide:function t(){this.editLayer.addLayer(this.forwardLineGuide)},attachBackwardLineGuide:function t(){this.editLayer.addLayer(this.backwardLineGuide)},detachForwardLineGuide:function t(){this.forwardLineGuide.setLatLngs([]);this.editLayer.removeLayer(this.forwardLineGuide)},detachBackwardLineGuide:function t(){this.backwardLineGuide.setLatLngs([]);this.editLayer.removeLayer(this.backwardLineGuide)},blockEvents:function t(){if(!this._oldTargets){this._oldTargets=this.map._targets;this.map._targets={}}},unblockEvents:function e(){if(this._oldTargets){this.map._targets=t.extend(this.map._targets,this._oldTargets);delete this._oldTargets}},registerForDrawing:function e(n){if(this._drawingEditor)this.unregisterForDrawing(this._drawingEditor);this.blockEvents();n.reset();this._drawingEditor=n;this.map.on("mousemove touchmove",n.onDrawingMouseMove,n);this.map.on("mousedown",this.onMousedown,this);this.map.on("mouseup",this.onMouseup,this);t.DomUtil.addClass(this.map._container,this.options.drawingCSSClass);this.defaultMapCursor=this.map._container.style.cursor;this.map._container.style.cursor=this.options.drawingCursor},unregisterForDrawing:function e(n){this.unblockEvents();t.DomUtil.removeClass(this.map._container,this.options.drawingCSSClass);this.map._container.style.cursor=this.defaultMapCursor;n=n||this._drawingEditor;if(!n)return;this.map.off("mousemove touchmove",n.onDrawingMouseMove,n);this.map.off("mousedown",this.onMousedown,this);this.map.off("mouseup",this.onMouseup,this);if(n!==this._drawingEditor)return;delete this._drawingEditor;if(n._drawing)n.cancelDrawing()},onMousedown:function t(e){this._mouseDown=e;this._drawingEditor.onDrawingMouseDown(e)},onMouseup:function e(n){if(this._mouseDown){var i=this._drawingEditor,r=this._mouseDown;this._mouseDown=null;i.onDrawingMouseUp(n);if(this._drawingEditor!==i)return;var o=t.point(r.originalEvent.clientX,r.originalEvent.clientY);var a=t.point(n.originalEvent.clientX,n.originalEvent.clientY).distanceTo(o);if(Math.abs(a)<9*(window.devicePixelRatio||1))this._drawingEditor.onDrawingClick(n)}},drawing:function t(){return this._drawingEditor&&this._drawingEditor.drawing()},stopDrawing:function t(){this.unregisterForDrawing()},commitDrawing:function t(e){if(!this._drawingEditor)return;this._drawingEditor.commitDrawing(e)},connectCreatedToMap:function t(e){return this.featuresLayer.addLayer(e)},startPolyline:function t(e,n){var i=this.createPolyline([],n);i.enableEdit(this.map).newShape(e);return i},startPolygon:function t(e,n){var i=this.createPolygon([],n);i.enableEdit(this.map).newShape(e);return i},startMarker:function t(e,n){e=e||this.map.getCenter().clone();var i=this.createMarker(e,n);i.enableEdit(this.map).startDrawing();return i},startRectangle:function e(n,i){var r=n||t.latLng([0,0]);var o=new t.LatLngBounds(r,r);var a=this.createRectangle(o,i);a.enableEdit(this.map).startDrawing();return a},startCircle:function t(e,n){e=e||this.map.getCenter().clone();var i=this.createCircle(e,n);i.enableEdit(this.map).startDrawing();return i},startHole:function t(e,n){e.newHole(n)},createLayer:function e(n,i,r){r=t.Util.extend({editOptions:{editTools:this}},r);var o=new n(i,r);this.fireAndForward("editable:created",{layer:o});return o},createPolyline:function t(e,n){return this.createLayer(n&&n.polylineClass||this.options.polylineClass,e,n)},createPolygon:function t(e,n){return this.createLayer(n&&n.polygonClass||this.options.polygonClass,e,n)},createMarker:function t(e,n){return this.createLayer(n&&n.markerClass||this.options.markerClass,e,n)},createRectangle:function t(e,n){return this.createLayer(n&&n.rectangleClass||this.options.rectangleClass,e,n)},createCircle:function t(e,n){return this.createLayer(n&&n.circleClass||this.options.circleClass,e,n)}});t.extend(t.Editable,{makeCancellable:function t(e){e.cancel=function(){e._cancelled=true}}});t.Map.mergeOptions({editToolsClass:t.Editable,editable:false,editOptions:{}});t.Map.addInitHook(function(){this.whenReady(function(){if(this.options.editable){this.editTools=new this.options.editToolsClass(this,this.options.editOptions)}})});t.Editable.VertexIcon=t.DivIcon.extend({options:{iconSize:new t.Point(8,8)}});t.Editable.TouchVertexIcon=t.Editable.VertexIcon.extend({options:{iconSize:new t.Point(20,20)}});t.Editable.VertexMarker=t.Marker.extend({options:{draggable:true,className:"leaflet-div-icon leaflet-vertex-icon"},initialize:function e(n,i,r,o){this.latlng=n;this.latlngs=i;this.editor=r;t.Marker.prototype.initialize.call(this,n,o);this.options.icon=this.editor.tools.createVertexIcon({className:this.options.className});this.latlng.__vertex=this;this.editor.editLayer.addLayer(this);this.setZIndexOffset(r.tools._lastZIndex+1)},onAdd:function e(n){t.Marker.prototype.onAdd.call(this,n);this.on("drag",this.onDrag);this.on("dragstart",this.onDragStart);this.on("dragend",this.onDragEnd);this.on("mouseup",this.onMouseup);this.on("click",this.onClick);this.on("contextmenu",this.onContextMenu);this.on("mousedown touchstart",this.onMouseDown);this.addMiddleMarkers()},onRemove:function e(n){if(this.middleMarker)this.middleMarker.delete();delete this.latlng.__vertex;this.off("drag",this.onDrag);this.off("dragstart",this.onDragStart);this.off("dragend",this.onDragEnd);this.off("mouseup",this.onMouseup);this.off("click",this.onClick);this.off("contextmenu",this.onContextMenu);this.off("mousedown touchstart",this.onMouseDown);t.Marker.prototype.onRemove.call(this,n)},onDrag:function e(n){n.vertex=this;this.editor.onVertexMarkerDrag(n);var i=t.DomUtil.getPosition(this._icon),r=this._map.layerPointToLatLng(i);this.latlng.update(r);this._latlng=this.latlng;this.editor.refresh();if(this.middleMarker)this.middleMarker.updateLatLng();var o=this.getNext();if(o&&o.middleMarker)o.middleMarker.updateLatLng()},onDragStart:function t(e){e.vertex=this;this.editor.onVertexMarkerDragStart(e)},onDragEnd:function t(e){e.vertex=this;this.editor.onVertexMarkerDragEnd(e)},onClick:function t(e){e.vertex=this;this.editor.onVertexMarkerClick(e)},onMouseup:function e(n){t.DomEvent.stop(n);n.vertex=this;this.editor.map.fire("mouseup",n)},onContextMenu:function t(e){e.vertex=this;this.editor.onVertexMarkerContextMenu(e)},onMouseDown:function t(e){e.vertex=this;this.editor.onVertexMarkerMouseDown(e)},delete:function t(){var e=this.getNext();this.latlngs.splice(this.getIndex(),1);this.editor.editLayer.removeLayer(this);this.editor.onVertexDeleted({latlng:this.latlng,vertex:this});if(!this.latlngs.length)this.editor.deleteShape(this.latlngs);if(e)e.resetMiddleMarker();this.editor.refresh()},getIndex:function t(){return this.latlngs.indexOf(this.latlng)},getLastIndex:function t(){return this.latlngs.length-1},getPrevious:function t(){if(this.latlngs.length<2)return;var e=this.getIndex(),n=e-1;if(e===0&&this.editor.CLOSED)n=this.getLastIndex();var i=this.latlngs[n];if(i)return i.__vertex},getNext:function t(){if(this.latlngs.length<2)return;var e=this.getIndex(),n=e+1;if(e===this.getLastIndex()&&this.editor.CLOSED)n=0;var i=this.latlngs[n];if(i)return i.__vertex},addMiddleMarker:function t(e){if(!this.editor.hasMiddleMarkers())return;e=e||this.getPrevious();if(e&&!this.middleMarker)this.middleMarker=this.editor.addMiddleMarker(e,this,this.latlngs,this.editor)},addMiddleMarkers:function t(){if(!this.editor.hasMiddleMarkers())return;var e=this.getPrevious();if(e)this.addMiddleMarker(e);var n=this.getNext();if(n)n.resetMiddleMarker()},resetMiddleMarker:function t(){if(this.middleMarker)this.middleMarker.delete();this.addMiddleMarker()},split:function t(){if(!this.editor.splitShape)return;this.editor.splitShape(this.latlngs,this.getIndex())},continue:function t(){if(!this.editor.continueBackward)return;var e=this.getIndex();if(e===0)this.editor.continueBackward(this.latlngs);else if(e===this.getLastIndex())this.editor.continueForward(this.latlngs)}});t.Editable.mergeOptions({vertexMarkerClass:t.Editable.VertexMarker});t.Editable.MiddleMarker=t.Marker.extend({options:{opacity:.5,className:"leaflet-div-icon leaflet-middle-icon",draggable:true},initialize:function e(n,i,r,o,a){this.left=n;this.right=i;this.editor=o;this.latlngs=r;t.Marker.prototype.initialize.call(this,this.computeLatLng(),a);this._opacity=this.options.opacity;this.options.icon=this.editor.tools.createVertexIcon({className:this.options.className});this.editor.editLayer.addLayer(this);this.setVisibility()},setVisibility:function e(){var n=this._map.latLngToContainerPoint(this.left.latlng),i=this._map.latLngToContainerPoint(this.right.latlng),r=t.point(this.options.icon.options.iconSize);if(n.distanceTo(i)<r.x*3)this.hide();else this.show()},show:function t(){this.setOpacity(this._opacity)},hide:function t(){this.setOpacity(0)},updateLatLng:function t(){this.setLatLng(this.computeLatLng());this.setVisibility()},computeLatLng:function t(){var e=this.editor.map.latLngToContainerPoint(this.left.latlng),n=this.editor.map.latLngToContainerPoint(this.right.latlng),i=(e.y+n.y)/2,r=(e.x+n.x)/2;return this.editor.map.containerPointToLatLng([r,i])},onAdd:function e(n){t.Marker.prototype.onAdd.call(this,n);t.DomEvent.on(this._icon,"mousedown touchstart",this.onMouseDown,this);n.on("zoomend",this.setVisibility,this)},onRemove:function e(n){delete this.right.middleMarker;t.DomEvent.off(this._icon,"mousedown touchstart",this.onMouseDown,this);n.off("zoomend",this.setVisibility,this);t.Marker.prototype.onRemove.call(this,n)},onMouseDown:function e(n){var i=t.DomUtil.getPosition(this._icon),r=this.editor.map.layerPointToLatLng(i);n={originalEvent:n,latlng:r};if(this.options.opacity===0)return;t.Editable.makeCancellable(n);this.editor.onMiddleMarkerMouseDown(n);if(n._cancelled)return;this.latlngs.splice(this.index(),0,n.latlng);this.editor.refresh();var o=this._icon;var a=this.editor.addVertexMarker(n.latlng,this.latlngs);this.editor.onNewVertex(a);var s=a._icon.parentNode;s.removeChild(a._icon);a._icon=o;s.appendChild(a._icon);a._initIcon();a._initInteraction();a.setOpacity(1);t.Draggable._dragging=false;a.dragging._draggable._onDown(n.originalEvent);this.delete()},delete:function t(){this.editor.editLayer.removeLayer(this)},index:function t(){return this.latlngs.indexOf(this.right.latlng)}});t.Editable.mergeOptions({middleMarkerClass:t.Editable.MiddleMarker});t.Editable.BaseEditor=t.Handler.extend({initialize:function e(n,i,r){t.setOptions(this,r);this.map=n;this.feature=i;this.feature.editor=this;this.editLayer=new t.LayerGroup;this.tools=this.options.editTools||n.editTools},addHooks:function t(){if(this.isConnected())this.onFeatureAdd();else this.feature.once("add",this.onFeatureAdd,this);this.onEnable();this.feature.on(this._getEvents(),this)},removeHooks:function t(){this.feature.off(this._getEvents(),this);if(this.feature.dragging)this.feature.dragging.disable();this.editLayer.clearLayers();this.tools.editLayer.removeLayer(this.editLayer);this.onDisable();if(this._drawing)this.cancelDrawing()},drawing:function t(){return!!this._drawing},reset:function t(){},onFeatureAdd:function t(){this.tools.editLayer.addLayer(this.editLayer);if(this.feature.dragging)this.feature.dragging.enable()},hasMiddleMarkers:function t(){return!this.options.skipMiddleMarkers&&!this.tools.options.skipMiddleMarkers},fireAndForward:function t(e,n){n=n||{};n.layer=this.feature;this.feature.fire(e,n);this.tools.fireAndForward(e,n)},onEnable:function t(){this.fireAndForward("editable:enable")},onDisable:function t(){this.fireAndForward("editable:disable")},onEditing:function t(){this.fireAndForward("editable:editing")},onStartDrawing:function t(){this.fireAndForward("editable:drawing:start")},onEndDrawing:function t(){this.fireAndForward("editable:drawing:end")},onCancelDrawing:function t(){this.fireAndForward("editable:drawing:cancel")},onCommitDrawing:function t(e){this.fireAndForward("editable:drawing:commit",e)},onDrawingMouseDown:function t(e){this.fireAndForward("editable:drawing:mousedown",e)},onDrawingMouseUp:function t(e){this.fireAndForward("editable:drawing:mouseup",e)},startDrawing:function e(){if(!this._drawing)this._drawing=t.Editable.FORWARD;this.tools.registerForDrawing(this);this.onStartDrawing()},commitDrawing:function t(e){this.onCommitDrawing(e);this.endDrawing()},cancelDrawing:function e(){t.Draggable._dragging=false;this.onCancelDrawing();this.endDrawing()},endDrawing:function t(){this._drawing=false;this.tools.unregisterForDrawing(this);this.onEndDrawing()},onDrawingClick:function e(n){if(!this.drawing())return;t.Editable.makeCancellable(n);this.fireAndForward("editable:drawing:click",n);if(n._cancelled)return;if(!this.isConnected())this.connect(n);this.processDrawingClick(n)},isConnected:function t(){return this.map.hasLayer(this.feature)},connect:function t(){this.tools.connectCreatedToMap(this.feature);this.tools.editLayer.addLayer(this.editLayer)},onMove:function t(e){this.fireAndForward("editable:drawing:move",e)},onDrawingMouseMove:function t(e){this.onMove(e)},_getEvents:function t(){return{dragstart:this.onDragStart,drag:this.onDrag,dragend:this.onDragEnd,remove:this.disable}},onDragStart:function t(e){this.onEditing();this.fireAndForward("editable:dragstart",e)},onDrag:function t(e){this.onMove(e);this.fireAndForward("editable:drag",e)},onDragEnd:function t(e){this.fireAndForward("editable:dragend",e)}});t.Editable.MarkerEditor=t.Editable.BaseEditor.extend({onDrawingMouseMove:function e(n){t.Editable.BaseEditor.prototype.onDrawingMouseMove.call(this,n);if(this._drawing)this.feature.setLatLng(n.latlng)},processDrawingClick:function t(e){this.fireAndForward("editable:drawing:clicked",e);this.commitDrawing(e)},connect:function e(n){if(n)this.feature._latlng=n.latlng;t.Editable.BaseEditor.prototype.connect.call(this,n)}});t.Editable.PathEditor=t.Editable.BaseEditor.extend({CLOSED:false,MIN_VERTEX:2,addHooks:function e(){t.Editable.BaseEditor.prototype.addHooks.call(this);if(this.feature)this.initVertexMarkers();return this},initVertexMarkers:function t(e){if(!this.enabled())return;e=e||this.getLatLngs();if(l(e))this.addVertexMarkers(e);else for(var n=0;n<e.length;n++){this.initVertexMarkers(e[n])}},getLatLngs:function t(){return this.feature.getLatLngs()},reset:function t(){this.editLayer.clearLayers();this.initVertexMarkers()},addVertexMarker:function t(e,n){return new this.tools.options.vertexMarkerClass(e,n,this)},onNewVertex:function t(e){this.fireAndForward("editable:vertex:new",{latlng:e.latlng,vertex:e})},addVertexMarkers:function t(e){for(var n=0;n<e.length;n++){this.addVertexMarker(e[n],e)}},refreshVertexMarkers:function t(e){e=e||this.getDefaultLatLngs();for(var n=0;n<e.length;n++){e[n].__vertex.update()}},addMiddleMarker:function t(e,n,i){return new this.tools.options.middleMarkerClass(e,n,i,this)},onVertexMarkerClick:function e(n){t.Editable.makeCancellable(n);this.fireAndForward("editable:vertex:click",n);if(n._cancelled)return;if(this.tools.drawing()&&this.tools._drawingEditor!==this)return;var i=n.vertex.getIndex(),r;if(n.originalEvent.ctrlKey){this.onVertexMarkerCtrlClick(n)}else if(n.originalEvent.altKey){this.onVertexMarkerAltClick(n)}else if(n.originalEvent.shiftKey){this.onVertexMarkerShiftClick(n)}else if(n.originalEvent.metaKey){this.onVertexMarkerMetaKeyClick(n)}else if(i===n.vertex.getLastIndex()&&this._drawing===t.Editable.FORWARD){if(i>=this.MIN_VERTEX-1)r=true}else if(i===0&&this._drawing===t.Editable.BACKWARD&&this._drawnLatLngs.length>=this.MIN_VERTEX){r=true}else if(i===0&&this._drawing===t.Editable.FORWARD&&this._drawnLatLngs.length>=this.MIN_VERTEX&&this.CLOSED){r=true}else{this.onVertexRawMarkerClick(n)}this.fireAndForward("editable:vertex:clicked",n);if(r)this.commitDrawing(n)},onVertexRawMarkerClick:function t(e){this.fireAndForward("editable:vertex:rawclick",e);if(e._cancelled)return;if(!this.vertexCanBeDeleted(e.vertex))return;e.vertex.delete()},vertexCanBeDeleted:function t(e){return e.latlngs.length>this.MIN_VERTEX},onVertexDeleted:function t(e){this.fireAndForward("editable:vertex:deleted",e)},onVertexMarkerCtrlClick:function t(e){this.fireAndForward("editable:vertex:ctrlclick",e)},onVertexMarkerShiftClick:function t(e){this.fireAndForward("editable:vertex:shiftclick",e)},onVertexMarkerMetaKeyClick:function t(e){this.fireAndForward("editable:vertex:metakeyclick",e)},onVertexMarkerAltClick:function t(e){this.fireAndForward("editable:vertex:altclick",e)},onVertexMarkerContextMenu:function t(e){this.fireAndForward("editable:vertex:contextmenu",e)},onVertexMarkerMouseDown:function t(e){this.fireAndForward("editable:vertex:mousedown",e)},onMiddleMarkerMouseDown:function t(e){this.fireAndForward("editable:middlemarker:mousedown",e)},onVertexMarkerDrag:function t(e){this.onMove(e);if(this.feature._bounds)this.extendBounds(e);this.fireAndForward("editable:vertex:drag",e)},onVertexMarkerDragStart:function t(e){this.fireAndForward("editable:vertex:dragstart",e)},onVertexMarkerDragEnd:function t(e){this.fireAndForward("editable:vertex:dragend",e)},setDrawnLatLngs:function t(e){this._drawnLatLngs=e||this.getDefaultLatLngs()},startDrawing:function e(){if(!this._drawnLatLngs)this.setDrawnLatLngs();t.Editable.BaseEditor.prototype.startDrawing.call(this)},startDrawingForward:function t(){this.startDrawing()},endDrawing:function e(){this.tools.detachForwardLineGuide();this.tools.detachBackwardLineGuide();if(this._drawnLatLngs&&this._drawnLatLngs.length<this.MIN_VERTEX)this.deleteShape(this._drawnLatLngs);t.Editable.BaseEditor.prototype.endDrawing.call(this);delete this._drawnLatLngs},addLatLng:function e(n){if(this._drawing===t.Editable.FORWARD)this._drawnLatLngs.push(n);else this._drawnLatLngs.unshift(n);this.feature._bounds.extend(n);var i=this.addVertexMarker(n,this._drawnLatLngs);this.onNewVertex(i);this.refresh()},newPointForward:function t(e){this.addLatLng(e);this.tools.attachForwardLineGuide();this.tools.anchorForwardLineGuide(e)},newPointBackward:function t(e){this.addLatLng(e);this.tools.anchorBackwardLineGuide(e)},push:function e(n){if(!n)return console.error("L.Editable.PathEditor.push expect a valid latlng as parameter");if(this._drawing===t.Editable.FORWARD)this.newPointForward(n);else this.newPointBackward(n)},removeLatLng:function t(e){e.__vertex.delete();this.refresh()},pop:function e(){if(this._drawnLatLngs.length<=1)return;var n;if(this._drawing===t.Editable.FORWARD)n=this._drawnLatLngs[this._drawnLatLngs.length-1];else n=this._drawnLatLngs[0];this.removeLatLng(n);if(this._drawing===t.Editable.FORWARD)this.tools.anchorForwardLineGuide(this._drawnLatLngs[this._drawnLatLngs.length-1]);else this.tools.anchorForwardLineGuide(this._drawnLatLngs[0]);return n},processDrawingClick:function e(n){if(n.vertex&&n.vertex.editor===this)return;if(this._drawing===t.Editable.FORWARD)this.newPointForward(n.latlng);else this.newPointBackward(n.latlng);this.fireAndForward("editable:drawing:clicked",n)},onDrawingMouseMove:function e(n){t.Editable.BaseEditor.prototype.onDrawingMouseMove.call(this,n);if(this._drawing){this.tools.moveForwardLineGuide(n.latlng);this.tools.moveBackwardLineGuide(n.latlng)}},refresh:function t(){this.feature.redraw();this.onEditing()},newShape:function t(e){var n=this.addNewEmptyShape();if(!n)return;this.setDrawnLatLngs(n[0]||n);this.startDrawingForward();this.fireAndForward("editable:shape:new",{shape:n});if(e)this.newPointForward(e)},deleteShape:function e(n,i){var r={shape:n};t.Editable.makeCancellable(r);this.fireAndForward("editable:shape:delete",r);if(r._cancelled)return;n=this._deleteShape(n,i);if(this.ensureNotFlat)this.ensureNotFlat();this.feature.setLatLngs(this.getLatLngs());this.refresh();this.reset();this.fireAndForward("editable:shape:deleted",{shape:n});return n},_deleteShape:function t(e,n){n=n||this.getLatLngs();if(!n.length)return;var i=this,r=function t(e,n){n=e.splice(0,Number.MAX_VALUE);return n},o=function t(e,n){e.splice(e.indexOf(n),1);if(!e.length)i._deleteShape(e);return n};if(n===e)return r(n,e);for(var a=0;a<n.length;a++){if(n[a]===e)return o(n,e);else if(n[a].indexOf(e)!==-1)return o(n[a],e)}},deleteShapeAt:function t(e){var n=this.feature.shapeAt(e);if(n)return this.deleteShape(n)},appendShape:function t(e){this.insertShape(e)},prependShape:function t(e){this.insertShape(e,0)},insertShape:function t(e,n){this.ensureMulti();e=this.formatShape(e);if(typeof n==="undefined")n=this.feature._latlngs.length;this.feature._latlngs.splice(n,0,e);this.feature.redraw();if(this._enabled)this.reset()},extendBounds:function t(e){this.feature._bounds.extend(e.vertex.latlng)},onDragStart:function e(n){this.editLayer.clearLayers();t.Editable.BaseEditor.prototype.onDragStart.call(this,n)},onDragEnd:function e(n){this.initVertexMarkers();t.Editable.BaseEditor.prototype.onDragEnd.call(this,n)}});t.Editable.PolylineEditor=t.Editable.PathEditor.extend({startDrawingBackward:function e(){this._drawing=t.Editable.BACKWARD;this.startDrawing()},continueBackward:function t(e){if(this.drawing())return;e=e||this.getDefaultLatLngs();this.setDrawnLatLngs(e);if(e.length>0){this.tools.attachBackwardLineGuide();this.tools.anchorBackwardLineGuide(e[0])}this.startDrawingBackward()},continueForward:function t(e){if(this.drawing())return;e=e||this.getDefaultLatLngs();this.setDrawnLatLngs(e);if(e.length>0){this.tools.attachForwardLineGuide();this.tools.anchorForwardLineGuide(e[e.length-1])}this.startDrawingForward()},getDefaultLatLngs:function e(n){n=n||this.feature._latlngs;if(!n.length||n[0]instanceof t.LatLng)return n;else return this.getDefaultLatLngs(n[0])},ensureMulti:function t(){if(this.feature._latlngs.length&&l(this.feature._latlngs)){this.feature._latlngs=[this.feature._latlngs]}},addNewEmptyShape:function t(){if(this.feature._latlngs.length){var e=[];this.appendShape(e);return e}else{return this.feature._latlngs}},formatShape:function t(e){if(l(e))return e;else if(e[0])return this.formatShape(e[0])},splitShape:function e(n,i){if(!i||i>=n.length-1)return;this.ensureMulti();var r=this.feature._latlngs.indexOf(n);if(r===-1)return;var o=n.slice(0,i+1),a=n.slice(i);a[0]=t.latLng(a[0].lat,a[0].lng,a[0].alt);this.feature._latlngs.splice(r,1,o,a);this.refresh();this.reset()}});t.Editable.PolygonEditor=t.Editable.PathEditor.extend({CLOSED:true,MIN_VERTEX:3,newPointForward:function e(n){t.Editable.PathEditor.prototype.newPointForward.call(this,n);if(!this.tools.backwardLineGuide._latlngs.length)this.tools.anchorBackwardLineGuide(n);if(this._drawnLatLngs.length===2)this.tools.attachBackwardLineGuide()},addNewEmptyHole:function t(e){this.ensureNotFlat();var n=this.feature.shapeAt(e);if(!n)return;var i=[];n.push(i);return i},newHole:function t(e){var n=this.addNewEmptyHole(e);if(!n)return;this.setDrawnLatLngs(n);this.startDrawingForward();if(e)this.newPointForward(e)},addNewEmptyShape:function t(){if(this.feature._latlngs.length&&this.feature._latlngs[0].length){var e=[];this.appendShape(e);return e}else{return this.feature._latlngs}},ensureMulti:function t(){if(this.feature._latlngs.length&&l(this.feature._latlngs[0])){this.feature._latlngs=[this.feature._latlngs]}},ensureNotFlat:function t(){if(!this.feature._latlngs.length||l(this.feature._latlngs))this.feature._latlngs=[this.feature._latlngs]},vertexCanBeDeleted:function e(n){var i=this.feature.parentShape(n.latlngs),r=t.Util.indexOf(i,n.latlngs);if(r>0)return true;return t.Editable.PathEditor.prototype.vertexCanBeDeleted.call(this,n)},getDefaultLatLngs:function t(){if(!this.feature._latlngs.length)this.feature._latlngs.push([]);return this.feature._latlngs[0]},formatShape:function t(e){if(l(e)&&(!e[0]||e[0].length!==0))return[e];else return e}});t.Editable.RectangleEditor=t.Editable.PathEditor.extend({CLOSED:true,MIN_VERTEX:4,options:{skipMiddleMarkers:true},extendBounds:function e(n){var i=n.vertex.getIndex(),r=n.vertex.getNext(),o=n.vertex.getPrevious(),a=(i+2)%4,s=n.vertex.latlngs[a],l=new t.LatLngBounds(n.latlng,s);o.latlng.update([n.latlng.lat,s.lng]);r.latlng.update([s.lat,n.latlng.lng]);this.updateBounds(l);this.refreshVertexMarkers()},onDrawingMouseDown:function e(n){t.Editable.PathEditor.prototype.onDrawingMouseDown.call(this,n);this.connect();var i=this.getDefaultLatLngs();if(i.length===3)i.push(n.latlng);var r=new t.LatLngBounds(n.latlng,n.latlng);this.updateBounds(r);this.updateLatLngs(r);this.refresh();this.reset();n.originalEvent._simulated=false;this.map.dragging._draggable._onUp(n.originalEvent);i[3].__vertex.dragging._draggable._onDown(n.originalEvent)},onDrawingMouseUp:function e(n){this.commitDrawing(n);n.originalEvent._simulated=false;t.Editable.PathEditor.prototype.onDrawingMouseUp.call(this,n)},onDrawingMouseMove:function e(n){n.originalEvent._simulated=false;t.Editable.PathEditor.prototype.onDrawingMouseMove.call(this,n)},getDefaultLatLngs:function t(e){return e||this.feature._latlngs[0]},updateBounds:function t(e){this.feature._bounds=e},updateLatLngs:function t(e){var n=this.getDefaultLatLngs(),i=this.feature._boundsToLatLngs(e);for(var r=0;r<n.length;r++){n[r].update(i[r])}}});t.Editable.CircleEditor=t.Editable.PathEditor.extend({MIN_VERTEX:2,options:{skipMiddleMarkers:true},initialize:function e(n,i,r){t.Editable.PathEditor.prototype.initialize.call(this,n,i,r);this._resizeLatLng=this.computeResizeLatLng()},computeResizeLatLng:function t(){var e=(this.feature._radius||this.feature._mRadius)*Math.cos(Math.PI/4),n=this.map.project(this.feature._latlng);return this.map.unproject([n.x+e,n.y-e])},updateResizeLatLng:function t(){this._resizeLatLng.update(this.computeResizeLatLng());this._resizeLatLng.__vertex.update()},getLatLngs:function t(){return[this.feature._latlng,this._resizeLatLng]},getDefaultLatLngs:function t(){return this.getLatLngs()},onVertexMarkerDrag:function e(n){if(n.vertex.getIndex()===1)this.resize(n);else this.updateResizeLatLng(n);t.Editable.PathEditor.prototype.onVertexMarkerDrag.call(this,n)},resize:function t(e){var n=this.feature._latlng.distanceTo(e.latlng);this.feature.setRadius(n)},onDrawingMouseDown:function e(n){t.Editable.PathEditor.prototype.onDrawingMouseDown.call(this,n);this._resizeLatLng.update(n.latlng);this.feature._latlng.update(n.latlng);this.connect();n.originalEvent._simulated=false;this.map.dragging._draggable._onUp(n.originalEvent);this._resizeLatLng.__vertex.dragging._draggable._onDown(n.originalEvent)},onDrawingMouseUp:function e(n){this.commitDrawing(n);n.originalEvent._simulated=false;t.Editable.PathEditor.prototype.onDrawingMouseUp.call(this,n)},onDrawingMouseMove:function e(n){n.originalEvent._simulated=false;t.Editable.PathEditor.prototype.onDrawingMouseMove.call(this,n)},onDrag:function e(n){t.Editable.PathEditor.prototype.onDrag.call(this,n);this.feature.dragging.updateLatLng(this._resizeLatLng)}});var e={createEditor:function t(e){e=e||this._map;var n=(this.options.editOptions||{}).editTools||e.editTools;if(!n)throw Error("Unable to detect Editable instance.");var i=this.options.editorClass||this.getEditorClass(n);return new i(e,this,this.options.editOptions)},enableEdit:function t(e){if(!this.editor)this.createEditor(e);this.editor.enable();return this.editor},editEnabled:function t(){return this.editor&&this.editor.enabled()},disableEdit:function t(){if(this.editor){this.editor.disable();delete this.editor}},toggleEdit:function t(){if(this.editEnabled())this.disableEdit();else this.enableEdit()},_onEditableAdd:function t(){if(this.editor)this.enableEdit()}};var n={getEditorClass:function e(n){return n&&n.options.polylineEditorClass?n.options.polylineEditorClass:t.Editable.PolylineEditor},shapeAt:function t(e,n){var i=null;n=n||this._latlngs;if(!n.length)return i;else if(l(n)&&this.isInLatLngs(e,n))i=n;else for(var r=0;r<n.length;r++){if(this.isInLatLngs(e,n[r]))return n[r]}return i},isInLatLngs:function e(n,i){if(!i)return false;var r,o,a,s=[],l,u=this._clickTolerance();this._projectLatlngs(i,s,this._pxBounds);s=s[0];l=this._map.latLngToLayerPoint(n);if(!this._pxBounds.contains(l)){return false}for(r=1,a=s.length,o=0;r<a;o=r++){if(t.LineUtil.pointToSegmentDistance(l,s[o],s[r])<=u){return true}}return false}};var i={getEditorClass:function e(n){return n&&n.options.polygonEditorClass?n.options.polygonEditorClass:t.Editable.PolygonEditor},shapeAt:function t(e,n){var i=null;n=n||this._latlngs;if(!n.length)return i;else if(l(n)&&this.isInLatLngs(e,n))i=n;else if(l(n[0])&&this.isInLatLngs(e,n[0]))i=n;else for(var r=0;r<n.length;r++){if(this.isInLatLngs(e,n[r][0]))return n[r]}return i},isInLatLngs:function t(e,n){var i=false,r,o,a,s,l;for(a=0,l=n.length,s=l-1;a<l;s=a++){r=n[a];o=n[s];if(r.lat>e.lat!==o.lat>e.lat&&e.lng<(o.lng-r.lng)*(e.lat-r.lat)/(o.lat-r.lat)+r.lng){i=!i}}return i},parentShape:function e(n,i){i=i||this._latlngs;if(!i)return;var r=t.Util.indexOf(i,n);if(r!==-1)return i;for(var o=0;o<i.length;o++){r=t.Util.indexOf(i[o],n);if(r!==-1)return i[o]}}};var r={getEditorClass:function e(n){return n&&n.options.markerEditorClass?n.options.markerEditorClass:t.Editable.MarkerEditor}};var o={getEditorClass:function e(n){return n&&n.options.rectangleEditorClass?n.options.rectangleEditorClass:t.Editable.RectangleEditor}};var a={getEditorClass:function e(n){return n&&n.options.circleEditorClass?n.options.circleEditorClass:t.Editable.CircleEditor}};var s=function t(){this.on("add",this._onEditableAdd)};var l=t.LineUtil.isFlat||t.LineUtil._flat||t.Polyline._flat;if(t.Polyline){t.Polyline.include(e);t.Polyline.include(n);t.Polyline.addInitHook(s)}if(t.Polygon){t.Polygon.include(e);t.Polygon.include(i)}if(t.Marker){t.Marker.include(e);t.Marker.include(r);t.Marker.addInitHook(s)}if(t.Rectangle){t.Rectangle.include(e);t.Rectangle.include(o)}if(t.Circle){t.Circle.include(e);t.Circle.include(a)}t.LatLng.prototype.update=function(e){e=t.latLng(e);this.lat=e.lat;this.lng=e.lng}},window)},function(t,e,n){"use strict";L.PathDraggable=L.Draggable.extend({initialize:function t(e){this._path=e;this._canvas=e._map.getRenderer(e)instanceof L.Canvas;var n=this._canvas?this._path._map.getRenderer(this._path)._container:this._path._path;L.Draggable.prototype.initialize.call(this,n,n,true)},_updatePosition:function t(){var e={originalEvent:this._lastEvent};this.fire("drag",e)},_onDown:function t(e){var n=e.touches?e.touches[0]:e;this._startPoint=new L.Point(n.clientX,n.clientY);if(this._canvas&&!this._path._containsPoint(this._path._map.mouseEventToLayerPoint(n))){return}L.Draggable.prototype._onDown.call(this,e)}});L.Handler.PathDrag=L.Handler.extend({initialize:function t(e){this._path=e},getEvents:function t(){return{dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd}},addHooks:function t(){if(!this._draggable){this._draggable=new L.PathDraggable(this._path)}this._draggable.on(this.getEvents(),this).enable();L.DomUtil.addClass(this._draggable._element,"leaflet-path-draggable")},removeHooks:function t(){this._draggable.off(this.getEvents(),this).disable();L.DomUtil.removeClass(this._draggable._element,"leaflet-path-draggable")},moved:function t(){return this._draggable&&this._draggable._moved},_onDragStart:function t(){this._startPoint=this._draggable._startPoint;this._path.closePopup().fire("movestart").fire("dragstart")},_onDrag:function t(e){var n=this._path,i=e.originalEvent.touches&&e.originalEvent.touches.length===1?e.originalEvent.touches[0]:e.originalEvent,r=L.point(i.clientX,i.clientY),o=n._map.layerPointToLatLng(r);this._offset=r.subtract(this._startPoint);this._startPoint=r;this._path.eachLatLng(this.updateLatLng,this);n.redraw();e.latlng=o;e.offset=this._offset;n.fire("drag",e);e.latlng=this._path.getCenter?this._path.getCenter():this._path.getLatLng();n.fire("move",e)},_onDragEnd:function t(e){if(this._path._bounds)this.resetBounds();this._path.fire("moveend").fire("dragend",e)},latLngToLayerPoint:function t(e){var n=this._path._map.project(L.latLng(e));return n._subtract(this._path._map.getPixelOrigin())},updateLatLng:function t(e){var n=this.latLngToLayerPoint(e);n._add(this._offset);var i=this._path._map.layerPointToLatLng(n);e.lat=i.lat;e.lng=i.lng},resetBounds:function t(){this._path._bounds=new L.LatLngBounds;this._path.eachLatLng(function(t){this._bounds.extend(t)})}});L.Path.include({eachLatLng:function t(e,n){n=n||this;var i=function t(i){for(var r=0;r<i.length;r++){if(L.Util.isArray(i[r]))t(i[r]);else e.call(n,i[r])}};i(this.getLatLngs?this.getLatLngs():[this.getLatLng()])}});L.Path.addInitHook(function(){this.dragging=new L.Handler.PathDrag(this);if(this.options.draggable){this.once("add",function(){this.dragging.enable()})}})},function(t,e,n){"use strict";var i=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}i.default.Control.Custom=i.default.Control.extend({version:"1.0.1",options:{position:"topright",id:"",title:"",classes:"",content:"",style:{},datas:{},events:{}},container:null,onAdd:function t(e){this.container=i.default.DomUtil.create("div");this.container.id=this.options.id;this.container.title=this.options.title;this.container.className=this.options.classes;this.container.innerHTML=this.options.content;for(var n in this.options.style){this.container.style[n]=this.options.style[n]}for(var r in this.options.datas){this.container.dataset[r]=this.options.datas[r]}i.default.DomEvent.disableClickPropagation(this.container);i.default.DomEvent.on(this.container,"contextmenu",function(t){i.default.DomEvent.stopPropagation(t)});i.default.DomEvent.disableScrollPropagation(this.container);for(var o in this.options.events){i.default.DomEvent.on(this.container,o,this.options.events[o],this.container)}return this.container},onRemove:function t(e){for(var n in this.options.events){i.default.DomEvent.off(this.container,n,this.options.events[n],this.container)}}});i.default.control.custom=function(t){return new i.default.Control.Custom(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=r(n(3));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){o=function t(e){return typeof e}}else{o=function t(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return o(t)}var a=window.L;a.TileLayer.Iiif=a.TileLayer.extend({options:{continuousWorld:true,tileSize:256,updateWhenIdle:true,tileFormat:"jpg",fitBounds:true,setMaxBounds:false},initialize:function t(e,n){n=typeof n!=="undefined"?n:{};if(n.maxZoom){this._customMaxZoom=true}if(n.tileSize){this._explicitTileSize=true}if(n.quality){this._explicitQuality=true}n=a.setOptions(this,n);this._infoUrl=e;this._baseUrl=this._templateUrl();this._getInfo()},getTileUrl:function t(e){var n=e.x,i=e.y,r=this._getZoomForUrl(),o=Math.pow(2,this.maxNativeZoom-r),s=this.options.tileSize*o,l=n*s,u=i*s,c=Math.min(l+s,this.x),f=Math.min(u+s,this.y);var h=c-l;var d=f-u;return a.Util.template(this._baseUrl,a.extend({format:this.options.tileFormat,quality:this.quality,region:[l,u,h,d].join(","),rotation:0,size:Math.ceil(h/o)+","},this.options))},onAdd:function t(e){},_addTileLayer:function t(){var e=this._map;e._layersMaxZoom=this.maxZoom;a.TileLayer.prototype.onAdd.call(this,e);if(this.options.fitBounds){this._fitBounds()}if(this.options.setMaxBounds){this._setMaxBounds()}this.on("tileload",function(t,e){var n=t.tile.naturalHeight,i=t.tile.naturalWidth;if(n===256&&i===256)return;t.tile.style.width=i+"px";t.tile.style.height=n+"px"})},onRemove:function t(e){if(this.options.setMaxBounds){e.setMaxBounds(null)}a.TileLayer.prototype.onRemove.call(this,e)},_fitBounds:function t(){var e=this._getInitialZoom(this._map.getSize());var n=this._imageSizes[e];var i=this._map.options.crs.pointToLatLng(a.point(0,n.y),e);var r=this._map.options.crs.pointToLatLng(a.point(n.x,0),e);var o=a.latLngBounds(i,r);this._map.fitBounds(o,true)},_setMaxBounds:function t(){var e=this._getInitialZoom(this._map.getSize());var n=this._imageSizes[e];var i=this._map.options.crs.pointToLatLng(a.point(0,n.y),e);var r=this._map.options.crs.pointToLatLng(a.point(n.x,0),e);var o=a.latLngBounds(i,r);this._map.setMaxBounds(o,true)},_getInfo:function t(){var e=this;i.default.get(this._infoUrl).then(function(t){var n=t.data;e.y=n.height;e.x=n.width;var i=[],r=[],o,s,l,u,c;if(n.profile instanceof Array){e.profile=n.profile[0]}else{e.profile=n.profile}e._setQuality();if(!e._explicitTileSize){e.options.tileSize=256;if(n.tiles){e.options.tileSize=n.tiles[0].width}else if(n.tile_width){e.options.tileSize=n.tile_width}}function f(t){return Math.ceil(Math.log(t)/Math.LN2)}e.maxNativeZoom=Math.max(f(e.x/e.options.tileSize),f(e.y/e.options.tileSize));if(e._customMaxZoom&&e.options.maxZoom>e.maxNativeZoom){e.maxZoom=e.options.maxZoom}else{e.maxZoom=e.maxNativeZoom}for(var h=0;h<=e.maxZoom;h++){o=Math.pow(2,e.maxNativeZoom-h);s=Math.ceil(e.x/o);l=Math.ceil(e.y/o);u=Math.ceil(s/e.options.tileSize);c=Math.ceil(l/e.options.tileSize);i.push([u,c]);r.push(a.point(s,l))}e._tierSizes=i;e._imageSizes=r;e._addTileLayer()}).catch(function(t){throw t})},_setQuality:function t(){var e=this.profile;if(this._explicitQuality){return}if(o(e)==="object"){e=e["@id"]}switch(true){case/^http:\/\/library.stanford.edu\/iiif\/image-api\/1.1\/compliance.html.*$/.test(e):this.options.quality="native";break;default:this.options.quality="default";break}},_infoToBaseUrl:function t(){return this._infoUrl.replace("info.json","")},_templateUrl:function t(){return this._infoToBaseUrl()+"{region}/{size}/{rotation}/{quality}.{format}"},_isValidTile:function t(e){var n=this._getZoomForUrl(),i=this._tierSizes[n],r=e.x,o=e.y;if(!i)return false;if(r<0||i[0]<=r||o<0||i[1]<=o){return false}else{return true}},_getInitialZoom:function t(e){var n=.8,i;for(var r=this.maxNativeZoom;r>=0;r--){i=this._imageSizes[r];if(i.x*n<e.x&&i.y*n<e.y){return r}}return 2}});var s=a.tileLayer.iiif=function(t,e){return new a.TileLayer.Iiif(t,e)};var l=s;e.default=l},function(t,e,n){"use strict";var i=n(0);var r=n(4);var o=n(16);var a=n(2);function s(t){var e=new o(t);var n=r(o.prototype.request,e);i.extend(n,o.prototype,e);i.extend(n,e);return n}var l=s(a);l.Axios=o;l.create=function t(e){return s(i.merge(a,e))};l.Cancel=n(8);l.CancelToken=n(31);l.isCancel=n(7);l.all=function t(e){return Promise.all(e)};l.spread=n(32);t.exports=l;t.exports.default=l},function(t,e){
/*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   */
t.exports=function(t){return t!=null&&(n(t)||i(t)||!!t._isBuffer)};function n(t){return!!t.constructor&&typeof t.constructor.isBuffer==="function"&&t.constructor.isBuffer(t)}function i(t){return typeof t.readFloatLE==="function"&&typeof t.slice==="function"&&n(t.slice(0,0))}},function(t,e,n){"use strict";var i=n(2);var r=n(0);var o=n(26);var a=n(27);function s(t){this.defaults=t;this.interceptors={request:new o,response:new o}}s.prototype.request=function t(e){if(typeof e==="string"){e=r.merge({url:arguments[0]},arguments[1])}e=r.merge(i,{method:"get"},this.defaults,e);e.method=e.method.toLowerCase();var n=[a,undefined];var o=Promise.resolve(e);this.interceptors.request.forEach(function t(e){n.unshift(e.fulfilled,e.rejected)});this.interceptors.response.forEach(function t(e){n.push(e.fulfilled,e.rejected)});while(n.length){o=o.then(n.shift(),n.shift())}return o};r.forEach(["delete","get","head","options"],function t(e){s.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}});r.forEach(["post","put","patch"],function t(e){s.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}});t.exports=s},function(t,e){var n=t.exports={};var i;var r;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=o}}catch(t){i=o}try{if(typeof clearTimeout==="function"){r=clearTimeout}else{r=a}}catch(t){r=a}})();function s(t){if(i===setTimeout){return setTimeout(t,0)}if((i===o||!i)&&setTimeout){i=setTimeout;return setTimeout(t,0)}try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function l(t){if(r===clearTimeout){return clearTimeout(t)}if((r===a||!r)&&clearTimeout){r=clearTimeout;return clearTimeout(t)}try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}var u=[];var c=false;var f;var h=-1;function d(){if(!c||!f){return}c=false;if(f.length){u=f.concat(u)}else{h=-1}if(u.length){p()}}function p(){if(c){return}var t=s(d);c=true;var e=u.length;while(e){f=u;u=[];while(++h<e){if(f){f[h].run()}}h=-1;e=u.length}f=null;c=false;l(t)}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}}u.push(new v(t,e));if(u.length===1&&!c){s(p)}};function v(t,e){this.fun=t;this.array=e}v.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function m(){}n.on=m;n.addListener=m;n.once=m;n.off=m;n.removeListener=m;n.removeAllListeners=m;n.emit=m;n.prependListener=m;n.prependOnceListener=m;n.listeners=function(t){return[]};n.binding=function(t){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(t){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},function(t,e,n){"use strict";var i=n(0);t.exports=function t(e,n){i.forEach(e,function t(i,r){if(r!==n&&r.toUpperCase()===n.toUpperCase()){e[n]=i;delete e[r]}})}},function(t,e,n){"use strict";var i=n(6);t.exports=function t(e,n,r){var o=r.config.validateStatus;if(!r.status||!o||o(r.status)){e(r)}else{n(i("Request failed with status code "+r.status,r.config,null,r.request,r))}}},function(t,e,n){"use strict";t.exports=function t(e,n,i,r,o){e.config=n;if(i){e.code=i}e.request=r;e.response=o;return e}},function(t,e,n){"use strict";var i=n(0);function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function t(e,n,o){if(!n){return e}var a;if(o){a=o(n)}else if(i.isURLSearchParams(n)){a=n.toString()}else{var s=[];i.forEach(n,function t(e,n){if(e===null||typeof e==="undefined"){return}if(i.isArray(e)){n=n+"[]"}else{e=[e]}i.forEach(e,function t(e){if(i.isDate(e)){e=e.toISOString()}else if(i.isObject(e)){e=JSON.stringify(e)}s.push(r(n)+"="+r(e))})});a=s.join("&")}if(a){e+=(e.indexOf("?")===-1?"?":"&")+a}return e}},function(t,e,n){"use strict";var i=n(0);var r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function t(e){var n={};var o;var a;var s;if(!e){return n}i.forEach(e.split("\n"),function t(e){s=e.indexOf(":");o=i.trim(e.substr(0,s)).toLowerCase();a=i.trim(e.substr(s+1));if(o){if(n[o]&&r.indexOf(o)>=0){return}if(o==="set-cookie"){n[o]=(n[o]?n[o]:[]).concat([a])}else{n[o]=n[o]?n[o]+", "+a:a}}});return n}},function(t,e,n){"use strict";var i=n(0);t.exports=i.isStandardBrowserEnv()?function t(){var e=/(msie|trident)/i.test(navigator.userAgent);var n=document.createElement("a");var r;function o(t){var i=t;if(e){n.setAttribute("href",i);i=n.href}n.setAttribute("href",i);return{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}r=o(window.location.href);return function t(e){var n=i.isString(e)?o(e):e;return n.protocol===r.protocol&&n.host===r.host}}():function t(){return function t(){return true}}()},function(t,e,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(){this.message="String contains an invalid character"}r.prototype=new Error;r.prototype.code=5;r.prototype.name="InvalidCharacterError";function o(t){var e=String(t);var n="";for(var o,a,s=0,l=i;e.charAt(s|0)||(l="=",s%1);n+=l.charAt(63&o>>8-s%1*8)){a=e.charCodeAt(s+=3/4);if(a>255){throw new r}o=o<<8|a}return n}t.exports=o},function(t,e,n){"use strict";var i=n(0);t.exports=i.isStandardBrowserEnv()?function t(){return{write:function t(e,n,r,o,a,s){var l=[];l.push(e+"="+encodeURIComponent(n));if(i.isNumber(r)){l.push("expires="+new Date(r).toGMTString())}if(i.isString(o)){l.push("path="+o)}if(i.isString(a)){l.push("domain="+a)}if(s===true){l.push("secure")}document.cookie=l.join("; ")},read:function t(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function t(e){this.write(e,"",Date.now()-864e5)}}}():function t(){return{write:function t(){},read:function t(){return null},remove:function t(){}}}()},function(t,e,n){"use strict";var i=n(0);function r(){this.handlers=[]}r.prototype.use=function t(e,n){this.handlers.push({fulfilled:e,rejected:n});return this.handlers.length-1};r.prototype.eject=function t(e){if(this.handlers[e]){this.handlers[e]=null}};r.prototype.forEach=function t(e){i.forEach(this.handlers,function t(n){if(n!==null){e(n)}})};t.exports=r},function(t,e,n){"use strict";var i=n(0);var r=n(28);var o=n(7);var a=n(2);var s=n(29);var l=n(30);function u(t){if(t.cancelToken){t.cancelToken.throwIfRequested()}}t.exports=function t(e){u(e);if(e.baseURL&&!s(e.url)){e.url=l(e.baseURL,e.url)}e.headers=e.headers||{};e.data=r(e.data,e.headers,e.transformRequest);e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{});i.forEach(["delete","get","head","post","put","patch","common"],function t(n){delete e.headers[n]});var n=e.adapter||a.adapter;return n(e).then(function t(n){u(e);n.data=r(n.data,n.headers,e.transformResponse);return n},function t(n){if(!o(n)){u(e);if(n&&n.response){n.response.data=r(n.response.data,n.response.headers,e.transformResponse)}}return Promise.reject(n)})}},function(t,e,n){"use strict";var i=n(0);t.exports=function t(e,n,r){i.forEach(r,function t(i){e=i(e,n)});return e}},function(t,e,n){"use strict";t.exports=function t(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(t,e,n){"use strict";t.exports=function t(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}},function(t,e,n){"use strict";var i=n(8);function r(t){if(typeof t!=="function"){throw new TypeError("executor must be a function.")}var e;this.promise=new Promise(function t(n){e=n});var n=this;t(function t(r){if(n.reason){return}n.reason=new i(r);e(n.reason)})}r.prototype.throwIfRequested=function t(){if(this.reason){throw this.reason}};r.source=function t(){var e;var n=new r(function t(n){e=n});return{token:n,cancel:e}};t.exports=r},function(t,e,n){"use strict";t.exports=function t(e){return function t(n){return e.apply(null,n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i={ZOOM:2,initialize:function t(e,n,i,r){this.default_zone_type=i;this.annotations=[];this.annotationTypes={};this.map=e;this.featureGroup=n;this.toolTipOptions=r?r:{direction:"center",className:"facsimileToolTip"}},_makeAnnotation:function t(e){var n=[];if(e instanceof L.Circle){var r=e.toGeoJSON().geometry.coordinates;var o=this.map.project([r[1],r[0]],i.ZOOM);n=[o.x,o.y,e.getRadius()*4]}else{var a=true;var s=false;var l=undefined;try{for(var u=e.toGeoJSON().geometry.coordinates[Symbol.iterator](),c;!(a=(c=u.next()).done);a=true){var f=c.value;if(!f){return null}for(var h=0;h<f.length;h++){var d=this.map.project([f[h][1],f[h][0]],i.ZOOM);n.push(d.x+","+d.y)}}}catch(t){s=true;l=t}finally{try{if(!a&&u.return!=null){u.return()}}finally{if(s){throw l}}}}n=n.join(",");if(new Set(n.split(",")).size===1){return null}if(!e.annotation_type){e.annotation_type=this.annotationTypes[this.default_zone_type.label]}return{region:{coords:n},content:e.content,annotation_type:e.annotation_type,canvas_id:e.canvas_id,img_id:e.img_id}},getAnnotations:function t(e,n){this.annotations=[];var i=this;this.featureGroup.eachLayer(function(t){if(!t.canvas_id)t.canvas_id=e;if(!t.img_id)t.img_id=n;var r=i._makeAnnotation(t);if(r){i.annotations.push(r)}});return this.annotations},setAnnotations:function t(e){this.featureGroup.clearLayers();console.log(this.featureGroup.getLayers().length);for(var n in e){this.annotationTypes[e[n].annotation_type.label]=e[n].annotation_type;var r=true;var o=false;var a=undefined;try{for(var s=e[n].annotations[Symbol.iterator](),l;!(r=(l=s.next()).done);r=true){var u=l.value;var c=u.region.coords.split(",");var f=null;switch(u.region.type){case"rect":f=L.rectangle([this.map.unproject([c[0],c[1]],i.ZOOM),this.map.unproject([c[2],c[3]],2)]);break;case"polygon":var h=[];for(var d=0;d<c.length;d+=2){h.push(this.map.unproject([c[d],c[d+1]],i.ZOOM))}f=L.polygon(h);break;case"circle":f=L.circle(this.map.unproject([c[0],c[1]],i.ZOOM),{radius:c[2]*.25});break}f.canvas_id=u.canvas_id;f.img_id=u.img_id;f.content=u.content;if(u.content&&u.content.length>0){f.bindTooltip(u.content,this.toolTipOptions)}f.annotation_type=e[n].annotation_type;this.featureGroup.addLayer(f);f.addTo(this.map)}}catch(t){o=true;a=t}finally{try{if(!r&&s.return!=null){s.return()}}finally{if(o){throw a}}}}console.log(this.featureGroup.getLayers().length)}};var r=i;e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=r(n(3));function r(t){return t&&t.__esModule?t:{default:t}}var o={options:{},initialize:function t(e,n){this.annotationLists={};this.annotations_loader=n;var r=[];if(e.otherContent){var o=true;var a=false;var s=undefined;try{for(var l=e.otherContent[Symbol.iterator](),u;!(o=(u=l.next()).done);o=true){var c=u.value;if(c["@type"]==="sc:AnnotationList"){r.push(this.loadAnnotationList(c["@id"]))}}}catch(t){a=true;s=t}finally{try{if(!o&&l.return!=null){l.return()}}finally{if(a){throw s}}}}return i.default.all(r)},_getSelectorRegion:function t(e,n){var i=null;if(n==="iiif:ImageApiSelector"){i={coords:e.region,type:"rect"}}else if(n==="oa:SvgSelector"){var r=new window.DOMParser;var o=r.parseFromString(e.chars,"text/xml");var a=e.chars;if(a.indexOf("circle")!==-1){var s=o.getElementsByTagName("circle")[0];var l=[s.cx.baseVal.valueAsString,s.cy.baseVal.valueAsString,s.r.baseVal.valueAsString];i={coords:l.join(","),type:"circle"}}else if(a.indexOf("path")!==-1){var u=a.substr(a.indexOf(" d='"),a.length);u=u.substr(4,u.indexOf("z")-5);var c=u.split("L");c[0]=c[0].split("M")[1];c[c.length-1]=c[c.length-1].split("z")[0];var f=[];for(var h in c){var d=c[h].trim().split(" ");f.push(d[0]);f.push(d[1])}i={coords:f.join(","),type:"polygon"}}}return i},parseAnnotation:function t(e){var n=null;if(e["@type"]==="oa:Annotation"&&e["motivation"]==="sc:painting"){n={id:e.resource["@id"]};if(e.resource["@type"]==="cnt:ContentAsText"){n=Object.assign(n,{content:e.resource.chars,format:e.resource.format})}var i=null;var r=null;var o=null;if(e.on["@type"]==="oa:SpecificResource"){if(e.on.selector){if(typeof e.on.selector["@type"]==="string"){i=this._getSelectorRegion(e.on.selector,e.on.selector["@type"])}else{i=[];var a=true;var s=false;var l=undefined;try{for(var u=e.on.selector["@type"][Symbol.iterator](),c;!(a=(c=u.next()).done);a=true){var f=c.value;var h=this._getSelectorRegion(e.on.selector,f);if(h){i.push(h)}}}catch(t){s=true;l=t}finally{try{if(!a&&u.return!=null){u.return()}}finally{if(s){throw l}}}}}r=e.on.on;o=e.on.full["@id"]}else if(typeof e.on==="string"&&e.on.indexOf("xywh=")!==0){var d=e.on.indexOf("xywh=");i={coords:e.on.substr(d+5,e.on.length),type:"rect"};r=e.on.substr(0,d-1);o=999}if(i){if(Array.isArray(i)&&i.length===1){i=i[0]}n=Object.assign(n,{region:i})}n=Object.assign(n,{canvas_id:r,img_id:o})}return n},loadAnnotationList:function t(e){var n=this;console.log("Adding list "+e);this.annotationLists[e]={annotation_type:undefined,annotations:[]};var i=this;return this.annotations_loader(e).then(function(t){var i=true;var r=false;var o=undefined;try{for(var a=t.metadata[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){var l=s.value;if(l["annotation_type"]){n.annotationLists[e].annotation_type=l["annotation_type"]}}}catch(t){r=true;o=t}finally{try{if(!i&&a.return!=null){a.return()}}finally{if(r){throw o}}}if(!n.annotationLists[e].annotation_type){throw new Error("Annotation type metadata is empty for annotation list "+e)}if(t.resources){var u=true;var c=false;var f=undefined;try{for(var h=t.resources[Symbol.iterator](),d;!(u=(d=h.next()).done);u=true){var p=d.value;var v=n.parseAnnotation(p);if(v){n.annotationLists[e].annotations.push(v)}}}catch(t){c=true;f=t}finally{try{if(!u&&h.return!=null){h.return()}}finally{if(c){throw f}}}}}).catch(function(t){console.log(t)})}};var a=o;e.default=a},function(t,e,n){}])},function(t,e,n){"use strict";t.exports=function t(e){return function t(n){return e.apply(null,n)}}},function(t,e,n){"use strict";var i=n(25);function r(t){if(typeof t!=="function"){throw new TypeError("executor must be a function.")}var e;this.promise=new Promise(function t(n){e=n});var n=this;t(function t(r){if(n.reason){return}n.reason=new i(r);e(n.reason)})}r.prototype.throwIfRequested=function t(){if(this.reason){throw this.reason}};r.source=function t(){var e;var n=new r(function t(n){e=n});return{token:n,cancel:e}};t.exports=r},function(t,e,n){"use strict";t.exports=function t(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}},function(t,e,n){"use strict";t.exports=function t(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(t,e,n){"use strict";var i=n(6);t.exports=function t(e,n,r){i.forEach(r,function t(i){e=i(e,n)});return e}},function(t,e,n){"use strict";var i=n(6);var r=n(132);var o=n(26);var a=n(18);var s=n(131);var l=n(130);function u(t){if(t.cancelToken){t.cancelToken.throwIfRequested()}}t.exports=function t(e){u(e);if(e.baseURL&&!s(e.url)){e.url=l(e.baseURL,e.url)}e.headers=e.headers||{};e.data=r(e.data,e.headers,e.transformRequest);e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{});i.forEach(["delete","get","head","post","put","patch","common"],function t(n){delete e.headers[n]});var n=e.adapter||a.adapter;return n(e).then(function t(n){u(e);n.data=r(n.data,n.headers,e.transformResponse);return n},function t(n){if(!o(n)){u(e);if(n&&n.response){n.response.data=r(n.response.data,n.response.headers,e.transformResponse)}}return Promise.reject(n)})}},function(t,e,n){"use strict";var i=n(6);function r(){this.handlers=[]}r.prototype.use=function t(e,n){this.handlers.push({fulfilled:e,rejected:n});return this.handlers.length-1};r.prototype.eject=function t(e){if(this.handlers[e]){this.handlers[e]=null}};r.prototype.forEach=function t(e){i.forEach(this.handlers,function t(n){if(n!==null){e(n)}})};t.exports=r},function(t,e,n){"use strict";var i=n(6);t.exports=i.isStandardBrowserEnv()?function t(){return{write:function t(e,n,r,o,a,s){var l=[];l.push(e+"="+encodeURIComponent(n));if(i.isNumber(r)){l.push("expires="+new Date(r).toGMTString())}if(i.isString(o)){l.push("path="+o)}if(i.isString(a)){l.push("domain="+a)}if(s===true){l.push("secure")}document.cookie=l.join("; ")},read:function t(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function t(e){this.write(e,"",Date.now()-864e5)}}}():function t(){return{write:function t(){},read:function t(){return null},remove:function t(){}}}()},function(t,e,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(){this.message="String contains an invalid character"}r.prototype=new Error;r.prototype.code=5;r.prototype.name="InvalidCharacterError";function o(t){var e=String(t);var n="";for(var o,a,s=0,l=i;e.charAt(s|0)||(l="=",s%1);n+=l.charAt(63&o>>8-s%1*8)){a=e.charCodeAt(s+=3/4);if(a>255){throw new r}o=o<<8|a}return n}t.exports=o},function(t,e,n){"use strict";var i=n(6);t.exports=i.isStandardBrowserEnv()?function t(){var e=/(msie|trident)/i.test(navigator.userAgent);var n=document.createElement("a");var r;function o(t){var i=t;if(e){n.setAttribute("href",i);i=n.href}n.setAttribute("href",i);return{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}r=o(window.location.href);return function t(e){var n=i.isString(e)?o(e):e;return n.protocol===r.protocol&&n.host===r.host}}():function t(){return function t(){return true}}()},function(t,e,n){"use strict";var i=n(6);var r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function t(e){var n={};var o;var a;var s;if(!e){return n}i.forEach(e.split("\n"),function t(e){s=e.indexOf(":");o=i.trim(e.substr(0,s)).toLowerCase();a=i.trim(e.substr(s+1));if(o){if(n[o]&&r.indexOf(o)>=0){return}if(o==="set-cookie"){n[o]=(n[o]?n[o]:[]).concat([a])}else{n[o]=n[o]?n[o]+", "+a:a}}});return n}},function(t,e,n){"use strict";var i=n(6);function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function t(e,n,o){if(!n){return e}var a;if(o){a=o(n)}else if(i.isURLSearchParams(n)){a=n.toString()}else{var s=[];i.forEach(n,function t(e,n){if(e===null||typeof e==="undefined"){return}if(i.isArray(e)){n=n+"[]"}else{e=[e]}i.forEach(e,function t(e){if(i.isDate(e)){e=e.toISOString()}else if(i.isObject(e)){e=JSON.stringify(e)}s.push(r(n)+"="+r(e))})});a=s.join("&")}if(a){e+=(e.indexOf("?")===-1?"?":"&")+a}return e}},function(t,e,n){"use strict";t.exports=function t(e,n,i,r,o){e.config=n;if(i){e.code=i}e.request=r;e.response=o;return e}},function(t,e,n){"use strict";var i=n(27);t.exports=function t(e,n,r){var o=r.config.validateStatus;if(!r.status||!o||o(r.status)){e(r)}else{n(i("Request failed with status code "+r.status,r.config,null,r.request,r))}}},function(t,e,n){"use strict";var i=n(6);t.exports=function t(e,n){i.forEach(e,function t(i,r){if(r!==n&&r.toUpperCase()===n.toUpperCase()){e[n]=i;delete e[r]}})}},function(t,e,n){"use strict";var i=n(18);var r=n(6);var o=n(134);var a=n(133);function s(t){this.defaults=t;this.interceptors={request:new o,response:new o}}s.prototype.request=function t(e){if(typeof e==="string"){e=r.merge({url:arguments[0]},arguments[1])}e=r.merge(i,{method:"get"},this.defaults,e);e.method=e.method.toLowerCase();var n=[a,undefined];var o=Promise.resolve(e);this.interceptors.request.forEach(function t(e){n.unshift(e.fulfilled,e.rejected)});this.interceptors.response.forEach(function t(e){n.push(e.fulfilled,e.rejected)});while(n.length){o=o.then(n.shift(),n.shift())}return o};r.forEach(["delete","get","head","options"],function t(e){s.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}});r.forEach(["post","put","patch"],function t(e){s.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}});t.exports=s},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return t!=null&&(n(t)||i(t)||!!t._isBuffer)};function n(t){return!!t.constructor&&typeof t.constructor.isBuffer==="function"&&t.constructor.isBuffer(t)}function i(t){return typeof t.readFloatLE==="function"&&typeof t.slice==="function"&&n(t.slice(0,0))}},function(t,e,n){"use strict";var i=n(6);var r=n(29);var o=n(143);var a=n(18);function s(t){var e=new o(t);var n=r(o.prototype.request,e);i.extend(n,o.prototype,e);i.extend(n,e);return n}var l=s(a);l.Axios=o;l.create=function t(e){return s(i.merge(a,e))};l.Cancel=n(25);l.CancelToken=n(129);l.isCancel=n(26);l.all=function t(e){return Promise.all(e)};l.spread=n(128);t.exports=l;t.exports.default=l},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,"",""])},function(t,e,n){var i=n(146);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("596be39e",i,true,{})},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,"",""])},function(t,e,n){var i=n(148);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("0d148ddd",i,true,{})},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,".slide-to-left-enter-active[data-v-6d553339]{transition:all .3s ease}.slide-to-left-leave-active[data-v-6d553339]{transition:all .8s cubic-bezier(1,.5,.8,1)}.slide-to-left-enter[data-v-6d553339],.slide-to-left-leave-to[data-v-6d553339]{transform:translateX(30%);opacity:0}.slide-to-right-enter-active[data-v-6d553339]{transition:all .3s ease}.slide-to-right-leave-active[data-v-6d553339]{transition:all .8s cubic-bezier(1,.5,.8,1)}.slide-to-left-leave-to[data-v-6d553339],.slide-to-right-enter[data-v-6d553339]{transform:translateX(30%);opacity:0}",""])},function(t,e,n){var i=n(150);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("a7dc8e58",i,true,{})},function(t,e,n){e=t.exports=n(5)(false);e.push([t.i,"#app{min-height:100vh}",""])},function(t,e,n){var i=n(152);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var r=n(4).default;var o=r("474b47a6",i,true,{})},function(t,e,n){(function(t,e){(function(t,n){"use strict";if(t.setImmediate){return}var i=1;var r={};var o=false;var a=t.document;var s;function l(t){if(typeof t!=="function"){t=new Function(""+t)}var e=new Array(arguments.length-1);for(var n=0;n<e.length;n++){e[n]=arguments[n+1]}var o={callback:t,args:e};r[i]=o;s(i);return i++}function u(t){delete r[t]}function c(t){var e=t.callback;var i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i);break}}function f(t){if(o){setTimeout(f,0,t)}else{var e=r[t];if(e){o=true;try{c(e)}finally{u(t);o=false}}}}function h(){s=function t(n){e.nextTick(function(){f(n)})}}function d(){if(t.postMessage&&!t.importScripts){var e=true;var n=t.onmessage;t.onmessage=function(){e=false};t.postMessage("","*");t.onmessage=n;return e}}function p(){var e="setImmediate$"+Math.random()+"$";var n=function n(i){if(i.source===t&&typeof i.data==="string"&&i.data.indexOf(e)===0){f(+i.data.slice(e.length))}};if(t.addEventListener){t.addEventListener("message",n,false)}else{t.attachEvent("onmessage",n)}s=function n(i){t.postMessage(e+i,"*")}}function v(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;f(e)};s=function e(n){t.port2.postMessage(n)}}function m(){var t=a.documentElement;s=function e(n){var i=a.createElement("script");i.onreadystatechange=function(){f(n);i.onreadystatechange=null;t.removeChild(i);i=null};t.appendChild(i)}}function g(){s=function t(e){setTimeout(f,0,e)}}var y=Object.getPrototypeOf&&Object.getPrototypeOf(t);y=y&&y.setTimeout?y:t;if({}.toString.call(t.process)==="[object process]"){h()}else if(d()){p()}else if(t.MessageChannel){v()}else if(a&&"onreadystatechange"in a.createElement("script")){m()}else{g()}y.setImmediate=l;y.clearImmediate=u})(typeof self==="undefined"?typeof t==="undefined"?this:t:self)}).call(this,n(13),n(30))},function(t,e,n){(function(t){var i=typeof t!=="undefined"&&t||typeof self!=="undefined"&&self||window;var r=Function.prototype.apply;e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)};e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)};e.clearTimeout=e.clearInterval=function(t){if(t){t.close()}};function o(t,e){this._id=t;this._clearFn=e}o.prototype.unref=o.prototype.ref=function(){};o.prototype.close=function(){this._clearFn.call(i,this._id)};e.enroll=function(t,e){clearTimeout(t._idleTimeoutId);t._idleTimeout=e};e.unenroll=function(t){clearTimeout(t._idleTimeoutId);t._idleTimeout=-1};e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;if(e>=0){t._idleTimeoutId=setTimeout(function e(){if(t._onTimeout)t._onTimeout()},e)}};n(154);e.setImmediate=typeof self!=="undefined"&&self.setImmediate||typeof t!=="undefined"&&t.setImmediate||this&&this.setImmediate;e.clearImmediate=typeof self!=="undefined"&&self.clearImmediate||typeof t!=="undefined"&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(13))}]);
//# sourceMappingURL=build.js.map