(function(t){var e={};function n(r){if(e[r]){return e[r].exports}var i=e[r]={i:r,l:false,exports:{}};t[r].call(i.exports,i,i.exports,n);i.l=true;return i.exports}n.m=t;n.c=e;n.d=function(t,e,r){if(!n.o(t,e)){Object.defineProperty(t,e,{enumerable:true,get:r})}};n.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};n.t=function(t,e){if(e&1)t=n(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var r=Object.create(null);n.r(r);Object.defineProperty(r,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r};n.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};n.d(e,"a",e);return e};n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};n.p="/adele/static/js/";return n(n.s=307)})([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(36);var i=n(37);var o=n(38);var a=n(149);var s=n(150);var l=n(151);var u=n(152);var c=n(153);var f=n(20);var h=n(63);var d=n(64);var p=n(62);var v=n(7);var m={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:r.default,Format:i.default,Leaf:o.default,Embed:u.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:c.default,Attributor:{Attribute:f.default,Class:h.default,Style:d.default,Store:p.default}};e.default=m},function(t,e,n){t.exports=n(100)},function(t,e,n){var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=n(155);var o=n(11);var a=n(3);var s=n(15);var l=String.fromCharCode(0);var u=function t(e){if(Array.isArray(e)){this.ops=e}else if(e!=null&&Array.isArray(e.ops)){this.ops=e.ops}else{this.ops=[]}};u.prototype.insert=function(t,e){var n={};if(t.length===0)return this;n.insert=t;if(e!=null&&(typeof e==="undefined"?"undefined":r(e))==="object"&&Object.keys(e).length>0){n.attributes=e}return this.push(n)};u.prototype["delete"]=function(t){if(t<=0)return this;return this.push({delete:t})};u.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};if(e!=null&&(typeof e==="undefined"?"undefined":r(e))==="object"&&Object.keys(e).length>0){n.attributes=e}return this.push(n)};u.prototype.push=function(t){var e=this.ops.length;var n=this.ops[e-1];t=a(true,{},t);if((typeof n==="undefined"?"undefined":r(n))==="object"){if(typeof t["delete"]==="number"&&typeof n["delete"]==="number"){this.ops[e-1]={delete:n["delete"]+t["delete"]};return this}if(typeof n["delete"]==="number"&&t.insert!=null){e-=1;n=this.ops[e-1];if((typeof n==="undefined"?"undefined":r(n))!=="object"){this.ops.unshift(t);return this}}if(o(t.attributes,n.attributes)){if(typeof t.insert==="string"&&typeof n.insert==="string"){this.ops[e-1]={insert:n.insert+t.insert};if(r(t.attributes)==="object")this.ops[e-1].attributes=t.attributes;return this}else if(typeof t.retain==="number"&&typeof n.retain==="number"){this.ops[e-1]={retain:n.retain+t.retain};if(r(t.attributes)==="object")this.ops[e-1].attributes=t.attributes;return this}}}if(e===this.ops.length){this.ops.push(t)}else{this.ops.splice(e,0,t)}return this};u.prototype.chop=function(){var t=this.ops[this.ops.length-1];if(t&&t.retain&&!t.attributes){this.ops.pop()}return this};u.prototype.filter=function(t){return this.ops.filter(t)};u.prototype.forEach=function(t){this.ops.forEach(t)};u.prototype.map=function(t){return this.ops.map(t)};u.prototype.partition=function(t){var e=[],n=[];this.forEach(function(r){var i=t(r)?e:n;i.push(r)});return[e,n]};u.prototype.reduce=function(t,e){return this.ops.reduce(t,e)};u.prototype.changeLength=function(){return this.reduce(function(t,e){if(e.insert){return t+s.length(e)}else if(e.delete){return t-e.delete}return t},0)};u.prototype.length=function(){return this.reduce(function(t,e){return t+s.length(e)},0)};u.prototype.slice=function(t,e){t=t||0;if(typeof e!=="number")e=Infinity;var n=[];var r=s.iterator(this.ops);var i=0;while(i<e&&r.hasNext()){var o;if(i<t){o=r.next(t-i)}else{o=r.next(e-i);n.push(o)}i+=s.length(o)}return new u(n)};u.prototype.compose=function(t){var e=s.iterator(this.ops);var n=s.iterator(t.ops);var r=[];var i=n.peek();if(i!=null&&typeof i.retain==="number"&&i.attributes==null){var a=i.retain;while(e.peekType()==="insert"&&e.peekLength()<=a){a-=e.peekLength();r.push(e.next())}if(i.retain-a>0){n.next(i.retain-a)}}var l=new u(r);while(e.hasNext()||n.hasNext()){if(n.peekType()==="insert"){l.push(n.next())}else if(e.peekType()==="delete"){l.push(e.next())}else{var c=Math.min(e.peekLength(),n.peekLength());var f=e.next(c);var h=n.next(c);if(typeof h.retain==="number"){var d={};if(typeof f.retain==="number"){d.retain=c}else{d.insert=f.insert}var p=s.attributes.compose(f.attributes,h.attributes,typeof f.retain==="number");if(p)d.attributes=p;l.push(d);if(!n.hasNext()&&o(l.ops[l.ops.length-1],d)){var v=new u(e.rest());return l.concat(v).chop()}}else if(typeof h["delete"]==="number"&&typeof f.retain==="number"){l.push(h)}}}return l.chop()};u.prototype.concat=function(t){var e=new u(this.ops.slice());if(t.ops.length>0){e.push(t.ops[0]);e.ops=e.ops.concat(t.ops.slice(1))}return e};u.prototype.diff=function(t,e){if(this.ops===t.ops){return new u}var n=[this,t].map(function(e){return e.map(function(n){if(n.insert!=null){return typeof n.insert==="string"?n.insert:l}var r=e===t?"on":"with";throw new Error("diff() called "+r+" non-document")}).join("")});var r=new u;var a=i(n[0],n[1],e);var c=s.iterator(this.ops);var f=s.iterator(t.ops);a.forEach(function(t){var e=t[1].length;while(e>0){var n=0;switch(t[0]){case i.INSERT:n=Math.min(f.peekLength(),e);r.push(f.next(n));break;case i.DELETE:n=Math.min(e,c.peekLength());c.next(n);r["delete"](n);break;case i.EQUAL:n=Math.min(c.peekLength(),f.peekLength(),e);var a=c.next(n);var l=f.next(n);if(o(a.insert,l.insert)){r.retain(n,s.attributes.diff(a.attributes,l.attributes))}else{r.push(l)["delete"](n)}break}e-=n}});return r.chop()};u.prototype.eachLine=function(t,e){e=e||"\n";var n=s.iterator(this.ops);var r=new u;var i=0;while(n.hasNext()){if(n.peekType()!=="insert")return;var o=n.peek();var a=s.length(o)-n.peekLength();var l=typeof o.insert==="string"?o.insert.indexOf(e,a)-a:-1;if(l<0){r.push(n.next())}else if(l>0){r.push(n.next(l))}else{if(t(r,n.next(1).attributes||{},i)===false){return}i+=1;r=new u}}if(r.length()>0){t(r,{},i)}};u.prototype.transform=function(t,e){e=!!e;if(typeof t==="number"){return this.transformPosition(t,e)}var n=s.iterator(this.ops);var r=s.iterator(t.ops);var i=new u;while(n.hasNext()||r.hasNext()){if(n.peekType()==="insert"&&(e||r.peekType()!=="insert")){i.retain(s.length(n.next()))}else if(r.peekType()==="insert"){i.push(r.next())}else{var o=Math.min(n.peekLength(),r.peekLength());var a=n.next(o);var l=r.next(o);if(a["delete"]){continue}else if(l["delete"]){i.push(l)}else{i.retain(o,s.attributes.transform(a.attributes,l.attributes,e))}}}return i.chop()};u.prototype.transformPosition=function(t,e){e=!!e;var n=s.iterator(this.ops);var r=0;while(n.hasNext()&&r<=t){var i=n.peekLength();var o=n.peekType();n.next();if(o==="delete"){t-=Math.min(i,t-r);continue}else if(o==="insert"&&(r<t||!e)){t+=i}r+=i}return t};t.exports=u},function(t,e,n){"use strict";var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=Object.prototype.hasOwnProperty;var o=Object.prototype.toString;var a=Object.defineProperty;var s=Object.getOwnPropertyDescriptor;var l=function t(e){if(typeof Array.isArray==="function"){return Array.isArray(e)}return o.call(e)==="[object Array]"};var u=function t(e){if(!e||o.call(e)!=="[object Object]"){return false}var n=i.call(e,"constructor");var r=e.constructor&&e.constructor.prototype&&i.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r){return false}var a;for(a in e){}return typeof a==="undefined"||i.call(e,a)};var c=function t(e,n){if(a&&n.name==="__proto__"){a(e,n.name,{enumerable:true,configurable:true,value:n.newValue,writable:true})}else{e[n.name]=n.newValue}};var f=function t(e,n){if(n==="__proto__"){if(!i.call(e,n)){return void 0}else if(s){return s(e,n).value}}return e[n]};t.exports=function t(){var e,n,i,o,a,s;var h=arguments[0];var d=1;var p=arguments.length;var v=false;if(typeof h==="boolean"){v=h;h=arguments[1]||{};d=2}if(h==null||(typeof h==="undefined"?"undefined":r(h))!=="object"&&typeof h!=="function"){h={}}for(;d<p;++d){e=arguments[d];if(e!=null){for(n in e){i=f(h,n);o=f(e,n);if(h!==o){if(v&&o&&(u(o)||(a=l(o)))){if(a){a=false;s=i&&l(i)?i:[]}else{s=i&&u(i)?i:{}}c(h,{name:n,newValue:t(v,s,o)})}else if(typeof o!=="undefined"){c(h,{name:n,newValue:o})}}}}}return h}},function(t,e){t.exports=function(t){var e=[];e.toString=function e(){return this.map(function(e){var r=n(e,t);if(e[2]){return"@media "+e[2]+"{"+r+"}"}else{return r}}).join("")};e.i=function(t,n){if(typeof t==="string")t=[[null,t,""]];var r={};for(var i=0;i<this.length;i++){var o=this[i][0];if(typeof o==="number")r[o]=true}for(i=0;i<t.length;i++){var a=t[i];if(typeof a[0]!=="number"||!r[a[0]]){if(n&&!a[2]){a[2]=n}else if(n){a[2]="("+a[2]+") and ("+n+")"}e.push(a)}}};return e};function n(t,e){var n=t[1]||"";var i=t[3];if(!i){return n}if(e&&typeof btoa==="function"){var o=r(i);var a=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(a).concat([o]).join("\n")}return[n].join("\n")}function r(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t))));var n="sourceMappingURL=data:application/json;charset=utf-8;base64,"+e;return"/*# "+n+" */"}},function(t,e,n){"use strict";n.r(e);n.d(e,"default",function(){return v});var r=n(53);var i=n.n(r);var o=typeof document!=="undefined";if(typeof DEBUG!=="undefined"&&DEBUG){if(!o){throw new Error("vue-style-loader cannot be used in a non-browser environment. "+"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.")}}var a={};var s=o&&(document.head||document.getElementsByTagName("head")[0]);var l=null;var u=0;var c=false;var f=function(){};var h=null;var d="data-vue-ssr-id";var p=typeof navigator!=="undefined"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function v(t,e,n,r){c=n;h=r||{};var o=i()(t,e);m(o);return function e(n){var r=[];for(var s=0;s<o.length;s++){var l=o[s];var u=a[l.id];u.refs--;r.push(u)}if(n){o=i()(t,n);m(o)}else{o=[]}for(var s=0;s<r.length;s++){var u=r[s];if(u.refs===0){for(var c=0;c<u.parts.length;c++){u.parts[c]()}delete a[u.id]}}}}function m(t){for(var e=0;e<t.length;e++){var n=t[e];var r=a[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++){r.parts[i](n.parts[i])}for(;i<n.parts.length;i++){r.parts.push(g(n.parts[i]))}if(r.parts.length>n.parts.length){r.parts.length=n.parts.length}}else{var o=[];for(var i=0;i<n.parts.length;i++){o.push(g(n.parts[i]))}a[n.id]={id:n.id,refs:1,parts:o}}}}function y(){var t=document.createElement("style");t.type="text/css";s.appendChild(t);return t}function g(t){var e,n;var r=document.querySelector("style["+d+'~="'+t.id+'"]');if(r){if(c){return f}else{r.parentNode.removeChild(r)}}if(p){var i=u++;r=l||(l=y());e=b.bind(null,r,i,false);n=b.bind(null,r,i,true)}else{r=y();e=w.bind(null,r);n=function(){r.parentNode.removeChild(r)}}e(t);return function r(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap){return}e(t=i)}else{n()}}}var _=function(){var t=[];return function(e,n){t[e]=n;return t.filter(Boolean).join("\n")}}();function b(t,e,n,r){var i=n?"":r.css;if(t.styleSheet){t.styleSheet.cssText=_(e,i)}else{var o=document.createTextNode(i);var a=t.childNodes;if(a[e])t.removeChild(a[e]);if(a.length){t.insertBefore(o,a[e])}else{t.appendChild(o)}}}function w(t,e){var n=e.css;var r=e.media;var i=e.sourceMap;if(r){t.setAttribute("media",r)}if(h.ssrId){t.setAttribute(d,e.id)}if(i){n+="\n/*# sourceURL="+i.sources[0]+" */";n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"}if(t.styleSheet){t.styleSheet.cssText=n}else{while(t.firstChild){t.removeChild(t.firstChild)}t.appendChild(document.createTextNode(n))}}},function(t,e,n){"use strict";var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=n(56);var o=n(101);var a=Object.prototype.toString;function s(t){return a.call(t)==="[object Array]"}function l(t){return a.call(t)==="[object ArrayBuffer]"}function u(t){return typeof FormData!=="undefined"&&t instanceof FormData}function c(t){var e;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView){e=ArrayBuffer.isView(t)}else{e=t&&t.buffer&&t.buffer instanceof ArrayBuffer}return e}function f(t){return typeof t==="string"}function h(t){return typeof t==="number"}function d(t){return typeof t==="undefined"}function p(t){return t!==null&&(typeof t==="undefined"?"undefined":r(t))==="object"}function v(t){return a.call(t)==="[object Date]"}function m(t){return a.call(t)==="[object File]"}function y(t){return a.call(t)==="[object Blob]"}function g(t){return a.call(t)==="[object Function]"}function _(t){return p(t)&&g(t.pipe)}function b(t){return typeof URLSearchParams!=="undefined"&&t instanceof URLSearchParams}function w(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function x(){if(typeof navigator!=="undefined"&&navigator.product==="ReactNative"){return false}return typeof window!=="undefined"&&typeof document!=="undefined"}function E(t,e){if(t===null||typeof t==="undefined"){return}if((typeof t==="undefined"?"undefined":r(t))!=="object"){t=[t]}if(s(t)){for(var n=0,i=t.length;n<i;n++){e.call(null,t[n],n,t)}}else{for(var o in t){if(Object.prototype.hasOwnProperty.call(t,o)){e.call(null,t[o],o,t)}}}}function k(){var t={};function e(e,n){if(r(t[n])==="object"&&(typeof e==="undefined"?"undefined":r(e))==="object"){t[n]=k(t[n],e)}else{t[n]=e}}for(var n=0,i=arguments.length;n<i;n++){E(arguments[n],e)}return t}function O(t,e,n){E(e,function e(r,o){if(n&&typeof r==="function"){t[o]=i(r,n)}else{t[o]=r}});return t}t.exports={isArray:s,isArrayBuffer:l,isBuffer:o,isFormData:u,isArrayBufferView:c,isString:f,isNumber:h,isObject:p,isUndefined:d,isDate:v,isFile:m,isBlob:y,isFunction:g,isStream:_,isURLSearchParams:b,isStandardBrowserEnv:x,forEach:E,merge:k,extend:O,trim:w}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:true});var i=function(t){r(e,t);function e(e){var n=this;e="[Parchment] "+e;n=t.call(this,e)||this;n.message=e;n.name=n.constructor.name;return n}return e}(Error);e.ParchmentError=i;var o={};var a={};var s={};var l={};e.DATA_KEY="__blot";var u;(function(t){t[t["TYPE"]=3]="TYPE";t[t["LEVEL"]=12]="LEVEL";t[t["ATTRIBUTE"]=13]="ATTRIBUTE";t[t["BLOT"]=14]="BLOT";t[t["INLINE"]=7]="INLINE";t[t["BLOCK"]=11]="BLOCK";t[t["BLOCK_BLOT"]=10]="BLOCK_BLOT";t[t["INLINE_BLOT"]=6]="INLINE_BLOT";t[t["BLOCK_ATTRIBUTE"]=9]="BLOCK_ATTRIBUTE";t[t["INLINE_ATTRIBUTE"]=5]="INLINE_ATTRIBUTE";t[t["ANY"]=15]="ANY"})(u=e.Scope||(e.Scope={}));function c(t,e){var n=h(t);if(n==null){throw new i("Unable to create "+t+" blot")}var r=n;var o=t instanceof Node||t["nodeType"]===Node.TEXT_NODE?t:r.create(e);return new r(o,e)}e.create=c;function f(t,n){if(n===void 0){n=false}if(t==null)return null;if(t[e.DATA_KEY]!=null)return t[e.DATA_KEY].blot;if(n)return f(t.parentNode,n);return null}e.find=f;function h(t,e){if(e===void 0){e=u.ANY}var n;if(typeof t==="string"){n=l[t]||o[t]}else if(t instanceof Text||t["nodeType"]===Node.TEXT_NODE){n=l["text"]}else if(typeof t==="number"){if(t&u.LEVEL&u.BLOCK){n=l["block"]}else if(t&u.LEVEL&u.INLINE){n=l["inline"]}}else if(t instanceof HTMLElement){var r=(t.getAttribute("class")||"").split(/\s+/);for(var i in r){n=a[r[i]];if(n)break}n=n||s[t.tagName]}if(n==null)return null;if(e&u.LEVEL&n.scope&&e&u.TYPE&n.scope)return n;return null}e.query=h;function d(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}if(t.length>1){return t.map(function(t){return d(t)})}var n=t[0];if(typeof n.blotName!=="string"&&typeof n.attrName!=="string"){throw new i("Invalid definition")}else if(n.blotName==="abstract"){throw new i("Cannot register abstract class")}l[n.blotName||n.attrName]=n;if(typeof n.keyName==="string"){o[n.keyName]=n}else{if(n.className!=null){a[n.className]=n}if(n.tagName!=null){if(Array.isArray(n.tagName)){n.tagName=n.tagName.map(function(t){return t.toUpperCase()})}else{n.tagName=n.tagName.toUpperCase()}var r=Array.isArray(n.tagName)?n.tagName:[n.tagName];r.forEach(function(t){if(s[t]==null||n.className==null){s[t]=n}})}}return n}e.register=d},function(t,e,n){(function(t,e){var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=function(){"use strict";function e(t,e){return e!=null&&t instanceof e}var r;try{r=Map}catch(t){r=function t(){}}var i;try{i=Set}catch(t){i=function t(){}}var o;try{o=Promise}catch(t){o=function t(){}}function a(s,l,u,c,h){if((typeof l==="undefined"?"undefined":n(l))==="object"){u=l.depth;c=l.prototype;h=l.includeNonEnumerable;l=l.circular}var d=[];var p=[];var v=typeof t!="undefined";if(typeof l=="undefined")l=true;if(typeof u=="undefined")u=Infinity;function m(s,u){if(s===null)return null;if(u===0)return s;var y;var g;if((typeof s==="undefined"?"undefined":n(s))!="object"){return s}if(e(s,r)){y=new r}else if(e(s,i)){y=new i}else if(e(s,o)){y=new o(function(t,e){s.then(function(e){t(m(e,u-1))},function(t){e(m(t,u-1))})})}else if(a.__isArray(s)){y=[]}else if(a.__isRegExp(s)){y=new RegExp(s.source,f(s));if(s.lastIndex)y.lastIndex=s.lastIndex}else if(a.__isDate(s)){y=new Date(s.getTime())}else if(v&&t.isBuffer(s)){if(t.allocUnsafe){y=t.allocUnsafe(s.length)}else{y=new t(s.length)}s.copy(y);return y}else if(e(s,Error)){y=Object.create(s)}else{if(typeof c=="undefined"){g=Object.getPrototypeOf(s);y=Object.create(g)}else{y=Object.create(c);g=c}}if(l){var _=d.indexOf(s);if(_!=-1){return p[_]}d.push(s);p.push(y)}if(e(s,r)){s.forEach(function(t,e){var n=m(e,u-1);var r=m(t,u-1);y.set(n,r)})}if(e(s,i)){s.forEach(function(t){var e=m(t,u-1);y.add(e)})}for(var b in s){var w;if(g){w=Object.getOwnPropertyDescriptor(g,b)}if(w&&w.set==null){continue}y[b]=m(s[b],u-1)}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(s);for(var b=0;b<x.length;b++){var E=x[b];var k=Object.getOwnPropertyDescriptor(s,E);if(k&&!k.enumerable&&!h){continue}y[E]=m(s[E],u-1);if(!k.enumerable){Object.defineProperty(y,E,{enumerable:false})}}}if(h){var O=Object.getOwnPropertyNames(s);for(var b=0;b<O.length;b++){var T=O[b];var k=Object.getOwnPropertyDescriptor(s,T);if(k&&k.enumerable){continue}y[T]=m(s[T],u-1);Object.defineProperty(y,T,{enumerable:false})}}return y}return m(s,u)}a.clonePrototype=function t(e){if(e===null)return null;var n=function t(){};n.prototype=e;return new n};function s(t){return Object.prototype.toString.call(t)}a.__objToStr=s;function l(t){return(typeof t==="undefined"?"undefined":n(t))==="object"&&s(t)==="[object Date]"}a.__isDate=l;function u(t){return(typeof t==="undefined"?"undefined":n(t))==="object"&&s(t)==="[object Array]"}a.__isArray=u;function c(t){return(typeof t==="undefined"?"undefined":n(t))==="object"&&s(t)==="[object RegExp]"}a.__isRegExp=c;function f(t){var e="";if(t.global)e+="g";if(t.ignoreCase)e+="i";if(t.multiline)e+="m";return e}a.__getRegExpFlags=f;return a}();if((false?undefined:n(e))==="object"&&e.exports){e.exports=r}}).call(this,n(158).Buffer,n(23)(t))},function(t,e,n){var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=n(68);var o=(typeof self==="undefined"?"undefined":r(self))=="object"&&self&&self.Object===Object&&self;var a=i||o||Function("return this")();t.exports=a},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=Array.prototype.slice;var o=n(156);var a=n(157);var s=t.exports=function(t,e,n){if(!n)n={};if(t===e){return true}else if(t instanceof Date&&e instanceof Date){return t.getTime()===e.getTime()}else if(!t||!e||(typeof t==="undefined"?"undefined":r(t))!="object"&&(typeof e==="undefined"?"undefined":r(e))!="object"){return n.strict?t===e:t==e}else{return c(t,e,n)}};function l(t){return t===null||t===undefined}function u(t){if(!t||(typeof t==="undefined"?"undefined":r(t))!=="object"||typeof t.length!=="number")return false;if(typeof t.copy!=="function"||typeof t.slice!=="function"){return false}if(t.length>0&&typeof t[0]!=="number")return false;return true}function c(t,e,n){var c,f;if(l(t)||l(e))return false;if(t.prototype!==e.prototype)return false;if(a(t)){if(!a(e)){return false}t=i.call(t);e=i.call(e);return s(t,e,n)}if(u(t)){if(!u(e)){return false}if(t.length!==e.length)return false;for(c=0;c<t.length;c++){if(t[c]!==e[c])return false}return true}try{var h=o(t),d=o(e)}catch(t){return false}if(h.length!=d.length)return false;h.sort();d.sort();for(c=h.length-1;c>=0;c--){if(h[c]!=d[c])return false}for(c=h.length-1;c>=0;c--){f=h[c];if(!s(t[f],e[f],n))return false}return(typeof t==="undefined"?"undefined":r(t))===(typeof e==="undefined"?"undefined":r(e))}},function(t,e,n){t.exports={align:{"":n(162),center:n(163),right:n(164),justify:n(165)},background:n(166),blockquote:n(167),bold:n(168),clean:n(169),code:n(65),"code-block":n(65),color:n(170),direction:{"":n(171),rtl:n(172)},float:{center:n(173),full:n(174),left:n(175),right:n(176)},formula:n(177),header:{1:n(178),2:n(179)},italic:n(180),image:n(181),indent:{"+1":n(182),"-1":n(183)},link:n(184),list:{ordered:n(185),bullet:n(186),check:n(187)},script:{sub:n(188),super:n(189)},strike:n(190),underline:n(191),video:n(192)}},function(t,e,n){var r=n(205),i=n(210);function o(t,e){var n=i(t,e);return r(n)?n:undefined}t.exports=o},function(t,e){var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t){return t!=null&&(typeof t==="undefined"?"undefined":n(t))=="object"}t.exports=r},function(t,e,n){var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=n(11);var o=n(3);var a={attributes:{compose:function t(e,n,i){if((typeof e==="undefined"?"undefined":r(e))!=="object")e={};if((typeof n==="undefined"?"undefined":r(n))!=="object")n={};var a=o(true,{},n);if(!i){a=Object.keys(a).reduce(function(t,e){if(a[e]!=null){t[e]=a[e]}return t},{})}for(var s in e){if(e[s]!==undefined&&n[s]===undefined){a[s]=e[s]}}return Object.keys(a).length>0?a:undefined},diff:function t(e,n){if((typeof e==="undefined"?"undefined":r(e))!=="object")e={};if((typeof n==="undefined"?"undefined":r(n))!=="object")n={};var o=Object.keys(e).concat(Object.keys(n)).reduce(function(t,r){if(!i(e[r],n[r])){t[r]=n[r]===undefined?null:n[r]}return t},{});return Object.keys(o).length>0?o:undefined},transform:function t(e,n,i){if((typeof e==="undefined"?"undefined":r(e))!=="object")return n;if((typeof n==="undefined"?"undefined":r(n))!=="object")return undefined;if(!i)return n;var o=Object.keys(n).reduce(function(t,r){if(e[r]===undefined)t[r]=n[r];return t},{});return Object.keys(o).length>0?o:undefined}},iterator:function t(e){return new s(e)},length:function t(e){if(typeof e["delete"]==="number"){return e["delete"]}else if(typeof e.retain==="number"){return e.retain}else{return typeof e.insert==="string"?e.insert.length:1}}};function s(t){this.ops=t;this.index=0;this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<Infinity};s.prototype.next=function(t){if(!t)t=Infinity;var e=this.ops[this.index];if(e){var n=this.offset;var r=a.length(e);if(t>=r-n){t=r-n;this.index+=1;this.offset=0}else{this.offset+=t}if(typeof e["delete"]==="number"){return{delete:t}}else{var i={};if(e.attributes){i.attributes=e.attributes}if(typeof e.retain==="number"){i.retain=t}else if(typeof e.insert==="string"){i.insert=e.insert.substr(n,t)}else{i.insert=e.insert}return i}}else{return{retain:Infinity}}};s.prototype.peek=function(){return this.ops[this.index]};s.prototype.peekLength=function(){if(this.ops[this.index]){return a.length(this.ops[this.index])-this.offset}else{return Infinity}};s.prototype.peekType=function(){if(this.ops[this.index]){if(typeof this.ops[this.index]["delete"]==="number"){return"delete"}else if(typeof this.ops[this.index].retain==="number"){return"retain"}else{return"insert"}}return"retain"};s.prototype.rest=function(){if(!this.hasNext()){return[]}else if(this.offset===0){return this.ops.slice(this.index)}else{var t=this.offset;var e=this.index;var n=this.next();var r=this.ops.slice(this.index);this.offset=t;this.index=e;return[n].concat(r)}};t.exports=a},function(t,e,n){var r=n(21),i=n(206),o=n(207);var a="[object Null]",s="[object Undefined]";var l=r?r.toStringTag:undefined;function u(t){if(t==null){return t===undefined?s:a}return l&&l in Object(t)?i(t):o(t)}t.exports=u},function(t,e){var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t){var e=typeof t==="undefined"?"undefined":n(t);return t!=null&&(e=="object"||e=="function")}t.exports=r},function(t,e,n){var r=n(10),i=n(257),o=n(258),a=n(261);function s(t,e){if(r(t)){return t}return i(t,e)?[t]:o(a(t))}t.exports=s},function(t,e){var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r;r=function(){return this}();try{r=r||Function("return this")()||(1,eval)("this")}catch(t){if((typeof window==="undefined"?"undefined":n(window))==="object")r=window}t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(7);var i=function(){function t(t,e,n){if(n===void 0){n={}}this.attrName=t;this.keyName=e;var i=r.Scope.TYPE&r.Scope.ATTRIBUTE;if(n.scope!=null){this.scope=n.scope&r.Scope.LEVEL|i}else{this.scope=r.Scope.ATTRIBUTE}if(n.whitelist!=null)this.whitelist=n.whitelist}t.keys=function(t){return[].map.call(t.attributes,function(t){return t.name})};t.prototype.add=function(t,e){if(!this.canAdd(t,e))return false;t.setAttribute(this.keyName,e);return true};t.prototype.canAdd=function(t,e){var n=r.query(t,r.Scope.BLOT&(this.scope|r.Scope.TYPE));if(n==null)return false;if(this.whitelist==null)return true;if(typeof e==="string"){return this.whitelist.indexOf(e.replace(/["']/g,""))>-1}else{return this.whitelist.indexOf(e)>-1}};t.prototype.remove=function(t){t.removeAttribute(this.keyName)};t.prototype.value=function(t){var e=t.getAttribute(this.keyName);if(this.canAdd(t,e)&&e){return e}return""};return t}();e.default=i},function(t,e,n){var r=n(9);var i=r.Symbol;t.exports=i},function(t,e,n){var r=n(41),i=n(71);function o(t,e,n,o){var a=!n;n||(n={});var s=-1,l=e.length;while(++s<l){var u=e[s];var c=o?o(n[u],t[u],u,n,t):undefined;if(c===undefined){c=t[u]}if(a){i(n,u,c)}else{r(n,u,c)}}return n}t.exports=o},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){t.deprecate=function(){};t.paths=[];if(!t.children)t.children=[];Object.defineProperty(t,"loaded",{enumerable:true,get:function e(){return t.l}});Object.defineProperty(t,"id",{enumerable:true,get:function e(){return t.i}});t.webpackPolyfill=1}return t}},function(t,e,n){var r=n(195),i=n(196),o=n(197),a=n(198),s=n(199);function l(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r;l.prototype["delete"]=i;l.prototype.get=o;l.prototype.has=a;l.prototype.set=s;t.exports=l},function(t,e,n){var r=n(66);function i(t,e){var n=t.length;while(n--){if(r(t[n][0],e)){return n}}return-1}t.exports=i},function(t,e,n){var r=n(13);var i=r(Object,"create");t.exports=i},function(t,e,n){var r=n(219);function i(t,e){var n=t.__data__;return r(e)?n[typeof e=="string"?"string":"hash"]:n.map}t.exports=i},function(t,e,n){var r=n(73),i=n(75),o=n(47);function a(t){return o(t)?r(t):i(t)}t.exports=a},function(t,e,n){var r=n(226),i=n(14);var o=Object.prototype;var a=o.hasOwnProperty;var s=o.propertyIsEnumerable;var l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},function(t,e){var n=Object.prototype;function r(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||n;return t===r}t.exports=r},function(t,e,n){var r=n(239),i=n(40),o=n(240),a=n(241),s=n(242),l=n(16),u=n(69);var c="[object Map]",f="[object Object]",h="[object Promise]",d="[object Set]",p="[object WeakMap]";var v="[object DataView]";var m=u(r),y=u(i),g=u(o),_=u(a),b=u(s);var w=l;if(r&&w(new r(new ArrayBuffer(1)))!=v||i&&w(new i)!=c||o&&w(o.resolve())!=h||a&&w(new a)!=d||s&&w(new s)!=p){w=function t(e){var n=l(e),r=n==f?e.constructor:undefined,i=r?u(r):"";if(i){switch(i){case m:return v;case y:return c;case g:return h;case _:return d;case b:return p}}return n}}t.exports=w},function(t,e,n){var r=n(52);var i=1/0;function o(t){if(typeof t=="string"||r(t)){return t}var e=t+"";return e=="0"&&1/t==-i?"-0":e}t.exports=o},function(t,e,n){"use strict";(function(t,n){var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
/*!
 * Vue.js v2.5.17
 * (c) 2014-2018 Evan You
 * Released under the MIT License.
 */var i=Object.freeze({});function o(t){return t===undefined||t===null}function a(t){return t!==undefined&&t!==null}function s(t){return t===true}function l(t){return t===false}function u(t){return typeof t==="string"||typeof t==="number"||(typeof t==="undefined"?"undefined":r(t))==="symbol"||typeof t==="boolean"}function c(t){return t!==null&&(typeof t==="undefined"?"undefined":r(t))==="object"}var f=Object.prototype.toString;function h(t){return f.call(t).slice(8,-1)}function d(t){return f.call(t)==="[object Object]"}function p(t){return f.call(t)==="[object RegExp]"}function v(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function m(t){return t==null?"":(typeof t==="undefined"?"undefined":r(t))==="object"?JSON.stringify(t,null,2):String(t)}function y(t){var e=parseFloat(t);return isNaN(e)?t:e}function g(t,e){var n=Object.create(null);var r=t.split(",");for(var i=0;i<r.length;i++){n[r[i]]=true}return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var _=g("slot,component",true);var b=g("key,ref,slot,slot-scope,is");function w(t,e){if(t.length){var n=t.indexOf(e);if(n>-1){return t.splice(n,1)}}}var x=Object.prototype.hasOwnProperty;function E(t,e){return x.call(t,e)}function k(t){var e=Object.create(null);return function n(r){var i=e[r];return i||(e[r]=t(r))}}var O=/-(\w)/g;var T=k(function(t){return t.replace(O,function(t,e){return e?e.toUpperCase():""})});var C=k(function(t){return t.charAt(0).toUpperCase()+t.slice(1)});var A=/\B([A-Z])/g;var L=k(function(t){return t.replace(A,"-$1").toLowerCase()});function S(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}n._length=t.length;return n}function P(t,e){return t.bind(e)}var N=Function.prototype.bind?P:S;function j(t,e){e=e||0;var n=t.length-e;var r=new Array(n);while(n--){r[n]=t[n+e]}return r}function M(t,e){for(var n in e){t[n]=e[n]}return t}function I(t){var e={};for(var n=0;n<t.length;n++){if(t[n]){M(e,t[n])}}return e}function D(t,e,n){}var R=function t(e,n,r){return false};var q=function t(e){return e};function B(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}function F(t,e){if(t===e){return true}var n=c(t);var r=c(e);if(n&&r){try{var i=Array.isArray(t);var o=Array.isArray(e);if(i&&o){return t.length===e.length&&t.every(function(t,n){return F(t,e[n])})}else if(!i&&!o){var a=Object.keys(t);var s=Object.keys(e);return a.length===s.length&&a.every(function(n){return F(t[n],e[n])})}else{return false}}catch(t){return false}}else if(!n&&!r){return String(t)===String(e)}else{return false}}function z(t,e){for(var n=0;n<t.length;n++){if(F(t[n],e)){return n}}return-1}function U(t){var e=false;return function(){if(!e){e=true;t.apply(this,arguments)}}}var $="data-server-rendered";var H=["component","directive","filter"];var Z=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"];var V={optionMergeStrategies:Object.create(null),silent:false,productionTip:"production"!=="production",devtools:"production"!=="production",performance:false,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:R,isReservedAttr:R,isUnknownElement:R,getTagNamespace:D,parsePlatformTagName:q,mustUseProp:R,_lifecycleHooks:Z};function W(t){var e=(t+"").charCodeAt(0);return e===36||e===95}function G(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:true,configurable:true})}var K=/[^\w.$]/;function Y(t){if(K.test(t)){return}var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t){return}t=t[e[n]]}return t}}var X="__proto__"in{};var J=typeof window!=="undefined";var Q=typeof WXEnvironment!=="undefined"&&!!WXEnvironment.platform;var tt=Q&&WXEnvironment.platform.toLowerCase();var et=J&&window.navigator.userAgent.toLowerCase();var nt=et&&/msie|trident/.test(et);var rt=et&&et.indexOf("msie 9.0")>0;var it=et&&et.indexOf("edge/")>0;var ot=et&&et.indexOf("android")>0||tt==="android";var at=et&&/iphone|ipad|ipod|ios/.test(et)||tt==="ios";var st=et&&/chrome\/\d+/.test(et)&&!it;var lt={}.watch;var ut=false;if(J){try{var ct={};Object.defineProperty(ct,"passive",{get:function t(){ut=true}});window.addEventListener("test-passive",null,ct)}catch(t){}}var ft;var ht=function e(){if(ft===undefined){if(!J&&!Q&&typeof t!=="undefined"){ft=t["process"].env.VUE_ENV==="server"}else{ft=false}}return ft};var dt=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function pt(t){return typeof t==="function"&&/native code/.test(t.toString())}var vt=typeof Symbol!=="undefined"&&pt(Symbol)&&typeof Reflect!=="undefined"&&pt(Reflect.ownKeys);var mt;if(typeof Set!=="undefined"&&pt(Set)){mt=Set}else{mt=function(){function t(){this.set=Object.create(null)}t.prototype.has=function t(e){return this.set[e]===true};t.prototype.add=function t(e){this.set[e]=true};t.prototype.clear=function t(){this.set=Object.create(null)};return t}()}var yt=D;var gt=D;var _t=D;var bt=D;if(false){var wt,xt,Et,kt}var Ot=0;var Tt=function t(){this.id=Ot++;this.subs=[]};Tt.prototype.addSub=function t(e){this.subs.push(e)};Tt.prototype.removeSub=function t(e){w(this.subs,e)};Tt.prototype.depend=function t(){if(Tt.target){Tt.target.addDep(this)}};Tt.prototype.notify=function t(){var e=this.subs.slice();for(var n=0,r=e.length;n<r;n++){e[n].update()}};Tt.target=null;var Ct=[];function At(t){if(Tt.target){Ct.push(Tt.target)}Tt.target=t}function Lt(){Tt.target=Ct.pop()}var St=function t(e,n,r,i,o,a,s,l){this.tag=e;this.data=n;this.children=r;this.text=i;this.elm=o;this.ns=undefined;this.context=a;this.fnContext=undefined;this.fnOptions=undefined;this.fnScopeId=undefined;this.key=n&&n.key;this.componentOptions=s;this.componentInstance=undefined;this.parent=undefined;this.raw=false;this.isStatic=false;this.isRootInsert=true;this.isComment=false;this.isCloned=false;this.isOnce=false;this.asyncFactory=l;this.asyncMeta=undefined;this.isAsyncPlaceholder=false};var Pt={child:{configurable:true}};Pt.child.get=function(){return this.componentInstance};Object.defineProperties(St.prototype,Pt);var Nt=function t(e){if(e===void 0)e="";var n=new St;n.text=e;n.isComment=true;return n};function jt(t){return new St(undefined,undefined,undefined,String(t))}function Mt(t){var e=new St(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);e.ns=t.ns;e.isStatic=t.isStatic;e.key=t.key;e.isComment=t.isComment;e.fnContext=t.fnContext;e.fnOptions=t.fnOptions;e.fnScopeId=t.fnScopeId;e.isCloned=true;return e}var It=Array.prototype;var Dt=Object.create(It);var Rt=["push","pop","shift","unshift","splice","sort","reverse"];Rt.forEach(function(t){var e=It[t];G(Dt,t,function n(){var r=[],i=arguments.length;while(i--){r[i]=arguments[i]}var o=e.apply(this,r);var a=this.__ob__;var s;switch(t){case"push":case"unshift":s=r;break;case"splice":s=r.slice(2);break}if(s){a.observeArray(s)}a.dep.notify();return o})});var qt=Object.getOwnPropertyNames(Dt);var Bt=true;function Ft(t){Bt=t}var zt=function t(e){this.value=e;this.dep=new Tt;this.vmCount=0;G(e,"__ob__",this);if(Array.isArray(e)){var n=X?Ut:$t;n(e,Dt,qt);this.observeArray(e)}else{this.walk(e)}};zt.prototype.walk=function t(e){var n=Object.keys(e);for(var r=0;r<n.length;r++){Zt(e,n[r])}};zt.prototype.observeArray=function t(e){for(var n=0,r=e.length;n<r;n++){Ht(e[n])}};function Ut(t,e,n){t.__proto__=e}function $t(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];G(t,o,e[o])}}function Ht(t,e){if(!c(t)||t instanceof St){return}var n;if(E(t,"__ob__")&&t.__ob__ instanceof zt){n=t.__ob__}else if(Bt&&!ht()&&(Array.isArray(t)||d(t))&&Object.isExtensible(t)&&!t._isVue){n=new zt(t)}if(e&&n){n.vmCount++}return n}function Zt(t,e,n,r,i){var o=new Tt;var a=Object.getOwnPropertyDescriptor(t,e);if(a&&a.configurable===false){return}var s=a&&a.get;if(!s&&arguments.length===2){n=t[e]}var l=a&&a.set;var u=!i&&Ht(n);Object.defineProperty(t,e,{enumerable:true,configurable:true,get:function e(){var r=s?s.call(t):n;if(Tt.target){o.depend();if(u){u.dep.depend();if(Array.isArray(r)){Gt(r)}}}return r},set:function e(r){var a=s?s.call(t):n;if(r===a||r!==r&&a!==a){return}if(false){}if(l){l.call(t,r)}else{n=r}u=!i&&Ht(r);o.notify()}})}function Vt(t,e,n){if(false){}if(Array.isArray(t)&&v(e)){t.length=Math.max(t.length,e);t.splice(e,1,n);return n}if(e in t&&!(e in Object.prototype)){t[e]=n;return n}var r=t.__ob__;if(t._isVue||r&&r.vmCount){"production"!=="production"&&yt("Avoid adding reactive properties to a Vue instance or its root $data "+"at runtime - declare it upfront in the data option.");return n}if(!r){t[e]=n;return n}Zt(r.value,e,n);r.dep.notify();return n}function Wt(t,e){if(false){}if(Array.isArray(t)&&v(e)){t.splice(e,1);return}var n=t.__ob__;if(t._isVue||n&&n.vmCount){"production"!=="production"&&yt("Avoid deleting properties on a Vue instance or its root $data "+"- just set it to null.");return}if(!E(t,e)){return}delete t[e];if(!n){return}n.dep.notify()}function Gt(t){for(var e=void 0,n=0,r=t.length;n<r;n++){e=t[n];e&&e.__ob__&&e.__ob__.dep.depend();if(Array.isArray(e)){Gt(e)}}}var Kt=V.optionMergeStrategies;if(false){}function Yt(t,e){if(!e){return t}var n,r,i;var o=Object.keys(e);for(var a=0;a<o.length;a++){n=o[a];r=t[n];i=e[n];if(!E(t,n)){Vt(t,n,i)}else if(d(r)&&d(i)){Yt(r,i)}}return t}function Xt(t,e,n){if(!n){if(!e){return t}if(!t){return e}return function n(){return Yt(typeof e==="function"?e.call(this,this):e,typeof t==="function"?t.call(this,this):t)}}else{return function r(){var i=typeof e==="function"?e.call(n,n):e;var o=typeof t==="function"?t.call(n,n):t;if(i){return Yt(i,o)}else{return o}}}}Kt.data=function(t,e,n){if(!n){if(e&&typeof e!=="function"){"production"!=="production"&&yt('The "data" option should be a function '+"that returns a per-instance value in component "+"definitions.",n);return t}return Xt(t,e)}return Xt(t,e,n)};function Jt(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}Z.forEach(function(t){Kt[t]=Jt});function Qt(t,e,n,r){var i=Object.create(t||null);if(e){"production"!=="production"&&ae(r,e,n);return M(i,e)}else{return i}}H.forEach(function(t){Kt[t+"s"]=Qt});Kt.watch=function(t,e,n,r){if(t===lt){t=undefined}if(e===lt){e=undefined}if(!e){return Object.create(t||null)}if(false){}if(!t){return e}var i={};M(i,t);for(var o in e){var a=i[o];var s=e[o];if(a&&!Array.isArray(a)){a=[a]}i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i};Kt.props=Kt.methods=Kt.inject=Kt.computed=function(t,e,n,r){if(e&&"production"!=="production"){ae(r,e,n)}if(!t){return e}var i=Object.create(null);M(i,t);if(e){M(i,e)}return i};Kt.provide=Xt;var te=function t(e,n){return n===undefined?e:n};function ee(t){for(var e in t.components){ne(e)}}function ne(t){if(!/^[a-zA-Z][\w-]*$/.test(t)){yt('Invalid component name: "'+t+'". Component names '+"can only contain alphanumeric characters and the hyphen, "+"and must start with a letter.")}if(_(t)||V.isReservedTag(t)){yt("Do not use built-in or reserved HTML elements as component "+"id: "+t)}}function re(t,e){var n=t.props;if(!n){return}var r={};var i,o,a;if(Array.isArray(n)){i=n.length;while(i--){o=n[i];if(typeof o==="string"){a=T(o);r[a]={type:null}}else if(false){}}}else if(d(n)){for(var s in n){o=n[s];a=T(s);r[a]=d(o)?o:{type:o}}}else if(false){}t.props=r}function ie(t,e){var n=t.inject;if(!n){return}var r=t.inject={};if(Array.isArray(n)){for(var i=0;i<n.length;i++){r[n[i]]={from:n[i]}}}else if(d(n)){for(var o in n){var a=n[o];r[o]=d(a)?M({from:o},a):{from:a}}}else if(false){}}function oe(t){var e=t.directives;if(e){for(var n in e){var r=e[n];if(typeof r==="function"){e[n]={bind:r,update:r}}}}}function ae(t,e,n){if(!d(e)){yt('Invalid value for option "'+t+'": expected an Object, '+"but got "+h(e)+".",n)}}function se(t,e,n){if(false){}if(typeof e==="function"){e=e.options}re(e,n);ie(e,n);oe(e);var r=e.extends;if(r){t=se(t,r,n)}if(e.mixins){for(var i=0,o=e.mixins.length;i<o;i++){t=se(t,e.mixins[i],n)}}var a={};var s;for(s in t){l(s)}for(s in e){if(!E(t,s)){l(s)}}function l(r){var i=Kt[r]||te;a[r]=i(t[r],e[r],n,r)}return a}function le(t,e,n,r){if(typeof n!=="string"){return}var i=t[e];if(E(i,n)){return i[n]}var o=T(n);if(E(i,o)){return i[o]}var a=C(o);if(E(i,a)){return i[a]}var s=i[n]||i[o]||i[a];if(false){}return s}function ue(t,e,n,r){var i=e[t];var o=!E(n,t);var a=n[t];var s=me(Boolean,i.type);if(s>-1){if(o&&!E(i,"default")){a=false}else if(a===""||a===L(t)){var l=me(String,i.type);if(l<0||s<l){a=true}}}if(a===undefined){a=ce(r,i,t);var u=Bt;Ft(true);Ht(a);Ft(u)}if(false){}return a}function ce(t,e,n){if(!E(e,"default")){return undefined}var r=e.default;if(false){}if(t&&t.$options.propsData&&t.$options.propsData[n]===undefined&&t._props[n]!==undefined){return t._props[n]}return typeof r==="function"&&pe(e.type)!=="Function"?r.call(t):r}function fe(t,e,n,r,i){if(t.required&&i){yt('Missing required prop: "'+e+'"',r);return}if(n==null&&!t.required){return}var o=t.type;var a=!o||o===true;var s=[];if(o){if(!Array.isArray(o)){o=[o]}for(var l=0;l<o.length&&!a;l++){var u=de(n,o[l]);s.push(u.expectedType||"");a=u.valid}}if(!a){yt('Invalid prop: type check failed for prop "'+e+'".'+" Expected "+s.map(C).join(", ")+", got "+h(n)+".",r);return}var c=t.validator;if(c){if(!c(n)){yt('Invalid prop: custom validator check failed for prop "'+e+'".',r)}}}var he=/^(String|Number|Boolean|Function|Symbol)$/;function de(t,e){var n;var i=pe(e);if(he.test(i)){var o=typeof t==="undefined"?"undefined":r(t);n=o===i.toLowerCase();if(!n&&o==="object"){n=t instanceof e}}else if(i==="Object"){n=d(t)}else if(i==="Array"){n=Array.isArray(t)}else{n=t instanceof e}return{valid:n,expectedType:i}}function pe(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function ve(t,e){return pe(t)===pe(e)}function me(t,e){if(!Array.isArray(e)){return ve(e,t)?0:-1}for(var n=0,r=e.length;n<r;n++){if(ve(e[n],t)){return n}}return-1}function ye(t,e,n){if(e){var r=e;while(r=r.$parent){var i=r.$options.errorCaptured;if(i){for(var o=0;o<i.length;o++){try{var a=i[o].call(r,t,e,n)===false;if(a){return}}catch(t){ge(t,r,"errorCaptured hook")}}}}}ge(t,e,n)}function ge(t,e,n){if(V.errorHandler){try{return V.errorHandler.call(null,t,e,n)}catch(t){_e(t,null,"config.errorHandler")}}_e(t,e,n)}function _e(t,e,n){if(false){}if((J||Q)&&typeof console!=="undefined"){console.error(t)}else{throw t}}var be=[];var we=false;function xe(){we=false;var t=be.slice(0);be.length=0;for(var e=0;e<t.length;e++){t[e]()}}var Ee;var ke;var Oe=false;if(typeof n!=="undefined"&&pt(n)){ke=function t(){n(xe)}}else if(typeof MessageChannel!=="undefined"&&(pt(MessageChannel)||MessageChannel.toString()==="[object MessageChannelConstructor]")){var Te=new MessageChannel;var Ce=Te.port2;Te.port1.onmessage=xe;ke=function t(){Ce.postMessage(1)}}else{ke=function t(){setTimeout(xe,0)}}if(typeof Promise!=="undefined"&&pt(Promise)){var Ae=Promise.resolve();Ee=function t(){Ae.then(xe);if(at){setTimeout(D)}}}else{Ee=ke}function Le(t){return t._withTask||(t._withTask=function(){Oe=true;var e=t.apply(null,arguments);Oe=false;return e})}function Se(t,e){var n;be.push(function(){if(t){try{t.call(e)}catch(t){ye(t,e,"nextTick")}}else if(n){n(e)}});if(!we){we=true;if(Oe){ke()}else{Ee()}}if(!t&&typeof Promise!=="undefined"){return new Promise(function(t){n=t})}}var Pe;var Ne;if(false){var je}var Me;if(false){var Ie,De,Re,qe,Be,Fe}var ze=new mt;function Ue(t){$e(t,ze);ze.clear()}function $e(t,e){var n,r;var i=Array.isArray(t);if(!i&&!c(t)||Object.isFrozen(t)||t instanceof St){return}if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o)){return}e.add(o)}if(i){n=t.length;while(n--){$e(t[n],e)}}else{r=Object.keys(t);n=r.length;while(n--){$e(t[r[n]],e)}}}var He=k(function(t){var e=t.charAt(0)==="&";t=e?t.slice(1):t;var n=t.charAt(0)==="~";t=n?t.slice(1):t;var r=t.charAt(0)==="!";t=r?t.slice(1):t;return{name:t,once:n,capture:r,passive:e}});function Ze(t){function e(){var t=arguments;var n=e.fns;if(Array.isArray(n)){var r=n.slice();for(var i=0;i<r.length;i++){r[i].apply(null,t)}}else{return n.apply(null,arguments)}}e.fns=t;return e}function Ve(t,e,n,r,i){var a,s,l,u,c;for(a in t){s=l=t[a];u=e[a];c=He(a);if(o(l)){"production"!=="production"&&yt('Invalid handler for event "'+c.name+'": got '+String(l),i)}else if(o(u)){if(o(l.fns)){l=t[a]=Ze(l)}n(c.name,l,c.once,c.capture,c.passive,c.params)}else if(l!==u){u.fns=l;t[a]=u}}for(a in e){if(o(t[a])){c=He(a);r(c.name,e[a],c.capture)}}}function We(t,e,n){if(t instanceof St){t=t.data.hook||(t.data.hook={})}var r;var i=t[e];function l(){n.apply(this,arguments);w(r.fns,l)}if(o(i)){r=Ze([l])}else{if(a(i.fns)&&s(i.merged)){r=i;r.fns.push(l)}else{r=Ze([i,l])}}r.merged=true;t[e]=r}function Ge(t,e,n){var r=e.options.props;if(o(r)){return}var i={};var s=t.attrs;var l=t.props;if(a(s)||a(l)){for(var u in r){var c=L(u);if(false){var f}Ke(i,l,u,c,true)||Ke(i,s,u,c,false)}}return i}function Ke(t,e,n,r,i){if(a(e)){if(E(e,n)){t[n]=e[n];if(!i){delete e[n]}return true}else if(E(e,r)){t[n]=e[r];if(!i){delete e[r]}return true}}return false}function Ye(t){for(var e=0;e<t.length;e++){if(Array.isArray(t[e])){return Array.prototype.concat.apply([],t)}}return t}function Xe(t){return u(t)?[jt(t)]:Array.isArray(t)?Qe(t):undefined}function Je(t){return a(t)&&a(t.text)&&l(t.isComment)}function Qe(t,e){var n=[];var r,i,l,c;for(r=0;r<t.length;r++){i=t[r];if(o(i)||typeof i==="boolean"){continue}l=n.length-1;c=n[l];if(Array.isArray(i)){if(i.length>0){i=Qe(i,(e||"")+"_"+r);if(Je(i[0])&&Je(c)){n[l]=jt(c.text+i[0].text);i.shift()}n.push.apply(n,i)}}else if(u(i)){if(Je(c)){n[l]=jt(c.text+i)}else if(i!==""){n.push(jt(i))}}else{if(Je(i)&&Je(c)){n[l]=jt(c.text+i.text)}else{if(s(t._isVList)&&a(i.tag)&&o(i.key)&&a(e)){i.key="__vlist"+e+"_"+r+"__"}n.push(i)}}}return n}function tn(t,e){if(t.__esModule||vt&&t[Symbol.toStringTag]==="Module"){t=t.default}return c(t)?e.extend(t):t}function en(t,e,n,r,i){var o=Nt();o.asyncFactory=t;o.asyncMeta={data:e,context:n,children:r,tag:i};return o}function nn(t,e,n){if(s(t.error)&&a(t.errorComp)){return t.errorComp}if(a(t.resolved)){return t.resolved}if(s(t.loading)&&a(t.loadingComp)){return t.loadingComp}if(a(t.contexts)){t.contexts.push(n)}else{var r=t.contexts=[n];var i=true;var l=function t(){for(var e=0,n=r.length;e<n;e++){r[e].$forceUpdate()}};var u=U(function(n){t.resolved=tn(n,e);if(!i){l()}});var f=U(function(e){"production"!=="production"&&yt("Failed to resolve async component: "+String(t)+(e?"\nReason: "+e:""));if(a(t.errorComp)){t.error=true;l()}});var h=t(u,f);if(c(h)){if(typeof h.then==="function"){if(o(t.resolved)){h.then(u,f)}}else if(a(h.component)&&typeof h.component.then==="function"){h.component.then(u,f);if(a(h.error)){t.errorComp=tn(h.error,e)}if(a(h.loading)){t.loadingComp=tn(h.loading,e);if(h.delay===0){t.loading=true}else{setTimeout(function(){if(o(t.resolved)&&o(t.error)){t.loading=true;l()}},h.delay||200)}}if(a(h.timeout)){setTimeout(function(){if(o(t.resolved)){f(false?undefined:null)}},h.timeout)}}}i=false;return t.loading?t.loadingComp:t.resolved}}function rn(t){return t.isComment&&t.asyncFactory}function on(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++){var n=t[e];if(a(n)&&(a(n.componentOptions)||rn(n))){return n}}}}function an(t){t._events=Object.create(null);t._hasHookEvent=false;var e=t.$options._parentListeners;if(e){cn(t,e)}}var sn;function ln(t,e,n){if(n){sn.$once(t,e)}else{sn.$on(t,e)}}function un(t,e){sn.$off(t,e)}function cn(t,e,n){sn=t;Ve(e,n||{},ln,un,t);sn=undefined}function fn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;var i=this;if(Array.isArray(t)){for(var o=0,a=t.length;o<a;o++){r.$on(t[o],n)}}else{(i._events[t]||(i._events[t]=[])).push(n);if(e.test(t)){i._hasHookEvent=true}}return i};t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r);e.apply(n,arguments)}r.fn=e;n.$on(t,r);return n};t.prototype.$off=function(t,e){var n=this;var r=this;if(!arguments.length){r._events=Object.create(null);return r}if(Array.isArray(t)){for(var i=0,o=t.length;i<o;i++){n.$off(t[i],e)}return r}var a=r._events[t];if(!a){return r}if(!e){r._events[t]=null;return r}if(e){var s;var l=a.length;while(l--){s=a[l];if(s===e||s.fn===e){a.splice(l,1);break}}}return r};t.prototype.$emit=function(t){var e=this;if(false){var n}var r=e._events[t];if(r){r=r.length>1?j(r):r;var i=j(arguments,1);for(var o=0,a=r.length;o<a;o++){try{r[o].apply(e,i)}catch(n){ye(n,e,'event handler for "'+t+'"')}}}return e}}function hn(t,e){var n={};if(!t){return n}for(var r=0,i=t.length;r<i;r++){var o=t[r];var a=o.data;if(a&&a.attrs&&a.attrs.slot){delete a.attrs.slot}if((o.context===e||o.fnContext===e)&&a&&a.slot!=null){var s=a.slot;var l=n[s]||(n[s]=[]);if(o.tag==="template"){l.push.apply(l,o.children||[])}else{l.push(o)}}else{(n.default||(n.default=[])).push(o)}}for(var u in n){if(n[u].every(dn)){delete n[u]}}return n}function dn(t){return t.isComment&&!t.asyncFactory||t.text===" "}function pn(t,e){e=e||{};for(var n=0;n<t.length;n++){if(Array.isArray(t[n])){pn(t[n],e)}else{e[t[n].key]=t[n].fn}}return e}var vn=null;var mn=false;function yn(t){var e=t.$options;var n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent){n=n.$parent}n.$children.push(t)}t.$parent=n;t.$root=n?n.$root:t;t.$children=[];t.$refs={};t._watcher=null;t._inactive=null;t._directInactive=false;t._isMounted=false;t._isDestroyed=false;t._isBeingDestroyed=false}function gn(t){t.prototype._update=function(t,e){var n=this;if(n._isMounted){kn(n,"beforeUpdate")}var r=n.$el;var i=n._vnode;var o=vn;vn=n;n._vnode=t;if(!i){n.$el=n.__patch__(n.$el,t,e,false,n.$options._parentElm,n.$options._refElm);n.$options._parentElm=n.$options._refElm=null}else{n.$el=n.__patch__(i,t)}vn=o;if(r){r.__vue__=null}if(n.$el){n.$el.__vue__=n}if(n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode){n.$parent.$el=n.$el}};t.prototype.$forceUpdate=function(){var t=this;if(t._watcher){t._watcher.update()}};t.prototype.$destroy=function(){var t=this;if(t._isBeingDestroyed){return}kn(t,"beforeDestroy");t._isBeingDestroyed=true;var e=t.$parent;if(e&&!e._isBeingDestroyed&&!t.$options.abstract){w(e.$children,t)}if(t._watcher){t._watcher.teardown()}var n=t._watchers.length;while(n--){t._watchers[n].teardown()}if(t._data.__ob__){t._data.__ob__.vmCount--}t._isDestroyed=true;t.__patch__(t._vnode,null);kn(t,"destroyed");t.$off();if(t.$el){t.$el.__vue__=null}if(t.$vnode){t.$vnode.parent=null}}}function _n(t,e,n){t.$el=e;if(!t.$options.render){t.$options.render=Nt;if(false){}}kn(t,"beforeMount");var r;if(false){}else{r=function e(){t._update(t._render(),n)}}new Fn(t,r,D,null,true);n=false;if(t.$vnode==null){t._isMounted=true;kn(t,"mounted")}return t}function bn(t,e,n,r,o){if(false){}var a=!!(o||t.$options._renderChildren||r.data.scopedSlots||t.$scopedSlots!==i);t.$options._parentVnode=r;t.$vnode=r;if(t._vnode){t._vnode.parent=r}t.$options._renderChildren=o;t.$attrs=r.data.attrs||i;t.$listeners=n||i;if(e&&t.$options.props){Ft(false);var s=t._props;var l=t.$options._propKeys||[];for(var u=0;u<l.length;u++){var c=l[u];var f=t.$options.props;s[c]=ue(c,f,e,t)}Ft(true);t.$options.propsData=e}n=n||i;var h=t.$options._parentListeners;t.$options._parentListeners=n;cn(t,n,h);if(a){t.$slots=hn(o,r.context);t.$forceUpdate()}if(false){}}function wn(t){while(t&&(t=t.$parent)){if(t._inactive){return true}}return false}function xn(t,e){if(e){t._directInactive=false;if(wn(t)){return}}else if(t._directInactive){return}if(t._inactive||t._inactive===null){t._inactive=false;for(var n=0;n<t.$children.length;n++){xn(t.$children[n])}kn(t,"activated")}}function En(t,e){if(e){t._directInactive=true;if(wn(t)){return}}if(!t._inactive){t._inactive=true;for(var n=0;n<t.$children.length;n++){En(t.$children[n])}kn(t,"deactivated")}}function kn(t,e){At();var n=t.$options[e];if(n){for(var r=0,i=n.length;r<i;r++){try{n[r].call(t)}catch(n){ye(n,t,e+" hook")}}}if(t._hasHookEvent){t.$emit("hook:"+e)}Lt()}var On=100;var Tn=[];var Cn=[];var An={};var Ln={};var Sn=false;var Pn=false;var Nn=0;function jn(){Nn=Tn.length=Cn.length=0;An={};if(false){}Sn=Pn=false}function Mn(){Pn=true;var t,e;Tn.sort(function(t,e){return t.id-e.id});for(Nn=0;Nn<Tn.length;Nn++){t=Tn[Nn];e=t.id;An[e]=null;t.run();if(false){}}var n=Cn.slice();var r=Tn.slice();jn();Rn(n);In(r);if(dt&&V.devtools){dt.emit("flush")}}function In(t){var e=t.length;while(e--){var n=t[e];var r=n.vm;if(r._watcher===n&&r._isMounted){kn(r,"updated")}}}function Dn(t){t._inactive=false;Cn.push(t)}function Rn(t){for(var e=0;e<t.length;e++){t[e]._inactive=true;xn(t[e],true)}}function qn(t){var e=t.id;if(An[e]==null){An[e]=true;if(!Pn){Tn.push(t)}else{var n=Tn.length-1;while(n>Nn&&Tn[n].id>t.id){n--}Tn.splice(n+1,0,t)}if(!Sn){Sn=true;Se(Mn)}}}var Bn=0;var Fn=function t(e,n,r,i,o){this.vm=e;if(o){e._watcher=this}e._watchers.push(this);if(i){this.deep=!!i.deep;this.user=!!i.user;this.lazy=!!i.lazy;this.sync=!!i.sync}else{this.deep=this.user=this.lazy=this.sync=false}this.cb=r;this.id=++Bn;this.active=true;this.dirty=this.lazy;this.deps=[];this.newDeps=[];this.depIds=new mt;this.newDepIds=new mt;this.expression=false?undefined:"";if(typeof n==="function"){this.getter=n}else{this.getter=Y(n);if(!this.getter){this.getter=function(){};"production"!=="production"&&yt('Failed watching path: "'+n+'" '+"Watcher only accepts simple dot-delimited paths. "+"For full control, use a function instead.",e)}}this.value=this.lazy?undefined:this.get()};Fn.prototype.get=function t(){At(this);var e;var n=this.vm;try{e=this.getter.call(n,n)}catch(t){if(this.user){ye(t,n,'getter for watcher "'+this.expression+'"')}else{throw t}}finally{if(this.deep){Ue(e)}Lt();this.cleanupDeps()}return e};Fn.prototype.addDep=function t(e){var n=e.id;if(!this.newDepIds.has(n)){this.newDepIds.add(n);this.newDeps.push(e);if(!this.depIds.has(n)){e.addSub(this)}}};Fn.prototype.cleanupDeps=function t(){var e=this;var n=this.deps.length;while(n--){var r=e.deps[n];if(!e.newDepIds.has(r.id)){r.removeSub(e)}}var i=this.depIds;this.depIds=this.newDepIds;this.newDepIds=i;this.newDepIds.clear();i=this.deps;this.deps=this.newDeps;this.newDeps=i;this.newDeps.length=0};Fn.prototype.update=function t(){if(this.lazy){this.dirty=true}else if(this.sync){this.run()}else{qn(this)}};Fn.prototype.run=function t(){if(this.active){var e=this.get();if(e!==this.value||c(e)||this.deep){var n=this.value;this.value=e;if(this.user){try{this.cb.call(this.vm,e,n)}catch(t){ye(t,this.vm,'callback for watcher "'+this.expression+'"')}}else{this.cb.call(this.vm,e,n)}}}};Fn.prototype.evaluate=function t(){this.value=this.get();this.dirty=false};Fn.prototype.depend=function t(){var e=this;var n=this.deps.length;while(n--){e.deps[n].depend()}};Fn.prototype.teardown=function t(){var e=this;if(this.active){if(!this.vm._isBeingDestroyed){w(this.vm._watchers,this)}var n=this.deps.length;while(n--){e.deps[n].removeSub(e)}this.active=false}};var zn={enumerable:true,configurable:true,get:D,set:D};function Un(t,e,n){zn.get=function t(){return this[e][n]};zn.set=function t(r){this[e][n]=r};Object.defineProperty(t,n,zn)}function $n(t){t._watchers=[];var e=t.$options;if(e.props){Hn(t,e.props)}if(e.methods){Xn(t,e.methods)}if(e.data){Zn(t)}else{Ht(t._data={},true)}if(e.computed){Gn(t,e.computed)}if(e.watch&&e.watch!==lt){Jn(t,e.watch)}}function Hn(t,e){var n=t.$options.propsData||{};var r=t._props={};var i=t.$options._propKeys=[];var o=!t.$parent;if(!o){Ft(false)}var a=function o(a){i.push(a);var s=ue(a,e,n,t);if(false){var l}else{Zt(r,a,s)}if(!(a in t)){Un(t,"_props",a)}};for(var s in e){a(s)}Ft(true)}function Zn(t){var e=t.$options.data;e=t._data=typeof e==="function"?Vn(e,t):e||{};if(!d(e)){e={};"production"!=="production"&&yt("data functions should return an object:\n"+"https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function",t)}var n=Object.keys(e);var r=t.$options.props;var i=t.$options.methods;var o=n.length;while(o--){var a=n[o];if(false){}if(r&&E(r,a)){"production"!=="production"&&yt('The data property "'+a+'" is already declared as a prop. '+"Use prop default value instead.",t)}else if(!W(a)){Un(t,"_data",a)}}Ht(e,true)}function Vn(t,e){At();try{return t.call(e,e)}catch(t){ye(t,e,"data()");return{}}finally{Lt()}}var Wn={lazy:true};function Gn(t,e){var n=t._computedWatchers=Object.create(null);var r=ht();for(var i in e){var o=e[i];var a=typeof o==="function"?o:o.get;if(false){}if(!r){n[i]=new Fn(t,a||D,D,Wn)}if(!(i in t)){Kn(t,i,o)}else if(false){}}}function Kn(t,e,n){var r=!ht();if(typeof n==="function"){zn.get=r?Yn(e):n;zn.set=D}else{zn.get=n.get?r&&n.cache!==false?Yn(e):n.get:D;zn.set=n.set?n.set:D}if(false){}Object.defineProperty(t,e,zn)}function Yn(t){return function e(){var n=this._computedWatchers&&this._computedWatchers[t];if(n){if(n.dirty){n.evaluate()}if(Tt.target){n.depend()}return n.value}}}function Xn(t,e){var n=t.$options.props;for(var r in e){if(false){}t[r]=e[r]==null?D:N(e[r],t)}}function Jn(t,e){for(var n in e){var r=e[n];if(Array.isArray(r)){for(var i=0;i<r.length;i++){Qn(t,n,r[i])}}else{Qn(t,n,r)}}}function Qn(t,e,n,r){if(d(n)){r=n;n=n.handler}if(typeof n==="string"){n=t[n]}return t.$watch(e,n,r)}function tr(t){var e={};e.get=function(){return this._data};var n={};n.get=function(){return this._props};if(false){}Object.defineProperty(t.prototype,"$data",e);Object.defineProperty(t.prototype,"$props",n);t.prototype.$set=Vt;t.prototype.$delete=Wt;t.prototype.$watch=function(t,e,n){var r=this;if(d(e)){return Qn(r,t,e,n)}n=n||{};n.user=true;var i=new Fn(r,t,e,n);if(n.immediate){e.call(r,i.value)}return function t(){i.teardown()}}}function er(t){var e=t.$options.provide;if(e){t._provided=typeof e==="function"?e.call(t):e}}function nr(t){var e=rr(t.$options.inject,t);if(e){Ft(false);Object.keys(e).forEach(function(n){if(false){}else{Zt(t,n,e[n])}});Ft(true)}}function rr(t,e){if(t){var n=Object.create(null);var r=vt?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t);for(var i=0;i<r.length;i++){var o=r[i];var a=t[o].from;var s=e;while(s){if(s._provided&&E(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s){if("default"in t[o]){var l=t[o].default;n[o]=typeof l==="function"?l.call(e):l}else if(false){}}}return n}}function ir(t,e){var n,r,i,o,s;if(Array.isArray(t)||typeof t==="string"){n=new Array(t.length);for(r=0,i=t.length;r<i;r++){n[r]=e(t[r],r)}}else if(typeof t==="number"){n=new Array(t);for(r=0;r<t;r++){n[r]=e(r+1,r)}}else if(c(t)){o=Object.keys(t);n=new Array(o.length);for(r=0,i=o.length;r<i;r++){s=o[r];n[r]=e(t[s],s,r)}}if(a(n)){n._isVList=true}return n}function or(t,e,n,r){var i=this.$scopedSlots[t];var o;if(i){n=n||{};if(r){if(false){}n=M(M({},r),n)}o=i(n)||e}else{var a=this.$slots[t];if(a){if(false){}a._rendered=true}o=a||e}var s=n&&n.slot;if(s){return this.$createElement("template",{slot:s},o)}else{return o}}function ar(t){return le(this.$options,"filters",t,true)||q}function sr(t,e){if(Array.isArray(t)){return t.indexOf(e)===-1}else{return t!==e}}function lr(t,e,n,r,i){var o=V.keyCodes[e]||n;if(i&&r&&!V.keyCodes[e]){return sr(i,r)}else if(o){return sr(o,t)}else if(r){return L(r)!==e}}function ur(t,e,n,r,i){if(n){if(!c(n)){"production"!=="production"&&yt("v-bind without argument expects an Object or Array value",this)}else{if(Array.isArray(n)){n=I(n)}var o;var a=function a(s){if(s==="class"||s==="style"||b(s)){o=t}else{var l=t.attrs&&t.attrs.type;o=r||V.mustUseProp(e,l,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}if(!(s in o)){o[s]=n[s];if(i){var u=t.on||(t.on={});u["update:"+s]=function(t){n[s]=t}}}};for(var s in n){a(s)}}}return t}function cr(t,e){var n=this._staticTrees||(this._staticTrees=[]);var r=n[t];if(r&&!e){return r}r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this);hr(r,"__static__"+t,false);return r}function fr(t,e,n){hr(t,"__once__"+e+(n?"_"+n:""),true);return t}function hr(t,e,n){if(Array.isArray(t)){for(var r=0;r<t.length;r++){if(t[r]&&typeof t[r]!=="string"){dr(t[r],e+"_"+r,n)}}}else{dr(t,e,n)}}function dr(t,e,n){t.isStatic=true;t.key=e;t.isOnce=n}function pr(t,e){if(e){if(!d(e)){"production"!=="production"&&yt("v-on without argument expects an Object value",this)}else{var n=t.on=t.on?M({},t.on):{};for(var r in e){var i=n[r];var o=e[r];n[r]=i?[].concat(i,o):o}}}return t}function vr(t){t._o=fr;t._n=y;t._s=m;t._l=ir;t._t=or;t._q=F;t._i=z;t._m=cr;t._f=ar;t._k=lr;t._b=ur;t._v=jt;t._e=Nt;t._u=pn;t._g=pr}function mr(t,e,n,r,o){var a=o.options;var l;if(E(r,"_uid")){l=Object.create(r);l._original=r}else{l=r;r=r._original}var u=s(a._compiled);var c=!u;this.data=t;this.props=e;this.children=n;this.parent=r;this.listeners=t.on||i;this.injections=rr(a.inject,r);this.slots=function(){return hn(n,r)};if(u){this.$options=a;this.$slots=this.slots();this.$scopedSlots=t.scopedSlots||i}if(a._scopeId){this._c=function(t,e,n,i){var o=Ar(l,t,e,n,i,c);if(o&&!Array.isArray(o)){o.fnScopeId=a._scopeId;o.fnContext=r}return o}}else{this._c=function(t,e,n,r){return Ar(l,t,e,n,r,c)}}}vr(mr.prototype);function yr(t,e,n,r,o){var s=t.options;var l={};var u=s.props;if(a(u)){for(var c in u){l[c]=ue(c,u,e||i)}}else{if(a(n.attrs)){_r(l,n.attrs)}if(a(n.props)){_r(l,n.props)}}var f=new mr(n,l,o,r,t);var h=s.render.call(null,f._c,f);if(h instanceof St){return gr(h,n,f.parent,s)}else if(Array.isArray(h)){var d=Xe(h)||[];var p=new Array(d.length);for(var v=0;v<d.length;v++){p[v]=gr(d[v],n,f.parent,s)}return p}}function gr(t,e,n,r){var i=Mt(t);i.fnContext=n;i.fnOptions=r;if(e.slot){(i.data||(i.data={})).slot=e.slot}return i}function _r(t,e){for(var n in e){t[T(n)]=e[n]}}var br={init:function t(e,n,r,i){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var o=e;br.prepatch(o,o)}else{var a=e.componentInstance=Er(e,vn,r,i);a.$mount(n?e.elm:undefined,n)}},prepatch:function t(e,n){var r=n.componentOptions;var i=n.componentInstance=e.componentInstance;bn(i,r.propsData,r.listeners,n,r.children)},insert:function t(e){var n=e.context;var r=e.componentInstance;if(!r._isMounted){r._isMounted=true;kn(r,"mounted")}if(e.data.keepAlive){if(n._isMounted){Dn(r)}else{xn(r,true)}}},destroy:function t(e){var n=e.componentInstance;if(!n._isDestroyed){if(!e.data.keepAlive){n.$destroy()}else{En(n,true)}}}};var wr=Object.keys(br);function xr(t,e,n,r,i){if(o(t)){return}var l=n.$options._base;if(c(t)){t=l.extend(t)}if(typeof t!=="function"){if(false){}return}var u;if(o(t.cid)){u=t;t=nn(u,l,n);if(t===undefined){return en(u,e,n,r,i)}}e=e||{};Rr(t);if(a(e.model)){Or(t.options,e)}var f=Ge(e,t,i);if(s(t.options.functional)){return yr(t,f,e,n,r)}var h=e.on;e.on=e.nativeOn;if(s(t.options.abstract)){var d=e.slot;e={};if(d){e.slot=d}}kr(e);var p=t.options.name||i;var v=new St("vue-component-"+t.cid+(p?"-"+p:""),e,undefined,undefined,undefined,n,{Ctor:t,propsData:f,listeners:h,tag:i,children:r},u);return v}function Er(t,e,n,r){var i={_isComponent:true,parent:e,_parentVnode:t,_parentElm:n||null,_refElm:r||null};var o=t.data.inlineTemplate;if(a(o)){i.render=o.render;i.staticRenderFns=o.staticRenderFns}return new t.componentOptions.Ctor(i)}function kr(t){var e=t.hook||(t.hook={});for(var n=0;n<wr.length;n++){var r=wr[n];e[r]=br[r]}}function Or(t,e){var n=t.model&&t.model.prop||"value";var r=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var i=e.on||(e.on={});if(a(i[r])){i[r]=[e.model.callback].concat(i[r])}else{i[r]=e.model.callback}}var Tr=1;var Cr=2;function Ar(t,e,n,r,i,o){if(Array.isArray(n)||u(n)){i=r;r=n;n=undefined}if(s(o)){i=Cr}return Lr(t,e,n,r,i)}function Lr(t,e,n,r,i){if(a(n)&&a(n.__ob__)){"production"!=="production"&&yt("Avoid using observed data object as vnode data: "+JSON.stringify(n)+"\n"+"Always create fresh vnode data objects in each render!",t);return Nt()}if(a(n)&&a(n.is)){e=n.is}if(!e){return Nt()}if(false){}if(Array.isArray(r)&&typeof r[0]==="function"){n=n||{};n.scopedSlots={default:r[0]};r.length=0}if(i===Cr){r=Xe(r)}else if(i===Tr){r=Ye(r)}var o,s;if(typeof e==="string"){var l;s=t.$vnode&&t.$vnode.ns||V.getTagNamespace(e);if(V.isReservedTag(e)){o=new St(V.parsePlatformTagName(e),n,r,undefined,undefined,t)}else if(a(l=le(t.$options,"components",e))){o=xr(l,n,t,r,e)}else{o=new St(e,n,r,undefined,undefined,t)}}else{o=xr(e,n,t,r)}if(Array.isArray(o)){return o}else if(a(o)){if(a(s)){Sr(o,s)}if(a(n)){Pr(n)}return o}else{return Nt()}}function Sr(t,e,n){t.ns=e;if(t.tag==="foreignObject"){e=undefined;n=true}if(a(t.children)){for(var r=0,i=t.children.length;r<i;r++){var l=t.children[r];if(a(l.tag)&&(o(l.ns)||s(n)&&l.tag!=="svg")){Sr(l,e,n)}}}}function Pr(t){if(c(t.style)){Ue(t.style)}if(c(t.class)){Ue(t.class)}}function Nr(t){t._vnode=null;t._staticTrees=null;var e=t.$options;var n=t.$vnode=e._parentVnode;var r=n&&n.context;t.$slots=hn(e._renderChildren,r);t.$scopedSlots=i;t._c=function(e,n,r,i){return Ar(t,e,n,r,i,false)};t.$createElement=function(e,n,r,i){return Ar(t,e,n,r,i,true)};var o=n&&n.data;if(false){}else{Zt(t,"$attrs",o&&o.attrs||i,null,true);Zt(t,"$listeners",e._parentListeners||i,null,true)}}function jr(t){vr(t.prototype);t.prototype.$nextTick=function(t){return Se(t,this)};t.prototype._render=function(){var t=this;var e=t.$options;var n=e.render;var r=e._parentVnode;if(false){var o}if(r){t.$scopedSlots=r.data.scopedSlots||i}t.$vnode=r;var a;try{a=n.call(t._renderProxy,t.$createElement)}catch(e){ye(e,t,"render");if(false){}else{a=t._vnode}}if(!(a instanceof St)){if(false){}a=Nt()}a.parent=r;return a}}var Mr=0;function Ir(t){t.prototype._init=function(t){var e=this;e._uid=Mr++;var n,r;if(false){}e._isVue=true;if(t&&t._isComponent){Dr(e,t)}else{e.$options=se(Rr(e.constructor),t||{},e)}if(false){}else{e._renderProxy=e}e._self=e;yn(e);an(e);Nr(e);kn(e,"beforeCreate");nr(e);$n(e);er(e);kn(e,"created");if(false){}if(e.$options.el){e.$mount(e.$options.el)}}}function Dr(t,e){var n=t.$options=Object.create(t.constructor.options);var r=e._parentVnode;n.parent=e.parent;n._parentVnode=r;n._parentElm=e._parentElm;n._refElm=e._refElm;var i=r.componentOptions;n.propsData=i.propsData;n._parentListeners=i.listeners;n._renderChildren=i.children;n._componentTag=i.tag;if(e.render){n.render=e.render;n.staticRenderFns=e.staticRenderFns}}function Rr(t){var e=t.options;if(t.super){var n=Rr(t.super);var r=t.superOptions;if(n!==r){t.superOptions=n;var i=qr(t);if(i){M(t.extendOptions,i)}e=t.options=se(n,t.extendOptions);if(e.name){e.components[e.name]=t}}}return e}function qr(t){var e;var n=t.options;var r=t.extendOptions;var i=t.sealedOptions;for(var o in n){if(n[o]!==i[o]){if(!e){e={}}e[o]=Br(n[o],r[o],i[o])}}return e}function Br(t,e,n){if(Array.isArray(t)){var r=[];n=Array.isArray(n)?n:[n];e=Array.isArray(e)?e:[e];for(var i=0;i<t.length;i++){if(e.indexOf(t[i])>=0||n.indexOf(t[i])<0){r.push(t[i])}}return r}else{return t}}function Fr(t){if(false){}this._init(t)}Ir(Fr);tr(Fr);fn(Fr);gn(Fr);jr(Fr);function zr(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1){return this}var n=j(arguments,1);n.unshift(this);if(typeof t.install==="function"){t.install.apply(t,n)}else if(typeof t==="function"){t.apply(null,n)}e.push(t);return this}}function Ur(t){t.mixin=function(t){this.options=se(this.options,t);return this}}function $r(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this;var r=n.cid;var i=t._Ctor||(t._Ctor={});if(i[r]){return i[r]}var o=t.name||n.options.name;if(false){}var a=function t(e){this._init(e)};a.prototype=Object.create(n.prototype);a.prototype.constructor=a;a.cid=e++;a.options=se(n.options,t);a["super"]=n;if(a.options.props){Hr(a)}if(a.options.computed){Zr(a)}a.extend=n.extend;a.mixin=n.mixin;a.use=n.use;H.forEach(function(t){a[t]=n[t]});if(o){a.options.components[o]=a}a.superOptions=n.options;a.extendOptions=t;a.sealedOptions=M({},a.options);i[r]=a;return a}}function Hr(t){var e=t.options.props;for(var n in e){Un(t.prototype,"_props",n)}}function Zr(t){var e=t.options.computed;for(var n in e){Kn(t.prototype,n,e[n])}}function Vr(t){H.forEach(function(e){t[e]=function(t,n){if(!n){return this.options[e+"s"][t]}else{if(false){}if(e==="component"&&d(n)){n.name=n.name||t;n=this.options._base.extend(n)}if(e==="directive"&&typeof n==="function"){n={bind:n,update:n}}this.options[e+"s"][t]=n;return n}}})}function Wr(t){return t&&(t.Ctor.options.name||t.tag)}function Gr(t,e){if(Array.isArray(t)){return t.indexOf(e)>-1}else if(typeof t==="string"){return t.split(",").indexOf(e)>-1}else if(p(t)){return t.test(e)}return false}function Kr(t,e){var n=t.cache;var r=t.keys;var i=t._vnode;for(var o in n){var a=n[o];if(a){var s=Wr(a.componentOptions);if(s&&!e(s)){Yr(n,o,r,i)}}}}function Yr(t,e,n,r){var i=t[e];if(i&&(!r||i.tag!==r.tag)){i.componentInstance.$destroy()}t[e]=null;w(n,e)}var Xr=[String,RegExp,Array];var Jr={name:"keep-alive",abstract:true,props:{include:Xr,exclude:Xr,max:[String,Number]},created:function t(){this.cache=Object.create(null);this.keys=[]},destroyed:function t(){var e=this;for(var n in e.cache){Yr(e.cache,n,e.keys)}},mounted:function t(){var e=this;this.$watch("include",function(t){Kr(e,function(e){return Gr(t,e)})});this.$watch("exclude",function(t){Kr(e,function(e){return!Gr(t,e)})})},render:function t(){var e=this.$slots.default;var n=on(e);var r=n&&n.componentOptions;if(r){var i=Wr(r);var o=this;var a=o.include;var s=o.exclude;if(a&&(!i||!Gr(a,i))||s&&i&&Gr(s,i)){return n}var l=this;var u=l.cache;var c=l.keys;var f=n.key==null?r.Ctor.cid+(r.tag?"::"+r.tag:""):n.key;if(u[f]){n.componentInstance=u[f].componentInstance;w(c,f);c.push(f)}else{u[f]=n;c.push(f);if(this.max&&c.length>parseInt(this.max)){Yr(u,c[0],c,this._vnode)}}n.data.keepAlive=true}return n||e&&e[0]}};var Qr={KeepAlive:Jr};function ti(t){var e={};e.get=function(){return V};if(false){}Object.defineProperty(t,"config",e);t.util={warn:yt,extend:M,mergeOptions:se,defineReactive:Zt};t.set=Vt;t.delete=Wt;t.nextTick=Se;t.options=Object.create(null);H.forEach(function(e){t.options[e+"s"]=Object.create(null)});t.options._base=t;M(t.options.components,Qr);zr(t);Ur(t);$r(t);Vr(t)}ti(Fr);Object.defineProperty(Fr.prototype,"$isServer",{get:ht});Object.defineProperty(Fr.prototype,"$ssrContext",{get:function t(){return this.$vnode&&this.$vnode.ssrContext}});Object.defineProperty(Fr,"FunctionalRenderContext",{value:mr});Fr.version="2.5.17";var ei=g("style,class");var ni=g("input,textarea,option,select,progress");var ri=function t(e,n,r){return r==="value"&&ni(e)&&n!=="button"||r==="selected"&&e==="option"||r==="checked"&&e==="input"||r==="muted"&&e==="video"};var ii=g("contenteditable,draggable,spellcheck");var oi=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,"+"default,defaultchecked,defaultmuted,defaultselected,defer,disabled,"+"enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,"+"muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,"+"required,reversed,scoped,seamless,selected,sortable,translate,"+"truespeed,typemustmatch,visible");var ai="http://www.w3.org/1999/xlink";var si=function t(e){return e.charAt(5)===":"&&e.slice(0,5)==="xlink"};var li=function t(e){return si(e)?e.slice(6,e.length):""};var ui=function t(e){return e==null||e===false};function ci(t){var e=t.data;var n=t;var r=t;while(a(r.componentInstance)){r=r.componentInstance._vnode;if(r&&r.data){e=fi(r.data,e)}}while(a(n=n.parent)){if(n&&n.data){e=fi(e,n.data)}}return hi(e.staticClass,e.class)}function fi(t,e){return{staticClass:di(t.staticClass,e.staticClass),class:a(t.class)?[t.class,e.class]:e.class}}function hi(t,e){if(a(t)||a(e)){return di(t,pi(e))}return""}function di(t,e){return t?e?t+" "+e:t:e||""}function pi(t){if(Array.isArray(t)){return vi(t)}if(c(t)){return mi(t)}if(typeof t==="string"){return t}return""}function vi(t){var e="";var n;for(var r=0,i=t.length;r<i;r++){if(a(n=pi(t[r]))&&n!==""){if(e){e+=" "}e+=n}}return e}function mi(t){var e="";for(var n in t){if(t[n]){if(e){e+=" "}e+=n}}return e}var yi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};var gi=g("html,body,base,head,link,meta,style,title,"+"address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,"+"div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,"+"a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,"+"s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,"+"embed,object,param,source,canvas,script,noscript,del,ins,"+"caption,col,colgroup,table,thead,tbody,td,th,tr,"+"button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,"+"output,progress,select,textarea,"+"details,dialog,menu,menuitem,summary,"+"content,element,shadow,template,blockquote,iframe,tfoot");var _i=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,"+"foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,"+"polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",true);var bi=function t(e){return e==="pre"};var wi=function t(e){return gi(e)||_i(e)};function xi(t){if(_i(t)){return"svg"}if(t==="math"){return"math"}}var Ei=Object.create(null);function ki(t){if(!J){return true}if(wi(t)){return false}t=t.toLowerCase();if(Ei[t]!=null){return Ei[t]}var e=document.createElement(t);if(t.indexOf("-")>-1){return Ei[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement}else{return Ei[t]=/HTMLUnknownElement/.test(e.toString())}}var Oi=g("text,number,password,search,email,tel,url");function Ti(t){if(typeof t==="string"){var e=document.querySelector(t);if(!e){"production"!=="production"&&yt("Cannot find element: "+t);return document.createElement("div")}return e}else{return t}}function Ci(t,e){var n=document.createElement(t);if(t!=="select"){return n}if(e.data&&e.data.attrs&&e.data.attrs.multiple!==undefined){n.setAttribute("multiple","multiple")}return n}function Ai(t,e){return document.createElementNS(yi[t],e)}function Li(t){return document.createTextNode(t)}function Si(t){return document.createComment(t)}function Pi(t,e,n){t.insertBefore(e,n)}function Ni(t,e){t.removeChild(e)}function ji(t,e){t.appendChild(e)}function Mi(t){return t.parentNode}function Ii(t){return t.nextSibling}function Di(t){return t.tagName}function Ri(t,e){t.textContent=e}function qi(t,e){t.setAttribute(e,"")}var Bi=Object.freeze({createElement:Ci,createElementNS:Ai,createTextNode:Li,createComment:Si,insertBefore:Pi,removeChild:Ni,appendChild:ji,parentNode:Mi,nextSibling:Ii,tagName:Di,setTextContent:Ri,setStyleScope:qi});var Fi={create:function t(e,n){zi(n)},update:function t(e,n){if(e.data.ref!==n.data.ref){zi(e,true);zi(n)}},destroy:function t(e){zi(e,true)}};function zi(t,e){var n=t.data.ref;if(!a(n)){return}var r=t.context;var i=t.componentInstance||t.elm;var o=r.$refs;if(e){if(Array.isArray(o[n])){w(o[n],i)}else if(o[n]===i){o[n]=undefined}}else{if(t.data.refInFor){if(!Array.isArray(o[n])){o[n]=[i]}else if(o[n].indexOf(i)<0){o[n].push(i)}}else{o[n]=i}}}var Ui=new St("",{},[]);var $i=["create","activate","update","remove","destroy"];function Hi(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&a(t.data)===a(e.data)&&Zi(t,e)||s(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&o(e.asyncFactory.error))}function Zi(t,e){if(t.tag!=="input"){return true}var n;var r=a(n=t.data)&&a(n=n.attrs)&&n.type;var i=a(n=e.data)&&a(n=n.attrs)&&n.type;return r===i||Oi(r)&&Oi(i)}function Vi(t,e,n){var r,i;var o={};for(r=e;r<=n;++r){i=t[r].key;if(a(i)){o[i]=r}}return o}function Wi(t){var e,n;var r={};var i=t.modules;var l=t.nodeOps;for(e=0;e<$i.length;++e){r[$i[e]]=[];for(n=0;n<i.length;++n){if(a(i[n][$i[e]])){r[$i[e]].push(i[n][$i[e]])}}}function c(t){return new St(l.tagName(t).toLowerCase(),{},[],undefined,t)}function f(t,e){function n(){if(--n.listeners===0){h(t)}}n.listeners=e;return n}function h(t){var e=l.parentNode(t);if(a(e)){l.removeChild(e,t)}}function d(t,e){return!e&&!t.ns&&!(V.ignoredElements.length&&V.ignoredElements.some(function(e){return p(e)?e.test(t.tag):e===t.tag}))&&V.isUnknownElement(t.tag)}var v=0;function m(t,e,n,r,i,o,u){if(a(t.elm)&&a(o)){t=o[u]=Mt(t)}t.isRootInsert=!i;if(y(t,e,n,r)){return}var c=t.data;var f=t.children;var h=t.tag;if(a(h)){if(false){}t.elm=t.ns?l.createElementNS(t.ns,h):l.createElement(h,t);O(t);{x(t,f,e);if(a(c)){k(t,e)}w(n,t.elm,r)}if(false){}}else if(s(t.isComment)){t.elm=l.createComment(t.text);w(n,t.elm,r)}else{t.elm=l.createTextNode(t.text);w(n,t.elm,r)}}function y(t,e,n,r){var i=t.data;if(a(i)){var o=a(t.componentInstance)&&i.keepAlive;if(a(i=i.hook)&&a(i=i.init)){i(t,false,n,r)}if(a(t.componentInstance)){_(t,e);if(s(o)){b(t,e,n,r)}return true}}}function _(t,e){if(a(t.data.pendingInsert)){e.push.apply(e,t.data.pendingInsert);t.data.pendingInsert=null}t.elm=t.componentInstance.$el;if(E(t)){k(t,e);O(t)}else{zi(t);e.push(t)}}function b(t,e,n,i){var o;var s=t;while(s.componentInstance){s=s.componentInstance._vnode;if(a(o=s.data)&&a(o=o.transition)){for(o=0;o<r.activate.length;++o){r.activate[o](Ui,s)}e.push(s);break}}w(n,t.elm,i)}function w(t,e,n){if(a(t)){if(a(n)){if(n.parentNode===t){l.insertBefore(t,e,n)}}else{l.appendChild(t,e)}}}function x(t,e,n){if(Array.isArray(e)){if(false){}for(var r=0;r<e.length;++r){m(e[r],n,t.elm,null,true,e,r)}}else if(u(t.text)){l.appendChild(t.elm,l.createTextNode(String(t.text)))}}function E(t){while(t.componentInstance){t=t.componentInstance._vnode}return a(t.tag)}function k(t,n){for(var i=0;i<r.create.length;++i){r.create[i](Ui,t)}e=t.data.hook;if(a(e)){if(a(e.create)){e.create(Ui,t)}if(a(e.insert)){n.push(t)}}}function O(t){var e;if(a(e=t.fnScopeId)){l.setStyleScope(t.elm,e)}else{var n=t;while(n){if(a(e=n.context)&&a(e=e.$options._scopeId)){l.setStyleScope(t.elm,e)}n=n.parent}}if(a(e=vn)&&e!==t.context&&e!==t.fnContext&&a(e=e.$options._scopeId)){l.setStyleScope(t.elm,e)}}function T(t,e,n,r,i,o){for(;r<=i;++r){m(n[r],o,t,e,false,n,r)}}function C(t){var e,n;var i=t.data;if(a(i)){if(a(e=i.hook)&&a(e=e.destroy)){e(t)}for(e=0;e<r.destroy.length;++e){r.destroy[e](t)}}if(a(e=t.children)){for(n=0;n<t.children.length;++n){C(t.children[n])}}}function A(t,e,n,r){for(;n<=r;++n){var i=e[n];if(a(i)){if(a(i.tag)){L(i);C(i)}else{h(i.elm)}}}}function L(t,e){if(a(e)||a(t.data)){var n;var i=r.remove.length+1;if(a(e)){e.listeners+=i}else{e=f(t.elm,i)}if(a(n=t.componentInstance)&&a(n=n._vnode)&&a(n.data)){L(n,e)}for(n=0;n<r.remove.length;++n){r.remove[n](t,e)}if(a(n=t.data.hook)&&a(n=n.remove)){n(t,e)}else{e()}}else{h(t.elm)}}function S(t,e,n,r,i){var s=0;var u=0;var c=e.length-1;var f=e[0];var h=e[c];var d=n.length-1;var p=n[0];var v=n[d];var y,g,_,b;var w=!i;if(false){}while(s<=c&&u<=d){if(o(f)){f=e[++s]}else if(o(h)){h=e[--c]}else if(Hi(f,p)){j(f,p,r);f=e[++s];p=n[++u]}else if(Hi(h,v)){j(h,v,r);h=e[--c];v=n[--d]}else if(Hi(f,v)){j(f,v,r);w&&l.insertBefore(t,f.elm,l.nextSibling(h.elm));f=e[++s];v=n[--d]}else if(Hi(h,p)){j(h,p,r);w&&l.insertBefore(t,h.elm,f.elm);h=e[--c];p=n[++u]}else{if(o(y)){y=Vi(e,s,c)}g=a(p.key)?y[p.key]:N(p,e,s,c);if(o(g)){m(p,r,t,f.elm,false,n,u)}else{_=e[g];if(Hi(_,p)){j(_,p,r);e[g]=undefined;w&&l.insertBefore(t,_.elm,f.elm)}else{m(p,r,t,f.elm,false,n,u)}}p=n[++u]}}if(s>c){b=o(n[d+1])?null:n[d+1].elm;T(t,b,n,u,d,r)}else if(u>d){A(t,e,s,c)}}function P(t){var e={};for(var n=0;n<t.length;n++){var r=t[n];var i=r.key;if(a(i)){if(e[i]){yt("Duplicate keys detected: '"+i+"'. This may cause an update error.",r.context)}else{e[i]=true}}}}function N(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(a(o)&&Hi(t,o)){return i}}}function j(t,e,n,i){if(t===e){return}var u=e.elm=t.elm;if(s(t.isAsyncPlaceholder)){if(a(e.asyncFactory.resolved)){R(t.elm,e,n)}else{e.isAsyncPlaceholder=true}return}if(s(e.isStatic)&&s(t.isStatic)&&e.key===t.key&&(s(e.isCloned)||s(e.isOnce))){e.componentInstance=t.componentInstance;return}var c;var f=e.data;if(a(f)&&a(c=f.hook)&&a(c=c.prepatch)){c(t,e)}var h=t.children;var d=e.children;if(a(f)&&E(e)){for(c=0;c<r.update.length;++c){r.update[c](t,e)}if(a(c=f.hook)&&a(c=c.update)){c(t,e)}}if(o(e.text)){if(a(h)&&a(d)){if(h!==d){S(u,h,d,n,i)}}else if(a(d)){if(a(t.text)){l.setTextContent(u,"")}T(u,null,d,0,d.length-1,n)}else if(a(h)){A(u,h,0,h.length-1)}else if(a(t.text)){l.setTextContent(u,"")}}else if(t.text!==e.text){l.setTextContent(u,e.text)}if(a(f)){if(a(c=f.hook)&&a(c=c.postpatch)){c(t,e)}}}function M(t,e,n){if(s(n)&&a(t.parent)){t.parent.data.pendingInsert=e}else{for(var r=0;r<e.length;++r){e[r].data.hook.insert(e[r])}}}var I=false;var D=g("attrs,class,staticClass,staticStyle,key");function R(t,e,n,r){var i;var o=e.tag;var l=e.data;var u=e.children;r=r||l&&l.pre;e.elm=t;if(s(e.isComment)&&a(e.asyncFactory)){e.isAsyncPlaceholder=true;return true}if(false){}if(a(l)){if(a(i=l.hook)&&a(i=i.init)){i(e,true)}if(a(i=e.componentInstance)){_(e,n);return true}}if(a(o)){if(a(u)){if(!t.hasChildNodes()){x(e,u,n)}else{if(a(i=l)&&a(i=i.domProps)&&a(i=i.innerHTML)){if(i!==t.innerHTML){if(false){}return false}}else{var c=true;var f=t.firstChild;for(var h=0;h<u.length;h++){if(!f||!R(f,u[h],n,r)){c=false;break}f=f.nextSibling}if(!c||f){if(false){}return false}}}}if(a(l)){var d=false;for(var p in l){if(!D(p)){d=true;k(e,n);break}}if(!d&&l["class"]){Ue(l["class"])}}}else if(t.data!==e.text){t.data=e.text}return true}function q(t,e,n){if(a(e.tag)){return e.tag.indexOf("vue-component")===0||!d(e,n)&&e.tag.toLowerCase()===(t.tagName&&t.tagName.toLowerCase())}else{return t.nodeType===(e.isComment?8:3)}}return function t(e,n,i,u,f,h){if(o(n)){if(a(e)){C(e)}return}var d=false;var p=[];if(o(e)){d=true;m(n,p,f,h)}else{var v=a(e.nodeType);if(!v&&Hi(e,n)){j(e,n,p,u)}else{if(v){if(e.nodeType===1&&e.hasAttribute($)){e.removeAttribute($);i=true}if(s(i)){if(R(e,n,p)){M(n,p,true);return e}else if(false){}}e=c(e)}var y=e.elm;var g=l.parentNode(y);m(n,p,y._leaveCb?null:g,l.nextSibling(y));if(a(n.parent)){var _=n.parent;var b=E(n);while(_){for(var w=0;w<r.destroy.length;++w){r.destroy[w](_)}_.elm=n.elm;if(b){for(var x=0;x<r.create.length;++x){r.create[x](Ui,_)}var k=_.data.hook.insert;if(k.merged){for(var O=1;O<k.fns.length;O++){k.fns[O]()}}}else{zi(_)}_=_.parent}}if(a(g)){A(g,[e],0,0)}else if(a(e.tag)){C(e)}}}M(n,p,d);return n.elm}}var Gi={create:Ki,update:Ki,destroy:function t(e){Ki(e,Ui)}};function Ki(t,e){if(t.data.directives||e.data.directives){Yi(t,e)}}function Yi(t,e){var n=t===Ui;var r=e===Ui;var i=Ji(t.data.directives,t.context);var o=Ji(e.data.directives,e.context);var a=[];var s=[];var l,u,c;for(l in o){u=i[l];c=o[l];if(!u){to(c,"bind",e,t);if(c.def&&c.def.inserted){a.push(c)}}else{c.oldValue=u.value;to(c,"update",e,t);if(c.def&&c.def.componentUpdated){s.push(c)}}}if(a.length){var f=function n(){for(var r=0;r<a.length;r++){to(a[r],"inserted",e,t)}};if(n){We(e,"insert",f)}else{f()}}if(s.length){We(e,"postpatch",function(){for(var n=0;n<s.length;n++){to(s[n],"componentUpdated",e,t)}})}if(!n){for(l in i){if(!o[l]){to(i[l],"unbind",t,t,r)}}}}var Xi=Object.create(null);function Ji(t,e){var n=Object.create(null);if(!t){return n}var r,i;for(r=0;r<t.length;r++){i=t[r];if(!i.modifiers){i.modifiers=Xi}n[Qi(i)]=i;i.def=le(e.$options,"directives",i.name,true)}return n}function Qi(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function to(t,e,n,r,i){var o=t.def&&t.def[e];if(o){try{o(n.elm,t,n,r,i)}catch(r){ye(r,n.context,"directive "+t.name+" "+e+" hook")}}}var eo=[Fi,Gi];function no(t,e){var n=e.componentOptions;if(a(n)&&n.Ctor.options.inheritAttrs===false){return}if(o(t.data.attrs)&&o(e.data.attrs)){return}var r,i,s;var l=e.elm;var u=t.data.attrs||{};var c=e.data.attrs||{};if(a(c.__ob__)){c=e.data.attrs=M({},c)}for(r in c){i=c[r];s=u[r];if(s!==i){ro(l,r,i)}}if((nt||it)&&c.value!==u.value){ro(l,"value",c.value)}for(r in u){if(o(c[r])){if(si(r)){l.removeAttributeNS(ai,li(r))}else if(!ii(r)){l.removeAttribute(r)}}}}function ro(t,e,n){if(t.tagName.indexOf("-")>-1){io(t,e,n)}else if(oi(e)){if(ui(n)){t.removeAttribute(e)}else{n=e==="allowfullscreen"&&t.tagName==="EMBED"?"true":e;t.setAttribute(e,n)}}else if(ii(e)){t.setAttribute(e,ui(n)||n==="false"?"false":"true")}else if(si(e)){if(ui(n)){t.removeAttributeNS(ai,li(e))}else{t.setAttributeNS(ai,e,n)}}else{io(t,e,n)}}function io(t,e,n){if(ui(n)){t.removeAttribute(e)}else{if(nt&&!rt&&t.tagName==="TEXTAREA"&&e==="placeholder"&&!t.__ieph){var r=function e(n){n.stopImmediatePropagation();t.removeEventListener("input",e)};t.addEventListener("input",r);t.__ieph=true}t.setAttribute(e,n)}}var oo={create:no,update:no};function ao(t,e){var n=e.elm;var r=e.data;var i=t.data;if(o(r.staticClass)&&o(r.class)&&(o(i)||o(i.staticClass)&&o(i.class))){return}var s=ci(e);var l=n._transitionClasses;if(a(l)){s=di(s,pi(l))}if(s!==n._prevClass){n.setAttribute("class",s);n._prevClass=s}}var so={create:ao,update:ao};var lo=/[\w).+\-_$\]]/;function uo(t){var e=false;var n=false;var r=false;var i=false;var o=0;var a=0;var s=0;var l=0;var u,c,f,h,d;for(f=0;f<t.length;f++){c=u;u=t.charCodeAt(f);if(e){if(u===39&&c!==92){e=false}}else if(n){if(u===34&&c!==92){n=false}}else if(r){if(u===96&&c!==92){r=false}}else if(i){if(u===47&&c!==92){i=false}}else if(u===124&&t.charCodeAt(f+1)!==124&&t.charCodeAt(f-1)!==124&&!o&&!a&&!s){if(h===undefined){l=f+1;h=t.slice(0,f).trim()}else{m()}}else{switch(u){case 34:n=true;break;case 39:e=true;break;case 96:r=true;break;case 40:s++;break;case 41:s--;break;case 91:a++;break;case 93:a--;break;case 123:o++;break;case 125:o--;break}if(u===47){var p=f-1;var v=void 0;for(;p>=0;p--){v=t.charAt(p);if(v!==" "){break}}if(!v||!lo.test(v)){i=true}}}}if(h===undefined){h=t.slice(0,f).trim()}else if(l!==0){m()}function m(){(d||(d=[])).push(t.slice(l,f).trim());l=f+1}if(d){for(f=0;f<d.length;f++){h=co(h,d[f])}}return h}function co(t,e){var n=e.indexOf("(");if(n<0){return'_f("'+e+'")('+t+")"}else{var r=e.slice(0,n);var i=e.slice(n+1);return'_f("'+r+'")('+t+(i!==")"?","+i:i)}}function fo(t){console.error("[Vue compiler]: "+t)}function ho(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function po(t,e,n){(t.props||(t.props=[])).push({name:e,value:n});t.plain=false}function vo(t,e,n){(t.attrs||(t.attrs=[])).push({name:e,value:n});t.plain=false}function mo(t,e,n){t.attrsMap[e]=n;t.attrsList.push({name:e,value:n})}function yo(t,e,n,r,i,o){(t.directives||(t.directives=[])).push({name:e,rawName:n,value:r,arg:i,modifiers:o});t.plain=false}function go(t,e,n,r,o,a){r=r||i;if(false){}if(r.capture){delete r.capture;e="!"+e}if(r.once){delete r.once;e="~"+e}if(r.passive){delete r.passive;e="&"+e}if(e==="click"){if(r.right){e="contextmenu";delete r.right}else if(r.middle){e="mouseup"}}var s;if(r.native){delete r.native;s=t.nativeEvents||(t.nativeEvents={})}else{s=t.events||(t.events={})}var l={value:n.trim()};if(r!==i){l.modifiers=r}var u=s[e];if(Array.isArray(u)){o?u.unshift(l):u.push(l)}else if(u){s[e]=o?[l,u]:[u,l]}else{s[e]=l}t.plain=false}function _o(t,e,n){var r=bo(t,":"+e)||bo(t,"v-bind:"+e);if(r!=null){return uo(r)}else if(n!==false){var i=bo(t,e);if(i!=null){return JSON.stringify(i)}}}function bo(t,e,n){var r;if((r=t.attrsMap[e])!=null){var i=t.attrsList;for(var o=0,a=i.length;o<a;o++){if(i[o].name===e){i.splice(o,1);break}}}if(n){delete t.attrsMap[e]}return r}function wo(t,e,n){var r=n||{};var i=r.number;var o=r.trim;var a="$$v";var s=a;if(o){s="(typeof "+a+" === 'string'"+"? "+a+".trim()"+": "+a+")"}if(i){s="_n("+s+")"}var l=xo(e,s);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ("+a+") {"+l+"}"}}function xo(t,e){var n=Lo(t);if(n.key===null){return t+"="+e}else{return"$set("+n.exp+", "+n.key+", "+e+")"}}var Eo;var ko;var Oo;var To;var Co;var Ao;function Lo(t){t=t.trim();Eo=t.length;if(t.indexOf("[")<0||t.lastIndexOf("]")<Eo-1){To=t.lastIndexOf(".");if(To>-1){return{exp:t.slice(0,To),key:'"'+t.slice(To+1)+'"'}}else{return{exp:t,key:null}}}ko=t;To=Co=Ao=0;while(!Po()){Oo=So();if(No(Oo)){Mo(Oo)}else if(Oo===91){jo(Oo)}}return{exp:t.slice(0,Co),key:t.slice(Co+1,Ao)}}function So(){return ko.charCodeAt(++To)}function Po(){return To>=Eo}function No(t){return t===34||t===39}function jo(t){var e=1;Co=To;while(!Po()){t=So();if(No(t)){Mo(t);continue}if(t===91){e++}if(t===93){e--}if(e===0){Ao=To;break}}}function Mo(t){var e=t;while(!Po()){t=So();if(t===e){break}}}var Io;var Do="__r";var Ro="__c";function qo(t,e,n){Io=n;var r=e.value;var i=e.modifiers;var o=t.tag;var a=t.attrsMap.type;if(false){}if(t.component){wo(t,r,i);return false}else if(o==="select"){zo(t,r,i)}else if(o==="input"&&a==="checkbox"){Bo(t,r,i)}else if(o==="input"&&a==="radio"){Fo(t,r,i)}else if(o==="input"||o==="textarea"){Uo(t,r,i)}else if(!V.isReservedTag(o)){wo(t,r,i);return false}else if(false){}return true}function Bo(t,e,n){var r=n&&n.number;var i=_o(t,"value")||"null";var o=_o(t,"true-value")||"true";var a=_o(t,"false-value")||"false";po(t,"checked","Array.isArray("+e+")"+"?_i("+e+","+i+")>-1"+(o==="true"?":("+e+")":":_q("+e+","+o+")"));go(t,"change","var $$a="+e+","+"$$el=$event.target,"+"$$c=$$el.checked?("+o+"):("+a+");"+"if(Array.isArray($$a)){"+"var $$v="+(r?"_n("+i+")":i)+","+"$$i=_i($$a,$$v);"+"if($$el.checked){$$i<0&&("+xo(e,"$$a.concat([$$v])")+")}"+"else{$$i>-1&&("+xo(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}"+"}else{"+xo(e,"$$c")+"}",null,true)}function Fo(t,e,n){var r=n&&n.number;var i=_o(t,"value")||"null";i=r?"_n("+i+")":i;po(t,"checked","_q("+e+","+i+")");go(t,"change",xo(e,i),null,true)}function zo(t,e,n){var r=n&&n.number;var i="Array.prototype.filter"+".call($event.target.options,function(o){return o.selected})"+'.map(function(o){var val = "_value" in o ? o._value : o.value;'+"return "+(r?"_n(val)":"val")+"})";var o="$event.target.multiple ? $$selectedVal : $$selectedVal[0]";var a="var $$selectedVal = "+i+";";a=a+" "+xo(e,o);go(t,"change",a,null,true)}function Uo(t,e,n){var r=t.attrsMap.type;if(false){var i,o,a}var s=n||{};var l=s.lazy;var u=s.number;var c=s.trim;var f=!l&&r!=="range";var h=l?"change":r==="range"?Do:"input";var d="$event.target.value";if(c){d="$event.target.value.trim()"}if(u){d="_n("+d+")"}var p=xo(e,d);if(f){p="if($event.target.composing)return;"+p}po(t,"value","("+e+")");go(t,h,p,null,true);if(c||u){go(t,"blur","$forceUpdate()")}}function $o(t){if(a(t[Do])){var e=nt?"change":"input";t[e]=[].concat(t[Do],t[e]||[]);delete t[Do]}if(a(t[Ro])){t.change=[].concat(t[Ro],t.change||[]);delete t[Ro]}}var Ho;function Zo(t,e,n){var r=Ho;return function i(){var o=t.apply(null,arguments);if(o!==null){Wo(e,i,n,r)}}}function Vo(t,e,n,r,i){e=Le(e);if(n){e=Zo(e,t,r)}Ho.addEventListener(t,e,ut?{capture:r,passive:i}:r)}function Wo(t,e,n,r){(r||Ho).removeEventListener(t,e._withTask||e,n)}function Go(t,e){if(o(t.data.on)&&o(e.data.on)){return}var n=e.data.on||{};var r=t.data.on||{};Ho=e.elm;$o(n);Ve(n,r,Vo,Wo,e.context);Ho=undefined}var Ko={create:Go,update:Go};function Yo(t,e){if(o(t.data.domProps)&&o(e.data.domProps)){return}var n,r;var i=e.elm;var s=t.data.domProps||{};var l=e.data.domProps||{};if(a(l.__ob__)){l=e.data.domProps=M({},l)}for(n in s){if(o(l[n])){i[n]=""}}for(n in l){r=l[n];if(n==="textContent"||n==="innerHTML"){if(e.children){e.children.length=0}if(r===s[n]){continue}if(i.childNodes.length===1){i.removeChild(i.childNodes[0])}}if(n==="value"){i._value=r;var u=o(r)?"":String(r);if(Xo(i,u)){i.value=u}}else{i[n]=r}}}function Xo(t,e){return!t.composing&&(t.tagName==="OPTION"||Jo(t,e)||Qo(t,e))}function Jo(t,e){var n=true;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}function Qo(t,e){var n=t.value;var r=t._vModifiers;if(a(r)){if(r.lazy){return false}if(r.number){return y(n)!==y(e)}if(r.trim){return n.trim()!==e.trim()}}return n!==e}var ta={create:Yo,update:Yo};var ea=k(function(t){var e={};var n=/;(?![^(]*\))/g;var r=/:(.+)/;t.split(n).forEach(function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}});return e});function na(t){var e=ra(t.style);return t.staticStyle?M(t.staticStyle,e):e}function ra(t){if(Array.isArray(t)){return I(t)}if(typeof t==="string"){return ea(t)}return t}function ia(t,e){var n={};var r;if(e){var i=t;while(i.componentInstance){i=i.componentInstance._vnode;if(i&&i.data&&(r=na(i.data))){M(n,r)}}}if(r=na(t.data)){M(n,r)}var o=t;while(o=o.parent){if(o.data&&(r=na(o.data))){M(n,r)}}return n}var oa=/^--/;var aa=/\s*!important$/;var sa=function t(e,n,r){if(oa.test(n)){e.style.setProperty(n,r)}else if(aa.test(r)){e.style.setProperty(n,r.replace(aa,""),"important")}else{var i=ca(n);if(Array.isArray(r)){for(var o=0,a=r.length;o<a;o++){e.style[i]=r[o]}}else{e.style[i]=r}}};var la=["Webkit","Moz","ms"];var ua;var ca=k(function(t){ua=ua||document.createElement("div").style;t=T(t);if(t!=="filter"&&t in ua){return t}var e=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0;n<la.length;n++){var r=la[n]+e;if(r in ua){return r}}});function fa(t,e){var n=e.data;var r=t.data;if(o(n.staticStyle)&&o(n.style)&&o(r.staticStyle)&&o(r.style)){return}var i,s;var l=e.elm;var u=r.staticStyle;var c=r.normalizedStyle||r.style||{};var f=u||c;var h=ra(e.data.style)||{};e.data.normalizedStyle=a(h.__ob__)?M({},h):h;var d=ia(e,true);for(s in f){if(o(d[s])){sa(l,s,"")}}for(s in d){i=d[s];if(i!==f[s]){sa(l,s,i==null?"":i)}}}var ha={create:fa,update:fa};function da(t,e){if(!e||!(e=e.trim())){return}if(t.classList){if(e.indexOf(" ")>-1){e.split(/\s+/).forEach(function(e){return t.classList.add(e)})}else{t.classList.add(e)}}else{var n=" "+(t.getAttribute("class")||"")+" ";if(n.indexOf(" "+e+" ")<0){t.setAttribute("class",(n+e).trim())}}}function pa(t,e){if(!e||!(e=e.trim())){return}if(t.classList){if(e.indexOf(" ")>-1){e.split(/\s+/).forEach(function(e){return t.classList.remove(e)})}else{t.classList.remove(e)}if(!t.classList.length){t.removeAttribute("class")}}else{var n=" "+(t.getAttribute("class")||"")+" ";var r=" "+e+" ";while(n.indexOf(r)>=0){n=n.replace(r," ")}n=n.trim();if(n){t.setAttribute("class",n)}else{t.removeAttribute("class")}}}function va(t){if(!t){return}if((typeof t==="undefined"?"undefined":r(t))==="object"){var e={};if(t.css!==false){M(e,ma(t.name||"v"))}M(e,t);return e}else if(typeof t==="string"){return ma(t)}}var ma=k(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}});var ya=J&&!rt;var ga="transition";var _a="animation";var ba="transition";var wa="transitionend";var xa="animation";var Ea="animationend";if(ya){if(window.ontransitionend===undefined&&window.onwebkittransitionend!==undefined){ba="WebkitTransition";wa="webkitTransitionEnd"}if(window.onanimationend===undefined&&window.onwebkitanimationend!==undefined){xa="WebkitAnimation";Ea="webkitAnimationEnd"}}var ka=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Oa(t){ka(function(){ka(t)})}function Ta(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);if(n.indexOf(e)<0){n.push(e);da(t,e)}}function Ca(t,e){if(t._transitionClasses){w(t._transitionClasses,e)}pa(t,e)}function Aa(t,e,n){var r=Sa(t,e);var i=r.type;var o=r.timeout;var a=r.propCount;if(!i){return n()}var s=i===ga?wa:Ea;var l=0;var u=function e(){t.removeEventListener(s,c);n()};var c=function e(n){if(n.target===t){if(++l>=a){u()}}};setTimeout(function(){if(l<a){u()}},o+1);t.addEventListener(s,c)}var La=/\b(transform|all)(,|$)/;function Sa(t,e){var n=window.getComputedStyle(t);var r=n[ba+"Delay"].split(", ");var i=n[ba+"Duration"].split(", ");var o=Pa(r,i);var a=n[xa+"Delay"].split(", ");var s=n[xa+"Duration"].split(", ");var l=Pa(a,s);var u;var c=0;var f=0;if(e===ga){if(o>0){u=ga;c=o;f=i.length}}else if(e===_a){if(l>0){u=_a;c=l;f=s.length}}else{c=Math.max(o,l);u=c>0?o>l?ga:_a:null;f=u?u===ga?i.length:s.length:0}var h=u===ga&&La.test(n[ba+"Property"]);return{type:u,timeout:c,propCount:f,hasTransform:h}}function Pa(t,e){while(t.length<e.length){t=t.concat(t)}return Math.max.apply(null,e.map(function(e,n){return Na(e)+Na(t[n])}))}function Na(t){return Number(t.slice(0,-1))*1e3}function ja(t,e){var n=t.elm;if(a(n._leaveCb)){n._leaveCb.cancelled=true;n._leaveCb()}var r=va(t.data.transition);if(o(r)){return}if(a(n._enterCb)||n.nodeType!==1){return}var i=r.css;var s=r.type;var l=r.enterClass;var u=r.enterToClass;var f=r.enterActiveClass;var h=r.appearClass;var d=r.appearToClass;var p=r.appearActiveClass;var v=r.beforeEnter;var m=r.enter;var g=r.afterEnter;var _=r.enterCancelled;var b=r.beforeAppear;var w=r.appear;var x=r.afterAppear;var E=r.appearCancelled;var k=r.duration;var O=vn;var T=vn.$vnode;while(T&&T.parent){T=T.parent;O=T.context}var C=!O._isMounted||!t.isRootInsert;if(C&&!w&&w!==""){return}var A=C&&h?h:l;var L=C&&p?p:f;var S=C&&d?d:u;var P=C?b||v:v;var N=C?typeof w==="function"?w:m:m;var j=C?x||g:g;var M=C?E||_:_;var I=y(c(k)?k.enter:k);if(false){}var D=i!==false&&!rt;var R=Ra(N);var q=n._enterCb=U(function(){if(D){Ca(n,S);Ca(n,L)}if(q.cancelled){if(D){Ca(n,A)}M&&M(n)}else{j&&j(n)}n._enterCb=null});if(!t.data.show){We(t,"insert",function(){var e=n.parentNode;var r=e&&e._pending&&e._pending[t.key];if(r&&r.tag===t.tag&&r.elm._leaveCb){r.elm._leaveCb()}N&&N(n,q)})}P&&P(n);if(D){Ta(n,A);Ta(n,L);Oa(function(){Ca(n,A);if(!q.cancelled){Ta(n,S);if(!R){if(Da(I)){setTimeout(q,I)}else{Aa(n,s,q)}}}})}if(t.data.show){e&&e();N&&N(n,q)}if(!D&&!R){q()}}function Ma(t,e){var n=t.elm;if(a(n._enterCb)){n._enterCb.cancelled=true;n._enterCb()}var r=va(t.data.transition);if(o(r)||n.nodeType!==1){return e()}if(a(n._leaveCb)){return}var i=r.css;var s=r.type;var l=r.leaveClass;var u=r.leaveToClass;var f=r.leaveActiveClass;var h=r.beforeLeave;var d=r.leave;var p=r.afterLeave;var v=r.leaveCancelled;var m=r.delayLeave;var g=r.duration;var _=i!==false&&!rt;var b=Ra(d);var w=y(c(g)?g.leave:g);if(false){}var x=n._leaveCb=U(function(){if(n.parentNode&&n.parentNode._pending){n.parentNode._pending[t.key]=null}if(_){Ca(n,u);Ca(n,f)}if(x.cancelled){if(_){Ca(n,l)}v&&v(n)}else{e();p&&p(n)}n._leaveCb=null});if(m){m(E)}else{E()}function E(){if(x.cancelled){return}if(!t.data.show){(n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t}h&&h(n);if(_){Ta(n,l);Ta(n,f);Oa(function(){Ca(n,l);if(!x.cancelled){Ta(n,u);if(!b){if(Da(w)){setTimeout(x,w)}else{Aa(n,s,x)}}}})}d&&d(n,x);if(!_&&!b){x()}}}function Ia(t,e,n){if(typeof t!=="number"){yt("<transition> explicit "+e+" duration is not a valid number - "+"got "+JSON.stringify(t)+".",n.context)}else if(isNaN(t)){yt("<transition> explicit "+e+" duration is NaN - "+"the duration expression might be incorrect.",n.context)}}function Da(t){return typeof t==="number"&&!isNaN(t)}function Ra(t){if(o(t)){return false}var e=t.fns;if(a(e)){return Ra(Array.isArray(e)?e[0]:e)}else{return(t._length||t.length)>1}}function qa(t,e){if(e.data.show!==true){ja(e)}}var Ba=J?{create:qa,activate:qa,remove:function t(e,n){if(e.data.show!==true){Ma(e,n)}else{n()}}}:{};var Fa=[oo,so,Ko,ta,ha,Ba];var za=Fa.concat(eo);var Ua=Wi({nodeOps:Bi,modules:za});if(rt){document.addEventListener("selectionchange",function(){var t=document.activeElement;if(t&&t.vmodel){Ya(t,"input")}})}var $a={inserted:function t(e,n,r,i){if(r.tag==="select"){if(i.elm&&!i.elm._vOptions){We(r,"postpatch",function(){$a.componentUpdated(e,n,r)})}else{Ha(e,n,r.context)}e._vOptions=[].map.call(e.options,Wa)}else if(r.tag==="textarea"||Oi(e.type)){e._vModifiers=n.modifiers;if(!n.modifiers.lazy){e.addEventListener("compositionstart",Ga);e.addEventListener("compositionend",Ka);e.addEventListener("change",Ka);if(rt){e.vmodel=true}}}},componentUpdated:function t(e,n,r){if(r.tag==="select"){Ha(e,n,r.context);var i=e._vOptions;var o=e._vOptions=[].map.call(e.options,Wa);if(o.some(function(t,e){return!F(t,i[e])})){var a=e.multiple?n.value.some(function(t){return Va(t,o)}):n.value!==n.oldValue&&Va(n.value,o);if(a){Ya(e,"change")}}}}};function Ha(t,e,n){Za(t,e,n);if(nt||it){setTimeout(function(){Za(t,e,n)},0)}}function Za(t,e,n){var r=e.value;var i=t.multiple;if(i&&!Array.isArray(r)){"production"!=="production"&&yt('<select multiple v-model="'+e.expression+'"> '+"expects an Array value for its binding, but got "+Object.prototype.toString.call(r).slice(8,-1),n);return}var o,a;for(var s=0,l=t.options.length;s<l;s++){a=t.options[s];if(i){o=z(r,Wa(a))>-1;if(a.selected!==o){a.selected=o}}else{if(F(Wa(a),r)){if(t.selectedIndex!==s){t.selectedIndex=s}return}}}if(!i){t.selectedIndex=-1}}function Va(t,e){return e.every(function(e){return!F(e,t)})}function Wa(t){return"_value"in t?t._value:t.value}function Ga(t){t.target.composing=true}function Ka(t){if(!t.target.composing){return}t.target.composing=false;Ya(t.target,"input")}function Ya(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,true,true);t.dispatchEvent(n)}function Xa(t){return t.componentInstance&&(!t.data||!t.data.transition)?Xa(t.componentInstance._vnode):t}var Ja={bind:function t(e,n,r){var i=n.value;r=Xa(r);var o=r.data&&r.data.transition;var a=e.__vOriginalDisplay=e.style.display==="none"?"":e.style.display;if(i&&o){r.data.show=true;ja(r,function(){e.style.display=a})}else{e.style.display=i?a:"none"}},update:function t(e,n,r){var i=n.value;var o=n.oldValue;if(!i===!o){return}r=Xa(r);var a=r.data&&r.data.transition;if(a){r.data.show=true;if(i){ja(r,function(){e.style.display=e.__vOriginalDisplay})}else{Ma(r,function(){e.style.display="none"})}}else{e.style.display=i?e.__vOriginalDisplay:"none"}},unbind:function t(e,n,r,i,o){if(!o){e.style.display=e.__vOriginalDisplay}}};var Qa={model:$a,show:Ja};var ts={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function es(t){var e=t&&t.componentOptions;if(e&&e.Ctor.options.abstract){return es(on(e.children))}else{return t}}function ns(t){var e={};var n=t.$options;for(var r in n.propsData){e[r]=t[r]}var i=n._parentListeners;for(var o in i){e[T(o)]=i[o]}return e}function rs(t,e){if(/\d-keep-alive$/.test(e.tag)){return t("keep-alive",{props:e.componentOptions.propsData})}}function is(t){while(t=t.parent){if(t.data.transition){return true}}}function os(t,e){return e.key===t.key&&e.tag===t.tag}var as={name:"transition",props:ts,abstract:true,render:function t(e){var n=this;var r=this.$slots.default;if(!r){return}r=r.filter(function(t){return t.tag||rn(t)});if(!r.length){return}if(false){}var i=this.mode;if(false){}var o=r[0];if(is(this.$vnode)){return o}var a=es(o);if(!a){return o}if(this._leaving){return rs(e,o)}var s="__transition-"+this._uid+"-";a.key=a.key==null?a.isComment?s+"comment":s+a.tag:u(a.key)?String(a.key).indexOf(s)===0?a.key:s+a.key:a.key;var l=(a.data||(a.data={})).transition=ns(this);var c=this._vnode;var f=es(c);if(a.data.directives&&a.data.directives.some(function(t){return t.name==="show"})){a.data.show=true}if(f&&f.data&&!os(a,f)&&!rn(f)&&!(f.componentInstance&&f.componentInstance._vnode.isComment)){var h=f.data.transition=M({},l);if(i==="out-in"){this._leaving=true;We(h,"afterLeave",function(){n._leaving=false;n.$forceUpdate()});return rs(e,o)}else if(i==="in-out"){if(rn(a)){return c}var d;var p=function t(){d()};We(l,"afterEnter",p);We(l,"enterCancelled",p);We(h,"delayLeave",function(t){d=t})}}return o}};var ss=M({tag:String,moveClass:String},ts);delete ss.mode;var ls={props:ss,render:function t(e){var n=this.tag||this.$vnode.data.tag||"span";var r=Object.create(null);var i=this.prevChildren=this.children;var o=this.$slots.default||[];var a=this.children=[];var s=ns(this);for(var l=0;l<o.length;l++){var u=o[l];if(u.tag){if(u.key!=null&&String(u.key).indexOf("__vlist")!==0){a.push(u);r[u.key]=u;(u.data||(u.data={})).transition=s}else if(false){var c,f}}}if(i){var h=[];var d=[];for(var p=0;p<i.length;p++){var v=i[p];v.data.transition=s;v.data.pos=v.elm.getBoundingClientRect();if(r[v.key]){h.push(v)}else{d.push(v)}}this.kept=e(n,null,h);this.removed=d}return e(n,null,a)},beforeUpdate:function t(){this.__patch__(this._vnode,this.kept,false,true);this._vnode=this.kept},updated:function t(){var e=this.prevChildren;var n=this.moveClass||(this.name||"v")+"-move";if(!e.length||!this.hasMove(e[0].elm,n)){return}e.forEach(us);e.forEach(cs);e.forEach(fs);this._reflow=document.body.offsetHeight;e.forEach(function(t){if(t.data.moved){var e=t.elm;var r=e.style;Ta(e,n);r.transform=r.WebkitTransform=r.transitionDuration="";e.addEventListener(wa,e._moveCb=function t(r){if(!r||/transform$/.test(r.propertyName)){e.removeEventListener(wa,t);e._moveCb=null;Ca(e,n)}})}})},methods:{hasMove:function t(e,n){if(!ya){return false}if(this._hasMove){return this._hasMove}var r=e.cloneNode();if(e._transitionClasses){e._transitionClasses.forEach(function(t){pa(r,t)})}da(r,n);r.style.display="none";this.$el.appendChild(r);var i=Sa(r);this.$el.removeChild(r);return this._hasMove=i.hasTransform}}};function us(t){if(t.elm._moveCb){t.elm._moveCb()}if(t.elm._enterCb){t.elm._enterCb()}}function cs(t){t.data.newPos=t.elm.getBoundingClientRect()}function fs(t){var e=t.data.pos;var n=t.data.newPos;var r=e.left-n.left;var i=e.top-n.top;if(r||i){t.data.moved=true;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)";o.transitionDuration="0s"}}var hs={Transition:as,TransitionGroup:ls};Fr.config.mustUseProp=ri;Fr.config.isReservedTag=wi;Fr.config.isReservedAttr=ei;Fr.config.getTagNamespace=xi;Fr.config.isUnknownElement=ki;M(Fr.options.directives,Qa);M(Fr.options.components,hs);Fr.prototype.__patch__=J?Ua:D;Fr.prototype.$mount=function(t,e){t=t&&J?Ti(t):undefined;return _n(this,t,e)};if(J){setTimeout(function(){if(V.devtools){if(dt){dt.emit("init",Fr)}else if(false){}}if(false){}},0)}var ds=/\{\{((?:.|\n)+?)\}\}/g;var ps=/[-.*+?^${}()|[\]\/\\]/g;var vs=k(function(t){var e=t[0].replace(ps,"\\$&");var n=t[1].replace(ps,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")});function ms(t,e){var n=e?vs(e):ds;if(!n.test(t)){return}var r=[];var i=[];var o=n.lastIndex=0;var a,s,l;while(a=n.exec(t)){s=a.index;if(s>o){i.push(l=t.slice(o,s));r.push(JSON.stringify(l))}var u=uo(a[1].trim());r.push("_s("+u+")");i.push({"@binding":u});o=s+a[0].length}if(o<t.length){i.push(l=t.slice(o));r.push(JSON.stringify(l))}return{expression:r.join("+"),tokens:i}}function ys(t,e){var n=e.warn||fo;var r=bo(t,"class");if(false){var i}if(r){t.staticClass=JSON.stringify(r)}var o=_o(t,"class",false);if(o){t.classBinding=o}}function gs(t){var e="";if(t.staticClass){e+="staticClass:"+t.staticClass+","}if(t.classBinding){e+="class:"+t.classBinding+","}return e}var _s={staticKeys:["staticClass"],transformNode:ys,genData:gs};function bs(t,e){var n=e.warn||fo;var r=bo(t,"style");if(r){if(false){var i}t.staticStyle=JSON.stringify(ea(r))}var o=_o(t,"style",false);if(o){t.styleBinding=o}}function ws(t){var e="";if(t.staticStyle){e+="staticStyle:"+t.staticStyle+","}if(t.styleBinding){e+="style:("+t.styleBinding+"),"}return e}var xs={staticKeys:["staticStyle"],transformNode:bs,genData:ws};var Es;var ks={decode:function t(e){Es=Es||document.createElement("div");Es.innerHTML=e;return Es.textContent}};var Os=g("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,"+"link,meta,param,source,track,wbr");var Ts=g("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source");var Cs=g("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,"+"details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,"+"h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,"+"optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,"+"title,tr,track");
/*!
 * HTML Parser By John Resig (ejohn.org)
 * Modified by Juriy "kangax" Zaytsev
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 */var As=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/;var Ls="[a-zA-Z_][\\w\\-\\.]*";var Ss="((?:"+Ls+"\\:)?"+Ls+")";var Ps=new RegExp("^<"+Ss);var Ns=/^\s*(\/?)>/;var js=new RegExp("^<\\/"+Ss+"[^>]*>");var Ms=/^<!DOCTYPE [^>]+>/i;var Is=/^<!\--/;var Ds=/^<!\[/;var Rs=false;"x".replace(/x(.)?/g,function(t,e){Rs=e===""});var qs=g("script,style,textarea",true);var Bs={};var Fs={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"};var zs=/&(?:lt|gt|quot|amp);/g;var Us=/&(?:lt|gt|quot|amp|#10|#9);/g;var $s=g("pre,textarea",true);var Hs=function t(e,n){return e&&$s(e)&&n[0]==="\n"};function Zs(t,e){var n=e?Us:zs;return t.replace(n,function(t){return Fs[t]})}function Vs(t,e){var n=[];var r=e.expectHTML;var i=e.isUnaryTag||R;var o=e.canBeLeftOpenTag||R;var a=0;var s,l;while(t){s=t;if(!l||!qs(l)){var u=t.indexOf("<");if(u===0){if(Is.test(t)){var c=t.indexOf("--\x3e");if(c>=0){if(e.shouldKeepComment){e.comment(t.substring(4,c))}E(c+3);continue}}if(Ds.test(t)){var f=t.indexOf("]>");if(f>=0){E(f+2);continue}}var h=t.match(Ms);if(h){E(h[0].length);continue}var d=t.match(js);if(d){var p=a;E(d[0].length);T(d[1],p,a);continue}var v=k();if(v){O(v);if(Hs(l,t)){E(1)}continue}}var m=void 0,y=void 0,g=void 0;if(u>=0){y=t.slice(u);while(!js.test(y)&&!Ps.test(y)&&!Is.test(y)&&!Ds.test(y)){g=y.indexOf("<",1);if(g<0){break}u+=g;y=t.slice(u)}m=t.substring(0,u);E(u)}if(u<0){m=t;t=""}if(e.chars&&m){e.chars(m)}}else{var _=0;var b=l.toLowerCase();var w=Bs[b]||(Bs[b]=new RegExp("([\\s\\S]*?)(</"+b+"[^>]*>)","i"));var x=t.replace(w,function(t,n,r){_=r.length;if(!qs(b)&&b!=="noscript"){n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")}if(Hs(b,n)){n=n.slice(1)}if(e.chars){e.chars(n)}return""});a+=t.length-x.length;t=x;T(b,a-_,a)}if(t===s){e.chars&&e.chars(t);if(false){}break}}T();function E(e){a+=e;t=t.substring(e)}function k(){var e=t.match(Ps);if(e){var n={tagName:e[1],attrs:[],start:a};E(e[0].length);var r,i;while(!(r=t.match(Ns))&&(i=t.match(As))){E(i[0].length);n.attrs.push(i)}if(r){n.unarySlash=r[1];E(r[0].length);n.end=a;return n}}}function O(t){var a=t.tagName;var s=t.unarySlash;if(r){if(l==="p"&&Cs(a)){T(l)}if(o(a)&&l===a){T(a)}}var u=i(a)||!!s;var c=t.attrs.length;var f=new Array(c);for(var h=0;h<c;h++){var d=t.attrs[h];if(Rs&&d[0].indexOf('""')===-1){if(d[3]===""){delete d[3]}if(d[4]===""){delete d[4]}if(d[5]===""){delete d[5]}}var p=d[3]||d[4]||d[5]||"";var v=a==="a"&&d[1]==="href"?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;f[h]={name:d[1],value:Zs(p,v)}}if(!u){n.push({tag:a,lowerCasedTag:a.toLowerCase(),attrs:f});l=a}if(e.start){e.start(a,f,u,t.start,t.end)}}function T(t,r,i){var o,s;if(r==null){r=a}if(i==null){i=a}if(t){s=t.toLowerCase()}if(t){for(o=n.length-1;o>=0;o--){if(n[o].lowerCasedTag===s){break}}}else{o=0}if(o>=0){for(var u=n.length-1;u>=o;u--){if(false){}if(e.end){e.end(n[u].tag,r,i)}}n.length=o;l=o&&n[o-1].tag}else if(s==="br"){if(e.start){e.start(t,[],true,r,i)}}else if(s==="p"){if(e.start){e.start(t,[],false,r,i)}if(e.end){e.end(t,r,i)}}}}var Ws=/^@|^v-on:/;var Gs=/^v-|^@|^:/;var Ks=/([^]*?)\s+(?:in|of)\s+([^]*)/;var Ys=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/;var Xs=/^\(|\)$/g;var Js=/:(.*)$/;var Qs=/^:|^v-bind:/;var tl=/\.[^.]+/g;var el=k(ks.decode);var nl;var rl;var il;var ol;var al;var sl;var ll;var ul;function cl(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:Ll(e),parent:n,children:[]}}function fl(t,e){nl=e.warn||fo;sl=e.isPreTag||R;ll=e.mustUseProp||R;ul=e.getTagNamespace||R;il=ho(e.modules,"transformNode");ol=ho(e.modules,"preTransformNode");al=ho(e.modules,"postTransformNode");rl=e.delimiters;var n=[];var r=e.preserveWhitespace!==false;var i;var o;var a=false;var s=false;var l=false;function u(t){if(!l){l=true;nl(t)}}function c(t){if(t.pre){a=false}if(sl(t.tag)){s=false}for(var n=0;n<al.length;n++){al[n](t,e)}}Vs(t,{warn:nl,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,start:function t(r,l,u){var f=o&&o.ns||ul(r);if(nt&&f==="svg"){l=Ml(l)}var h=cl(r,l,o);if(f){h.ns=f}if(Pl(h)&&!ht()){h.forbidden=true;"production"!=="production"&&nl("Templates should only be responsible for mapping the state to the "+"UI. Avoid placing tags with side-effects in your templates, such as "+"<"+r+">"+", as they will not be parsed.")}for(var d=0;d<ol.length;d++){h=ol[d](h,e)||h}if(!a){hl(h);if(h.pre){a=true}}if(sl(h.tag)){s=true}if(a){dl(h)}else if(!h.processed){yl(h);_l(h);El(h);pl(h,e)}function p(t){if(false){}}if(!i){i=h;p(i)}else if(!n.length){if(i.if&&(h.elseif||h.else)){p(h);xl(i,{exp:h.elseif,block:h})}else if(false){}}if(o&&!h.forbidden){if(h.elseif||h.else){bl(h,o)}else if(h.slotScope){o.plain=false;var v=h.slotTarget||'"default"';(o.scopedSlots||(o.scopedSlots={}))[v]=h}else{o.children.push(h);h.parent=o}}if(!u){o=h;n.push(h)}else{c(h)}},end:function t(){var e=n[n.length-1];var r=e.children[e.children.length-1];if(r&&r.type===3&&r.text===" "&&!s){e.children.pop()}n.length-=1;o=n[n.length-1];c(e)},chars:function t(e){if(!o){if(false){}return}if(nt&&o.tag==="textarea"&&o.attrsMap.placeholder===e){return}var n=o.children;e=s||e.trim()?Sl(o)?e:el(e):r&&n.length?" ":"";if(e){var i;if(!a&&e!==" "&&(i=ms(e,rl))){n.push({type:2,expression:i.expression,tokens:i.tokens,text:e})}else if(e!==" "||!n.length||n[n.length-1].text!==" "){n.push({type:3,text:e})}}},comment:function t(e){o.children.push({type:3,text:e,isComment:true})}});return i}function hl(t){if(bo(t,"v-pre")!=null){t.pre=true}}function dl(t){var e=t.attrsList.length;if(e){var n=t.attrs=new Array(e);for(var r=0;r<e;r++){n[r]={name:t.attrsList[r].name,value:JSON.stringify(t.attrsList[r].value)}}}else if(!t.pre){t.plain=true}}function pl(t,e){vl(t);t.plain=!t.key&&!t.attrsList.length;ml(t);kl(t);Ol(t);for(var n=0;n<il.length;n++){t=il[n](t,e)||t}Tl(t)}function vl(t){var e=_o(t,"key");if(e){if(false){}t.key=e}}function ml(t){var e=_o(t,"ref");if(e){t.ref=e;t.refInFor=Cl(t)}}function yl(t){var e;if(e=bo(t,"v-for")){var n=gl(e);if(n){M(t,n)}else if(false){}}}function gl(t){var e=t.match(Ks);if(!e){return}var n={};n.for=e[2].trim();var r=e[1].trim().replace(Xs,"");var i=r.match(Ys);if(i){n.alias=r.replace(Ys,"");n.iterator1=i[1].trim();if(i[2]){n.iterator2=i[2].trim()}}else{n.alias=r}return n}function _l(t){var e=bo(t,"v-if");if(e){t.if=e;xl(t,{exp:e,block:t})}else{if(bo(t,"v-else")!=null){t.else=true}var n=bo(t,"v-else-if");if(n){t.elseif=n}}}function bl(t,e){var n=wl(e.children);if(n&&n.if){xl(n,{exp:t.elseif,block:t})}else if(false){}}function wl(t){var e=t.length;while(e--){if(t[e].type===1){return t[e]}else{if(false){}t.pop()}}}function xl(t,e){if(!t.ifConditions){t.ifConditions=[]}t.ifConditions.push(e)}function El(t){var e=bo(t,"v-once");if(e!=null){t.once=true}}function kl(t){if(t.tag==="slot"){t.slotName=_o(t,"name");if(false){}}else{var e;if(t.tag==="template"){e=bo(t,"scope");if(false){}t.slotScope=e||bo(t,"slot-scope")}else if(e=bo(t,"slot-scope")){if(false){}t.slotScope=e}var n=_o(t,"slot");if(n){t.slotTarget=n==='""'?'"default"':n;if(t.tag!=="template"&&!t.slotScope){vo(t,"slot",n)}}}}function Ol(t){var e;if(e=_o(t,"is")){t.component=e}if(bo(t,"inline-template")!=null){t.inlineTemplate=true}}function Tl(t){var e=t.attrsList;var n,r,i,o,a,s,l;for(n=0,r=e.length;n<r;n++){i=o=e[n].name;a=e[n].value;if(Gs.test(i)){t.hasBindings=true;s=Al(i);if(s){i=i.replace(tl,"")}if(Qs.test(i)){i=i.replace(Qs,"");a=uo(a);l=false;if(s){if(s.prop){l=true;i=T(i);if(i==="innerHtml"){i="innerHTML"}}if(s.camel){i=T(i)}if(s.sync){go(t,"update:"+T(i),xo(a,"$event"))}}if(l||!t.component&&ll(t.tag,t.attrsMap.type,i)){po(t,i,a)}else{vo(t,i,a)}}else if(Ws.test(i)){i=i.replace(Ws,"");go(t,i,a,s,false,nl)}else{i=i.replace(Gs,"");var u=i.match(Js);var c=u&&u[1];if(c){i=i.slice(0,-(c.length+1))}yo(t,i,o,a,c,s);if(false){}}}else{if(false){var f}vo(t,i,JSON.stringify(a));if(!t.component&&i==="muted"&&ll(t.tag,t.attrsMap.type,i)){po(t,i,"true")}}}}function Cl(t){var e=t;while(e){if(e.for!==undefined){return true}e=e.parent}return false}function Al(t){var e=t.match(tl);if(e){var n={};e.forEach(function(t){n[t.slice(1)]=true});return n}}function Ll(t){var e={};for(var n=0,r=t.length;n<r;n++){if(false){}e[t[n].name]=t[n].value}return e}function Sl(t){return t.tag==="script"||t.tag==="style"}function Pl(t){return t.tag==="style"||t.tag==="script"&&(!t.attrsMap.type||t.attrsMap.type==="text/javascript")}var Nl=/^xmlns:NS\d+/;var jl=/^NS\d+:/;function Ml(t){var e=[];for(var n=0;n<t.length;n++){var r=t[n];if(!Nl.test(r.name)){r.name=r.name.replace(jl,"");e.push(r)}}return e}function Il(t,e){var n=t;while(n){if(n.for&&n.alias===e){nl("<"+t.tag+' v-model="'+e+'">: '+"You are binding v-model directly to a v-for iteration alias. "+"This will not be able to modify the v-for source array because "+"writing to the alias is like modifying a function local variable. "+"Consider using an array of objects and use v-model on an object property instead.")}n=n.parent}}function Dl(t,e){if(t.tag==="input"){var n=t.attrsMap;if(!n["v-model"]){return}var r;if(n[":type"]||n["v-bind:type"]){r=_o(t,"type")}if(!n.type&&!r&&n["v-bind"]){r="("+n["v-bind"]+").type"}if(r){var i=bo(t,"v-if",true);var o=i?"&&("+i+")":"";var a=bo(t,"v-else",true)!=null;var s=bo(t,"v-else-if",true);var l=Rl(t);yl(l);mo(l,"type","checkbox");pl(l,e);l.processed=true;l.if="("+r+")==='checkbox'"+o;xl(l,{exp:l.if,block:l});var u=Rl(t);bo(u,"v-for",true);mo(u,"type","radio");pl(u,e);xl(l,{exp:"("+r+")==='radio'"+o,block:u});var c=Rl(t);bo(c,"v-for",true);mo(c,":type",r);pl(c,e);xl(l,{exp:i,block:c});if(a){l.else=true}else if(s){l.elseif=s}return l}}}function Rl(t){return cl(t.tag,t.attrsList.slice(),t.parent)}var ql={preTransformNode:Dl};var Bl=[_s,xs,ql];function Fl(t,e){if(e.value){po(t,"textContent","_s("+e.value+")")}}function zl(t,e){if(e.value){po(t,"innerHTML","_s("+e.value+")")}}var Ul={model:qo,text:Fl,html:zl};var $l={expectHTML:true,modules:Bl,directives:Ul,isPreTag:bi,isUnaryTag:Os,mustUseProp:ri,canBeLeftOpenTag:Ts,isReservedTag:wi,getTagNamespace:xi,staticKeys:B(Bl)};var Hl;var Zl;var Vl=k(Gl);function Wl(t,e){if(!t){return}Hl=Vl(e.staticKeys||"");Zl=e.isReservedTag||R;Kl(t);Yl(t,false)}function Gl(t){return g("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))}function Kl(t){t.static=Xl(t);if(t.type===1){if(!Zl(t.tag)&&t.tag!=="slot"&&t.attrsMap["inline-template"]==null){return}for(var e=0,n=t.children.length;e<n;e++){var r=t.children[e];Kl(r);if(!r.static){t.static=false}}if(t.ifConditions){for(var i=1,o=t.ifConditions.length;i<o;i++){var a=t.ifConditions[i].block;Kl(a);if(!a.static){t.static=false}}}}}function Yl(t,e){if(t.type===1){if(t.static||t.once){t.staticInFor=e}if(t.static&&t.children.length&&!(t.children.length===1&&t.children[0].type===3)){t.staticRoot=true;return}else{t.staticRoot=false}if(t.children){for(var n=0,r=t.children.length;n<r;n++){Yl(t.children[n],e||!!t.for)}}if(t.ifConditions){for(var i=1,o=t.ifConditions.length;i<o;i++){Yl(t.ifConditions[i].block,e)}}}}function Xl(t){if(t.type===2){return false}if(t.type===3){return true}return!!(t.pre||!t.hasBindings&&!t.if&&!t.for&&!_(t.tag)&&Zl(t.tag)&&!Jl(t)&&Object.keys(t).every(Hl))}function Jl(t){while(t.parent){t=t.parent;if(t.tag!=="template"){return false}if(t.for){return true}}return false}var Ql=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/;var tu=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/;var eu={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]};var nu={esc:"Escape",tab:"Tab",enter:"Enter",space:" ",up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete"]};var ru=function t(e){return"if("+e+")return null;"};var iu={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:ru("$event.target !== $event.currentTarget"),ctrl:ru("!$event.ctrlKey"),shift:ru("!$event.shiftKey"),alt:ru("!$event.altKey"),meta:ru("!$event.metaKey"),left:ru("'button' in $event && $event.button !== 0"),middle:ru("'button' in $event && $event.button !== 1"),right:ru("'button' in $event && $event.button !== 2")};function ou(t,e,n){var r=e?"nativeOn:{":"on:{";for(var i in t){r+='"'+i+'":'+au(i,t[i])+","}return r.slice(0,-1)+"}"}function au(t,e){if(!e){return"function(){}"}if(Array.isArray(e)){return"["+e.map(function(e){return au(t,e)}).join(",")+"]"}var n=tu.test(e.value);var r=Ql.test(e.value);if(!e.modifiers){if(n||r){return e.value}return"function($event){"+e.value+"}"}else{var i="";var o="";var a=[];for(var s in e.modifiers){if(iu[s]){o+=iu[s];if(eu[s]){a.push(s)}}else if(s==="exact"){var l=e.modifiers;o+=ru(["ctrl","shift","alt","meta"].filter(function(t){return!l[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else{a.push(s)}}if(a.length){i+=su(a)}if(o){i+=o}var u=n?"return "+e.value+"($event)":r?"return ("+e.value+")($event)":e.value;return"function($event){"+i+u+"}"}}function su(t){return"if(!('button' in $event)&&"+t.map(lu).join("&&")+")return null;"}function lu(t){var e=parseInt(t,10);if(e){return"$event.keyCode!=="+e}var n=eu[t];var r=nu[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+","+"$event.key,"+""+JSON.stringify(r)+")"}function uu(t,e){if(false){}t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}}function cu(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}}var fu={on:uu,bind:cu,cloak:D};var hu=function t(e){this.options=e;this.warn=e.warn||fo;this.transforms=ho(e.modules,"transformCode");this.dataGenFns=ho(e.modules,"genData");this.directives=M(M({},fu),e.directives);var n=e.isReservedTag||R;this.maybeComponent=function(t){return!n(t.tag)};this.onceId=0;this.staticRenderFns=[]};function du(t,e){var n=new hu(e);var r=t?pu(t,n):'_c("div")';return{render:"with(this){return "+r+"}",staticRenderFns:n.staticRenderFns}}function pu(t,e){if(t.staticRoot&&!t.staticProcessed){return vu(t,e)}else if(t.once&&!t.onceProcessed){return mu(t,e)}else if(t.for&&!t.forProcessed){return _u(t,e)}else if(t.if&&!t.ifProcessed){return yu(t,e)}else if(t.tag==="template"&&!t.slotTarget){return Tu(t,e)||"void 0"}else if(t.tag==="slot"){return Nu(t,e)}else{var n;if(t.component){n=ju(t.component,t,e)}else{var r=t.plain?undefined:bu(t,e);var i=t.inlineTemplate?null:Tu(t,e,true);n="_c('"+t.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var o=0;o<e.transforms.length;o++){n=e.transforms[o](t,n)}return n}}function vu(t,e){t.staticProcessed=true;e.staticRenderFns.push("with(this){return "+pu(t,e)+"}");return"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function mu(t,e){t.onceProcessed=true;if(t.if&&!t.ifProcessed){return yu(t,e)}else if(t.staticInFor){var n="";var r=t.parent;while(r){if(r.for){n=r.key;break}r=r.parent}if(!n){"production"!=="production"&&e.warn("v-once can only be used inside v-for that is keyed. ");return pu(t,e)}return"_o("+pu(t,e)+","+e.onceId+++","+n+")"}else{return vu(t,e)}}function yu(t,e,n,r){t.ifProcessed=true;return gu(t.ifConditions.slice(),e,n,r)}function gu(t,e,n,r){if(!t.length){return r||"_e()"}var i=t.shift();if(i.exp){return"("+i.exp+")?"+o(i.block)+":"+gu(t,e,n,r)}else{return""+o(i.block)}function o(t){return n?n(t,e):t.once?mu(t,e):pu(t,e)}}function _u(t,e,n,r){var i=t.for;var o=t.alias;var a=t.iterator1?","+t.iterator1:"";var s=t.iterator2?","+t.iterator2:"";if(false){}t.forProcessed=true;return(r||"_l")+"(("+i+"),"+"function("+o+a+s+"){"+"return "+(n||pu)(t,e)+"})"}function bu(t,e){var n="{";var r=wu(t,e);if(r){n+=r+","}if(t.key){n+="key:"+t.key+","}if(t.ref){n+="ref:"+t.ref+","}if(t.refInFor){n+="refInFor:true,"}if(t.pre){n+="pre:true,"}if(t.component){n+='tag:"'+t.tag+'",'}for(var i=0;i<e.dataGenFns.length;i++){n+=e.dataGenFns[i](t)}if(t.attrs){n+="attrs:{"+Mu(t.attrs)+"},"}if(t.props){n+="domProps:{"+Mu(t.props)+"},"}if(t.events){n+=ou(t.events,false,e.warn)+","}if(t.nativeEvents){n+=ou(t.nativeEvents,true,e.warn)+","}if(t.slotTarget&&!t.slotScope){n+="slot:"+t.slotTarget+","}if(t.scopedSlots){n+=Eu(t.scopedSlots,e)+","}if(t.model){n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"}if(t.inlineTemplate){var o=xu(t,e);if(o){n+=o+","}}n=n.replace(/,$/,"")+"}";if(t.wrapData){n=t.wrapData(n)}if(t.wrapListeners){n=t.wrapListeners(n)}return n}function wu(t,e){var n=t.directives;if(!n){return}var r="directives:[";var i=false;var o,a,s,l;for(o=0,a=n.length;o<a;o++){s=n[o];l=true;var u=e.directives[s.name];if(u){l=!!u(t,s,e.warn)}if(l){i=true;r+='{name:"'+s.name+'",rawName:"'+s.rawName+'"'+(s.value?",value:("+s.value+"),expression:"+JSON.stringify(s.value):"")+(s.arg?',arg:"'+s.arg+'"':"")+(s.modifiers?",modifiers:"+JSON.stringify(s.modifiers):"")+"},"}}if(i){return r.slice(0,-1)+"]"}}function xu(t,e){var n=t.children[0];if(false){}if(n.type===1){var r=du(n,e.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}function Eu(t,e){return"scopedSlots:_u(["+Object.keys(t).map(function(n){return ku(n,t[n],e)}).join(",")+"])"}function ku(t,e,n){if(e.for&&!e.forProcessed){return Ou(t,e,n)}var r="function("+String(e.slotScope)+"){"+"return "+(e.tag==="template"?e.if?e.if+"?"+(Tu(e,n)||"undefined")+":undefined":Tu(e,n)||"undefined":pu(e,n))+"}";return"{key:"+t+",fn:"+r+"}"}function Ou(t,e,n){var r=e.for;var i=e.alias;var o=e.iterator1?","+e.iterator1:"";var a=e.iterator2?","+e.iterator2:"";e.forProcessed=true;return"_l(("+r+"),"+"function("+i+o+a+"){"+"return "+ku(t,e,n)+"})"}function Tu(t,e,n,r,i){var o=t.children;if(o.length){var a=o[0];if(o.length===1&&a.for&&a.tag!=="template"&&a.tag!=="slot"){return(r||pu)(a,e)}var s=n?Cu(o,e.maybeComponent):0;var l=i||Lu;return"["+o.map(function(t){return l(t,e)}).join(",")+"]"+(s?","+s:"")}}function Cu(t,e){var n=0;for(var r=0;r<t.length;r++){var i=t[r];if(i.type!==1){continue}if(Au(i)||i.ifConditions&&i.ifConditions.some(function(t){return Au(t.block)})){n=2;break}if(e(i)||i.ifConditions&&i.ifConditions.some(function(t){return e(t.block)})){n=1}}return n}function Au(t){return t.for!==undefined||t.tag==="template"||t.tag==="slot"}function Lu(t,e){if(t.type===1){return pu(t,e)}if(t.type===3&&t.isComment){return Pu(t)}else{return Su(t)}}function Su(t){return"_v("+(t.type===2?t.expression:Iu(JSON.stringify(t.text)))+")"}function Pu(t){return"_e("+JSON.stringify(t.text)+")"}function Nu(t,e){var n=t.slotName||'"default"';var r=Tu(t,e);var i="_t("+n+(r?","+r:"");var o=t.attrs&&"{"+t.attrs.map(function(t){return T(t.name)+":"+t.value}).join(",")+"}";var a=t.attrsMap["v-bind"];if((o||a)&&!r){i+=",null"}if(o){i+=","+o}if(a){i+=(o?"":",null")+","+a}return i+")"}function ju(t,e,n){var r=e.inlineTemplate?null:Tu(e,n,true);return"_c("+t+","+bu(e,n)+(r?","+r:"")+")"}function Mu(t){var e="";for(var n=0;n<t.length;n++){var r=t[n];{e+='"'+r.name+'":'+Iu(r.value)+","}}return e.slice(0,-1)}function Iu(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}var Du=new RegExp("\\b"+("do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,"+"super,throw,while,yield,delete,export,import,return,switch,default,"+"extends,finally,continue,debugger,function,arguments").split(",").join("\\b|\\b")+"\\b");var Ru=new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");var qu=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g;function Bu(t){var e=[];if(t){Fu(t,e)}return e}function Fu(t,e){if(t.type===1){for(var n in t.attrsMap){if(Gs.test(n)){var r=t.attrsMap[n];if(r){if(n==="v-for"){Uu(t,'v-for="'+r+'"',e)}else if(Ws.test(n)){zu(r,n+'="'+r+'"',e)}else{Hu(r,n+'="'+r+'"',e)}}}}if(t.children){for(var i=0;i<t.children.length;i++){Fu(t.children[i],e)}}}else if(t.type===2){Hu(t.expression,t.text,e)}}function zu(t,e,n){var r=t.replace(qu,"");var i=r.match(Ru);if(i&&r.charAt(i.index-1)!=="$"){n.push("avoid using JavaScript unary operator as property name: "+'"'+i[0]+'" in expression '+e.trim())}Hu(t,e,n)}function Uu(t,e,n){Hu(t.for||"",e,n);$u(t.alias,"v-for alias",e,n);$u(t.iterator1,"v-for iterator",e,n);$u(t.iterator2,"v-for iterator",e,n)}function $u(t,e,n,r){if(typeof t==="string"){try{new Function("var "+t+"=_")}catch(i){r.push("invalid "+e+' "'+t+'" in expression: '+n.trim())}}}function Hu(t,e,n){try{new Function("return "+t)}catch(i){var r=t.replace(qu,"").match(Du);if(r){n.push("avoid using JavaScript keyword as property name: "+'"'+r[0]+'"\n  Raw expression: '+e.trim())}else{n.push("invalid expression: "+i.message+" in\n\n"+"    "+t+"\n\n"+"  Raw expression: "+e.trim()+"\n")}}}function Zu(t,e){try{return new Function(t)}catch(n){e.push({err:n,code:t});return D}}function Vu(t){var e=Object.create(null);return function n(r,i,o){i=M({},i);var a=i.warn||yt;delete i.warn;if(false){}var s=i.delimiters?String(i.delimiters)+r:r;if(e[s]){return e[s]}var l=t(r,i);if(false){}var u={};var c=[];u.render=Zu(l.render,c);u.staticRenderFns=l.staticRenderFns.map(function(t){return Zu(t,c)});if(false){}return e[s]=u}}function Wu(t){return function e(n){function r(e,r){var i=Object.create(n);var o=[];var a=[];i.warn=function(t,e){(e?a:o).push(t)};if(r){if(r.modules){i.modules=(n.modules||[]).concat(r.modules)}if(r.directives){i.directives=M(Object.create(n.directives||null),r.directives)}for(var s in r){if(s!=="modules"&&s!=="directives"){i[s]=r[s]}}}var l=t(e,i);if(false){}l.errors=o;l.tips=a;return l}return{compile:r,compileToFunctions:Vu(r)}}}var Gu=Wu(function t(e,n){var r=fl(e.trim(),n);if(n.optimize!==false){Wl(r,n)}var i=du(r,n);return{ast:r,render:i.render,staticRenderFns:i.staticRenderFns}});var Ku=Gu($l);var Yu=Ku.compileToFunctions;var Xu;function Ju(t){Xu=Xu||document.createElement("div");Xu.innerHTML=t?'<a href="\n"/>':'<div a="\n"/>';return Xu.innerHTML.indexOf("&#10;")>0}var Qu=J?Ju(false):false;var tc=J?Ju(true):false;var ec=k(function(t){var e=Ti(t);return e&&e.innerHTML});var nc=Fr.prototype.$mount;Fr.prototype.$mount=function(t,e){t=t&&Ti(t);if(t===document.body||t===document.documentElement){"production"!=="production"&&yt("Do not mount Vue to <html> or <body> - mount to normal elements instead.");return this}var n=this.$options;if(!n.render){var r=n.template;if(r){if(typeof r==="string"){if(r.charAt(0)==="#"){r=ec(r);if(false){}}}else if(r.nodeType){r=r.innerHTML}else{if(false){}return this}}else if(t){r=rc(t)}if(r){if(false){}var i=Yu(r,{shouldDecodeNewlines:Qu,shouldDecodeNewlinesForHref:tc,delimiters:n.delimiters,comments:n.comments},this);var o=i.render;var a=i.staticRenderFns;n.render=o;n.staticRenderFns=a;if(false){}}}return nc.call(this,t,e)};function rc(t){if(t.outerHTML){return t.outerHTML}else{var e=document.createElement("div");e.appendChild(t.cloneNode(true));return e.innerHTML}}Fr.compile=Yu;e["a"]=Fr}).call(this,n(19),n(90).setImmediate)},function(t,e,n){var r=n(75),i=n(31),o=n(29),a=n(10),s=n(47),l=n(42),u=n(30),c=n(74);var f="[object Map]",h="[object Set]";var d=Object.prototype;var p=d.hasOwnProperty;function v(t){if(t==null){return true}if(s(t)&&(a(t)||typeof t=="string"||typeof t.splice=="function"||l(t)||c(t)||o(t))){return!t.length}var e=i(t);if(e==f||e==h){return!t.size}if(u(t)){return!r(t).length}for(var n in t){if(p.call(t,n)){return false}}return true}t.exports=v},function(t,e,n){"use strict";(function(e){var r=n(6);var i=n(103);var o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){if(!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])){t["Content-Type"]=e}}function s(){var t;if(typeof XMLHttpRequest!=="undefined"){t=n(57)}else if(typeof e!=="undefined"){t=n(57)}return t}var l={adapter:s(),transformRequest:[function t(e,n){i(n,"Content-Type");if(r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)){return e}if(r.isArrayBufferView(e)){return e.buffer}if(r.isURLSearchParams(e)){a(n,"application/x-www-form-urlencoded;charset=utf-8");return e.toString()}if(r.isObject(e)){a(n,"application/json;charset=utf-8");return JSON.stringify(e)}return e}],transformResponse:[function t(e){if(typeof e==="string"){try{e=JSON.parse(e)}catch(t){}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function t(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}};r.forEach(["delete","get","head"],function t(e){l.headers[e]={}});r.forEach(["post","put","patch"],function t(e){l.headers[e]=r.merge(o)});t.exports=l}).call(this,n(55))},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:true});var i=n(148);var o=n(61);var a=n(7);var s=function(t){r(e,t);function e(e){var n=t.call(this,e)||this;n.build();return n}e.prototype.appendChild=function(t){this.insertBefore(t)};e.prototype.attach=function(){t.prototype.attach.call(this);this.children.forEach(function(t){t.attach()})};e.prototype.build=function(){var t=this;this.children=new i.default;[].slice.call(this.domNode.childNodes).reverse().forEach(function(e){try{var n=l(e);t.insertBefore(n,t.children.head||undefined)}catch(t){if(t instanceof a.ParchmentError)return;else throw t}})};e.prototype.deleteAt=function(t,e){if(t===0&&e===this.length()){return this.remove()}this.children.forEachAt(t,e,function(t,e,n){t.deleteAt(e,n)})};e.prototype.descendant=function(t,n){var r=this.children.find(n),i=r[0],o=r[1];if(t.blotName==null&&t(i)||t.blotName!=null&&i instanceof t){return[i,o]}else if(i instanceof e){return i.descendant(t,o)}else{return[null,-1]}};e.prototype.descendants=function(t,n,r){if(n===void 0){n=0}if(r===void 0){r=Number.MAX_VALUE}var i=[];var o=r;this.children.forEachAt(n,r,function(n,r,a){if(t.blotName==null&&t(n)||t.blotName!=null&&n instanceof t){i.push(n)}if(n instanceof e){i=i.concat(n.descendants(t,r,o))}o-=a});return i};e.prototype.detach=function(){this.children.forEach(function(t){t.detach()});t.prototype.detach.call(this)};e.prototype.formatAt=function(t,e,n,r){this.children.forEachAt(t,e,function(t,e,i){t.formatAt(e,i,n,r)})};e.prototype.insertAt=function(t,e,n){var r=this.children.find(t),i=r[0],o=r[1];if(i){i.insertAt(o,e,n)}else{var s=n==null?a.create("text",e):a.create(e,n);this.appendChild(s)}};e.prototype.insertBefore=function(t,e){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(e){return t instanceof e})){throw new a.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName)}t.insertInto(this,e)};e.prototype.length=function(){return this.children.reduce(function(t,e){return t+e.length()},0)};e.prototype.moveChildren=function(t,e){this.children.forEach(function(n){t.insertBefore(n,e)})};e.prototype.optimize=function(e){t.prototype.optimize.call(this,e);if(this.children.length===0){if(this.statics.defaultChild!=null){var n=a.create(this.statics.defaultChild);this.appendChild(n);n.optimize(e)}else{this.remove()}}};e.prototype.path=function(t,n){if(n===void 0){n=false}var r=this.children.find(t,n),i=r[0],o=r[1];var a=[[this,t]];if(i instanceof e){return a.concat(i.path(o,n))}else if(i!=null){a.push([i,o])}return a};e.prototype.removeChild=function(t){this.children.remove(t)};e.prototype.replace=function(n){if(n instanceof e){n.moveChildren(this)}t.prototype.replace.call(this,n)};e.prototype.split=function(t,e){if(e===void 0){e=false}if(!e){if(t===0)return this;if(t===this.length())return this.next}var n=this.clone();this.parent.insertBefore(n,this.next);this.children.forEachAt(t,this.length(),function(t,r,i){t=t.split(r,e);n.appendChild(t)});return n};e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next);this.remove()};e.prototype.update=function(t,e){var n=this;var r=[];var i=[];t.forEach(function(t){if(t.target===n.domNode&&t.type==="childList"){r.push.apply(r,t.addedNodes);i.push.apply(i,t.removedNodes)}});i.forEach(function(t){if(t.parentNode!=null&&t.tagName!=="IFRAME"&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY){return}var e=a.find(t);if(e==null)return;if(e.domNode.parentNode==null||e.domNode.parentNode===n.domNode){e.detach()}});r.filter(function(t){return t.parentNode==n.domNode}).sort(function(t,e){if(t===e)return 0;if(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING){return 1}return-1}).forEach(function(t){var e=null;if(t.nextSibling!=null){e=a.find(t.nextSibling)}var r=l(t);if(r.next!=e||r.next==null){if(r.parent!=null){r.parent.removeChild(n)}n.insertBefore(r,e||undefined)}})};return e}(o.default);function l(t){var e=a.find(t);if(e==null){try{e=a.create(t)}catch(n){e=a.create(a.Scope.INLINE);[].slice.call(t.childNodes).forEach(function(t){e.domNode.appendChild(t)});if(t.parentNode){t.parentNode.replaceChild(e.domNode,t)}e.attach()}}return e}e.default=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:true});var i=n(20);var o=n(62);var a=n(36);var s=n(7);var l=function(t){r(e,t);function e(e){var n=t.call(this,e)||this;n.attributes=new o.default(n.domNode);return n}e.formats=function(t){if(typeof this.tagName==="string"){return true}else if(Array.isArray(this.tagName)){return t.tagName.toLowerCase()}return undefined};e.prototype.format=function(t,e){var n=s.query(t);if(n instanceof i.default){this.attributes.attribute(n,e)}else if(e){if(n!=null&&(t!==this.statics.blotName||this.formats()[t]!==e)){this.replaceWith(t,e)}}};e.prototype.formats=function(){var t=this.attributes.values();var e=this.statics.formats(this.domNode);if(e!=null){t[this.statics.blotName]=e}return t};e.prototype.replaceWith=function(e,n){var r=t.prototype.replaceWith.call(this,e,n);this.attributes.copy(r);return r};e.prototype.update=function(e,n){var r=this;t.prototype.update.call(this,e,n);if(e.some(function(t){return t.target===r.domNode&&t.type==="attributes"})){this.attributes.build()}};e.prototype.wrap=function(n,r){var i=t.prototype.wrap.call(this,n,r);if(i instanceof e&&i.statics.scope===this.statics.scope){this.attributes.move(i)}return i};return e}(a.default);e.default=l},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:true});var i=n(61);var o=n(7);var a=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.value=function(t){return true};e.prototype.index=function(t,e){if(this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY){return Math.min(e,1)}return-1};e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);if(t>0)n+=1;return[this.parent.domNode,n]};e.prototype.value=function(){var t;return t={},t[this.statics.blotName]=this.statics.value(this.domNode)||true,t};e.scope=o.Scope.INLINE_BLOT;return e}(i.default);e.default=a},function(t,e){function n(t,e){var n=-1,r=t==null?0:t.length,i=Array(r);while(++n<r){i[n]=e(t[n],n,t)}return i}t.exports=n},function(t,e,n){var r=n(13),i=n(9);var o=r(i,"Map");t.exports=o},function(t,e,n){var r=n(71),i=n(66);var o=Object.prototype;var a=o.hasOwnProperty;function s(t,e,n){var o=t[e];if(!(a.call(t,e)&&i(o,n))||n===undefined&&!(e in t)){r(t,e,n)}}t.exports=s},function(t,e,n){(function(t){var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=n(9),o=n(227);var a=(false?undefined:r(e))=="object"&&e&&!e.nodeType&&e;var s=a&&(false?undefined:r(t))=="object"&&t&&!t.nodeType&&t;var l=s&&s.exports===a;var u=l?i.Buffer:undefined;var c=u?u.isBuffer:undefined;var f=c||o;t.exports=f}).call(this,n(23)(t))},function(t,e){var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=9007199254740991;var i=/^(?:0|[1-9]\d*)$/;function o(t,e){var o=typeof t==="undefined"?"undefined":n(t);e=e==null?r:e;return!!e&&(o=="number"||o!="symbol"&&i.test(t))&&t>-1&&t%1==0&&t<e}t.exports=o},function(t,e){var n=9007199254740991;function r(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}t.exports=r},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){(function(t){var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=n(68);var o=(false?undefined:r(e))=="object"&&e&&!e.nodeType&&e;var a=o&&(false?undefined:r(t))=="object"&&t&&!t.nodeType&&t;var s=a&&a.exports===o;var l=s&&i.process;var u=function(){try{var t=a&&a.require&&a.require("util").types;if(t){return t}return l&&l.binding&&l.binding("util")}catch(t){}}();t.exports=u}).call(this,n(23)(t))},function(t,e,n){var r=n(67),i=n(44);function o(t){return t!=null&&i(t.length)&&!r(t)}t.exports=o},function(t,e,n){var r=n(236),i=n(78);var o=Object.prototype;var a=o.propertyIsEnumerable;var s=Object.getOwnPropertySymbols;var l=!s?i:function(t){if(t==null){return[]}t=Object(t);return r(s(t),function(e){return a.call(t,e)})};t.exports=l},function(t,e){function n(t,e){var n=-1,r=e.length,i=t.length;while(++n<r){t[i+n]=e[n]}return t}t.exports=n},function(t,e,n){var r=n(76);var i=r(Object.getPrototypeOf,Object);t.exports=i},function(t,e,n){var r=n(245);function i(t){var e=new t.constructor(t.byteLength);new r(e).set(new r(t));return e}t.exports=i},function(t,e,n){var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=n(16),o=n(14);var a="[object Symbol]";function s(t){return(typeof t==="undefined"?"undefined":r(t))=="symbol"||o(t)&&i(t)==a}t.exports=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=r;function r(t,e){var n=[];var r={};for(var i=0;i<e.length;i++){var o=e[i];var a=o[0];var s=o[1];var l=o[2];var u=o[3];var c={id:t+":"+i,css:s,media:l,sourceMap:u};if(!r[a]){n.push(r[a]={id:a,parts:[c]})}else{r[a].parts.push(c)}}return n}},function(t,e,n){var r=n(39),i=n(193),o=n(256),a=n(18),s=n(22),l=n(266),u=n(83),c=n(81);var f=1,h=2,d=4;var p=u(function(t,e){var n={};if(t==null){return n}var u=false;e=r(e,function(e){e=a(e,t);u||(u=e.length>1);return e});s(t,c(t),n);if(u){n=i(n,f|h|d,l)}var p=e.length;while(p--){o(n,e[p])}return n});t.exports=p},function(t,e){var n=t.exports={};var r;var i;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=o}}catch(t){r=o}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=a}}catch(t){i=a}})();function s(t){if(r===setTimeout){return setTimeout(t,0)}if((r===o||!r)&&setTimeout){r=setTimeout;return setTimeout(t,0)}try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function l(t){if(i===clearTimeout){return clearTimeout(t)}if((i===a||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(t)}try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}var u=[];var c=false;var f;var h=-1;function d(){if(!c||!f){return}c=false;if(f.length){u=f.concat(u)}else{h=-1}if(u.length){p()}}function p(){if(c){return}var t=s(d);c=true;var e=u.length;while(e){f=u;u=[];while(++h<e){if(f){f[h].run()}}h=-1;e=u.length}f=null;c=false;l(t)}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}}u.push(new v(t,e));if(u.length===1&&!c){s(p)}};function v(t,e){this.fun=t;this.array=e}v.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function m(){}n.on=m;n.addListener=m;n.once=m;n.off=m;n.removeListener=m;n.removeAllListeners=m;n.emit=m;n.prependListener=m;n.prependOnceListener=m;n.listeners=function(t){return[]};n.binding=function(t){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(t){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},function(t,e,n){"use strict";t.exports=function t(e,n){return function t(){var r=new Array(arguments.length);for(var i=0;i<r.length;i++){r[i]=arguments[i]}return e.apply(n,r)}}},function(t,e,n){"use strict";var r=n(6);var i=n(104);var o=n(106);var a=n(107);var s=n(108);var l=n(58);var u=typeof window!=="undefined"&&window.btoa&&window.btoa.bind(window)||n(109);t.exports=function t(e){return new Promise(function t(c,f){var h=e.data;var d=e.headers;if(r.isFormData(h)){delete d["Content-Type"]}var p=new XMLHttpRequest;var v="onreadystatechange";var m=false;if("production"!=="test"&&typeof window!=="undefined"&&window.XDomainRequest&&!("withCredentials"in p)&&!s(e.url)){p=new window.XDomainRequest;v="onload";m=true;p.onprogress=function t(){};p.ontimeout=function t(){}}if(e.auth){var y=e.auth.username||"";var g=e.auth.password||"";d.Authorization="Basic "+u(y+":"+g)}p.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),true);p.timeout=e.timeout;p[v]=function t(){if(!p||p.readyState!==4&&!m){return}if(p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)){return}var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null;var r=!e.responseType||e.responseType==="text"?p.responseText:p.response;var o={data:r,status:p.status===1223?204:p.status,statusText:p.status===1223?"No Content":p.statusText,headers:n,config:e,request:p};i(c,f,o);p=null};p.onerror=function t(){f(l("Network Error",e,null,p));p=null};p.ontimeout=function t(){f(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p));p=null};if(r.isStandardBrowserEnv()){var _=n(110);var b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?_.read(e.xsrfCookieName):undefined;if(b){d[e.xsrfHeaderName]=b}}if("setRequestHeader"in p){r.forEach(d,function t(e,n){if(typeof h==="undefined"&&n.toLowerCase()==="content-type"){delete d[n]}else{p.setRequestHeader(n,e)}})}if(e.withCredentials){p.withCredentials=true}if(e.responseType){try{p.responseType=e.responseType}catch(t){if(e.responseType!=="json"){throw t}}}if(typeof e.onDownloadProgress==="function"){p.addEventListener("progress",e.onDownloadProgress)}if(typeof e.onUploadProgress==="function"&&p.upload){p.upload.addEventListener("progress",e.onUploadProgress)}if(e.cancelToken){e.cancelToken.promise.then(function t(e){if(!p){return}p.abort();f(e);p=null})}if(h===undefined){h=null}p.send(h)})}},function(t,e,n){"use strict";var r=n(105);t.exports=function t(e,n,i,o,a){var s=new Error(e);return r(s,n,i,o,a)}},function(t,e,n){"use strict";t.exports=function t(e){return!!(e&&e.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function t(){return"Cancel"+(this.message?": "+this.message:"")};r.prototype.__CANCEL__=true;t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(7);var i=function(){function t(t){this.domNode=t;this.domNode[r.DATA_KEY]={blot:this}}Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:true,configurable:true});t.create=function(t){if(this.tagName==null){throw new r.ParchmentError("Blot definition missing tagName")}var e;if(Array.isArray(this.tagName)){if(typeof t==="string"){t=t.toUpperCase();if(parseInt(t).toString()===t){t=parseInt(t)}}if(typeof t==="number"){e=document.createElement(this.tagName[t-1])}else if(this.tagName.indexOf(t)>-1){e=document.createElement(t)}else{e=document.createElement(this.tagName[0])}}else{e=document.createElement(this.tagName)}if(this.className){e.classList.add(this.className)}return e};t.prototype.attach=function(){if(this.parent!=null){this.scroll=this.parent.scroll}};t.prototype.clone=function(){var t=this.domNode.cloneNode(false);return r.create(t)};t.prototype.detach=function(){if(this.parent!=null)this.parent.removeChild(this);delete this.domNode[r.DATA_KEY]};t.prototype.deleteAt=function(t,e){var n=this.isolate(t,e);n.remove()};t.prototype.formatAt=function(t,e,n,i){var o=this.isolate(t,e);if(r.query(n,r.Scope.BLOT)!=null&&i){o.wrap(n,i)}else if(r.query(n,r.Scope.ATTRIBUTE)!=null){var a=r.create(this.statics.scope);o.wrap(a);a.format(n,i)}};t.prototype.insertAt=function(t,e,n){var i=n==null?r.create("text",e):r.create(e,n);var o=this.split(t);this.parent.insertBefore(i,o)};t.prototype.insertInto=function(t,e){if(e===void 0){e=null}if(this.parent!=null){this.parent.children.remove(this)}var n=null;t.children.insertBefore(this,e);if(e!=null){n=e.domNode}if(this.domNode.parentNode!=t.domNode||this.domNode.nextSibling!=n){t.domNode.insertBefore(this.domNode,n)}this.parent=t;this.attach()};t.prototype.isolate=function(t,e){var n=this.split(t);n.split(e);return n};t.prototype.length=function(){return 1};t.prototype.offset=function(t){if(t===void 0){t=this.parent}if(this.parent==null||this==t)return 0;return this.parent.children.offset(this)+this.parent.offset(t)};t.prototype.optimize=function(t){if(this.domNode[r.DATA_KEY]!=null){delete this.domNode[r.DATA_KEY].mutations}};t.prototype.remove=function(){if(this.domNode.parentNode!=null){this.domNode.parentNode.removeChild(this.domNode)}this.detach()};t.prototype.replace=function(t){if(t.parent==null)return;t.parent.insertBefore(this,t.next);t.remove()};t.prototype.replaceWith=function(t,e){var n=typeof t==="string"?r.create(t,e):t;n.replace(this);return n};t.prototype.split=function(t,e){return t===0?this:this.next};t.prototype.update=function(t,e){};t.prototype.wrap=function(t,e){var n=typeof t==="string"?r.create(t,e):t;if(this.parent!=null){this.parent.insertBefore(n,this.next)}n.appendChild(this);return n};t.blotName="abstract";return t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(20);var i=n(63);var o=n(64);var a=n(7);var s=function(){function t(t){this.attributes={};this.domNode=t;this.build()}t.prototype.attribute=function(t,e){if(e){if(t.add(this.domNode,e)){if(t.value(this.domNode)!=null){this.attributes[t.attrName]=t}else{delete this.attributes[t.attrName]}}}else{t.remove(this.domNode);delete this.attributes[t.attrName]}};t.prototype.build=function(){var t=this;this.attributes={};var e=r.default.keys(this.domNode);var n=i.default.keys(this.domNode);var s=o.default.keys(this.domNode);e.concat(n).concat(s).forEach(function(e){var n=a.query(e,a.Scope.ATTRIBUTE);if(n instanceof r.default){t.attributes[n.attrName]=n}})};t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach(function(n){var r=e.attributes[n].value(e.domNode);t.format(n,r)})};t.prototype.move=function(t){var e=this;this.copy(t);Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)});this.attributes={}};t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce(function(e,n){e[n]=t.attributes[n].value(t.domNode);return e},{})};return t}();e.default=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:true});var i=n(20);function o(t,e){var n=t.getAttribute("class")||"";return n.split(/\s+/).filter(function(t){return t.indexOf(e+"-")===0})}var a=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})};e.prototype.add=function(t,e){if(!this.canAdd(t,e))return false;this.remove(t);t.classList.add(this.keyName+"-"+e);return true};e.prototype.remove=function(t){var e=o(t,this.keyName);e.forEach(function(e){t.classList.remove(e)});if(t.classList.length===0){t.removeAttribute("class")}};e.prototype.value=function(t){var e=o(t,this.keyName)[0]||"";var n=e.slice(this.keyName.length+1);return this.canAdd(t,n)?n:""};return e}(i.default);e.default=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:true});var i=n(20);function o(t){var e=t.split("-");var n=e.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return e[0]+n}var a=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.keys=function(t){return(t.getAttribute("style")||"").split(";").map(function(t){var e=t.split(":");return e[0].trim()})};e.prototype.add=function(t,e){if(!this.canAdd(t,e))return false;t.style[o(this.keyName)]=e;return true};e.prototype.remove=function(t){t.style[o(this.keyName)]="";if(!t.getAttribute("style")){t.removeAttribute("style")}};e.prototype.value=function(t){var e=t.style[o(this.keyName)];return this.canAdd(t,e)?e:""};return e}(i.default);e.default=a},function(t,e){t.exports='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"></line></svg>'},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){var r=n(16),i=n(17);var o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";function u(t){if(!i(t)){return false}var e=r(t);return e==a||e==s||e==o||e==l}t.exports=u},function(t,e,n){(function(e){var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=(typeof e==="undefined"?"undefined":n(e))=="object"&&e&&e.Object===Object&&e;t.exports=r}).call(this,n(19))},function(t,e){var n=Function.prototype;var r=n.toString;function i(t){if(t!=null){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}t.exports=i},function(t,e,n){var r=n(211),i=n(218),o=n(220),a=n(221),s=n(222);function l(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r;l.prototype["delete"]=i;l.prototype.get=o;l.prototype.has=a;l.prototype.set=s;t.exports=l},function(t,e,n){var r=n(72);function i(t,e,n){if(e=="__proto__"&&r){r(t,e,{configurable:true,enumerable:true,value:n,writable:true})}else{t[e]=n}}t.exports=i},function(t,e,n){var r=n(13);var i=function(){try{var t=r(Object,"defineProperty");t({},"",{});return t}catch(t){}}();t.exports=i},function(t,e,n){var r=n(225),i=n(29),o=n(10),a=n(42),s=n(43),l=n(74);var u=Object.prototype;var c=u.hasOwnProperty;function f(t,e){var n=o(t),u=!n&&i(t),f=!n&&!u&&a(t),h=!n&&!u&&!f&&l(t),d=n||u||f||h,p=d?r(t.length,String):[],v=p.length;for(var m in t){if((e||c.call(t,m))&&!(d&&(m=="length"||f&&(m=="offset"||m=="parent")||h&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||s(m,v)))){p.push(m)}}return p}t.exports=f},function(t,e,n){var r=n(228),i=n(45),o=n(46);var a=o&&o.isTypedArray;var s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(30),i=n(229);var o=Object.prototype;var a=o.hasOwnProperty;function s(t){if(!r(t)){return i(t)}var e=[];for(var n in Object(t)){if(a.call(t,n)&&n!="constructor"){e.push(n)}}return e}t.exports=s},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e,n){var r=n(73),i=n(231),o=n(47);function a(t){return o(t)?r(t,true):i(t)}t.exports=a},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){var r=n(49),i=n(50),o=n(48),a=n(78);var s=Object.getOwnPropertySymbols;var l=!s?a:function(t){var e=[];while(t){r(e,o(t));t=i(t)}return e};t.exports=l},function(t,e,n){var r=n(49),i=n(10);function o(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}t.exports=o},function(t,e,n){var r=n(80),i=n(79),o=n(77);function a(t){return r(t,o,i)}t.exports=a},function(t,e,n){var r=n(18),i=n(32);function o(t,e){e=r(e,t);var n=0,o=e.length;while(t!=null&&n<o){t=t[i(e[n++])]}return n&&n==o?t:undefined}t.exports=o},function(t,e,n){var r=n(268),i=n(271),o=n(273);function a(t){return o(i(t,undefined,r),t+"")}t.exports=a},function(t,e,n){t.exports={blockquote:n(125),bold:n(126),cite:n(127),colbreak:n(128),color:n(129),del:n(130),expan:n(131),italic:n(132),link:n(133),list:n(134),location:n(135),note:n(136),paragraph:n(137),person:n(138),quote:n(139),subscript:n(140),superscript:n(141),underline:n(142),segment:n(143),smallcaps:n(144),speechpart:n(145),verse:n(146),zone:n(147)}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}if(Object.create){o.prototype=Object.create(null);if(!(new o).__proto__)i=false}function a(t,e,n){this.fn=t;this.context=e;this.once=n||false}function s(){this._events=new o;this._eventsCount=0}s.prototype.eventNames=function t(){var e=[],n,o;if(this._eventsCount===0)return e;for(o in n=this._events){if(r.call(n,o))e.push(i?o.slice(1):o)}if(Object.getOwnPropertySymbols){return e.concat(Object.getOwnPropertySymbols(n))}return e};s.prototype.listeners=function t(e,n){var r=i?i+e:e,o=this._events[r];if(n)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var a=0,s=o.length,l=new Array(s);a<s;a++){l[a]=o[a].fn}return l};s.prototype.emit=function t(e,n,r,o,a,s){var l=i?i+e:e;if(!this._events[l])return false;var u=this._events[l],c=arguments.length,f,h;if(u.fn){if(u.once)this.removeListener(e,u.fn,undefined,true);switch(c){case 1:return u.fn.call(u.context),true;case 2:return u.fn.call(u.context,n),true;case 3:return u.fn.call(u.context,n,r),true;case 4:return u.fn.call(u.context,n,r,o),true;case 5:return u.fn.call(u.context,n,r,o,a),true;case 6:return u.fn.call(u.context,n,r,o,a,s),true}for(h=1,f=new Array(c-1);h<c;h++){f[h-1]=arguments[h]}u.fn.apply(u.context,f)}else{var d=u.length,p;for(h=0;h<d;h++){if(u[h].once)this.removeListener(e,u[h].fn,undefined,true);switch(c){case 1:u[h].fn.call(u[h].context);break;case 2:u[h].fn.call(u[h].context,n);break;case 3:u[h].fn.call(u[h].context,n,r);break;case 4:u[h].fn.call(u[h].context,n,r,o);break;default:if(!f)for(p=1,f=new Array(c-1);p<c;p++){f[p-1]=arguments[p]}u[h].fn.apply(u[h].context,f)}}}return true};s.prototype.on=function t(e,n,r){var o=new a(n,r||this),s=i?i+e:e;if(!this._events[s])this._events[s]=o,this._eventsCount++;else if(!this._events[s].fn)this._events[s].push(o);else this._events[s]=[this._events[s],o];return this};s.prototype.once=function t(e,n,r){var o=new a(n,r||this,true),s=i?i+e:e;if(!this._events[s])this._events[s]=o,this._eventsCount++;else if(!this._events[s].fn)this._events[s].push(o);else this._events[s]=[this._events[s],o];return this};s.prototype.removeListener=function t(e,n,r,a){var s=i?i+e:e;if(!this._events[s])return this;if(!n){if(--this._eventsCount===0)this._events=new o;else delete this._events[s];return this}var l=this._events[s];if(l.fn){if(l.fn===n&&(!a||l.once)&&(!r||l.context===r)){if(--this._eventsCount===0)this._events=new o;else delete this._events[s]}}else{for(var u=0,c=[],f=l.length;u<f;u++){if(l[u].fn!==n||a&&!l[u].once||r&&l[u].context!==r){c.push(l[u])}}if(c.length)this._events[s]=c.length===1?c[0]:c;else if(--this._eventsCount===0)this._events=new o;else delete this._events[s]}return this};s.prototype.removeAllListeners=function t(e){var n;if(e){n=i?i+e:e;if(this._events[n]){if(--this._eventsCount===0)this._events=new o;else delete this._events[n]}}else{this._events=new o;this._eventsCount=0}return this};s.prototype.off=s.prototype.removeListener;s.prototype.addListener=s.prototype.on;s.prototype.setMaxListeners=function t(){return this};s.prefixed=i;s.EventEmitter=s;if(true){t.exports=s}},function(t,e){t.exports='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"></polygon><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"></polygon></svg>'},function(t,e,n){var r=n(278),i=n(83);var o=i(function(t,e){return t==null?{}:r(t,e)});t.exports=o},function(t,e,n){var r=n(284),i=n(28);function o(t){return t==null?[]:r(t,i(t))}t.exports=o},function(t,e){function n(t){if(typeof t.value!=="function"){console.warn("[Vue-click-outside:] provided expression",t.expression,"is not a function.");return false}return true}function r(t,e){if(!t||!e)return false;for(var n=0,r=e.length;n<r;n++){try{if(t.contains(e[n])){return true}if(e[n].contains(t)){return false}}catch(t){return false}}return false}function i(t){return typeof t.componentInstance!=="undefined"&&t.componentInstance.$isServer}e=t.exports={bind:function t(e,o,a){if(!n(o))return;function s(t){if(!a.context)return;var n=t.path||t.composedPath&&t.composedPath();n&&n.length>0&&n.unshift(t.target);if(e.contains(t.target)||r(a.context.popupItem,n))return;e.__vueClickOutside__.callback(t)}e.__vueClickOutside__={handler:s,callback:o.value};!i(a)&&document.addEventListener("click",s)},update:function t(e,r){if(n(r))e.__vueClickOutside__.callback=r.value},unbind:function t(e,n,r){!i(r)&&document.removeEventListener("click",e.__vueClickOutside__.handler);delete e.__vueClickOutside__}}},function(t,e,n){(function(t){var r=typeof t!=="undefined"&&t||typeof self!=="undefined"&&self||window;var i=Function.prototype.apply;e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)};e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)};e.clearTimeout=e.clearInterval=function(t){if(t){t.close()}};function o(t,e){this._id=t;this._clearFn=e}o.prototype.unref=o.prototype.ref=function(){};o.prototype.close=function(){this._clearFn.call(r,this._id)};e.enroll=function(t,e){clearTimeout(t._idleTimeoutId);t._idleTimeout=e};e.unenroll=function(t){clearTimeout(t._idleTimeoutId);t._idleTimeout=-1};e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;if(e>=0){t._idleTimeoutId=setTimeout(function e(){if(t._onTimeout)t._onTimeout()},e)}};n(91);e.setImmediate=typeof self!=="undefined"&&self.setImmediate||typeof t!=="undefined"&&t.setImmediate||this&&this.setImmediate;e.clearImmediate=typeof self!=="undefined"&&self.clearImmediate||typeof t!=="undefined"&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(19))},function(t,e,n){(function(t,e){(function(t,n){"use strict";if(t.setImmediate){return}var r=1;var i={};var o=false;var a=t.document;var s;function l(t){if(typeof t!=="function"){t=new Function(""+t)}var e=new Array(arguments.length-1);for(var n=0;n<e.length;n++){e[n]=arguments[n+1]}var o={callback:t,args:e};i[r]=o;s(r);return r++}function u(t){delete i[t]}function c(t){var e=t.callback;var r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r);break}}function f(t){if(o){setTimeout(f,0,t)}else{var e=i[t];if(e){o=true;try{c(e)}finally{u(t);o=false}}}}function h(){s=function t(n){e.nextTick(function(){f(n)})}}function d(){if(t.postMessage&&!t.importScripts){var e=true;var n=t.onmessage;t.onmessage=function(){e=false};t.postMessage("","*");t.onmessage=n;return e}}function p(){var e="setImmediate$"+Math.random()+"$";var n=function n(r){if(r.source===t&&typeof r.data==="string"&&r.data.indexOf(e)===0){f(+r.data.slice(e.length))}};if(t.addEventListener){t.addEventListener("message",n,false)}else{t.attachEvent("onmessage",n)}s=function n(r){t.postMessage(e+r,"*")}}function v(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;f(e)};s=function e(n){t.port2.postMessage(n)}}function m(){var t=a.documentElement;s=function e(n){var r=a.createElement("script");r.onreadystatechange=function(){f(n);r.onreadystatechange=null;t.removeChild(r);r=null};t.appendChild(r)}}function y(){s=function t(e){setTimeout(f,0,e)}}var g=Object.getPrototypeOf&&Object.getPrototypeOf(t);g=g&&g.setTimeout?g:t;if({}.toString.call(t.process)==="[object process]"){h()}else if(d()){p()}else if(t.MessageChannel){v()}else if(a&&"onreadystatechange"in a.createElement("script")){m()}else{y()}g.setImmediate=l;g.clearImmediate=u})(typeof self==="undefined"?typeof t==="undefined"?this:t:self)}).call(this,n(19),n(55))},function(t,e,n){var r=n(93);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("474b47a6",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,"#app{min-height:100vh}",""])},function(t,e,n){var r=n(95);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("5d2234d0",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,".slide-to-left-enter-active[data-v-f91bec3a]{transition:all .3s ease}.slide-to-left-leave-active[data-v-f91bec3a]{transition:all .8s cubic-bezier(1,.5,.8,1)}.slide-to-left-enter[data-v-f91bec3a],.slide-to-left-leave-to[data-v-f91bec3a]{transform:translateX(30%);opacity:0}.slide-to-right-enter-active[data-v-f91bec3a]{transition:all .3s ease}.slide-to-right-leave-active[data-v-f91bec3a]{transition:all .8s cubic-bezier(1,.5,.8,1)}.slide-to-left-leave-to[data-v-f91bec3a],.slide-to-right-enter[data-v-f91bec3a]{transform:translateX(30%);opacity:0}",""])},function(t,e,n){var r=n(97);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("c1449a24",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,"",""])},function(t,e,n){var r=n(99);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("1b003d6e",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,"",""])},function(t,e,n){"use strict";var r=n(6);var i=n(56);var o=n(102);var a=n(35);function s(t){var e=new o(t);var n=i(o.prototype.request,e);r.extend(n,o.prototype,e);r.extend(n,e);return n}var l=s(a);l.Axios=o;l.create=function t(e){return s(r.merge(a,e))};l.Cancel=n(60);l.CancelToken=n(116);l.isCancel=n(59);l.all=function t(e){return Promise.all(e)};l.spread=n(117);t.exports=l;t.exports.default=l},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return t!=null&&(n(t)||r(t)||!!t._isBuffer)};function n(t){return!!t.constructor&&typeof t.constructor.isBuffer==="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE==="function"&&typeof t.slice==="function"&&n(t.slice(0,0))}},function(t,e,n){"use strict";var r=n(35);var i=n(6);var o=n(111);var a=n(112);function s(t){this.defaults=t;this.interceptors={request:new o,response:new o}}s.prototype.request=function t(e){if(typeof e==="string"){e=i.merge({url:arguments[0]},arguments[1])}e=i.merge(r,{method:"get"},this.defaults,e);e.method=e.method.toLowerCase();var n=[a,undefined];var o=Promise.resolve(e);this.interceptors.request.forEach(function t(e){n.unshift(e.fulfilled,e.rejected)});this.interceptors.response.forEach(function t(e){n.push(e.fulfilled,e.rejected)});while(n.length){o=o.then(n.shift(),n.shift())}return o};i.forEach(["delete","get","head","options"],function t(e){s.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}});i.forEach(["post","put","patch"],function t(e){s.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}});t.exports=s},function(t,e,n){"use strict";var r=n(6);t.exports=function t(e,n){r.forEach(e,function t(r,i){if(i!==n&&i.toUpperCase()===n.toUpperCase()){e[n]=r;delete e[i]}})}},function(t,e,n){"use strict";var r=n(58);t.exports=function t(e,n,i){var o=i.config.validateStatus;if(!i.status||!o||o(i.status)){e(i)}else{n(r("Request failed with status code "+i.status,i.config,null,i.request,i))}}},function(t,e,n){"use strict";t.exports=function t(e,n,r,i,o){e.config=n;if(r){e.code=r}e.request=i;e.response=o;return e}},function(t,e,n){"use strict";var r=n(6);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function t(e,n,o){if(!n){return e}var a;if(o){a=o(n)}else if(r.isURLSearchParams(n)){a=n.toString()}else{var s=[];r.forEach(n,function t(e,n){if(e===null||typeof e==="undefined"){return}if(r.isArray(e)){n=n+"[]"}else{e=[e]}r.forEach(e,function t(e){if(r.isDate(e)){e=e.toISOString()}else if(r.isObject(e)){e=JSON.stringify(e)}s.push(i(n)+"="+i(e))})});a=s.join("&")}if(a){e+=(e.indexOf("?")===-1?"?":"&")+a}return e}},function(t,e,n){"use strict";var r=n(6);var i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function t(e){var n={};var o;var a;var s;if(!e){return n}r.forEach(e.split("\n"),function t(e){s=e.indexOf(":");o=r.trim(e.substr(0,s)).toLowerCase();a=r.trim(e.substr(s+1));if(o){if(n[o]&&i.indexOf(o)>=0){return}if(o==="set-cookie"){n[o]=(n[o]?n[o]:[]).concat([a])}else{n[o]=n[o]?n[o]+", "+a:a}}});return n}},function(t,e,n){"use strict";var r=n(6);t.exports=r.isStandardBrowserEnv()?function t(){var e=/(msie|trident)/i.test(navigator.userAgent);var n=document.createElement("a");var i;function o(t){var r=t;if(e){n.setAttribute("href",r);r=n.href}n.setAttribute("href",r);return{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}i=o(window.location.href);return function t(e){var n=r.isString(e)?o(e):e;return n.protocol===i.protocol&&n.host===i.host}}():function t(){return function t(){return true}}()},function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error;i.prototype.code=5;i.prototype.name="InvalidCharacterError";function o(t){var e=String(t);var n="";for(var o,a,s=0,l=r;e.charAt(s|0)||(l="=",s%1);n+=l.charAt(63&o>>8-s%1*8)){a=e.charCodeAt(s+=3/4);if(a>255){throw new i}o=o<<8|a}return n}t.exports=o},function(t,e,n){"use strict";var r=n(6);t.exports=r.isStandardBrowserEnv()?function t(){return{write:function t(e,n,i,o,a,s){var l=[];l.push(e+"="+encodeURIComponent(n));if(r.isNumber(i)){l.push("expires="+new Date(i).toGMTString())}if(r.isString(o)){l.push("path="+o)}if(r.isString(a)){l.push("domain="+a)}if(s===true){l.push("secure")}document.cookie=l.join("; ")},read:function t(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function t(e){this.write(e,"",Date.now()-864e5)}}}():function t(){return{write:function t(){},read:function t(){return null},remove:function t(){}}}()},function(t,e,n){"use strict";var r=n(6);function i(){this.handlers=[]}i.prototype.use=function t(e,n){this.handlers.push({fulfilled:e,rejected:n});return this.handlers.length-1};i.prototype.eject=function t(e){if(this.handlers[e]){this.handlers[e]=null}};i.prototype.forEach=function t(e){r.forEach(this.handlers,function t(n){if(n!==null){e(n)}})};t.exports=i},function(t,e,n){"use strict";var r=n(6);var i=n(113);var o=n(59);var a=n(35);var s=n(114);var l=n(115);function u(t){if(t.cancelToken){t.cancelToken.throwIfRequested()}}t.exports=function t(e){u(e);if(e.baseURL&&!s(e.url)){e.url=l(e.baseURL,e.url)}e.headers=e.headers||{};e.data=i(e.data,e.headers,e.transformRequest);e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{});r.forEach(["delete","get","head","post","put","patch","common"],function t(n){delete e.headers[n]});var n=e.adapter||a.adapter;return n(e).then(function t(n){u(e);n.data=i(n.data,n.headers,e.transformResponse);return n},function t(n){if(!o(n)){u(e);if(n&&n.response){n.response.data=i(n.response.data,n.response.headers,e.transformResponse)}}return Promise.reject(n)})}},function(t,e,n){"use strict";var r=n(6);t.exports=function t(e,n,i){r.forEach(i,function t(r){e=r(e,n)});return e}},function(t,e,n){"use strict";t.exports=function t(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(t,e,n){"use strict";t.exports=function t(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}},function(t,e,n){"use strict";var r=n(60);function i(t){if(typeof t!=="function"){throw new TypeError("executor must be a function.")}var e;this.promise=new Promise(function t(n){e=n});var n=this;t(function t(i){if(n.reason){return}n.reason=new r(i);e(n.reason)})}i.prototype.throwIfRequested=function t(){if(this.reason){throw this.reason}};i.source=function t(){var e;var n=new i(function t(n){e=n});return{token:n,cancel:e}};t.exports=i},function(t,e,n){"use strict";t.exports=function t(e){return function t(n){return e.apply(null,n)}}},function(t,e,n){(function(t){var e={};function n(r){if(e[r]){return e[r].exports}var i=e[r]={i:r,l:false,exports:{}};t[r].call(i.exports,i,i.exports,n);i.l=true;return i.exports}n.m=t;n.c=e;n.d=function(t,e,r){if(!n.o(t,e)){Object.defineProperty(t,e,{enumerable:true,get:r})}};n.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};n.t=function(t,e){if(e&1)t=n(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var r=Object.create(null);n.r(r);Object.defineProperty(r,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r};n.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};n.d(e,"a",e);return e};n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};n.p="";return n(n.s=31)})([function(t,e,n){
/* @preserve
   * Leaflet 1.3.4, a JS library for interactive maps. http://leafletjs.com
   * (c) 2010-2018 Vladimir Agafonkin, (c) 2010-2011 CloudMade
   */
(function(t,n){true?n(e):undefined})(this,function(t){"use strict";var e="1.3.4";var n=Object.freeze;Object.freeze=function(t){return t};function r(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++){i=arguments[n];for(e in i){t[e]=i[e]}}return t}var i=Object.create||function(){function t(){}return function(e){t.prototype=e;return new t}}();function o(t,e){var n=Array.prototype.slice;if(t.bind){return t.bind.apply(t,n.call(arguments,1))}var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}}var a=0;function s(t){t._leaflet_id=t._leaflet_id||++a;return t._leaflet_id}function l(t,e,n){var r,i,o,a;a=function(){r=false;if(i){o.apply(n,i);i=false}};o=function(){if(r){i=arguments}else{t.apply(n,arguments);setTimeout(a,e);r=true}};return o}function u(t,e,n){var r=e[1],i=e[0],o=r-i;return t===r&&n?t:((t-i)%o+o)%o+i}function c(){return false}function f(t,e){var n=Math.pow(10,e===undefined?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function d(t){return h(t).split(/\s+/)}function p(t,e){if(!t.hasOwnProperty("options")){t.options=t.options?i(t.options):{}}for(var n in e){t.options[n]=e[n]}return t.options}function v(t,e,n){var r=[];for(var i in t){r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]))}return(!e||e.indexOf("?")===-1?"?":"&")+r.join("&")}var m=/\{ *([\w_-]+) *\}/g;function y(t,e){return t.replace(m,function(t,n){var r=e[n];if(r===undefined){throw new Error("No value provided for variable "+t)}else if(typeof r==="function"){r=r(e)}return r})}var g=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function _(t,e){for(var n=0;n<t.length;n++){if(t[n]===e){return n}}return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function w(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var x=0;function E(t){var e=+new Date,n=Math.max(0,16-(e-x));x=e+n;return window.setTimeout(t,n)}var k=window.requestAnimationFrame||w("RequestAnimationFrame")||E;var O=window.cancelAnimationFrame||w("CancelAnimationFrame")||w("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,n){if(n&&k===E){t.call(e)}else{return k.call(window,o(t,e))}}function C(t){if(t){O.call(window,t)}}var A=(Object.freeze||Object)({freeze:n,extend:r,create:i,bind:o,lastId:a,stamp:s,throttle:l,wrapNum:u,falseFn:c,formatNum:f,trim:h,splitWords:d,setOptions:p,getParamString:v,template:y,isArray:g,indexOf:_,emptyImageUrl:b,requestFn:k,cancelFn:O,requestAnimFrame:T,cancelAnimFrame:C});function S(){}S.extend=function(t){var e=function(){if(this.initialize){this.initialize.apply(this,arguments)}this.callInitHooks()};var n=e.__super__=this.prototype;var o=i(n);o.constructor=e;e.prototype=o;for(var a in this){if(this.hasOwnProperty(a)&&a!=="prototype"&&a!=="__super__"){e[a]=this[a]}}if(t.statics){r(e,t.statics);delete t.statics}if(t.includes){P(t.includes);r.apply(null,[o].concat(t.includes));delete t.includes}if(o.options){t.options=r(i(o.options),t.options)}r(o,t);o._initHooks=[];o.callInitHooks=function(){if(this._initHooksCalled){return}if(n.callInitHooks){n.callInitHooks.call(this)}this._initHooksCalled=true;for(var t=0,e=o._initHooks.length;t<e;t++){o._initHooks[t].call(this)}};return e};S.include=function(t){r(this.prototype,t);return this};S.mergeOptions=function(t){r(this.prototype.options,t);return this};S.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1);var n=typeof t==="function"?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push(n);return this};function P(t){if(typeof L==="undefined"||!L||!L.Mixin){return}t=g(t)?t:[t];for(var e=0;e<t.length;e++){if(t[e]===L.Mixin.Events){console.warn("Deprecated include of L.Mixin.Events: "+"this property will be removed in future releases, "+"please inherit from L.Evented instead.",(new Error).stack)}}}var N={on:function(t,e,n){if(typeof t==="object"){for(var r in t){this._on(r,t[r],e)}}else{t=d(t);for(var i=0,o=t.length;i<o;i++){this._on(t[i],e,n)}}return this},off:function(t,e,n){if(!t){delete this._events}else if(typeof t==="object"){for(var r in t){this._off(r,t[r],e)}}else{t=d(t);for(var i=0,o=t.length;i<o;i++){this._off(t[i],e,n)}}return this},_on:function(t,e,n){this._events=this._events||{};var r=this._events[t];if(!r){r=[];this._events[t]=r}if(n===this){n=undefined}var i={fn:e,ctx:n},o=r;for(var a=0,s=o.length;a<s;a++){if(o[a].fn===e&&o[a].ctx===n){return}}o.push(i)},_off:function(t,e,n){var r,i,o;if(!this._events){return}r=this._events[t];if(!r){return}if(!e){for(i=0,o=r.length;i<o;i++){r[i].fn=c}delete this._events[t];return}if(n===this){n=undefined}if(r){for(i=0,o=r.length;i<o;i++){var a=r[i];if(a.ctx!==n){continue}if(a.fn===e){a.fn=c;if(this._firingCount){this._events[t]=r=r.slice()}r.splice(i,1);return}}}},fire:function(t,e,n){if(!this.listens(t,n)){return this}var i=r({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var l=o[a];l.fn.call(l.ctx||this,i)}this._firingCount--}}if(n){this._propagateEvent(i)}return this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length){return true}if(e){for(var r in this._eventParents){if(this._eventParents[r].listens(t,e)){return true}}}return false},once:function(t,e,n){if(typeof t==="object"){for(var r in t){this.once(r,t[r],e)}return this}var i=o(function(){this.off(t,e,n).off(t,i,n)},this);return this.on(t,e,n).on(t,i,n)},addEventParent:function(t){this._eventParents=this._eventParents||{};this._eventParents[s(t)]=t;return this},removeEventParent:function(t){if(this._eventParents){delete this._eventParents[s(t)]}return this},_propagateEvent:function(t){for(var e in this._eventParents){this._eventParents[e].fire(t.type,r({layer:t.target,propagatedFrom:t.target},t),true)}}};N.addEventListener=N.on;N.removeEventListener=N.clearAllEventListeners=N.off;N.addOneTimeEventListener=N.once;N.fireEvent=N.fire;N.hasEventListeners=N.listens;var j=S.extend(N);function M(t,e,n){this.x=n?Math.round(t):t;this.y=n?Math.round(e):e}var I=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};M.prototype={clone:function(){return new M(this.x,this.y)},add:function(t){return this.clone()._add(D(t))},_add:function(t){this.x+=t.x;this.y+=t.y;return this},subtract:function(t){return this.clone()._subtract(D(t))},_subtract:function(t){this.x-=t.x;this.y-=t.y;return this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){this.x/=t;this.y/=t;return this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){this.x*=t;this.y*=t;return this},scaleBy:function(t){return new M(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new M(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){return this.clone()._ceil()},_ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},trunc:function(){return this.clone()._trunc()},_trunc:function(){this.x=I(this.x);this.y=I(this.y);return this},distanceTo:function(t){t=D(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){t=D(t);return t.x===this.x&&t.y===this.y},contains:function(t){t=D(t);return Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+f(this.x)+", "+f(this.y)+")"}};function D(t,e,n){if(t instanceof M){return t}if(g(t)){return new M(t[0],t[1])}if(t===undefined||t===null){return t}if(typeof t==="object"&&"x"in t&&"y"in t){return new M(t.x,t.y)}return new M(t,e,n)}function R(t,e){if(!t){return}var n=e?[t,e]:t;for(var r=0,i=n.length;r<i;r++){this.extend(n[r])}}R.prototype={extend:function(t){t=D(t);if(!this.min&&!this.max){this.min=t.clone();this.max=t.clone()}else{this.min.x=Math.min(t.x,this.min.x);this.max.x=Math.max(t.x,this.max.x);this.min.y=Math.min(t.y,this.min.y);this.max.y=Math.max(t.y,this.max.y)}return this},getCenter:function(t){return new M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new M(this.min.x,this.max.y)},getTopRight:function(){return new M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;if(typeof t[0]==="number"||t instanceof M){t=D(t)}else{t=q(t)}if(t instanceof R){e=t.min;n=t.max}else{e=n=t}return e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=q(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>=e.x&&r.x<=n.x,a=i.y>=e.y&&r.y<=n.y;return o&&a},overlaps:function(t){t=q(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>e.x&&r.x<n.x,a=i.y>e.y&&r.y<n.y;return o&&a},isValid:function(){return!!(this.min&&this.max)}};function q(t,e){if(!t||t instanceof R){return t}return new R(t,e)}function B(t,e){if(!t){return}var n=e?[t,e]:t;for(var r=0,i=n.length;r<i;r++){this.extend(n[r])}}B.prototype={extend:function(t){var e=this._southWest,n=this._northEast,r,i;if(t instanceof z){r=t;i=t}else if(t instanceof B){r=t._southWest;i=t._northEast;if(!r||!i){return this}}else{return t?this.extend(U(t)||F(t)):this}if(!e&&!n){this._southWest=new z(r.lat,r.lng);this._northEast=new z(i.lat,i.lng)}else{e.lat=Math.min(r.lat,e.lat);e.lng=Math.min(r.lng,e.lng);n.lat=Math.max(i.lat,n.lat);n.lng=Math.max(i.lng,n.lng)}return this},pad:function(t){var e=this._southWest,n=this._northEast,r=Math.abs(e.lat-n.lat)*t,i=Math.abs(e.lng-n.lng)*t;return new B(new z(e.lat-r,e.lng-i),new z(n.lat+r,n.lng+i))},getCenter:function(){return new z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new z(this.getNorth(),this.getWest())},getSouthEast:function(){return new z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){if(typeof t[0]==="number"||t instanceof z||"lat"in t){t=U(t)}else{t=F(t)}var e=this._southWest,n=this._northEast,r,i;if(t instanceof B){r=t.getSouthWest();i=t.getNorthEast()}else{r=i=t}return r.lat>=e.lat&&i.lat<=n.lat&&r.lng>=e.lng&&i.lng<=n.lng},intersects:function(t){t=F(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>=e.lat&&r.lat<=n.lat,a=i.lng>=e.lng&&r.lng<=n.lng;return o&&a},overlaps:function(t){t=F(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>e.lat&&r.lat<n.lat,a=i.lng>e.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){if(!t){return false}t=F(t);return this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)},isValid:function(){return!!(this._southWest&&this._northEast)}};function F(t,e){if(t instanceof B){return t}return new B(t,e)}function z(t,e,n){if(isNaN(t)||isNaN(e)){throw new Error("Invalid LatLng object: ("+t+", "+e+")")}this.lat=+t;this.lng=+e;if(n!==undefined){this.alt=+n}}z.prototype={equals:function(t,e){if(!t){return false}t=U(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(e===undefined?1e-9:e)},toString:function(t){return"LatLng("+f(this.lat,t)+", "+f(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,U(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return F([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new z(this.lat,this.lng,this.alt)}};function U(t,e,n){if(t instanceof z){return t}if(g(t)&&typeof t[0]!=="object"){if(t.length===3){return new z(t[0],t[1],t[2])}if(t.length===2){return new z(t[0],t[1])}return null}if(t===undefined||t===null){return t}if(typeof t==="object"&&"lat"in t){return new z(t.lat,"lng"in t?t.lng:t.lon,t.alt)}if(e===undefined){return null}return new z(t,e,n)}var $={latLngToPoint:function(t,e){var n=this.projection.project(t),r=this.scale(e);return this.transformation._transform(n,r)},pointToLatLng:function(t,e){var n=this.scale(e),r=this.transformation.untransform(t,n);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite){return null}var e=this.projection.bounds,n=this.scale(t),r=this.transformation.transform(e.min,n),i=this.transformation.transform(e.max,n);return new R(r,i)},infinite:false,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,true):t.lng,n=this.wrapLat?u(t.lat,this.wrapLat,true):t.lat,r=t.alt;return new z(n,e,r)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),r=e.lat-n.lat,i=e.lng-n.lng;if(r===0&&i===0){return t}var o=t.getSouthWest(),a=t.getNorthEast(),s=new z(o.lat-r,o.lng-i),l=new z(a.lat-r,a.lng-i);return new B(s,l)}};var H=r({},$,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}});var Z={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),i=Math.sin(r*e);return new M(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new z((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return new R([-t,-t],[t,t])}()};function V(t,e,n,r){if(g(t)){this._a=t[0];this._b=t[1];this._c=t[2];this._d=t[3];return}this._a=t;this._b=e;this._c=n;this._d=r}V.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){e=e||1;t.x=e*(this._a*t.x+this._b);t.y=e*(this._c*t.y+this._d);return t},untransform:function(t,e){e=e||1;return new M((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function W(t,e,n,r){return new V(t,e,n,r)}var G=r({},H,{code:"EPSG:3857",projection:Z,transformation:function(){var t=.5/(Math.PI*Z.R);return W(t,.5,-t,.5)}()});var K=r({},G,{code:"EPSG:900913"});function Y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function X(t,e){var n="",r,i,o,a,s,l;for(r=0,o=t.length;r<o;r++){s=t[r];for(i=0,a=s.length;i<a;i++){l=s[i];n+=(i?"L":"M")+l.x+" "+l.y}n+=e?At?"z":"x":""}return n||"M0 0"}var J=document.documentElement.style;var Q="ActiveXObject"in window;var tt=Q&&!document.addEventListener;var et="msLaunchUri"in navigator&&!("documentMode"in document);var nt=St("webkit");var rt=St("android");var it=St("android 2")||St("android 3");var ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10);var at=rt&&St("Google")&&ot<537&&!("AudioNode"in window);var st=!!window.opera;var lt=St("chrome");var ut=St("gecko")&&!nt&&!st&&!Q;var ct=!lt&&St("safari");var ft=St("phantom");var ht="OTransition"in J;var dt=navigator.platform.indexOf("Win")===0;var pt=Q&&"transition"in J;var vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it;var mt="MozPerspective"in J;var yt=!window.L_DISABLE_3D&&(pt||vt||mt)&&!ht&&!ft;var gt=typeof orientation!=="undefined"||St("mobile");var _t=gt&&nt;var bt=gt&&vt;var wt=!window.PointerEvent&&window.MSPointerEvent;var xt=!!(window.PointerEvent||wt);var Et=!window.L_NO_TOUCH&&(xt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);var kt=gt&&st;var Ot=gt&&ut;var Tt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1;var Ct=function(){return!!document.createElement("canvas").getContext}();var At=!!(document.createElementNS&&Y("svg").createSVGRect);var Lt=!At&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;e.style.behavior="url(#default#VML)";return e&&typeof e.adj==="object"}catch(t){return false}}();function St(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Pt=(Object.freeze||Object)({ie:Q,ielt9:tt,edge:et,webkit:nt,android:rt,android23:it,androidStock:at,opera:st,chrome:lt,gecko:ut,safari:ct,phantom:ft,opera12:ht,win:dt,ie3d:pt,webkit3d:vt,gecko3d:mt,any3d:yt,mobile:gt,mobileWebkit:_t,mobileWebkit3d:bt,msPointer:wt,pointer:xt,touch:Et,mobileOpera:kt,mobileGecko:Ot,retina:Tt,canvas:Ct,svg:At,vml:Lt});var Nt=wt?"MSPointerDown":"pointerdown";var jt=wt?"MSPointerMove":"pointermove";var Mt=wt?"MSPointerUp":"pointerup";var It=wt?"MSPointerCancel":"pointercancel";var Dt=["INPUT","SELECT","OPTION"];var Rt={};var qt=false;var Bt=0;function Ft(t,e,n,r){if(e==="touchstart"){Ut(t,n,r)}else if(e==="touchmove"){Wt(t,n,r)}else if(e==="touchend"){Gt(t,n,r)}return this}function zt(t,e,n){var r=t["_leaflet_"+e+n];if(e==="touchstart"){t.removeEventListener(Nt,r,false)}else if(e==="touchmove"){t.removeEventListener(jt,r,false)}else if(e==="touchend"){t.removeEventListener(Mt,r,false);t.removeEventListener(It,r,false)}return this}function Ut(t,e,n){var r=o(function(t){if(t.pointerType!=="mouse"&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(Dt.indexOf(t.target.tagName)<0){Ue(t)}else{return}}Vt(t,e)});t["_leaflet_touchstart"+n]=r;t.addEventListener(Nt,r,false);if(!qt){document.documentElement.addEventListener(Nt,$t,true);document.documentElement.addEventListener(jt,Ht,true);document.documentElement.addEventListener(Mt,Zt,true);document.documentElement.addEventListener(It,Zt,true);qt=true}}function $t(t){Rt[t.pointerId]=t;Bt++}function Ht(t){if(Rt[t.pointerId]){Rt[t.pointerId]=t}}function Zt(t){delete Rt[t.pointerId];Bt--}function Vt(t,e){t.touches=[];for(var n in Rt){t.touches.push(Rt[n])}t.changedTouches=[t];e(t)}function Wt(t,e,n){var r=function(t){if((t.pointerType===t.MSPOINTER_TYPE_MOUSE||t.pointerType==="mouse")&&t.buttons===0){return}Vt(t,e)};t["_leaflet_touchmove"+n]=r;t.addEventListener(jt,r,false)}function Gt(t,e,n){var r=function(t){Vt(t,e)};t["_leaflet_touchend"+n]=r;t.addEventListener(Mt,r,false);t.addEventListener(It,r,false)}var Kt=wt?"MSPointerDown":xt?"pointerdown":"touchstart";var Yt=wt?"MSPointerUp":xt?"pointerup":"touchend";var Xt="_leaflet_";function Jt(t,e,n){var r,i,o=false,a=250;function s(t){var e;if(xt){if(!et||t.pointerType==="mouse"){return}e=Bt}else{e=t.touches.length}if(e>1){return}var n=Date.now(),s=n-(r||n);i=t.touches?t.touches[0]:t;o=s>0&&s<=a;r=n}function l(t){if(o&&!i.cancelBubble){if(xt){if(!et||t.pointerType==="mouse"){return}var n={},a,s;for(s in i){a=i[s];n[s]=a&&a.bind?a.bind(i):a}i=n}i.type="dblclick";e(i);r=null}}t[Xt+Kt+n]=s;t[Xt+Yt+n]=l;t[Xt+"dblclick"+n]=e;t.addEventListener(Kt,s,false);t.addEventListener(Yt,l,false);t.addEventListener("dblclick",e,false);return this}function Qt(t,e){var n=t[Xt+Kt+e],r=t[Xt+Yt+e],i=t[Xt+"dblclick"+e];t.removeEventListener(Kt,n,false);t.removeEventListener(Yt,r,false);if(!et){t.removeEventListener("dblclick",i,false)}return this}var te=ye(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);var ee=ye(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);var ne=ee==="webkitTransition"||ee==="OTransition"?ee+"End":"transitionend";function re(t){return typeof t==="string"?document.getElementById(t):t}function ie(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||n==="auto")&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);n=r?r[e]:null}return n==="auto"?null:n}function oe(t,e,n){var r=document.createElement(t);r.className=e||"";if(n){n.appendChild(r)}return r}function ae(t){var e=t.parentNode;if(e){e.removeChild(t)}}function se(t){while(t.firstChild){t.removeChild(t.firstChild)}}function le(t){var e=t.parentNode;if(e.lastChild!==t){e.appendChild(t)}}function ue(t){var e=t.parentNode;if(e.firstChild!==t){e.insertBefore(t,e.firstChild)}}function ce(t,e){if(t.classList!==undefined){return t.classList.contains(e)}var n=pe(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function fe(t,e){if(t.classList!==undefined){var n=d(e);for(var r=0,i=n.length;r<i;r++){t.classList.add(n[r])}}else if(!ce(t,e)){var o=pe(t);de(t,(o?o+" ":"")+e)}}function he(t,e){if(t.classList!==undefined){t.classList.remove(e)}else{de(t,h((" "+pe(t)+" ").replace(" "+e+" "," ")))}}function de(t,e){if(t.className.baseVal===undefined){t.className=e}else{t.className.baseVal=e}}function pe(t){return t.className.baseVal===undefined?t.className:t.className.baseVal}function ve(t,e){if("opacity"in t.style){t.style.opacity=e}else if("filter"in t.style){me(t,e)}}function me(t,e){var n=false,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(t){if(e===1){return}}e=Math.round(e*100);if(n){n.Enabled=e!==100;n.Opacity=e}else{t.style.filter+=" progid:"+r+"(opacity="+e+")"}}function ye(t){var e=document.documentElement.style;for(var n=0;n<t.length;n++){if(t[n]in e){return t[n]}}return false}function ge(t,e,n){var r=e||new M(0,0);t.style[te]=(pt?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function _e(t,e){t._leaflet_pos=e;if(yt){ge(t,e)}else{t.style.left=e.x+"px";t.style.top=e.y+"px"}}function be(t){return t._leaflet_pos||new M(0,0)}var we;var xe;var Ee;if("onselectstart"in document){we=function(){Me(window,"selectstart",Ue)};xe=function(){De(window,"selectstart",Ue)}}else{var ke=ye(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);we=function(){if(ke){var t=document.documentElement.style;Ee=t[ke];t[ke]="none"}};xe=function(){if(ke){document.documentElement.style[ke]=Ee;Ee=undefined}}}function Oe(){Me(window,"dragstart",Ue)}function Te(){De(window,"dragstart",Ue)}var Ce;var Ae;function Le(t){while(t.tabIndex===-1){t=t.parentNode}if(!t.style){return}Se();Ce=t;Ae=t.style.outline;t.style.outline="none";Me(window,"keydown",Se)}function Se(){if(!Ce){return}Ce.style.outline=Ae;Ce=undefined;Ae=undefined;De(window,"keydown",Se)}function Pe(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Ne(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var je=(Object.freeze||Object)({TRANSFORM:te,TRANSITION:ee,TRANSITION_END:ne,get:re,getStyle:ie,create:oe,remove:ae,empty:se,toFront:le,toBack:ue,hasClass:ce,addClass:fe,removeClass:he,setClass:de,getClass:pe,setOpacity:ve,testProp:ye,setTransform:ge,setPosition:_e,getPosition:be,disableTextSelection:we,enableTextSelection:xe,disableImageDrag:Oe,enableImageDrag:Te,preventOutline:Le,restoreOutline:Se,getSizedParentNode:Pe,getScale:Ne});function Me(t,e,n,r){if(typeof e==="object"){for(var i in e){Re(t,i,e[i],n)}}else{e=d(e);for(var o=0,a=e.length;o<a;o++){Re(t,e[o],n,r)}}return this}var Ie="_leaflet_events";function De(t,e,n,r){if(typeof e==="object"){for(var i in e){qe(t,i,e[i],n)}}else if(e){e=d(e);for(var o=0,a=e.length;o<a;o++){qe(t,e[o],n,r)}}else{for(var s in t[Ie]){qe(t,s,t[Ie][s])}delete t[Ie]}return this}function Re(t,e,n,r){var i=e+s(n)+(r?"_"+s(r):"");if(t[Ie]&&t[Ie][i]){return this}var o=function(e){return n.call(r||t,e||window.event)};var a=o;if(xt&&e.indexOf("touch")===0){Ft(t,e,o,i)}else if(Et&&e==="dblclick"&&Jt&&!(xt&&lt)){Jt(t,o,i)}else if("addEventListener"in t){if(e==="mousewheel"){t.addEventListener("onwheel"in t?"wheel":"mousewheel",o,false)}else if(e==="mouseenter"||e==="mouseleave"){o=function(e){e=e||window.event;if(Ye(t,e)){a(e)}};t.addEventListener(e==="mouseenter"?"mouseover":"mouseout",o,false)}else{if(e==="click"&&rt){o=function(t){Je(t,a)}}t.addEventListener(e,o,false)}}else if("attachEvent"in t){t.attachEvent("on"+e,o)}t[Ie]=t[Ie]||{};t[Ie][i]=o}function qe(t,e,n,r){var i=e+s(n)+(r?"_"+s(r):""),o=t[Ie]&&t[Ie][i];if(!o){return this}if(xt&&e.indexOf("touch")===0){zt(t,e,i)}else if(Et&&e==="dblclick"&&Qt&&!(xt&&lt)){Qt(t,i)}else if("removeEventListener"in t){if(e==="mousewheel"){t.removeEventListener("onwheel"in t?"wheel":"mousewheel",o,false)}else{t.removeEventListener(e==="mouseenter"?"mouseover":e==="mouseleave"?"mouseout":e,o,false)}}else if("detachEvent"in t){t.detachEvent("on"+e,o)}t[Ie][i]=null}function Be(t){if(t.stopPropagation){t.stopPropagation()}else if(t.originalEvent){t.originalEvent._stopped=true}else{t.cancelBubble=true}Ke(t);return this}function Fe(t){Re(t,"mousewheel",Be);return this}function ze(t){Me(t,"mousedown touchstart dblclick",Be);Re(t,"click",Ge);return this}function Ue(t){if(t.preventDefault){t.preventDefault()}else{t.returnValue=false}return this}function $e(t){Ue(t);Be(t);return this}function He(t,e){if(!e){return new M(t.clientX,t.clientY)}var n=Ne(e),r=n.boundingClientRect;return new M((t.clientX-r.left)/n.x-e.clientLeft,(t.clientY-r.top)/n.y-e.clientTop)}var Ze=dt&&lt?2*window.devicePixelRatio:ut?window.devicePixelRatio:1;function Ve(t){return et?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Ze:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}var We={};function Ge(t){We[t.type]=true}function Ke(t){var e=We[t.type];We[t.type]=false;return e}function Ye(t,e){var n=e.relatedTarget;if(!n){return true}try{while(n&&n!==t){n=n.parentNode}}catch(t){return false}return n!==t}var Xe;function Je(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,r=Xe&&n-Xe;if(r&&r>100&&r<500||t.target._simulatedClick&&!t._simulated){$e(t);return}Xe=n;e(t)}var Qe=(Object.freeze||Object)({on:Me,off:De,stopPropagation:Be,disableScrollPropagation:Fe,disableClickPropagation:ze,preventDefault:Ue,stop:$e,getMousePosition:He,getWheelDelta:Ve,fakeStop:Ge,skipped:Ke,isExternalTarget:Ye,addListener:Me,removeListener:De});var tn=j.extend({run:function(t,e,n,r){this.stop();this._el=t;this._inProgress=true;this._duration=n||.25;this._easeOutPower=1/Math.max(r||.5,.2);this._startPos=be(t);this._offset=e.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){if(!this._inProgress){return}this._step(true);this._complete()},_animate:function(){this._animId=T(this._animate,this);this._step()},_step:function(t){var e=+new Date-this._startTime,n=this._duration*1e3;if(e<n){this._runFrame(this._easeOut(e/n),t)}else{this._runFrame(1);this._complete()}},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));if(e){n._round()}_e(this._el,n);this.fire("step")},_complete:function(){C(this._animId);this._inProgress=false;this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}});var en=j.extend({options:{crs:G,center:undefined,zoom:undefined,minZoom:undefined,maxZoom:undefined,layers:[],maxBounds:undefined,renderer:undefined,zoomAnimation:true,zoomAnimationThreshold:4,fadeAnimation:true,markerZoomAnimation:true,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:true},initialize:function(t,e){e=p(this,e);this._initContainer(t);this._initLayout();this._onResize=o(this._onResize,this);this._initEvents();if(e.maxBounds){this.setMaxBounds(e.maxBounds)}if(e.zoom!==undefined){this._zoom=this._limitZoom(e.zoom)}if(e.center&&e.zoom!==undefined){this.setView(U(e.center),e.zoom,{reset:true})}this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=true;this.callInitHooks();this._zoomAnimated=ee&&yt&&!kt&&this.options.zoomAnimation;if(this._zoomAnimated){this._createAnimProxy();Me(this._proxy,ne,this._catchTransitionEnd,this)}this._addLayers(this.options.layers)},setView:function(t,e,n){e=e===undefined?this._zoom:this._limitZoom(e);t=this._limitCenter(U(t),e,this.options.maxBounds);n=n||{};this._stop();if(this._loaded&&!n.reset&&n!==true){if(n.animate!==undefined){n.zoom=r({animate:n.animate},n.zoom);n.pan=r({animate:n.animate,duration:n.duration},n.pan)}var i=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(i){clearTimeout(this._sizeTimer);return this}}this._resetView(t,e);return this},setZoom:function(t,e){if(!this._loaded){this._zoom=t;return this}return this.setView(this.getCenter(),t,{zoom:e})},zoomIn:function(t,e){t=t||(yt?this.options.zoomDelta:1);return this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){t=t||(yt?this.options.zoomDelta:1);return this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var r=this.getZoomScale(e),i=this.getSize().divideBy(2),o=t instanceof M?t:this.latLngToContainerPoint(t),a=o.subtract(i).multiplyBy(1-1/r),s=this.containerPointToLatLng(i.add(a));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{};t=t.getBounds?t.getBounds():F(t);var n=D(e.paddingTopLeft||e.padding||[0,0]),r=D(e.paddingBottomRight||e.padding||[0,0]),i=this.getBoundsZoom(t,false,n.add(r));i=typeof e.maxZoom==="number"?Math.min(e.maxZoom,i):i;if(i===Infinity){return{center:t.getCenter(),zoom:i}}var o=r.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),i),s=this.project(t.getNorthEast(),i),l=this.unproject(a.add(s).divideBy(2).add(o),i);return{center:l,zoom:i}},fitBounds:function(t,e){t=F(t);if(!t.isValid()){throw new Error("Bounds are not valid.")}var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){t=D(t).round();e=e||{};if(!t.x&&!t.y){return this.fire("moveend")}if(e.animate!==true&&!this.getSize().contains(t)){this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom());return this}if(!this._panAnim){this._panAnim=new tn;this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)}if(!e.noMoveStart){this.fire("movestart")}if(e.animate!==false){fe(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else{this._rawPanBy(t);this.fire("move").fire("moveend")}return this},flyTo:function(t,e,n){n=n||{};if(n.animate===false||!yt){return this.setView(t,e,n)}this._stop();var r=this.project(this.getCenter()),i=this.project(t),o=this.getSize(),a=this._zoom;t=U(t);e=e===undefined?a:e;var s=Math.max(o.x,o.y),l=s*this.getZoomScale(a,e),u=i.distanceTo(r)||1,c=1.42,f=c*c;function h(t){var e=t?-1:1,n=t?l:s,r=l*l-s*s+e*f*f*u*u,i=2*n*f*u,o=r/i,a=Math.sqrt(o*o+1)-o;var c=a<1e-9?-18:Math.log(a);return c}function d(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}function v(t){return d(t)/p(t)}var m=h(0);function y(t){return s*(p(m)/p(m+c*t))}function g(t){return s*(p(m)*v(m+c*t)-d(m))/f}function _(t){return 1-Math.pow(1-t,1.5)}var b=Date.now(),w=(h(1)-m)/c,x=n.duration?1e3*n.duration:1e3*w*.8;function E(){var n=(Date.now()-b)/x,o=_(n)*w;if(n<=1){this._flyToFrame=T(E,this);this._move(this.unproject(r.add(i.subtract(r).multiplyBy(g(o)/u)),a),this.getScaleZoom(s/y(o),a),{flyTo:true})}else{this._move(t,e)._moveEnd(true)}}this._moveStart(true,n.noMoveStart);E.call(this);return this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){t=F(t);if(!t.isValid()){this.options.maxBounds=null;return this.off("moveend",this._panInsideMaxBounds)}else if(this.options.maxBounds){this.off("moveend",this._panInsideMaxBounds)}this.options.maxBounds=t;if(this._loaded){this._panInsideMaxBounds()}return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(t){var e=this.options.minZoom;this.options.minZoom=t;if(this._loaded&&e!==t){this.fire("zoomlevelschange");if(this.getZoom()<this.options.minZoom){return this.setZoom(t)}}return this},setMaxZoom:function(t){var e=this.options.maxZoom;this.options.maxZoom=t;if(this._loaded&&e!==t){this.fire("zoomlevelschange");if(this.getZoom()>this.options.maxZoom){return this.setZoom(t)}}return this},panInsideBounds:function(t,e){this._enforcingBounds=true;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,F(t));if(!n.equals(r)){this.panTo(r,e)}this._enforcingBounds=false;return this},invalidateSize:function(t){if(!this._loaded){return this}t=r({animate:false,pan:true},t===true?{animate:true}:t);var e=this.getSize();this._sizeChanged=true;this._lastCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),a=n.divideBy(2).round(),s=i.subtract(a);if(!s.x&&!s.y){return this}if(t.animate&&t.pan){this.panBy(s)}else{if(t.pan){this._rawPanBy(s)}this.fire("move");if(t.debounceMoveend){clearTimeout(this._sizeTimer);this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)}else{this.fire("moveend")}}return this.fire("resize",{oldSize:e,newSize:n})},stop:function(){this.setZoom(this._limitZoom(this._zoom));if(!this.options.zoomSnap){this.fire("viewreset")}return this._stop()},locate:function(t){t=this._locateOptions=r({timeout:1e4,watch:false},t);if(!("geolocation"in navigator)){this._handleGeolocationError({code:0,message:"Geolocation not supported."});return this}var e=o(this._handleGeolocationResponse,this),n=o(this._handleGeolocationError,this);if(t.watch){this._locationWatchId=navigator.geolocation.watchPosition(e,n,t)}else{navigator.geolocation.getCurrentPosition(e,n,t)}return this},stopLocate:function(){if(navigator.geolocation&&navigator.geolocation.clearWatch){navigator.geolocation.clearWatch(this._locationWatchId)}if(this._locateOptions){this._locateOptions.setView=false}return this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");if(this._locateOptions.setView&&!this._loaded){this.fitWorld()}this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,r=new z(e,n),i=r.toBounds(t.coords.accuracy*2),o=this._locateOptions;if(o.setView){var a=this.getBoundsZoom(i);this.setView(r,o.maxZoom?Math.min(a,o.maxZoom):a)}var s={latlng:r,bounds:i,timestamp:t.timestamp};for(var l in t.coords){if(typeof t.coords[l]==="number"){s[l]=t.coords[l]}}this.fire("locationfound",s)},addHandler:function(t,e){if(!e){return this}var n=this[t]=new e(this);this._handlers.push(n);if(this.options[t]){n.enable()}return this},remove:function(){this._initEvents(true);if(this._containerId!==this._container._leaflet_id){throw new Error("Map container is being reused by another instance")}try{delete this._container._leaflet_id;delete this._containerId}catch(t){this._container._leaflet_id=undefined;this._containerId=undefined}if(this._locationWatchId!==undefined){this.stopLocate()}this._stop();ae(this._mapPane);if(this._clearControlPos){this._clearControlPos()}if(this._resizeRequest){C(this._resizeRequest);this._resizeRequest=null}this._clearHandlers();if(this._loaded){this.fire("unload")}var t;for(t in this._layers){this._layers[t].remove()}for(t in this._panes){ae(this._panes[t])}this._layers=[];this._panes=[];delete this._mapPane;delete this._renderer;return this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),r=oe("div",n,e||this._mapPane);if(t){this._panes[t]=r}return r},getCenter:function(){this._checkIfLoaded();if(this._lastCenter&&!this._moved()){return this._lastCenter}return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new B(e,n)},getMinZoom:function(){return this.options.minZoom===undefined?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===undefined?this._layersMaxZoom===undefined?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=F(t);n=D(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(n),u=q(this.project(s,r),this.project(a,r)).getSize(),c=yt?this.options.zoomSnap:1,f=l.x/u.x,h=l.y/u.y,d=e?Math.max(f,h):Math.min(f,h);r=this.getScaleZoom(d,r);if(c){r=Math.round(r/(c/100))*(c/100);r=e?Math.ceil(r/c)*c:Math.floor(r/c)*c}return Math.max(i,Math.min(o,r))},getSize:function(){if(!this._size||this._sizeChanged){this._size=new M(this._container.clientWidth||0,this._container.clientHeight||0);this._sizeChanged=false}return this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new R(n,n.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===undefined?this.getZoom():t)},getPane:function(t){return typeof t==="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;e=e===undefined?this._zoom:e;return n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=e===undefined?this._zoom:e;var r=n.zoom(t*n.scale(e));return isNaN(r)?Infinity:r},project:function(t,e){e=e===undefined?this._zoom:e;return this.options.crs.latLngToPoint(U(t),e)},unproject:function(t,e){e=e===undefined?this._zoom:e;return this.options.crs.pointToLatLng(D(t),e)},layerPointToLatLng:function(t){var e=D(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(U(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(U(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(F(t))},distance:function(t,e){return this.options.crs.distance(U(t),U(e))},containerPointToLayerPoint:function(t){return D(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return D(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(D(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(t)))},mouseEventToContainerPoint:function(t){return He(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=re(t);if(!e){throw new Error("Map container not found.")}else if(e._leaflet_id){throw new Error("Map container is already initialized.")}Me(e,"scroll",this._onScroll,this);this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&yt;fe(t,"leaflet-container"+(Et?" leaflet-touch":"")+(Tt?" leaflet-retina":"")+(tt?" leaflet-oldie":"")+(ct?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ie(t,"position");if(e!=="absolute"&&e!=="relative"&&e!=="fixed"){t.style.position="relative"}this._initPanes();if(this._initControlPos){this._initControlPos()}},_initPanes:function(){var t=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);_e(this._mapPane,new M(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");if(!this.options.markerZoomAnimation){fe(t.markerPane,"leaflet-zoom-hide");fe(t.shadowPane,"leaflet-zoom-hide")}},_resetView:function(t,e){_e(this._mapPane,new M(0,0));var n=!this._loaded;this._loaded=true;e=this._limitZoom(e);this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,false)._move(t,e)._moveEnd(r);this.fire("viewreset");if(n){this.fire("load")}},_moveStart:function(t,e){if(t){this.fire("zoomstart")}if(!e){this.fire("movestart")}return this},_move:function(t,e,n){if(e===undefined){e=this._zoom}var r=this._zoom!==e;this._zoom=e;this._lastCenter=t;this._pixelOrigin=this._getNewPixelOrigin(t);if(r||n&&n.pinch){this.fire("zoom",n)}return this.fire("move",n)},_moveEnd:function(t){if(t){this.fire("zoomend")}return this.fire("moveend")},_stop:function(){C(this._flyToFrame);if(this._panAnim){this._panAnim.stop()}return this},_rawPanBy:function(t){_e(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){if(!this._enforcingBounds){this.panInsideBounds(this.options.maxBounds)}},_checkIfLoaded:function(){if(!this._loaded){throw new Error("Set map center and zoom first.")}},_initEvents:function(t){this._targets={};this._targets[s(this._container)]=this;var e=t?De:Me;e(this._container,"click dblclick mousedown mouseup "+"mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this);if(this.options.trackResize){e(window,"resize",this._onResize,this)}if(yt&&this.options.transform3DLimit){(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)}},_onResize:function(){C(this._resizeRequest);this._resizeRequest=T(function(){this.invalidateSize({debounceMoveend:true})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();if(Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit){this._resetView(this.getCenter(),this.getZoom())}},_findEventTargets:function(t,e){var n=[],r,i=e==="mouseout"||e==="mouseover",o=t.target||t.srcElement,a=false;while(o){r=this._targets[s(o)];if(r&&(e==="click"||e==="preclick")&&!t._simulated&&this._draggableMoved(r)){a=true;break}if(r&&r.listens(e,true)){if(i&&!Ye(o,t)){break}n.push(r);if(i){break}}if(o===this._container){break}o=o.parentNode}if(!n.length&&!a&&!i&&Ye(o,t)){n=[this]}return n},_handleDOMEvent:function(t){if(!this._loaded||Ke(t)){return}var e=t.type;if(e==="mousedown"||e==="keypress"){Le(t.target||t.srcElement)}this._fireDOMEvent(t,e)},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if(t.type==="click"){var i=r({},t);i.type="preclick";this._fireDOMEvent(i,i.type,n)}if(t._stopped){return}n=(n||[]).concat(this._findEventTargets(t,e));if(!n.length){return}var o=n[0];if(e==="contextmenu"&&o.listens(e,true)){Ue(t)}var a={originalEvent:t};if(t.type!=="keypress"){var s=o.getLatLng&&(!o._radius||o._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t);a.layerPoint=this.containerPointToLayerPoint(a.containerPoint);a.latlng=s?o.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var l=0;l<n.length;l++){n[l].fire(e,a,true);if(a.originalEvent._stopped||n[l].options.bubblingMouseEvents===false&&_(this._mouseEvents,e)!==-1){return}}},_draggableMoved:function(t){t=t.dragging&&t.dragging.enabled()?t:this;return t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++){this._handlers[t].disable()}},whenReady:function(t,e){if(this._loaded){t.call(e||this,{target:this})}else{this.on("load",t,e)}return this},_getMapPanePos:function(){return be(this._mapPane)||new M(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&e!==undefined?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return q([this.project(t.getSouthWest(),e)._subtract(r),this.project(t.getNorthWest(),e)._subtract(r),this.project(t.getSouthEast(),e)._subtract(r),this.project(t.getNorthEast(),e)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n){return t}var r=this.project(t,e),i=this.getSize().divideBy(2),o=new R(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,e);if(a.round().equals([0,0])){return t}return this.unproject(r.add(a),e)},_limitOffset:function(t,e){if(!e){return t}var n=this.getPixelBounds(),r=new R(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,n){var r=q(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),i=r.min.subtract(t.min),o=r.max.subtract(t.max),a=this._rebound(i.x,-o.x),s=this._rebound(i.y,-o.y);return new M(a,s)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),r=yt?this.options.zoomSnap:1;if(r){t=Math.round(t/r)*r}return Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){he(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();if((e&&e.animate)!==true&&!this.getSize().contains(n)){return false}this.panBy(n,e);return true},_createAnimProxy:function(){var t=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t);this.on("zoomanim",function(t){var e=te,n=this._proxy.style[e];ge(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1));if(n===this._proxy.style[e]&&this._animatingZoom){this._onZoomTransitionEnd()}},this);this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();ge(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this);this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ae(this._proxy);delete this._proxy},_catchTransitionEnd:function(t){if(this._animatingZoom&&t.propertyName.indexOf("transform")>=0){this._onZoomTransitionEnd()}},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom){return true}n=n||{};if(!this._zoomAnimated||n.animate===false||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold){return false}var r=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/r);if(n.animate!==true&&!this.getSize().contains(i)){return false}T(function(){this._moveStart(true,false)._animateZoom(t,e,true)},this);return true},_animateZoom:function(t,e,n,r){if(!this._mapPane){return}if(n){this._animatingZoom=true;this._animateToCenter=t;this._animateToZoom=e;fe(this._mapPane,"leaflet-zoom-anim")}this.fire("zoomanim",{center:t,zoom:e,noUpdate:r});setTimeout(o(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){if(!this._animatingZoom){return}if(this._mapPane){he(this._mapPane,"leaflet-zoom-anim")}this._animatingZoom=false;this._move(this._animateToCenter,this._animateToZoom);T(function(){this._moveEnd(true)},this)}});function nn(t,e){return new en(t,e)}var rn=S.extend({options:{position:"topright"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;if(e){e.removeControl(this)}this.options.position=t;if(e){e.addControl(this)}return this},getContainer:function(){return this._container},addTo:function(t){this.remove();this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];fe(e,"leaflet-control");if(n.indexOf("bottom")!==-1){r.insertBefore(e,r.firstChild)}else{r.appendChild(e)}return this},remove:function(){if(!this._map){return this}ae(this._container);if(this.onRemove){this.onRemove(this._map)}this._map=null;return this},_refocusOnMap:function(t){if(this._map&&t&&t.screenX>0&&t.screenY>0){this._map.getContainer().focus()}}});var on=function(t){return new rn(t)};en.include({addControl:function(t){t.addTo(this);return this},removeControl:function(t){t.remove();return this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=oe("div",e+"control-container",this._container);function r(r,i){var o=e+r+" "+e+i;t[r+i]=oe("div",o,n)}r("top","left");r("top","right");r("bottom","left");r("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners){ae(this._controlCorners[t])}ae(this._controlContainer);delete this._controlCorners;delete this._controlContainer}});var an=rn.extend({options:{collapsed:true,position:"topright",autoZIndex:true,hideSingleBase:false,sortLayers:false,sortFunction:function(t,e,n,r){return n<r?-1:r<n?1:0}},initialize:function(t,e,n){p(this,n);this._layerControlInputs=[];this._layers=[];this._lastZIndex=0;this._handlingClick=false;for(var r in t){this._addLayer(t[r],r)}for(r in e){this._addLayer(e[r],r,true)}},onAdd:function(t){this._initLayout();this._update();this._map=t;t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++){this._layers[e].layer.on("add remove",this._onLayerChange,this)}return this._container},addTo:function(t){rn.prototype.addTo.call(this,t);return this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++){this._layers[t].layer.off("add remove",this._onLayerChange,this)}},addBaseLayer:function(t,e){this._addLayer(t,e);return this._map?this._update():this},addOverlay:function(t,e){this._addLayer(t,e,true);return this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));if(e){this._layers.splice(this._layers.indexOf(e),1)}return this._map?this._update():this},expand:function(){fe(this._container,"leaflet-control-layers-expanded");this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);if(t<this._form.clientHeight){fe(this._form,"leaflet-control-layers-scrollbar");this._form.style.height=t+"px"}else{he(this._form,"leaflet-control-layers-scrollbar")}this._checkDisabledLayers();return this},collapse:function(){he(this._container,"leaflet-control-layers-expanded");return this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=oe("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",true);ze(e);Fe(e);var r=this._form=oe("form",t+"-list");if(n){this._map.on("click",this.collapse,this);if(!rt){Me(e,{mouseenter:this.expand,mouseleave:this.collapse},this)}}var i=this._layersLink=oe("a",t+"-toggle",e);i.href="#";i.title="Layers";if(Et){Me(i,"click",$e);Me(i,"click",this.expand,this)}else{Me(i,"focus",this.expand,this)}if(!n){this.expand()}this._baseLayersList=oe("div",t+"-base",r);this._separator=oe("div",t+"-separator",r);this._overlaysList=oe("div",t+"-overlays",r);e.appendChild(r)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++){if(this._layers[e]&&s(this._layers[e].layer)===t){return this._layers[e]}}},_addLayer:function(t,e,n){if(this._map){t.on("add remove",this._onLayerChange,this)}this._layers.push({layer:t,name:e,overlay:n});if(this.options.sortLayers){this._layers.sort(o(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this))}if(this.options.autoZIndex&&t.setZIndex){this._lastZIndex++;t.setZIndex(this._lastZIndex)}this._expandIfNotCollapsed()},_update:function(){if(!this._container){return this}se(this._baseLayersList);se(this._overlaysList);this._layerControlInputs=[];var t,e,n,r,i=0;for(n=0;n<this._layers.length;n++){r=this._layers[n];this._addItem(r);e=e||r.overlay;t=t||!r.overlay;i+=!r.overlay?1:0}if(this.options.hideSingleBase){t=t&&i>1;this._baseLayersList.style.display=t?"":"none"}this._separator.style.display=e&&t?"":"none";return this},_onLayerChange:function(t){if(!this._handlingClick){this._update()}var e=this._getLayer(s(t.target));var n=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;if(n){this._map.fire(n,e)}},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>";var r=document.createElement("div");r.innerHTML=n;return r.firstChild},_addItem:function(t){var e=document.createElement("label"),n=this._map.hasLayer(t.layer),r;if(t.overlay){r=document.createElement("input");r.type="checkbox";r.className="leaflet-control-layers-selector";r.defaultChecked=n}else{r=this._createRadioElement("leaflet-base-layers",n)}this._layerControlInputs.push(r);r.layerId=s(t.layer);Me(r,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+t.name;var o=document.createElement("div");e.appendChild(o);o.appendChild(r);o.appendChild(i);var a=t.overlay?this._overlaysList:this._baseLayersList;a.appendChild(e);this._checkDisabledLayers();return e},_onInputClick:function(){var t=this._layerControlInputs,e,n;var r=[],i=[];this._handlingClick=true;for(var o=t.length-1;o>=0;o--){e=t[o];n=this._getLayer(e.layerId).layer;if(e.checked){r.push(n)}else if(!e.checked){i.push(n)}}for(o=0;o<i.length;o++){if(this._map.hasLayer(i[o])){this._map.removeLayer(i[o])}}for(o=0;o<r.length;o++){if(!this._map.hasLayer(r[o])){this._map.addLayer(r[o])}}this._handlingClick=false;this._refocusOnMap()},_checkDisabledLayers:function(){var t=this._layerControlInputs,e,n,r=this._map.getZoom();for(var i=t.length-1;i>=0;i--){e=t[i];n=this._getLayer(e.layerId).layer;e.disabled=n.options.minZoom!==undefined&&r<n.options.minZoom||n.options.maxZoom!==undefined&&r>n.options.maxZoom}},_expandIfNotCollapsed:function(){if(this._map&&!this.options.collapsed){this.expand()}return this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}});var sn=function(t,e,n){return new an(t,e,n)};var ln=rn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=oe("div",e+" leaflet-bar"),r=this.options;this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",n,this._zoomIn);this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",n,this._zoomOut);this._updateDisabled();t.on("zoomend zoomlevelschange",this._updateDisabled,this);return n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){this._disabled=true;this._updateDisabled();return this},enable:function(){this._disabled=false;this._updateDisabled();return this},_zoomIn:function(t){if(!this._disabled&&this._map._zoom<this._map.getMaxZoom()){this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))}},_zoomOut:function(t){if(!this._disabled&&this._map._zoom>this._map.getMinZoom()){this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))}},_createButton:function(t,e,n,r,i){var o=oe("a",n,r);o.innerHTML=t;o.href="#";o.title=e;o.setAttribute("role","button");o.setAttribute("aria-label",e);ze(o);Me(o,"click",$e);Me(o,"click",i,this);Me(o,"click",this._refocusOnMap,this);return o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";he(this._zoomInButton,e);he(this._zoomOutButton,e);if(this._disabled||t._zoom===t.getMinZoom()){fe(this._zoomOutButton,e)}if(this._disabled||t._zoom===t.getMaxZoom()){fe(this._zoomInButton,e)}}});en.mergeOptions({zoomControl:true});en.addInitHook(function(){if(this.options.zoomControl){this.zoomControl=new ln;this.addControl(this.zoomControl)}});var un=function(t){return new ln(t)};var cn=rn.extend({options:{position:"bottomleft",maxWidth:100,metric:true,imperial:true},onAdd:function(t){var e="leaflet-control-scale",n=oe("div",e),r=this.options;this._addScales(r,e+"-line",n);t.on(r.updateWhenIdle?"moveend":"move",this._update,this);t.whenReady(this._update,this);return n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){if(t.metric){this._mScale=oe("div",e,n)}if(t.imperial){this._iScale=oe("div",e,n)}},_update:function(){var t=this._map,e=t.getSize().y/2;var n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){if(this.options.metric&&t){this._updateMetric(t)}if(this.options.imperial&&t){this._updateImperial(t)}},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e=t*3.2808399,n,r,i;if(e>5280){n=e/5280;r=this._getRoundNum(n);this._updateScale(this._iScale,r+" mi",r/n)}else{i=this._getRoundNum(e);this._updateScale(this._iScale,i+" ft",i/e)}},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px";t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1;return e*n}});var fn=function(t){return new cn(t)};var hn=rn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){p(this,t);this._attributions={}},onAdd:function(t){t.attributionControl=this;this._container=oe("div","leaflet-control-attribution");ze(this._container);for(var e in t._layers){if(t._layers[e].getAttribution){this.addAttribution(t._layers[e].getAttribution())}}this._update();return this._container},setPrefix:function(t){this.options.prefix=t;this._update();return this},addAttribution:function(t){if(!t){return this}if(!this._attributions[t]){this._attributions[t]=0}this._attributions[t]++;this._update();return this},removeAttribution:function(t){if(!t){return this}if(this._attributions[t]){this._attributions[t]--;this._update()}return this},_update:function(){if(!this._map){return}var t=[];for(var e in this._attributions){if(this._attributions[e]){t.push(e)}}var n=[];if(this.options.prefix){n.push(this.options.prefix)}if(t.length){n.push(t.join(", "))}this._container.innerHTML=n.join(" | ")}});en.mergeOptions({attributionControl:true});en.addInitHook(function(){if(this.options.attributionControl){(new hn).addTo(this)}});var dn=function(t){return new hn(t)};rn.Layers=an;rn.Zoom=ln;rn.Scale=cn;rn.Attribution=hn;on.layers=sn;on.zoom=un;on.scale=fn;on.attribution=dn;var pn=S.extend({initialize:function(t){this._map=t},enable:function(){if(this._enabled){return this}this._enabled=true;this.addHooks();return this},disable:function(){if(!this._enabled){return this}this._enabled=false;this.removeHooks();return this},enabled:function(){return!!this._enabled}});pn.addTo=function(t,e){t.addHandler(e,this);return this};var vn={Events:N};var mn=Et?"touchstart mousedown":"mousedown";var yn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"};var gn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"};var _n=j.extend({options:{clickTolerance:3},initialize:function(t,e,n,r){p(this,r);this._element=t;this._dragStartTarget=e||t;this._preventOutline=n},enable:function(){if(this._enabled){return}Me(this._dragStartTarget,mn,this._onDown,this);this._enabled=true},disable:function(){if(!this._enabled){return}if(_n._dragging===this){this.finishDrag()}De(this._dragStartTarget,mn,this._onDown,this);this._enabled=false;this._moved=false},_onDown:function(t){if(t._simulated||!this._enabled){return}this._moved=false;if(ce(this._element,"leaflet-zoom-anim")){return}if(_n._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches){return}_n._dragging=this;if(this._preventOutline){Le(this._element)}Oe();we();if(this._moving){return}this.fire("down");var e=t.touches?t.touches[0]:t,n=Pe(this._element);this._startPoint=new M(e.clientX,e.clientY);this._parentScale=Ne(n);Me(document,gn[t.type],this._onMove,this);Me(document,yn[t.type],this._onUp,this)},_onMove:function(t){if(t._simulated||!this._enabled){return}if(t.touches&&t.touches.length>1){this._moved=true;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,n=new M(e.clientX,e.clientY)._subtract(this._startPoint);if(!n.x&&!n.y){return}if(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance){return}n.x/=this._parentScale.x;n.y/=this._parentScale.y;Ue(t);if(!this._moved){this.fire("dragstart");this._moved=true;this._startPos=be(this._element).subtract(n);fe(document.body,"leaflet-dragging");this._lastTarget=t.target||t.srcElement;if(window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance){this._lastTarget=this._lastTarget.correspondingUseElement}fe(this._lastTarget,"leaflet-drag-target")}this._newPos=this._startPos.add(n);this._moving=true;C(this._animRequest);this._lastEvent=t;this._animRequest=T(this._updatePosition,this,true)},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t);_e(this._element,this._newPos);this.fire("drag",t)},_onUp:function(t){if(t._simulated||!this._enabled){return}this.finishDrag()},finishDrag:function(){he(document.body,"leaflet-dragging");if(this._lastTarget){he(this._lastTarget,"leaflet-drag-target");this._lastTarget=null}for(var t in gn){De(document,gn[t],this._onMove,this);De(document,yn[t],this._onUp,this)}Te();xe();if(this._moved&&this._moving){C(this._animRequest);this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})}this._moving=false;_n._dragging=false}});function bn(t,e){if(!e||!t.length){return t.slice()}var n=e*e;t=On(t,n);t=En(t,n);return t}function wn(t,e,n){return Math.sqrt(Pn(t,e,n,true))}function xn(t,e,n){return Pn(t,e,n)}function En(t,e){var n=t.length,r=typeof Uint8Array!==undefined+""?Uint8Array:Array,i=new r(n);i[0]=i[n-1]=1;kn(t,i,e,0,n-1);var o,a=[];for(o=0;o<n;o++){if(i[o]){a.push(t[o])}}return a}function kn(t,e,n,r,i){var o=0,a,s,l;for(s=r+1;s<=i-1;s++){l=Pn(t[s],t[r],t[i],true);if(l>o){a=s;o=l}}if(o>n){e[a]=1;kn(t,e,n,r,a);kn(t,e,n,a,i)}}function On(t,e){var n=[t[0]];for(var r=1,i=0,o=t.length;r<o;r++){if(Sn(t[r],t[i])>e){n.push(t[r]);i=r}}if(i<o-1){n.push(t[o-1])}return n}var Tn;function Cn(t,e,n,r,i){var o=r?Tn:Ln(t,n),a=Ln(e,n),s,l,u;Tn=a;while(true){if(!(o|a)){return[t,e]}if(o&a){return false}s=o||a;l=An(t,e,s,n,i);u=Ln(l,n);if(s===o){t=l;o=u}else{e=l;a=u}}}function An(t,e,n,r,i){var o=e.x-t.x,a=e.y-t.y,s=r.min,l=r.max,u,c;if(n&8){u=t.x+o*(l.y-t.y)/a;c=l.y}else if(n&4){u=t.x+o*(s.y-t.y)/a;c=s.y}else if(n&2){u=l.x;c=t.y+a*(l.x-t.x)/o}else if(n&1){u=s.x;c=t.y+a*(s.x-t.x)/o}return new M(u,c,i)}function Ln(t,e){var n=0;if(t.x<e.min.x){n|=1}else if(t.x>e.max.x){n|=2}if(t.y<e.min.y){n|=4}else if(t.y>e.max.y){n|=8}return n}function Sn(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function Pn(t,e,n,r){var i=e.x,o=e.y,a=n.x-i,s=n.y-o,l=a*a+s*s,u;if(l>0){u=((t.x-i)*a+(t.y-o)*s)/l;if(u>1){i=n.x;o=n.y}else if(u>0){i+=a*u;o+=s*u}}a=t.x-i;s=t.y-o;return r?a*a+s*s:new M(i,o)}function Nn(t){return!g(t[0])||typeof t[0][0]!=="object"&&typeof t[0][0]!=="undefined"}function jn(t){console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead.");return Nn(t)}var Mn=(Object.freeze||Object)({simplify:bn,pointToSegmentDistance:wn,closestPointOnSegment:xn,clipSegment:Cn,_getEdgeIntersection:An,_getBitCode:Ln,_sqClosestPointOnSegment:Pn,isFlat:Nn,_flat:jn});function In(t,e,n){var r,i=[1,4,2,8],o,a,s,l,u,c,f,h;for(o=0,c=t.length;o<c;o++){t[o]._code=Ln(t[o],e)}for(s=0;s<4;s++){f=i[s];r=[];for(o=0,c=t.length,a=c-1;o<c;a=o++){l=t[o];u=t[a];if(!(l._code&f)){if(u._code&f){h=An(u,l,f,e,n);h._code=Ln(h,e);r.push(h)}r.push(l)}else if(!(u._code&f)){h=An(u,l,f,e,n);h._code=Ln(h,e);r.push(h)}}t=r}return t}var Dn=(Object.freeze||Object)({clipPolygon:In});var Rn={project:function(t){return new M(t.lng,t.lat)},unproject:function(t){return new z(t.y,t.x)},bounds:new R([-180,-90],[180,90])};var qn={R:6378137,R_MINOR:6356752.314245179,bounds:new R([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,r=t.lat*e,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r);var s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);r=-n*Math.log(Math.max(s,1e-10));return new M(t.lng*e*n,r)},unproject:function(t){var e=180/Math.PI,n=this.R,r=this.R_MINOR/n,i=Math.sqrt(1-r*r),o=Math.exp(-t.y/n),a=Math.PI/2-2*Math.atan(o);for(var s=0,l=.1,u;s<15&&Math.abs(l)>1e-7;s++){u=i*Math.sin(a);u=Math.pow((1-u)/(1+u),i/2);l=Math.PI/2-2*Math.atan(o*u)-a;a+=l}return new z(a*e,t.x*e/n)}};var Bn=(Object.freeze||Object)({LonLat:Rn,Mercator:qn,SphericalMercator:Z});var Fn=r({},H,{code:"EPSG:3395",projection:qn,transformation:function(){var t=.5/(Math.PI*qn.R);return W(t,.5,-t,.5)}()});var zn=r({},H,{code:"EPSG:4326",projection:Rn,transformation:W(1/180,1,-1/180,.5)});var Un=r({},$,{projection:Rn,transformation:W(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(n*n+r*r)},infinite:true});$.Earth=H;$.EPSG3395=Fn;$.EPSG3857=G;$.EPSG900913=K;$.EPSG4326=zn;$.Simple=Un;var $n=j.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:true},addTo:function(t){t.addLayer(this);return this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){if(t){t.removeLayer(this)}return this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){this._map._targets[s(t)]=this;return this},removeInteractiveTarget:function(t){delete this._map._targets[s(t)];return this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(!e.hasLayer(this)){return}this._map=e;this._zoomAnimated=e._zoomAnimated;if(this.getEvents){var n=this.getEvents();e.on(n,this);this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e);if(this.getAttribution&&e.attributionControl){e.attributionControl.addAttribution(this.getAttribution())}this.fire("add");e.fire("layeradd",{layer:this})}});en.include({addLayer:function(t){if(!t._layerAdd){throw new Error("The provided object is not a Layer.")}var e=s(t);if(this._layers[e]){return this}this._layers[e]=t;t._mapToAdd=this;if(t.beforeAdd){t.beforeAdd(this)}this.whenReady(t._layerAdd,t);return this},removeLayer:function(t){var e=s(t);if(!this._layers[e]){return this}if(this._loaded){t.onRemove(this)}if(t.getAttribution&&this.attributionControl){this.attributionControl.removeAttribution(t.getAttribution())}delete this._layers[e];if(this._loaded){this.fire("layerremove",{layer:t});t.fire("remove")}t._map=t._mapToAdd=null;return this},hasLayer:function(t){return!!t&&s(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers){t.call(e,this._layers[n])}return this},_addLayers:function(t){t=t?g(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++){this.addLayer(t[e])}},_addZoomLimit:function(t){if(isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom)){this._zoomBoundLayers[s(t)]=t;this._updateZoomLevels()}},_removeZoomLimit:function(t){var e=s(t);if(this._zoomBoundLayers[e]){delete this._zoomBoundLayers[e];this._updateZoomLevels()}},_updateZoomLevels:function(){var t=Infinity,e=-Infinity,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;t=i.minZoom===undefined?t:Math.min(t,i.minZoom);e=i.maxZoom===undefined?e:Math.max(e,i.maxZoom)}this._layersMaxZoom=e===-Infinity?undefined:e;this._layersMinZoom=t===Infinity?undefined:t;if(n!==this._getZoomSpan()){this.fire("zoomlevelschange")}if(this.options.maxZoom===undefined&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom){this.setZoom(this._layersMaxZoom)}if(this.options.minZoom===undefined&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom){this.setZoom(this._layersMinZoom)}}});var Hn=$n.extend({initialize:function(t,e){p(this,e);this._layers={};var n,r;if(t){for(n=0,r=t.length;n<r;n++){this.addLayer(t[n])}}},addLayer:function(t){var e=this.getLayerId(t);this._layers[e]=t;if(this._map){this._map.addLayer(t)}return this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);if(this._map&&this._layers[e]){this._map.removeLayer(this._layers[e])}delete this._layers[e];return this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),n,r;for(n in this._layers){r=this._layers[n];if(r[t]){r[t].apply(r,e)}}return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers){t.call(e,this._layers[n])}return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];this.eachLayer(t.push,t);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}});var Zn=function(t,e){return new Hn(t,e)};var Vn=Hn.extend({addLayer:function(t){if(this.hasLayer(t)){return this}t.addEventParent(this);Hn.prototype.addLayer.call(this,t);return this.fire("layeradd",{layer:t})},removeLayer:function(t){if(!this.hasLayer(t)){return this}if(t in this._layers){t=this._layers[t]}t.removeEventParent(this);Hn.prototype.removeLayer.call(this,t);return this.fire("layerremove",{layer:t})},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new B;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}});var Wn=function(t){return new Vn(t)};var Gn=S.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if(t==="icon"){throw new Error("iconUrl not set in Icon options (see the docs).")}return null}var r=this._createImg(n,e&&e.tagName==="IMG"?e:null);this._setIconStyles(r,t);return r},_setIconStyles:function(t,e){var n=this.options;var r=n[e+"Size"];if(typeof r==="number"){r=[r,r]}var i=D(r),o=D(e==="shadow"&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,true));t.className="leaflet-marker-"+e+" "+(n.className||"");if(o){t.style.marginLeft=-o.x+"px";t.style.marginTop=-o.y+"px"}if(i){t.style.width=i.x+"px";t.style.height=i.y+"px"}},_createImg:function(t,e){e=e||document.createElement("img");e.src=t;return e},_getIconUrl:function(t){return Tt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Kn(t){return new Gn(t)}var Yn=Gn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){if(!Yn.imagePath){Yn.imagePath=this._detectIconPath()}return(this.options.imagePath||Yn.imagePath)+Gn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=oe("div","leaflet-default-icon-path",document.body);var e=ie(t,"background-image")||ie(t,"backgroundImage");document.body.removeChild(t);if(e===null||e.indexOf("url")!==0){e=""}else{e=e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}return e}});var Xn=pn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;if(!this._draggable){this._draggable=new _n(t,t,true)}this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable();fe(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();if(this._marker._icon){he(this._marker._icon,"leaflet-marker-draggable")}},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=be(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin();var l=q(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!l.contains(o)){var u=D((Math.max(l.max.x,o.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(r);n.panBy(u,{animate:false});this._draggable._newPos._add(u);this._draggable._startPos._add(u);_e(e._icon,this._draggable._newPos);this._onDrag(t);this._panRequest=T(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){if(this._marker.options.autoPan){C(this._panRequest);this._panRequest=T(this._adjustPan.bind(this,t))}},_onDrag:function(t){var e=this._marker,n=e._shadow,r=be(e._icon),i=e._map.layerPointToLatLng(r);if(n){_e(n,r)}e._latlng=i;t.latlng=i;t.oldLatLng=this._oldLatLng;e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){C(this._panRequest);delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",t)}});var Jn=$n.extend({options:{icon:new Yn,interactive:true,keyboard:true,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:false,riseOffset:250,pane:"markerPane",bubblingMouseEvents:false,draggable:false,autoPan:false,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){p(this,e);this._latlng=U(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation;if(this._zoomAnimated){t.on("zoomanim",this._animateZoom,this)}this._initIcon();this.update()},onRemove:function(t){if(this.dragging&&this.dragging.enabled()){this.options.draggable=true;this.dragging.removeHooks()}delete this.dragging;if(this._zoomAnimated){t.off("zoomanim",this._animateZoom,this)}this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;this._latlng=U(t);this.update();return this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){this.options.zIndexOffset=t;return this.update()},setIcon:function(t){this.options.icon=t;if(this._map){this._initIcon();this.update()}if(this._popup){this.bindPopup(this._popup,this._popup.options)}return this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");var n=t.icon.createIcon(this._icon),r=false;if(n!==this._icon){if(this._icon){this._removeIcon()}r=true;if(t.title){n.title=t.title}if(n.tagName==="IMG"){n.alt=t.alt||""}}fe(n,e);if(t.keyboard){n.tabIndex="0"}this._icon=n;if(t.riseOnHover){this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex})}var i=t.icon.createShadow(this._shadow),o=false;if(i!==this._shadow){this._removeShadow();o=true}if(i){fe(i,e);i.alt=""}this._shadow=i;if(t.opacity<1){this._updateOpacity()}if(r){this.getPane().appendChild(this._icon)}this._initInteraction();if(i&&o){this.getPane("shadowPane").appendChild(this._shadow)}},_removeIcon:function(){if(this.options.riseOnHover){this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex})}ae(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){if(this._shadow){ae(this._shadow)}this._shadow=null},_setPos:function(t){_e(this._icon,t);if(this._shadow){_e(this._shadow,t)}this._zIndex=t.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(!this.options.interactive){return}fe(this._icon,"leaflet-interactive");this.addInteractiveTarget(this._icon);if(Xn){var t=this.options.draggable;if(this.dragging){t=this.dragging.enabled();this.dragging.disable()}this.dragging=new Xn(this);if(t){this.dragging.enable()}}},setOpacity:function(t){this.options.opacity=t;if(this._map){this._updateOpacity()}return this},_updateOpacity:function(){var t=this.options.opacity;ve(this._icon,t);if(this._shadow){ve(this._shadow,t)}},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qn(t,e){return new Jn(t,e)}var tr=$n.extend({options:{stroke:true,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:false,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:true,bubblingMouseEvents:true},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){if(this._map){this._renderer._updatePath(this)}return this},setStyle:function(t){p(this,t);if(this._renderer){this._renderer._updateStyle(this)}return this},bringToFront:function(){if(this._renderer){this._renderer._bringToFront(this)}return this},bringToBack:function(){if(this._renderer){this._renderer._bringToBack(this)}return this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}});var er=tr.extend({options:{fill:true,radius:10},initialize:function(t,e){p(this,e);this._latlng=U(t);this._radius=this.options.radius},setLatLng:function(t){this._latlng=U(t);this.redraw();return this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){this.options.radius=this._radius=t;return this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;tr.prototype.setStyle.call(this,t);this.setRadius(e);return this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),r=[t+n,e+n];this._pxBounds=new R(this._point.subtract(r),this._point.add(r))},_update:function(){if(this._map){this._updatePath()}},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function nr(t,e){return new er(t,e)}var rr=er.extend({initialize:function(t,e,n){if(typeof e==="number"){e=r({},n,{radius:e})}p(this,e);this._latlng=U(t);if(isNaN(this.options.radius)){throw new Error("Circle radius cannot be NaN")}this._mRadius=this.options.radius},setRadius:function(t){this._mRadius=t;return this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:tr.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===H.distance){var i=Math.PI/180,o=this._mRadius/H.R/i,a=n.project([e+o,t]),s=n.project([e-o,t]),l=a.add(s).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(o*i)-Math.sin(e*i)*Math.sin(u*i))/(Math.cos(e*i)*Math.cos(u*i)))/i;if(isNaN(c)||c===0){c=o/Math.cos(Math.PI/180*e)}this._point=l.subtract(n.getPixelOrigin());this._radius=isNaN(c)?0:l.x-n.project([u,t-c]).x;this._radiusY=l.y-a.y}else{var f=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng);this._radius=this._point.x-n.latLngToLayerPoint(f).x}this._updateBounds()}});function ir(t,e,n){return new rr(t,e,n)}var or=tr.extend({options:{smoothFactor:1,noClip:false},initialize:function(t,e){p(this,e);this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){this._setLatLngs(t);return this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){var e=Infinity,n=null,r=Pn,i,o;for(var a=0,s=this._parts.length;a<s;a++){var l=this._parts[a];for(var u=1,c=l.length;u<c;u++){i=l[u-1];o=l[u];var f=r(t,i,o,true);if(f<e){e=f;n=r(t,i,o)}}}if(n){n.distance=Math.sqrt(e)}return n},getCenter:function(){if(!this._map){throw new Error("Must add layer to map before using getCenter()")}var t,e,n,r,i,o,a,s=this._rings[0],l=s.length;if(!l){return null}for(t=0,e=0;t<l-1;t++){e+=s[t].distanceTo(s[t+1])/2}if(e===0){return this._map.layerPointToLatLng(s[0])}for(t=0,r=0;t<l-1;t++){i=s[t];o=s[t+1];n=i.distanceTo(o);r+=n;if(r>e){a=(r-e)/n;return this._map.layerPointToLatLng([o.x-a*(o.x-i.x),o.y-a*(o.y-i.y)])}}},getBounds:function(){return this._bounds},addLatLng:function(t,e){e=e||this._defaultShape();t=U(t);e.push(t);this._bounds.extend(t);return this.redraw()},_setLatLngs:function(t){this._bounds=new B;this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Nn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){var e=[],n=Nn(t);for(var r=0,i=t.length;r<i;r++){if(n){e[r]=U(t[r]);this._bounds.extend(e[r])}else{e[r]=this._convertLatLngs(t[r])}}return e},_project:function(){var t=new R;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new M(e,e);if(this._bounds.isValid()&&t.isValid()){t.min._subtract(n);t.max._add(n);this._pxBounds=t}},_projectLatlngs:function(t,e,n){var r=t[0]instanceof z,i=t.length,o,a;if(r){a=[];for(o=0;o<i;o++){a[o]=this._map.latLngToLayerPoint(t[o]);n.extend(a[o])}e.push(a)}else{for(o=0;o<i;o++){this._projectLatlngs(t[o],e,n)}}},_clipPoints:function(){var t=this._renderer._bounds;this._parts=[];if(!this._pxBounds||!this._pxBounds.intersects(t)){return}if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,n,r,i,o,a,s,l;for(n=0,i=0,o=this._rings.length;n<o;n++){l=this._rings[n];for(r=0,a=l.length;r<a-1;r++){s=Cn(l[r],l[r+1],t,r,true);if(!s){continue}e[i]=e[i]||[];e[i].push(s[0]);if(s[1]!==l[r+1]||r===a-2){e[i].push(s[1]);i++}}}},_simplifyPoints:function(){var t=this._parts,e=this.options.smoothFactor;for(var n=0,r=t.length;n<r;n++){t[n]=bn(t[n],e)}},_update:function(){if(!this._map){return}this._clipPoints();this._simplifyPoints();this._updatePath()},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,r,i,o,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t)){return false}for(n=0,o=this._parts.length;n<o;n++){s=this._parts[n];for(r=0,a=s.length,i=a-1;r<a;i=r++){if(!e&&r===0){continue}if(wn(t,s[i],s[r])<=l){return true}}}return false}});function ar(t,e){return new or(t,e)}or._flat=jn;var sr=or.extend({options:{fill:true},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map){throw new Error("Must add layer to map before using getCenter()")}var t,e,n,r,i,o,a,s,l,u=this._rings[0],c=u.length;if(!c){return null}o=a=s=0;for(t=0,e=c-1;t<c;e=t++){n=u[t];r=u[e];i=n.y*r.x-r.y*n.x;a+=(n.x+r.x)*i;s+=(n.y+r.y)*i;o+=i*3}if(o===0){l=u[0]}else{l=[a/o,s/o]}return this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=or.prototype._convertLatLngs.call(this,t),n=e.length;if(n>=2&&e[0]instanceof z&&e[0].equals(e[n-1])){e.pop()}return e},_setLatLngs:function(t){or.prototype._setLatLngs.call(this,t);if(Nn(this._latlngs)){this._latlngs=[this._latlngs]}},_defaultShape:function(){return Nn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new M(e,e);t=new R(t.min.subtract(n),t.max.add(n));this._parts=[];if(!this._pxBounds||!this._pxBounds.intersects(t)){return}if(this.options.noClip){this._parts=this._rings;return}for(var r=0,i=this._rings.length,o;r<i;r++){o=In(this._rings[r],t,true);if(o.length){this._parts.push(o)}}},_updatePath:function(){this._renderer._updatePoly(this,true)},_containsPoint:function(t){var e=false,n,r,i,o,a,s,l,u;if(!this._pxBounds||!this._pxBounds.contains(t)){return false}for(o=0,l=this._parts.length;o<l;o++){n=this._parts[o];for(a=0,u=n.length,s=u-1;a<u;s=a++){r=n[a];i=n[s];if(r.y>t.y!==i.y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x){e=!e}}}return e||or.prototype._containsPoint.call(this,t,true)}});function lr(t,e){return new sr(t,e)}var ur=Vn.extend({initialize:function(t,e){p(this,e);this._layers={};if(t){this.addData(t)}},addData:function(t){var e=g(t)?t:t.features,n,r,i;if(e){for(n=0,r=e.length;n<r;n++){i=e[n];if(i.geometries||i.geometry||i.features||i.coordinates){this.addData(i)}}return this}var o=this.options;if(o.filter&&!o.filter(t)){return this}var a=cr(t,o);if(!a){return this}a.feature=mr(t);a.defaultOptions=a.options;this.resetStyle(a);if(o.onEachFeature){o.onEachFeature(t,a)}return this.addLayer(a)},resetStyle:function(t){t.options=r({},t.defaultOptions);this._setLayerStyle(t,this.options.style);return this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){if(typeof e==="function"){e=e(t.feature)}if(t.setStyle){t.setStyle(e)}}});function cr(t,e){var n=t.type==="Feature"?t.geometry:t,r=n?n.coordinates:null,i=[],o=e&&e.pointToLayer,a=e&&e.coordsToLatLng||fr,s,l,u,c;if(!r&&!n){return null}switch(n.type){case"Point":s=a(r);return o?o(t,s):new Jn(s);case"MultiPoint":for(u=0,c=r.length;u<c;u++){s=a(r[u]);i.push(o?o(t,s):new Jn(s))}return new Vn(i);case"LineString":case"MultiLineString":l=hr(r,n.type==="LineString"?0:1,a);return new or(l,e);case"Polygon":case"MultiPolygon":l=hr(r,n.type==="Polygon"?1:2,a);return new sr(l,e);case"GeometryCollection":for(u=0,c=n.geometries.length;u<c;u++){var f=cr({geometry:n.geometries[u],type:"Feature",properties:t.properties},e);if(f){i.push(f)}}return new Vn(i);default:throw new Error("Invalid GeoJSON object.")}}function fr(t){return new z(t[1],t[0],t[2])}function hr(t,e,n){var r=[];for(var i=0,o=t.length,a;i<o;i++){a=e?hr(t[i],e-1,n):(n||fr)(t[i]);r.push(a)}return r}function dr(t,e){e=typeof e==="number"?e:6;return t.alt!==undefined?[f(t.lng,e),f(t.lat,e),f(t.alt,e)]:[f(t.lng,e),f(t.lat,e)]}function pr(t,e,n,r){var i=[];for(var o=0,a=t.length;o<a;o++){i.push(e?pr(t[o],e-1,n,r):dr(t[o],r))}if(!e&&n){i.push(i[0])}return i}function vr(t,e){return t.feature?r({},t.feature,{geometry:e}):mr(e)}function mr(t){if(t.type==="Feature"||t.type==="FeatureCollection"){return t}return{type:"Feature",properties:{},geometry:t}}var yr={toGeoJSON:function(t){return vr(this,{type:"Point",coordinates:dr(this.getLatLng(),t)})}};Jn.include(yr);rr.include(yr);er.include(yr);or.include({toGeoJSON:function(t){var e=!Nn(this._latlngs);var n=pr(this._latlngs,e?1:0,false,t);return vr(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}});sr.include({toGeoJSON:function(t){var e=!Nn(this._latlngs),n=e&&!Nn(this._latlngs[0]);var r=pr(this._latlngs,n?2:e?1:0,true,t);if(!e){r=[r]}return vr(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}});Hn.include({toMultiPoint:function(t){var e=[];this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)});return vr(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint"){return this.toMultiPoint(t)}var n=e==="GeometryCollection",r=[];this.eachLayer(function(e){if(e.toGeoJSON){var i=e.toGeoJSON(t);if(n){r.push(i.geometry)}else{var o=mr(i);if(o.type==="FeatureCollection"){r.push.apply(r,o.features)}else{r.push(o)}}}});if(n){return vr(this,{geometries:r,type:"GeometryCollection"})}return{type:"FeatureCollection",features:r}}});function gr(t,e){return new ur(t,e)}var _r=gr;var br=$n.extend({options:{opacity:1,alt:"",interactive:false,crossOrigin:false,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t;this._bounds=F(e);p(this,n)},onAdd:function(){if(!this._image){this._initImage();if(this.options.opacity<1){this._updateOpacity()}}if(this.options.interactive){fe(this._image,"leaflet-interactive");this.addInteractiveTarget(this._image)}this.getPane().appendChild(this._image);this._reset()},onRemove:function(){ae(this._image);if(this.options.interactive){this.removeInteractiveTarget(this._image)}},setOpacity:function(t){this.options.opacity=t;if(this._image){this._updateOpacity()}return this},setStyle:function(t){if(t.opacity){this.setOpacity(t.opacity)}return this},bringToFront:function(){if(this._map){le(this._image)}return this},bringToBack:function(){if(this._map){ue(this._image)}return this},setUrl:function(t){this._url=t;if(this._image){this._image.src=t}return this},setBounds:function(t){this._bounds=F(t);if(this._map){this._reset()}return this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};if(this._zoomAnimated){t.zoomanim=this._animateZoom}return t},setZIndex:function(t){this.options.zIndex=t;this._updateZIndex();return this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG";var e=this._image=t?this._url:oe("img");fe(e,"leaflet-image-layer");if(this._zoomAnimated){fe(e,"leaflet-zoom-animated")}if(this.options.className){fe(e,this.options.className)}e.onselectstart=c;e.onmousemove=c;e.onload=o(this.fire,this,"load");e.onerror=o(this._overlayOnError,this,"error");if(this.options.crossOrigin||this.options.crossOrigin===""){e.crossOrigin=this.options.crossOrigin===true?"":this.options.crossOrigin}if(this.options.zIndex){this._updateZIndex()}if(t){this._url=e.src;return}e.src=this._url;e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ge(this._image,n,e)},_reset:function(){var t=this._image,e=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();_e(t,e.min);t.style.width=n.x+"px";t.style.height=n.y+"px"},_updateOpacity:function(){ve(this._image,this.options.opacity)},_updateZIndex:function(){if(this._image&&this.options.zIndex!==undefined&&this.options.zIndex!==null){this._image.style.zIndex=this.options.zIndex}},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;if(t&&this._url!==t){this._url=t;this._image.src=t}}});var wr=function(t,e,n){return new br(t,e,n)};var xr=br.extend({options:{autoplay:true,loop:true},_initImage:function(){var t=this._url.tagName==="VIDEO";var e=this._image=t?this._url:oe("video");fe(e,"leaflet-image-layer");if(this._zoomAnimated){fe(e,"leaflet-zoom-animated")}e.onselectstart=c;e.onmousemove=c;e.onloadeddata=o(this.fire,this,"load");if(t){var n=e.getElementsByTagName("source");var r=[];for(var i=0;i<n.length;i++){r.push(n[i].src)}this._url=n.length>0?r:[e.src];return}if(!g(this._url)){this._url=[this._url]}e.autoplay=!!this.options.autoplay;e.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var s=oe("source");s.src=this._url[a];e.appendChild(s)}}});function Er(t,e,n){return new xr(t,e,n)}var kr=$n.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){p(this,t);this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated;if(!this._container){this._initLayout()}if(t._fadeAnimated){ve(this._container,0)}clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();if(t._fadeAnimated){ve(this._container,1)}this.bringToFront()},onRemove:function(t){if(t._fadeAnimated){ve(this._container,0);this._removeTimeout=setTimeout(o(ae,undefined,this._container),200)}else{ae(this._container)}},getLatLng:function(){return this._latlng},setLatLng:function(t){this._latlng=U(t);if(this._map){this._updatePosition();this._adjustPan()}return this},getContent:function(){return this._content},setContent:function(t){this._content=t;this.update();return this},getElement:function(){return this._container},update:function(){if(!this._map){return}this._container.style.visibility="hidden";this._updateContent();this._updateLayout();this._updatePosition();this._container.style.visibility="";this._adjustPan()},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};if(this._zoomAnimated){t.zoomanim=this._animateZoom}return t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){if(this._map){le(this._container)}return this},bringToBack:function(){if(this._map){ue(this._container)}return this},_updateContent:function(){if(!this._content){return}var t=this._contentNode;var e=typeof this._content==="function"?this._content(this._source||this):this._content;if(typeof e==="string"){t.innerHTML=e}else{while(t.hasChildNodes()){t.removeChild(t.firstChild)}t.appendChild(e)}this.fire("contentupdate")},_updatePosition:function(){if(!this._map){return}var t=this._map.latLngToLayerPoint(this._latlng),e=D(this.options.offset),n=this._getAnchor();if(this._zoomAnimated){_e(this._container,t.add(n))}else{e=e.add(t).add(n)}var r=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px";this._container.style.left=i+"px"},_getAnchor:function(){return[0,0]}});var Or=kr.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:true,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:false,closeButton:true,autoClose:true,closeOnEscapeKey:true,className:""},openOn:function(t){t.openPopup(this);return this},onAdd:function(t){kr.prototype.onAdd.call(this,t);t.fire("popupopen",{popup:this});if(this._source){this._source.fire("popupopen",{popup:this},true);if(!(this._source instanceof tr)){this._source.on("preclick",Be)}}},onRemove:function(t){kr.prototype.onRemove.call(this,t);t.fire("popupclose",{popup:this});if(this._source){this._source.fire("popupclose",{popup:this},true);if(!(this._source instanceof tr)){this._source.off("preclick",Be)}}},getEvents:function(){var t=kr.prototype.getEvents.call(this);if(this.options.closeOnClick!==undefined?this.options.closeOnClick:this._map.options.closePopupOnClick){t.preclick=this._close}if(this.options.keepInView){t.moveend=this._adjustPan}return t},_close:function(){if(this._map){this._map.closePopup(this)}},_initLayout:function(){var t="leaflet-popup",e=this._container=oe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated");var n=this._wrapper=oe("div",t+"-content-wrapper",e);this._contentNode=oe("div",t+"-content",n);ze(n);Fe(this._contentNode);Me(n,"contextmenu",Be);this._tipContainer=oe("div",t+"-tip-container",e);this._tip=oe("div",t+"-tip",this._tipContainer);if(this.options.closeButton){var r=this._closeButton=oe("a",t+"-close-button",e);r.href="#close";r.innerHTML="&#215;";Me(r,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="";e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth);n=Math.max(n,this.options.minWidth);e.width=n+1+"px";e.whiteSpace="";e.height="";var r=t.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";if(i&&r>i){e.height=i+"px";fe(t,o)}else{he(t,o)}this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();_e(this._container,e.add(n))},_adjustPan:function(){if(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress){return}var t=this._map,e=parseInt(ie(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,r=this._containerWidth,i=new M(this._containerLeft,-n-this._containerBottom);i._add(be(this._container));var o=t.layerPointToContainerPoint(i),a=D(this.options.autoPanPadding),s=D(this.options.autoPanPaddingTopLeft||a),l=D(this.options.autoPanPaddingBottomRight||a),u=t.getSize(),c=0,f=0;if(o.x+r+l.x>u.x){c=o.x+r-u.x+l.x}if(o.x-c-s.x<0){c=o.x-s.x}if(o.y+n+l.y>u.y){f=o.y+n-u.y+l.y}if(o.y-f-s.y<0){f=o.y-s.y}if(c||f){t.fire("autopanstart").panBy([c,f])}},_onCloseButtonClick:function(t){this._close();$e(t)},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});var Tr=function(t,e){return new Or(t,e)};en.mergeOptions({closePopupOnClick:true});en.include({openPopup:function(t,e,n){if(!(t instanceof Or)){t=new Or(n).setContent(t)}if(e){t.setLatLng(e)}if(this.hasLayer(t)){return this}if(this._popup&&this._popup.options.autoClose){this.closePopup()}this._popup=t;return this.addLayer(t)},closePopup:function(t){if(!t||t===this._popup){t=this._popup;this._popup=null}if(t){this.removeLayer(t)}return this}});$n.include({bindPopup:function(t,e){if(t instanceof Or){p(t,e);this._popup=t;t._source=this}else{if(!this._popup||e){this._popup=new Or(e,this)}this._popup.setContent(t)}if(!this._popupHandlersAdded){this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=true}return this},unbindPopup:function(){if(this._popup){this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=false;this._popup=null}return this},openPopup:function(t,e){if(!(t instanceof $n)){e=t;t=this}if(t instanceof Vn){for(var n in this._layers){t=this._layers[n];break}}if(!e){e=t.getCenter?t.getCenter():t.getLatLng()}if(this._popup&&this._map){this._popup._source=t;this._popup.update();this._map.openPopup(this._popup,e)}return this},closePopup:function(){if(this._popup){this._popup._close()}return this},togglePopup:function(t){if(this._popup){if(this._popup._map){this.closePopup()}else{this.openPopup(t)}}return this},isPopupOpen:function(){return this._popup?this._popup.isOpen():false},setPopupContent:function(t){if(this._popup){this._popup.setContent(t)}return this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(!this._popup){return}if(!this._map){return}$e(t);if(e instanceof tr){this.openPopup(t.layer||t.target,t.latlng);return}if(this._map.hasLayer(this._popup)&&this._popup._source===e){this.closePopup()}else{this.openPopup(e,t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){if(t.originalEvent.keyCode===13){this._openPopup(t)}}});var Cr=kr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:false,sticky:false,interactive:false,opacity:.9},onAdd:function(t){kr.prototype.onAdd.call(this,t);this.setOpacity(this.options.opacity);t.fire("tooltipopen",{tooltip:this});if(this._source){this._source.fire("tooltipopen",{tooltip:this},true)}},onRemove:function(t){kr.prototype.onRemove.call(this,t);t.fire("tooltipclose",{tooltip:this});if(this._source){this._source.fire("tooltipclose",{tooltip:this},true)}},getEvents:function(){var t=kr.prototype.getEvents.call(this);if(Et&&!this.options.permanent){t.preclick=this._close}return t},_close:function(){if(this._map){this._map.closeTooltip(this)}},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,r=e.latLngToContainerPoint(e.getCenter()),i=e.layerPointToContainerPoint(t),o=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,l=D(this.options.offset),u=this._getAnchor();if(o==="top"){t=t.add(D(-a/2+l.x,-s+l.y+u.y,true))}else if(o==="bottom"){t=t.subtract(D(a/2-l.x,-l.y,true))}else if(o==="center"){t=t.subtract(D(a/2+l.x,s/2-u.y+l.y,true))}else if(o==="right"||o==="auto"&&i.x<r.x){o="right";t=t.add(D(l.x+u.x,u.y-s/2+l.y,true))}else{o="left";t=t.subtract(D(a+u.x-l.x,s/2-u.y-l.y,true))}he(n,"leaflet-tooltip-right");he(n,"leaflet-tooltip-left");he(n,"leaflet-tooltip-top");he(n,"leaflet-tooltip-bottom");fe(n,"leaflet-tooltip-"+o);_e(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t;if(this._container){ve(this._container,t)}},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});var Ar=function(t,e){return new Cr(t,e)};en.include({openTooltip:function(t,e,n){if(!(t instanceof Cr)){t=new Cr(n).setContent(t)}if(e){t.setLatLng(e)}if(this.hasLayer(t)){return this}return this.addLayer(t)},closeTooltip:function(t){if(t){this.removeLayer(t)}return this}});$n.include({bindTooltip:function(t,e){if(t instanceof Cr){p(t,e);this._tooltip=t;t._source=this}else{if(!this._tooltip||e){this._tooltip=new Cr(e,this)}this._tooltip.setContent(t)}this._initTooltipInteractions();if(this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)){this.openTooltip()}return this},unbindTooltip:function(){if(this._tooltip){this._initTooltipInteractions(true);this.closeTooltip();this._tooltip=null}return this},_initTooltipInteractions:function(t){if(!t&&this._tooltipHandlersAdded){return}var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};if(!this._tooltip.options.permanent){n.mouseover=this._openTooltip;n.mouseout=this.closeTooltip;if(this._tooltip.options.sticky){n.mousemove=this._moveTooltip}if(Et){n.click=this._openTooltip}}else{n.add=this._openTooltip}this[e](n);this._tooltipHandlersAdded=!t},openTooltip:function(t,e){if(!(t instanceof $n)){e=t;t=this}if(t instanceof Vn){for(var n in this._layers){t=this._layers[n];break}}if(!e){e=t.getCenter?t.getCenter():t.getLatLng()}if(this._tooltip&&this._map){this._tooltip._source=t;this._tooltip.update();this._map.openTooltip(this._tooltip,e);if(this._tooltip.options.interactive&&this._tooltip._container){fe(this._tooltip._container,"leaflet-clickable");this.addInteractiveTarget(this._tooltip._container)}}return this},closeTooltip:function(){if(this._tooltip){this._tooltip._close();if(this._tooltip.options.interactive&&this._tooltip._container){he(this._tooltip._container,"leaflet-clickable");this.removeInteractiveTarget(this._tooltip._container)}}return this},toggleTooltip:function(t){if(this._tooltip){if(this._tooltip._map){this.closeTooltip()}else{this.openTooltip(t)}}return this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){if(this._tooltip){this._tooltip.setContent(t)}return this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;if(!this._tooltip||!this._map){return}this.openTooltip(e,this._tooltip.options.sticky?t.latlng:undefined)},_moveTooltip:function(t){var e=t.latlng,n,r;if(this._tooltip.options.sticky&&t.originalEvent){n=this._map.mouseEventToContainerPoint(t.originalEvent);r=this._map.containerPointToLayerPoint(n);e=this._map.layerPointToLatLng(r)}this._tooltip.setLatLng(e)}});var Lr=Gn.extend({options:{iconSize:[12,12],html:false,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),n=this.options;e.innerHTML=n.html!==false?n.html:"";if(n.bgPos){var r=D(n.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}this._setIconStyles(e,"icon");return e},createShadow:function(){return null}});function Sr(t){return new Lr(t)}Gn.Default=Yn;var Pr=$n.extend({options:{tileSize:256,opacity:1,updateWhenIdle:gt,updateWhenZooming:true,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:undefined,maxNativeZoom:undefined,minNativeZoom:undefined,noWrap:false,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles();ae(this._container);t._removeZoomLimit(this);this._container=null;this._tileZoom=undefined},bringToFront:function(){if(this._map){le(this._container);this._setAutoZIndex(Math.max)}return this},bringToBack:function(){if(this._map){ue(this._container);this._setAutoZIndex(Math.min)}return this},getContainer:function(){return this._container},setOpacity:function(t){this.options.opacity=t;this._updateOpacity();return this},setZIndex:function(t){this.options.zIndex=t;this._updateZIndex();return this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};if(!this.options.updateWhenIdle){if(!this._onMove){this._onMove=l(this._onMoveEnd,this.options.updateInterval,this)}t.move=this._onMove}if(this._zoomAnimated){t.zoomanim=this._animateZoom}return t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof M?t:new M(t,t)},_updateZIndex:function(){if(this._container&&this.options.zIndex!==undefined&&this.options.zIndex!==null){this._container.style.zIndex=this.options.zIndex}},_setAutoZIndex:function(t){var e=this.getPane().children,n=-t(-Infinity,Infinity);for(var r=0,i=e.length,o;r<i;r++){o=e[r].style.zIndex;if(e[r]!==this._container&&o){n=t(n,+o)}}if(isFinite(n)){this.options.zIndex=n+t(-1,1);this._updateZIndex()}},_updateOpacity:function(){if(!this._map){return}if(tt){return}ve(this._container,this.options.opacity);var t=+new Date,e=false,n=false;for(var r in this._tiles){var i=this._tiles[r];if(!i.current||!i.loaded){continue}var o=Math.min(1,(t-i.loaded)/200);ve(i.el,o);if(o<1){e=true}else{if(i.active){n=true}else{this._onOpaqueTile(i)}i.active=true}}if(n&&!this._noPrune){this._pruneTiles()}if(e){C(this._fadeFrame);this._fadeFrame=T(this._updateOpacity,this)}},_onOpaqueTile:c,_initContainer:function(){if(this._container){return}this._container=oe("div","leaflet-layer "+(this.options.className||""));this._updateZIndex();if(this.options.opacity<1){this._updateOpacity()}this.getPane().appendChild(this._container)},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t===undefined){return undefined}for(var n in this._levels){if(this._levels[n].el.children.length||n===t){this._levels[n].el.style.zIndex=e-Math.abs(t-n);this._onUpdateLevel(n)}else{ae(this._levels[n].el);this._removeTilesAtZoom(n);this._onRemoveLevel(n);delete this._levels[n]}}var r=this._levels[t],i=this._map;if(!r){r=this._levels[t]={};r.el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container);r.el.style.zIndex=e;r.origin=i.project(i.unproject(i.getPixelOrigin()),t).round();r.zoom=t;this._setZoomTransform(r,i.getCenter(),i.getZoom());c(r.el.offsetWidth);this._onCreateLevel(r)}this._level=r;return r},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(!this._map){return}var t,e;var n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles){e=this._tiles[t];e.retain=e.current}for(t in this._tiles){e=this._tiles[t];if(e.current&&!e.active){var r=e.coords;if(!this._retainParent(r.x,r.y,r.z,r.z-5)){this._retainChildren(r.x,r.y,r.z,r.z+2)}}}for(t in this._tiles){if(!this._tiles[t].retain){this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles){if(this._tiles[e].coords.z!==t){continue}this._removeTile(e)}},_removeAllTiles:function(){for(var t in this._tiles){this._removeTile(t)}},_invalidateAll:function(){for(var t in this._levels){ae(this._levels[t].el);this._onRemoveLevel(t);delete this._levels[t]}this._removeAllTiles();this._tileZoom=undefined},_retainParent:function(t,e,n,r){var i=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new M(+i,+o);s.z=+a;var l=this._tileCoordsToKey(s),u=this._tiles[l];if(u&&u.active){u.retain=true;return true}else if(u&&u.loaded){u.retain=true}if(a>r){return this._retainParent(i,o,a,r)}return false},_retainChildren:function(t,e,n,r){for(var i=2*t;i<2*t+2;i++){for(var o=2*e;o<2*e+2;o++){var a=new M(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];if(l&&l.active){l.retain=true;continue}else if(l&&l.loaded){l.retain=true}if(n+1<r){this._retainChildren(i,o,n+1,r)}}}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,true,t.noUpdate)},_clampZoom:function(t){var e=this.options;if(undefined!==e.minNativeZoom&&t<e.minNativeZoom){return e.minNativeZoom}if(undefined!==e.maxNativeZoom&&e.maxNativeZoom<t){return e.maxNativeZoom}return t},_setView:function(t,e,n,r){var i=this._clampZoom(Math.round(e));if(this.options.maxZoom!==undefined&&i>this.options.maxZoom||this.options.minZoom!==undefined&&i<this.options.minZoom){i=undefined}var o=this.options.updateWhenZooming&&i!==this._tileZoom;if(!r||o){this._tileZoom=i;if(this._abortLoading){this._abortLoading()}this._updateLevels();this._resetGrid();if(i!==undefined){this._update(t)}if(!n){this._pruneTiles()}this._noPrune=!!n}this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels){this._setZoomTransform(this._levels[n],t,e)}},_setZoomTransform:function(t,e,n){var r=this._map.getZoomScale(n,t.zoom),i=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,n)).round();if(yt){ge(t.el,i,r)}else{_e(t.el,i)}},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom;var i=this._map.getPixelWorldBounds(this._tileZoom);if(i){this._globalTileRange=this._pxBoundsToTileRange(i)}this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/n.y)];this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){if(!this._map||this._map._animatingZoom){return}this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(n,this._tileZoom),i=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(r*2);return new R(i.subtract(o),i.add(o))},_update:function(t){var e=this._map;if(!e){return}var n=this._clampZoom(e.getZoom());if(t===undefined){t=e.getCenter()}if(this._tileZoom===undefined){return}var r=this._getTiledPixelBounds(t),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,l=new R(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y))){throw new Error("Attempted to load an infinite number of tiles")}for(var u in this._tiles){var c=this._tiles[u].coords;if(c.z!==this._tileZoom||!l.contains(new M(c.x,c.y))){this._tiles[u].current=false}}if(Math.abs(n-this._tileZoom)>1){this._setView(t,n);return}for(var f=i.min.y;f<=i.max.y;f++){for(var h=i.min.x;h<=i.max.x;h++){var d=new M(h,f);d.z=this._tileZoom;if(!this._isValidTile(d)){continue}var p=this._tiles[this._tileCoordsToKey(d)];if(p){p.current=true}else{a.push(d)}}}a.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)});if(a.length!==0){if(!this._loading){this._loading=true;this.fire("loading")}var v=document.createDocumentFragment();for(h=0;h<a.length;h++){this._addTile(a[h],v)}this._level.el.appendChild(v)}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y)){return false}}if(!this.options.bounds){return true}var r=this._tileCoordsToBounds(t);return F(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),r=t.scaleBy(n),i=r.add(n),o=e.unproject(r,t.z),a=e.unproject(i,t.z);return[o,a]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new B(e[0],e[1]);if(!this.options.noWrap){n=this._map.wrapLatLngBounds(n)}return n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new M(+e[0],+e[1]);n.z=+e[2];return n},_removeTile:function(t){var e=this._tiles[t];if(!e){return}ae(e.el);delete this._tiles[t];this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)})},_initTile:function(t){fe(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px";t.style.height=e.y+"px";t.onselectstart=c;t.onmousemove=c;if(tt&&this.options.opacity<1){ve(t,this.options.opacity)}if(rt&&!it){t.style.WebkitBackfaceVisibility="hidden"}},_addTile:function(t,e){var n=this._getTilePos(t),r=this._tileCoordsToKey(t);var i=this.createTile(this._wrapCoords(t),o(this._tileReady,this,t));this._initTile(i);if(this.createTile.length<2){T(o(this._tileReady,this,t,null,i))}_e(i,n);this._tiles[r]={el:i,coords:t,current:true};e.appendChild(i);this.fire("tileloadstart",{tile:i,coords:t})},_tileReady:function(t,e,n){if(e){this.fire("tileerror",{error:e,tile:n,coords:t})}var r=this._tileCoordsToKey(t);n=this._tiles[r];if(!n){return}n.loaded=+new Date;if(this._map._fadeAnimated){ve(n.el,0);C(this._fadeFrame);this._fadeFrame=T(this._updateOpacity,this)}else{n.active=true;this._pruneTiles()}if(!e){fe(n.el,"leaflet-tile-loaded");this.fire("tileload",{tile:n.el,coords:t})}if(this._noTilesToLoad()){this._loading=false;this.fire("load");if(tt||!this._map._fadeAnimated){T(this._pruneTiles,this)}else{setTimeout(o(this._pruneTiles,this),250)}}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new M(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);e.z=t.z;return e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new R(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles){if(!this._tiles[t].loaded){return false}}return true}});function Nr(t){return new Pr(t)}var jr=Pr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:false,zoomReverse:false,detectRetina:false,crossOrigin:false},initialize:function(t,e){this._url=t;e=p(this,e);if(e.detectRetina&&Tt&&e.maxZoom>0){e.tileSize=Math.floor(e.tileSize/2);if(!e.zoomReverse){e.zoomOffset++;e.maxZoom--}else{e.zoomOffset--;e.minZoom++}e.minZoom=Math.max(0,e.minZoom)}if(typeof e.subdomains==="string"){e.subdomains=e.subdomains.split("")}if(!rt){this.on("tileunload",this._onTileRemove)}},setUrl:function(t,e){this._url=t;if(!e){this.redraw()}return this},createTile:function(t,e){var n=document.createElement("img");Me(n,"load",o(this._tileOnLoad,this,e,n));Me(n,"error",o(this._tileOnError,this,e,n));if(this.options.crossOrigin||this.options.crossOrigin===""){n.crossOrigin=this.options.crossOrigin===true?"":this.options.crossOrigin}n.alt="";n.setAttribute("role","presentation");n.src=this.getTileUrl(t);return n},getTileUrl:function(t){var e={r:Tt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;if(this.options.tms){e["y"]=n}e["-y"]=n}return y(this._url,r(e,this.options))},_tileOnLoad:function(t,e){if(tt){setTimeout(o(t,this,null,e),0)}else{t(null,e)}},_tileOnError:function(t,e,n){var r=this.options.errorTileUrl;if(r&&e.getAttribute("src")!==r){e.src=r}t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,r=this.options.zoomOffset;if(n){t=e-t}return t+r},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles){if(this._tiles[t].coords.z!==this._tileZoom){e=this._tiles[t].el;e.onload=c;e.onerror=c;if(!e.complete){e.src=b;ae(e);delete this._tiles[t]}}}},_removeTile:function(t){var e=this._tiles[t];if(!e){return}if(!at){e.el.setAttribute("src",b)}return Pr.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(!this._map||n&&n.getAttribute("src")===b){return}return Pr.prototype._tileReady.call(this,t,e,n)}});function Mr(t,e){return new jr(t,e)}var Ir=jr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:false,version:"1.1.1"},options:{crs:null,uppercase:false},initialize:function(t,e){this._url=t;var n=r({},this.defaultWmsParams);for(var i in e){if(!(i in this.options)){n[i]=e[i]}}e=p(this,e);var o=e.detectRetina&&Tt?2:1;var a=this.getTileSize();n.width=a.x*o;n.height=a.y*o;this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code;jr.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,r=q(n.project(e[0]),n.project(e[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===zn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=jr.prototype.getTileUrl.call(this,t);return s+v(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){r(this.wmsParams,t);if(!e){this.redraw()}return this}});function Dr(t,e){return new Ir(t,e)}jr.WMS=Ir;Mr.wms=Dr;var Rr=$n.extend({options:{padding:.1,tolerance:0},initialize:function(t){p(this,t);s(this);this._layers=this._layers||{}},onAdd:function(){if(!this._container){this._initContainer();if(this._zoomAnimated){fe(this._container,"leaflet-zoom-animated")}}this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};if(this._zoomAnimated){t.zoomanim=this._onAnimZoom}return t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),r=be(this._container),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),a=this._map.project(t,e),s=a.subtract(o),l=i.multiplyBy(-n).add(r).add(i).subtract(s);if(yt){ge(this._container,l,n)}else{_e(this._container,l)}},_reset:function(){this._update();this._updateTransform(this._center,this._zoom);for(var t in this._layers){this._layers[t]._reset()}},_onZoomEnd:function(){for(var t in this._layers){this._layers[t]._project()}},_updatePaths:function(){for(var t in this._layers){this._layers[t]._update()}},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new R(n,n.add(e.multiplyBy(1+t*2)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}});var qr=Rr.extend({getEvents:function(){var t=Rr.prototype.getEvents.call(this);t.viewprereset=this._onViewPreReset;return t},_onViewPreReset:function(){this._postponeUpdatePaths=true},onAdd:function(){Rr.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Me(t,"mousemove",l(this._onMouseMove,32,this),this);Me(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this);Me(t,"mouseout",this._handleMouseOut,this);this._ctx=t.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest);delete this._ctx;ae(this._container);De(this._container);delete this._container},_updatePaths:function(){if(this._postponeUpdatePaths){return}var t;this._redrawBounds=null;for(var e in this._layers){t=this._layers[e];t._update()}this._redraw()},_update:function(){if(this._map._animatingZoom&&this._bounds){return}this._drawnLayers={};Rr.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),r=Tt?2:1;_e(e,t.min);e.width=r*n.x;e.height=r*n.y;e.style.width=n.x+"px";e.style.height=n.y+"px";if(Tt){this._ctx.scale(2,2)}this._ctx.translate(-t.min.x,-t.min.y);this.fire("update")},_reset:function(){Rr.prototype._reset.call(this);if(this._postponeUpdatePaths){this._postponeUpdatePaths=false;this._updatePaths()}},_initPath:function(t){this._updateDashArray(t);this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};if(this._drawLast){this._drawLast.next=e}this._drawLast=e;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order;var n=e.next;var r=e.prev;if(n){n.prev=r}else{this._drawLast=r}if(r){r.next=n}else{this._drawFirst=n}delete this._drawnLayers[t._leaflet_id];delete t._order;delete this._layers[s(t)];this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t);t._project();t._update();this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t);this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray==="string"){var e=t.options.dashArray.split(/[, ]+/),n=[],r;for(r=0;r<e.length;r++){n.push(Number(e[r]))}t.options._dashArray=n}else{t.options._dashArray=t.options.dashArray}},_requestRedraw:function(t){if(!this._map){return}this._extendRedrawBounds(t);this._redrawRequest=this._redrawRequest||T(this._redraw,this)},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R;this._redrawBounds.extend(t._pxBounds.min.subtract([e,e]));this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null;if(this._redrawBounds){this._redrawBounds.min._floor();this._redrawBounds.max._ceil()}this._clear();this._draw();this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else{this._ctx.clearRect(0,0,this._container.width,this._container.height)}},_draw:function(){var t,e=this._redrawBounds;this._ctx.save();if(e){var n=e.getSize();this._ctx.beginPath();this._ctx.rect(e.min.x,e.min.y,n.x,n.y);this._ctx.clip()}this._drawing=true;for(var r=this._drawFirst;r;r=r.next){t=r.layer;if(!e||t._pxBounds&&t._pxBounds.intersects(e)){t._updatePath()}}this._drawing=false;this._ctx.restore()},_updatePoly:function(t,e){if(!this._drawing){return}var n,r,i,o,a=t._parts,s=a.length,l=this._ctx;if(!s){return}this._drawnLayers[t._leaflet_id]=t;l.beginPath();for(n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++){o=a[n][r];l[r?"lineTo":"moveTo"](o.x,o.y)}if(e){l.closePath()}}this._fillStroke(l,t)},_updateCircle:function(t){if(!this._drawing||t._empty()){return}var e=t._point,n=this._ctx,r=Math.max(Math.round(t._radius),1),i=(Math.max(Math.round(t._radiusY),1)||r)/r;this._drawnLayers[t._leaflet_id]=t;if(i!==1){n.save();n.scale(1,i)}n.beginPath();n.arc(e.x,e.y/i,r,0,Math.PI*2,false);if(i!==1){n.restore()}this._fillStroke(n,t)},_fillStroke:function(t,e){var n=e.options;if(n.fill){t.globalAlpha=n.fillOpacity;t.fillStyle=n.fillColor||n.color;t.fill(n.fillRule||"evenodd")}if(n.stroke&&n.weight!==0){if(t.setLineDash){t.setLineDash(e.options&&e.options._dashArray||[])}t.globalAlpha=n.opacity;t.lineWidth=n.weight;t.strokeStyle=n.color;t.lineCap=n.lineCap;t.lineJoin=n.lineJoin;t.stroke()}},_onClick:function(t){var e=this._map.mouseEventToLayerPoint(t),n,r;for(var i=this._drawFirst;i;i=i.next){n=i.layer;if(n.options.interactive&&n._containsPoint(e)&&!this._map._draggableMoved(n)){r=n}}if(r){Ge(t);this._fireEvent([r],t)}},_onMouseMove:function(t){if(!this._map||this._map.dragging.moving()||this._map._animatingZoom){return}var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)},_handleMouseOut:function(t){var e=this._hoveredLayer;if(e){he(this._container,"leaflet-interactive");this._fireEvent([e],t,"mouseout");this._hoveredLayer=null}},_handleMouseHover:function(t,e){var n,r;for(var i=this._drawFirst;i;i=i.next){n=i.layer;if(n.options.interactive&&n._containsPoint(e)){r=n}}if(r!==this._hoveredLayer){this._handleMouseOut(t);if(r){fe(this._container,"leaflet-interactive");this._fireEvent([r],t,"mouseover");this._hoveredLayer=r}}if(this._hoveredLayer){this._fireEvent([this._hoveredLayer],t)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;var n=e.next;var r=e.prev;if(n){n.prev=r}else{return}if(r){r.next=n}else if(n){this._drawFirst=n}e.prev=this._drawLast;this._drawLast.next=e;e.next=null;this._drawLast=e;this._requestRedraw(t)},_bringToBack:function(t){var e=t._order;var n=e.next;var r=e.prev;if(r){r.next=n}else{return}if(n){n.prev=r}else if(r){this._drawLast=r}e.prev=null;e.next=this._drawFirst;this._drawFirst.prev=e;this._drawFirst=e;this._requestRedraw(t)}});function Br(t){return Ct?new qr(t):null}var Fr=function(){try{document.namespaces.add("lvml","urn:schemas-microsoft-com:vml");return function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}();var zr={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){if(this._map._animatingZoom){return}Rr.prototype._update.call(this);this.fire("update")},_initPath:function(t){var e=t._container=Fr("shape");fe(e,"leaflet-vml-shape "+(this.options.className||""));e.coordsize="1 1";t._path=Fr("path");e.appendChild(t._path);this._updateStyle(t);this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e);if(t.options.interactive){t.addInteractiveTarget(e)}},_removePath:function(t){var e=t._container;ae(e);t.removeInteractiveTarget(e);delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,r=t.options,i=t._container;i.stroked=!!r.stroke;i.filled=!!r.fill;if(r.stroke){if(!e){e=t._stroke=Fr("stroke")}i.appendChild(e);e.weight=r.weight+"px";e.color=r.color;e.opacity=r.opacity;if(r.dashArray){e.dashStyle=g(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," ")}else{e.dashStyle=""}e.endcap=r.lineCap.replace("butt","flat");e.joinstyle=r.lineJoin}else if(e){i.removeChild(e);t._stroke=null}if(r.fill){if(!n){n=t._fill=Fr("fill")}i.appendChild(n);n.color=r.fillColor||r.color;n.opacity=r.fillOpacity}else if(n){i.removeChild(n);t._fill=null}},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),r=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+r+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){le(t._container)},_bringToBack:function(t){ue(t._container)}};var Ur=Lt?Fr:Y;var $r=Rr.extend({getEvents:function(){var t=Rr.prototype.getEvents.call(this);t.zoomstart=this._onZoomStart;return t},_initContainer:function(){this._container=Ur("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=Ur("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ae(this._container);De(this._container);delete this._container;delete this._rootGroup;delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(this._map._animatingZoom&&this._bounds){return}Rr.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;if(!this._svgSize||!this._svgSize.equals(e)){this._svgSize=e;n.setAttribute("width",e.x);n.setAttribute("height",e.y)}_e(n,t.min);n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" "));this.fire("update")},_initPath:function(t){var e=t._path=Ur("path");if(t.options.className){fe(e,t.options.className)}if(t.options.interactive){fe(e,"leaflet-interactive")}this._updateStyle(t);this._layers[s(t)]=t},_addPath:function(t){if(!this._rootGroup){this._initContainer()}this._rootGroup.appendChild(t._path);t.addInteractiveTarget(t._path)},_removePath:function(t){ae(t._path);t.removeInteractiveTarget(t._path);delete this._layers[s(t)]},_updatePath:function(t){t._project();t._update()},_updateStyle:function(t){var e=t._path,n=t.options;if(!e){return}if(n.stroke){e.setAttribute("stroke",n.color);e.setAttribute("stroke-opacity",n.opacity);e.setAttribute("stroke-width",n.weight);e.setAttribute("stroke-linecap",n.lineCap);e.setAttribute("stroke-linejoin",n.lineJoin);if(n.dashArray){e.setAttribute("stroke-dasharray",n.dashArray)}else{e.removeAttribute("stroke-dasharray")}if(n.dashOffset){e.setAttribute("stroke-dashoffset",n.dashOffset)}else{e.removeAttribute("stroke-dashoffset")}}else{e.setAttribute("stroke","none")}if(n.fill){e.setAttribute("fill",n.fillColor||n.color);e.setAttribute("fill-opacity",n.fillOpacity);e.setAttribute("fill-rule",n.fillRule||"evenodd")}else{e.setAttribute("fill","none")}},_updatePoly:function(t,e){this._setPath(t,X(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),r=Math.max(Math.round(t._radiusY),1)||n,i="a"+n+","+r+" 0 1,0 ";var o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+n*2+",0 "+i+-n*2+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){le(t._path)},_bringToBack:function(t){ue(t._path)}});if(Lt){$r.include(zr)}function Hr(t){return At||Lt?new $r(t):null}en.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;if(!e){e=this._renderer=this._createRenderer()}if(!this.hasLayer(e)){this.addLayer(e)}return e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===undefined){return false}var e=this._paneRenderers[t];if(e===undefined){e=this._createRenderer({pane:t});this._paneRenderers[t]=e}return e},_createRenderer:function(t){return this.options.preferCanvas&&Br(t)||Hr(t)}});var Zr=sr.extend({initialize:function(t,e){sr.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){t=F(t);return[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Vr(t,e){return new Zr(t,e)}$r.create=Ur;$r.pointsToPath=X;ur.geometryToLayer=cr;ur.coordsToLatLng=fr;ur.coordsToLatLngs=hr;ur.latLngToCoords=dr;ur.latLngsToCoords=pr;ur.getFeature=vr;ur.asFeature=mr;en.mergeOptions({boxZoom:true});var Wr=pn.extend({initialize:function(t){this._map=t;this._container=t._container;this._pane=t._panes.overlayPane;this._resetStateTimeout=0;t.on("unload",this._destroy,this)},addHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){De(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ae(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=false},_clearDeferredResetState:function(){if(this._resetStateTimeout!==0){clearTimeout(this._resetStateTimeout);this._resetStateTimeout=0}},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1){return false}this._clearDeferredResetState();this._resetState();we();Oe();this._startPoint=this._map.mouseEventToContainerPoint(t);Me(document,{contextmenu:$e,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){if(!this._moved){this._moved=true;this._box=oe("div","leaflet-zoom-box",this._container);fe(this._container,"leaflet-crosshair");this._map.fire("boxzoomstart")}this._point=this._map.mouseEventToContainerPoint(t);var e=new R(this._point,this._startPoint),n=e.getSize();_e(this._box,e.min);this._box.style.width=n.x+"px";this._box.style.height=n.y+"px"},_finish:function(){if(this._moved){ae(this._box);he(this._container,"leaflet-crosshair")}xe();Te();De(document,{contextmenu:$e,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(t.which!==1&&t.button!==1){return}this._finish();if(!this._moved){return}this._clearDeferredResetState();this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var e=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})},_onKeyDown:function(t){if(t.keyCode===27){this._finish()}}});en.addInitHook("addHandler","boxZoom",Wr);en.mergeOptions({doubleClickZoom:true});var Gr=pn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),r=e.options.zoomDelta,i=t.originalEvent.shiftKey?n-r:n+r;if(e.options.doubleClickZoom==="center"){e.setZoom(i)}else{e.setZoomAround(t.containerPoint,i)}}});en.addInitHook("addHandler","doubleClickZoom",Gr);en.mergeOptions({dragging:true,inertia:!it,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:.2,worldCopyJump:false,maxBoundsViscosity:0});var Kr=pn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new _n(t._mapPane,t._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);this._draggable.on("predrag",this._onPreDragLimit,this);if(t.options.worldCopyJump){this._draggable.on("predrag",this._onPreDragWrap,this);t.on("zoomend",this._onZoomEnd,this);t.whenReady(this._onZoomEnd,this)}}fe(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){he(this._map._container,"leaflet-grab");he(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;t._stop();if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=F(this._map.options.maxBounds);this._offsetLimit=q(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else{this._offsetLimit=null}t.fire("movestart").fire("dragstart");if(t.options.inertia){this._positions=[];this._times=[]}},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n);this._times.push(e);this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){while(this._positions.length>1&&t-this._times[0]>50){this._positions.shift();this._times.shift()}},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!this._viscosity||!this._offsetLimit){return}var t=this._draggable._newPos.subtract(this._draggable._startPos);var e=this._offsetLimit;if(t.x<e.min.x){t.x=this._viscousLimit(t.x,e.min.x)}if(t.y<e.min.y){t.y=this._viscousLimit(t.y,e.min.y)}if(t.x>e.max.x){t.x=this._viscousLimit(t.x,e.max.x)}if(t.y>e.max.y){t.y=this._viscousLimit(t.y,e.max.y)}this._draggable._newPos=this._draggable._startPos.add(t)},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-e+n)%t+e-n,o=(r+e+n)%t-e-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,r=!n.inertia||this._times.length<2;e.fire("dragend",t);if(r){e.fire("moveend")}else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),l=s.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=s.multiplyBy(u/l),f=u/(n.inertiaDeceleration*a),h=c.multiplyBy(-f/2).round();if(!h.x&&!h.y){e.fire("moveend")}else{h=e._limitOffset(h,e.options.maxBounds);T(function(){e.panBy(h,{duration:f,easeLinearity:a,noMoveStart:true,animate:true})})}}}});en.addInitHook("addHandler","dragging",Kr);en.mergeOptions({keyboard:true,keyboardPanDelta:80});var Yr=pn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t;this._setPanDelta(t.options.keyboardPanDelta);this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;if(t.tabIndex<=0){t.tabIndex="0"}Me(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();De(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(this._focused){return}var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft;this._map._container.focus();window.scrollTo(r,n)},_onFocus:function(){this._focused=true;this._map.fire("focus")},_onBlur:function(){this._focused=false;this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},n=this.keyCodes,r,i;for(r=0,i=n.left.length;r<i;r++){e[n.left[r]]=[-1*t,0]}for(r=0,i=n.right.length;r<i;r++){e[n.right[r]]=[t,0]}for(r=0,i=n.down.length;r<i;r++){e[n.down[r]]=[0,t]}for(r=0,i=n.up.length;r<i;r++){e[n.up[r]]=[0,-1*t]}},_setZoomDelta:function(t){var e=this._zoomKeys={},n=this.keyCodes,r,i;for(r=0,i=n.zoomIn.length;r<i;r++){e[n.zoomIn[r]]=t}for(r=0,i=n.zoomOut.length;r<i;r++){e[n.zoomOut[r]]=-t}},_addHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){De(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(t.altKey||t.ctrlKey||t.metaKey){return}var e=t.keyCode,n=this._map,r;if(e in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress){r=this._panKeys[e];if(t.shiftKey){r=D(r).multiplyBy(3)}n.panBy(r);if(n.options.maxBounds){n.panInsideBounds(n.options.maxBounds)}}}else if(e in this._zoomKeys){n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e])}else if(e===27&&n._popup&&n._popup.options.closeOnEscapeKey){n.closePopup()}else{return}$e(t)}});en.addInitHook("addHandler","keyboard",Yr);en.mergeOptions({scrollWheelZoom:true,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Xr=pn.extend({addHooks:function(){Me(this._map._container,"mousewheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){De(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Ve(t);var n=this._map.options.wheelDebounceTime;this._delta+=e;this._lastMousePos=this._map.mouseEventToContainerPoint(t);if(!this._startTime){this._startTime=+new Date}var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(o(this._performZoom,this),r);$e(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(this._map.options.wheelPxPerZoomLevel*4),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0;this._startTime=null;if(!a){return}if(t.options.scrollWheelZoom==="center"){t.setZoom(e+a)}else{t.setZoomAround(this._lastMousePos,e+a)}}});en.addInitHook("addHandler","scrollWheelZoom",Xr);en.mergeOptions({tap:true,tapTolerance:15});var Jr=pn.extend({addHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){De(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(!t.touches){return}Ue(t);this._fireClick=true;if(t.touches.length>1){this._fireClick=false;clearTimeout(this._holdTimeout);return}var e=t.touches[0],n=e.target;this._startPos=this._newPos=new M(e.clientX,e.clientY);if(n.tagName&&n.tagName.toLowerCase()==="a"){fe(n,"leaflet-active")}this._holdTimeout=setTimeout(o(function(){if(this._isTapValid()){this._fireClick=false;this._onUp();this._simulateEvent("contextmenu",e)}},this),1e3);this._simulateEvent("mousedown",e);Me(document,{touchmove:this._onMove,touchend:this._onUp},this)},_onUp:function(t){clearTimeout(this._holdTimeout);De(document,{touchmove:this._onMove,touchend:this._onUp},this);if(this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;if(n&&n.tagName&&n.tagName.toLowerCase()==="a"){he(n,"leaflet-active")}this._simulateEvent("mouseup",e);if(this._isTapValid()){this._simulateEvent("click",e)}}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new M(e.clientX,e.clientY);this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=true;e.target._simulatedClick=true;n.initMouseEvent(t,true,true,window,1,e.screenX,e.screenY,e.clientX,e.clientY,false,false,false,false,0,null);e.target.dispatchEvent(n)}});if(Et&&!xt){en.addInitHook("addHandler","tap",Jr)}en.mergeOptions({touchZoom:Et&&!it,bounceAtZoomLimits:true});var Qr=pn.extend({addHooks:function(){fe(this._map._container,"leaflet-touch-zoom");Me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){he(this._map._container,"leaflet-touch-zoom");De(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming){return}var n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2);this._startLatLng=e.containerPointToLatLng(this._centerPoint);if(e.options.touchZoom!=="center"){this._pinchStartLatLng=e.containerPointToLatLng(n.add(r)._divideBy(2))}this._startDist=n.distanceTo(r);this._startZoom=e.getZoom();this._moved=false;this._zooming=true;e._stop();Me(document,"touchmove",this._onTouchMove,this);Me(document,"touchend",this._onTouchEnd,this);Ue(t)},_onTouchMove:function(t){if(!t.touches||t.touches.length!==2||!this._zooming){return}var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),i=n.distanceTo(r)/this._startDist;this._zoom=e.getScaleZoom(i,this._startZoom);if(!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&i<1||this._zoom>e.getMaxZoom()&&i>1)){this._zoom=e._limitZoom(this._zoom)}if(e.options.touchZoom==="center"){this._center=this._startLatLng;if(i===1){return}}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(i===1&&a.x===0&&a.y===0){return}this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}if(!this._moved){e._moveStart(true,false);this._moved=true}C(this._animRequest);var s=o(e._move,e,this._center,this._zoom,{pinch:true,round:false});this._animRequest=T(s,this,true);Ue(t)},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=false;return}this._zooming=false;C(this._animRequest);De(document,"touchmove",this._onTouchMove);De(document,"touchend",this._onTouchEnd);if(this._map.options.zoomAnimation){this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),true,this._map.options.zoomSnap)}else{this._map._resetView(this._center,this._map._limitZoom(this._zoom))}}});en.addInitHook("addHandler","touchZoom",Qr);en.BoxZoom=Wr;en.DoubleClickZoom=Gr;en.Drag=Kr;en.Keyboard=Yr;en.ScrollWheelZoom=Xr;en.Tap=Jr;en.TouchZoom=Qr;Object.freeze=n;t.version=e;t.Control=rn;t.control=on;t.Browser=Pt;t.Evented=j;t.Mixin=vn;t.Util=A;t.Class=S;t.Handler=pn;t.extend=r;t.bind=o;t.stamp=s;t.setOptions=p;t.DomEvent=Qe;t.DomUtil=je;t.PosAnimation=tn;t.Draggable=_n;t.LineUtil=Mn;t.PolyUtil=Dn;t.Point=M;t.point=D;t.Bounds=R;t.bounds=q;t.Transformation=V;t.transformation=W;t.Projection=Bn;t.LatLng=z;t.latLng=U;t.LatLngBounds=B;t.latLngBounds=F;t.CRS=$;t.GeoJSON=ur;t.geoJSON=gr;t.geoJson=_r;t.Layer=$n;t.LayerGroup=Hn;t.layerGroup=Zn;t.FeatureGroup=Vn;t.featureGroup=Wn;t.ImageOverlay=br;t.imageOverlay=wr;t.VideoOverlay=xr;t.videoOverlay=Er;t.DivOverlay=kr;t.Popup=Or;t.popup=Tr;t.Tooltip=Cr;t.tooltip=Ar;t.Icon=Gn;t.icon=Kn;t.DivIcon=Lr;t.divIcon=Sr;t.Marker=Jn;t.marker=Qn;t.TileLayer=jr;t.tileLayer=Mr;t.GridLayer=Pr;t.gridLayer=Nr;t.SVG=$r;t.svg=Hr;t.Renderer=Rr;t.Canvas=qr;t.canvas=Br;t.Path=tr;t.CircleMarker=er;t.circleMarker=nr;t.Circle=rr;t.circle=ir;t.Polyline=or;t.polyline=ar;t.Polygon=sr;t.polygon=lr;t.Rectangle=Zr;t.rectangle=Vr;t.Map=en;t.map=nn;var ti=window.L;t.noConflict=function(){window.L=ti;return this};window.L=t})},function(t,e,n){"use strict";var r=n(4);var i=n(12);var o=Object.prototype.toString;function a(t){return o.call(t)==="[object Array]"}function s(t){return o.call(t)==="[object ArrayBuffer]"}function l(t){return typeof FormData!=="undefined"&&t instanceof FormData}function u(t){var e;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView){e=ArrayBuffer.isView(t)}else{e=t&&t.buffer&&t.buffer instanceof ArrayBuffer}return e}function c(t){return typeof t==="string"}function f(t){return typeof t==="number"}function h(t){return typeof t==="undefined"}function d(t){return t!==null&&typeof t==="object"}function p(t){return o.call(t)==="[object Date]"}function v(t){return o.call(t)==="[object File]"}function m(t){return o.call(t)==="[object Blob]"}function y(t){return o.call(t)==="[object Function]"}function g(t){return d(t)&&y(t.pipe)}function _(t){return typeof URLSearchParams!=="undefined"&&t instanceof URLSearchParams}function b(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function w(){if(typeof navigator!=="undefined"&&navigator.product==="ReactNative"){return false}return typeof window!=="undefined"&&typeof document!=="undefined"}function x(t,e){if(t===null||typeof t==="undefined"){return}if(typeof t!=="object"){t=[t]}if(a(t)){for(var n=0,r=t.length;n<r;n++){e.call(null,t[n],n,t)}}else{for(var i in t){if(Object.prototype.hasOwnProperty.call(t,i)){e.call(null,t[i],i,t)}}}}function E(){var t={};function e(e,n){if(typeof t[n]==="object"&&typeof e==="object"){t[n]=E(t[n],e)}else{t[n]=e}}for(var n=0,r=arguments.length;n<r;n++){x(arguments[n],e)}return t}function k(t,e,n){x(e,function e(i,o){if(n&&typeof i==="function"){t[o]=r(i,n)}else{t[o]=i}});return t}t.exports={isArray:a,isArrayBuffer:s,isBuffer:i,isFormData:l,isArrayBufferView:u,isString:c,isNumber:f,isObject:d,isUndefined:h,isDate:p,isFile:v,isBlob:m,isFunction:y,isStream:g,isURLSearchParams:_,isStandardBrowserEnv:w,forEach:x,merge:E,extend:k,trim:b}},function(t,e,n){t.exports=n(11)},function(t,e,n){"use strict";(function(e){var r=n(1);var i=n(15);var o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){if(!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])){t["Content-Type"]=e}}function s(){var t;if(typeof XMLHttpRequest!=="undefined"){t=n(5)}else if(typeof e!=="undefined"){t=n(5)}return t}var l={adapter:s(),transformRequest:[function t(e,n){i(n,"Content-Type");if(r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)){return e}if(r.isArrayBufferView(e)){return e.buffer}if(r.isURLSearchParams(e)){a(n,"application/x-www-form-urlencoded;charset=utf-8");return e.toString()}if(r.isObject(e)){a(n,"application/json;charset=utf-8");return JSON.stringify(e)}return e}],transformResponse:[function t(e){if(typeof e==="string"){try{e=JSON.parse(e)}catch(t){}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function t(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}};r.forEach(["delete","get","head"],function t(e){l.headers[e]={}});r.forEach(["post","put","patch"],function t(e){l.headers[e]=r.merge(o)});t.exports=l}).call(this,n(14))},function(t,e,n){"use strict";t.exports=function t(e,n){return function t(){var r=new Array(arguments.length);for(var i=0;i<r.length;i++){r[i]=arguments[i]}return e.apply(n,r)}}},function(t,e,n){"use strict";var r=n(1);var i=n(16);var o=n(18);var a=n(19);var s=n(20);var l=n(6);var u=typeof window!=="undefined"&&window.btoa&&window.btoa.bind(window)||n(21);t.exports=function t(e){return new Promise(function t(c,f){var h=e.data;var d=e.headers;if(r.isFormData(h)){delete d["Content-Type"]}var p=new XMLHttpRequest;var v="onreadystatechange";var m=false;if(true&&typeof window!=="undefined"&&window.XDomainRequest&&!("withCredentials"in p)&&!s(e.url)){p=new window.XDomainRequest;v="onload";m=true;p.onprogress=function t(){};p.ontimeout=function t(){}}if(e.auth){var y=e.auth.username||"";var g=e.auth.password||"";d.Authorization="Basic "+u(y+":"+g)}p.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),true);p.timeout=e.timeout;p[v]=function t(){if(!p||p.readyState!==4&&!m){return}if(p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)){return}var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null;var r=!e.responseType||e.responseType==="text"?p.responseText:p.response;var o={data:r,status:p.status===1223?204:p.status,statusText:p.status===1223?"No Content":p.statusText,headers:n,config:e,request:p};i(c,f,o);p=null};p.onerror=function t(){f(l("Network Error",e,null,p));p=null};p.ontimeout=function t(){f(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p));p=null};if(r.isStandardBrowserEnv()){var _=n(22);var b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?_.read(e.xsrfCookieName):undefined;if(b){d[e.xsrfHeaderName]=b}}if("setRequestHeader"in p){r.forEach(d,function t(e,n){if(typeof h==="undefined"&&n.toLowerCase()==="content-type"){delete d[n]}else{p.setRequestHeader(n,e)}})}if(e.withCredentials){p.withCredentials=true}if(e.responseType){try{p.responseType=e.responseType}catch(t){if(e.responseType!=="json"){throw t}}}if(typeof e.onDownloadProgress==="function"){p.addEventListener("progress",e.onDownloadProgress)}if(typeof e.onUploadProgress==="function"&&p.upload){p.upload.addEventListener("progress",e.onUploadProgress)}if(e.cancelToken){e.cancelToken.promise.then(function t(e){if(!p){return}p.abort();f(e);p=null})}if(h===undefined){h=null}p.send(h)})}},function(t,e,n){"use strict";var r=n(17);t.exports=function t(e,n,i,o,a){var s=new Error(e);return r(s,n,i,o,a)}},function(t,e,n){"use strict";t.exports=function t(e){return!!(e&&e.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function t(){return"Cancel"+(this.message?": "+this.message:"")};r.prototype.__CANCEL__=true;t.exports=r},function(t,e,n){"use strict";var r,i,o;function a(t){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){a=function t(e){return typeof e}}else{a=function t(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return a(t)}(function(a,s){if(true){!(i=[n(0)],r=a,o=typeof r==="function"?r.apply(e,i):r,o!==undefined&&(t.exports=o))}else{}if(typeof s!=="undefined"&&s.L){a(s.L)}})(function(t){t.Editable=t.Evented.extend({statics:{FORWARD:1,BACKWARD:-1},options:{zIndex:1e3,polygonClass:t.Polygon,polylineClass:t.Polyline,markerClass:t.Marker,rectangleClass:t.Rectangle,circleClass:t.Circle,drawingCSSClass:"leaflet-editable-drawing",drawingCursor:"crosshair",editLayer:undefined,featuresLayer:undefined,polylineEditorClass:undefined,polygonEditorClass:undefined,markerEditorClass:undefined,rectangleEditorClass:undefined,circleEditorClass:undefined,lineGuideOptions:{},skipMiddleMarkers:false},initialize:function e(n,r){t.setOptions(this,r);this._lastZIndex=this.options.zIndex;this.map=n;this.editLayer=this.createEditLayer();this.featuresLayer=this.createFeaturesLayer();this.forwardLineGuide=this.createLineGuide();this.backwardLineGuide=this.createLineGuide()},fireAndForward:function t(e,n){n=n||{};n.editTools=this;this.fire(e,n);this.map.fire(e,n)},createLineGuide:function e(){var n=t.extend({dashArray:"5,10",weight:1,interactive:false},this.options.lineGuideOptions);return t.polyline([],n)},createVertexIcon:function e(n){return t.Browser.mobile&&t.Browser.touch?new t.Editable.TouchVertexIcon(n):new t.Editable.VertexIcon(n)},createEditLayer:function e(){return this.options.editLayer||(new t.LayerGroup).addTo(this.map)},createFeaturesLayer:function e(){return this.options.featuresLayer||(new t.LayerGroup).addTo(this.map)},moveForwardLineGuide:function t(e){if(this.forwardLineGuide._latlngs.length){this.forwardLineGuide._latlngs[1]=e;this.forwardLineGuide._bounds.extend(e);this.forwardLineGuide.redraw()}},moveBackwardLineGuide:function t(e){if(this.backwardLineGuide._latlngs.length){this.backwardLineGuide._latlngs[1]=e;this.backwardLineGuide._bounds.extend(e);this.backwardLineGuide.redraw()}},anchorForwardLineGuide:function t(e){this.forwardLineGuide._latlngs[0]=e;this.forwardLineGuide._bounds.extend(e);this.forwardLineGuide.redraw()},anchorBackwardLineGuide:function t(e){this.backwardLineGuide._latlngs[0]=e;this.backwardLineGuide._bounds.extend(e);this.backwardLineGuide.redraw()},attachForwardLineGuide:function t(){this.editLayer.addLayer(this.forwardLineGuide)},attachBackwardLineGuide:function t(){this.editLayer.addLayer(this.backwardLineGuide)},detachForwardLineGuide:function t(){this.forwardLineGuide.setLatLngs([]);this.editLayer.removeLayer(this.forwardLineGuide)},detachBackwardLineGuide:function t(){this.backwardLineGuide.setLatLngs([]);this.editLayer.removeLayer(this.backwardLineGuide)},blockEvents:function t(){if(!this._oldTargets){this._oldTargets=this.map._targets;this.map._targets={}}},unblockEvents:function e(){if(this._oldTargets){this.map._targets=t.extend(this.map._targets,this._oldTargets);delete this._oldTargets}},registerForDrawing:function e(n){if(this._drawingEditor)this.unregisterForDrawing(this._drawingEditor);this.blockEvents();n.reset();this._drawingEditor=n;this.map.on("mousemove touchmove",n.onDrawingMouseMove,n);this.map.on("mousedown",this.onMousedown,this);this.map.on("mouseup",this.onMouseup,this);t.DomUtil.addClass(this.map._container,this.options.drawingCSSClass);this.defaultMapCursor=this.map._container.style.cursor;this.map._container.style.cursor=this.options.drawingCursor},unregisterForDrawing:function e(n){this.unblockEvents();t.DomUtil.removeClass(this.map._container,this.options.drawingCSSClass);this.map._container.style.cursor=this.defaultMapCursor;n=n||this._drawingEditor;if(!n)return;this.map.off("mousemove touchmove",n.onDrawingMouseMove,n);this.map.off("mousedown",this.onMousedown,this);this.map.off("mouseup",this.onMouseup,this);if(n!==this._drawingEditor)return;delete this._drawingEditor;if(n._drawing)n.cancelDrawing()},onMousedown:function t(e){this._mouseDown=e;this._drawingEditor.onDrawingMouseDown(e)},onMouseup:function e(n){if(this._mouseDown){var r=this._drawingEditor,i=this._mouseDown;this._mouseDown=null;r.onDrawingMouseUp(n);if(this._drawingEditor!==r)return;var o=t.point(i.originalEvent.clientX,i.originalEvent.clientY);var a=t.point(n.originalEvent.clientX,n.originalEvent.clientY).distanceTo(o);if(Math.abs(a)<9*(window.devicePixelRatio||1))this._drawingEditor.onDrawingClick(n)}},drawing:function t(){return this._drawingEditor&&this._drawingEditor.drawing()},stopDrawing:function t(){this.unregisterForDrawing()},commitDrawing:function t(e){if(!this._drawingEditor)return;this._drawingEditor.commitDrawing(e)},connectCreatedToMap:function t(e){return this.featuresLayer.addLayer(e)},startPolyline:function t(e,n){var r=this.createPolyline([],n);r.enableEdit(this.map).newShape(e);return r},startPolygon:function t(e,n){var r=this.createPolygon([],n);r.enableEdit(this.map).newShape(e);return r},startMarker:function t(e,n){e=e||this.map.getCenter().clone();var r=this.createMarker(e,n);r.enableEdit(this.map).startDrawing();return r},startRectangle:function e(n,r){var i=n||t.latLng([0,0]);var o=new t.LatLngBounds(i,i);var a=this.createRectangle(o,r);a.enableEdit(this.map).startDrawing();return a},startCircle:function t(e,n){e=e||this.map.getCenter().clone();var r=this.createCircle(e,n);r.enableEdit(this.map).startDrawing();return r},startHole:function t(e,n){e.newHole(n)},createLayer:function e(n,r,i){i=t.Util.extend({editOptions:{editTools:this}},i);var o=new n(r,i);this.fireAndForward("editable:created",{layer:o});return o},createPolyline:function t(e,n){return this.createLayer(n&&n.polylineClass||this.options.polylineClass,e,n)},createPolygon:function t(e,n){return this.createLayer(n&&n.polygonClass||this.options.polygonClass,e,n)},createMarker:function t(e,n){return this.createLayer(n&&n.markerClass||this.options.markerClass,e,n)},createRectangle:function t(e,n){return this.createLayer(n&&n.rectangleClass||this.options.rectangleClass,e,n)},createCircle:function t(e,n){return this.createLayer(n&&n.circleClass||this.options.circleClass,e,n)}});t.extend(t.Editable,{makeCancellable:function t(e){e.cancel=function(){e._cancelled=true}}});t.Map.mergeOptions({editToolsClass:t.Editable,editable:false,editOptions:{}});t.Map.addInitHook(function(){this.whenReady(function(){if(this.options.editable){this.editTools=new this.options.editToolsClass(this,this.options.editOptions)}})});t.Editable.VertexIcon=t.DivIcon.extend({options:{iconSize:new t.Point(8,8)}});t.Editable.TouchVertexIcon=t.Editable.VertexIcon.extend({options:{iconSize:new t.Point(20,20)}});t.Editable.VertexMarker=t.Marker.extend({options:{draggable:true,className:"leaflet-div-icon leaflet-vertex-icon"},initialize:function e(n,r,i,o){this.latlng=n;this.latlngs=r;this.editor=i;t.Marker.prototype.initialize.call(this,n,o);this.options.icon=this.editor.tools.createVertexIcon({className:this.options.className});this.latlng.__vertex=this;this.editor.editLayer.addLayer(this);this.setZIndexOffset(i.tools._lastZIndex+1)},onAdd:function e(n){t.Marker.prototype.onAdd.call(this,n);this.on("drag",this.onDrag);this.on("dragstart",this.onDragStart);this.on("dragend",this.onDragEnd);this.on("mouseup",this.onMouseup);this.on("click",this.onClick);this.on("contextmenu",this.onContextMenu);this.on("mousedown touchstart",this.onMouseDown);this.addMiddleMarkers()},onRemove:function e(n){if(this.middleMarker)this.middleMarker.delete();delete this.latlng.__vertex;this.off("drag",this.onDrag);this.off("dragstart",this.onDragStart);this.off("dragend",this.onDragEnd);this.off("mouseup",this.onMouseup);this.off("click",this.onClick);this.off("contextmenu",this.onContextMenu);this.off("mousedown touchstart",this.onMouseDown);t.Marker.prototype.onRemove.call(this,n)},onDrag:function e(n){n.vertex=this;this.editor.onVertexMarkerDrag(n);var r=t.DomUtil.getPosition(this._icon),i=this._map.layerPointToLatLng(r);this.latlng.update(i);this._latlng=this.latlng;this.editor.refresh();if(this.middleMarker)this.middleMarker.updateLatLng();var o=this.getNext();if(o&&o.middleMarker)o.middleMarker.updateLatLng()},onDragStart:function t(e){e.vertex=this;this.editor.onVertexMarkerDragStart(e)},onDragEnd:function t(e){e.vertex=this;this.editor.onVertexMarkerDragEnd(e)},onClick:function t(e){e.vertex=this;this.editor.onVertexMarkerClick(e)},onMouseup:function e(n){t.DomEvent.stop(n);n.vertex=this;this.editor.map.fire("mouseup",n)},onContextMenu:function t(e){e.vertex=this;this.editor.onVertexMarkerContextMenu(e)},onMouseDown:function t(e){e.vertex=this;this.editor.onVertexMarkerMouseDown(e)},delete:function t(){var e=this.getNext();this.latlngs.splice(this.getIndex(),1);this.editor.editLayer.removeLayer(this);this.editor.onVertexDeleted({latlng:this.latlng,vertex:this});if(!this.latlngs.length)this.editor.deleteShape(this.latlngs);if(e)e.resetMiddleMarker();this.editor.refresh()},getIndex:function t(){return this.latlngs.indexOf(this.latlng)},getLastIndex:function t(){return this.latlngs.length-1},getPrevious:function t(){if(this.latlngs.length<2)return;var e=this.getIndex(),n=e-1;if(e===0&&this.editor.CLOSED)n=this.getLastIndex();var r=this.latlngs[n];if(r)return r.__vertex},getNext:function t(){if(this.latlngs.length<2)return;var e=this.getIndex(),n=e+1;if(e===this.getLastIndex()&&this.editor.CLOSED)n=0;var r=this.latlngs[n];if(r)return r.__vertex},addMiddleMarker:function t(e){if(!this.editor.hasMiddleMarkers())return;e=e||this.getPrevious();if(e&&!this.middleMarker)this.middleMarker=this.editor.addMiddleMarker(e,this,this.latlngs,this.editor)},addMiddleMarkers:function t(){if(!this.editor.hasMiddleMarkers())return;var e=this.getPrevious();if(e)this.addMiddleMarker(e);var n=this.getNext();if(n)n.resetMiddleMarker()},resetMiddleMarker:function t(){if(this.middleMarker)this.middleMarker.delete();this.addMiddleMarker()},split:function t(){if(!this.editor.splitShape)return;this.editor.splitShape(this.latlngs,this.getIndex())},continue:function t(){if(!this.editor.continueBackward)return;var e=this.getIndex();if(e===0)this.editor.continueBackward(this.latlngs);else if(e===this.getLastIndex())this.editor.continueForward(this.latlngs)}});t.Editable.mergeOptions({vertexMarkerClass:t.Editable.VertexMarker});t.Editable.MiddleMarker=t.Marker.extend({options:{opacity:.5,className:"leaflet-div-icon leaflet-middle-icon",draggable:true},initialize:function e(n,r,i,o,a){this.left=n;this.right=r;this.editor=o;this.latlngs=i;t.Marker.prototype.initialize.call(this,this.computeLatLng(),a);this._opacity=this.options.opacity;this.options.icon=this.editor.tools.createVertexIcon({className:this.options.className});this.editor.editLayer.addLayer(this);this.setVisibility()},setVisibility:function e(){var n=this._map.latLngToContainerPoint(this.left.latlng),r=this._map.latLngToContainerPoint(this.right.latlng),i=t.point(this.options.icon.options.iconSize);if(n.distanceTo(r)<i.x*3)this.hide();else this.show()},show:function t(){this.setOpacity(this._opacity)},hide:function t(){this.setOpacity(0)},updateLatLng:function t(){this.setLatLng(this.computeLatLng());this.setVisibility()},computeLatLng:function t(){var e=this.editor.map.latLngToContainerPoint(this.left.latlng),n=this.editor.map.latLngToContainerPoint(this.right.latlng),r=(e.y+n.y)/2,i=(e.x+n.x)/2;return this.editor.map.containerPointToLatLng([i,r])},onAdd:function e(n){t.Marker.prototype.onAdd.call(this,n);t.DomEvent.on(this._icon,"mousedown touchstart",this.onMouseDown,this);n.on("zoomend",this.setVisibility,this)},onRemove:function e(n){delete this.right.middleMarker;t.DomEvent.off(this._icon,"mousedown touchstart",this.onMouseDown,this);n.off("zoomend",this.setVisibility,this);t.Marker.prototype.onRemove.call(this,n)},onMouseDown:function e(n){var r=t.DomUtil.getPosition(this._icon),i=this.editor.map.layerPointToLatLng(r);n={originalEvent:n,latlng:i};if(this.options.opacity===0)return;t.Editable.makeCancellable(n);this.editor.onMiddleMarkerMouseDown(n);if(n._cancelled)return;this.latlngs.splice(this.index(),0,n.latlng);this.editor.refresh();var o=this._icon;var a=this.editor.addVertexMarker(n.latlng,this.latlngs);this.editor.onNewVertex(a);var s=a._icon.parentNode;s.removeChild(a._icon);a._icon=o;s.appendChild(a._icon);a._initIcon();a._initInteraction();a.setOpacity(1);t.Draggable._dragging=false;a.dragging._draggable._onDown(n.originalEvent);this.delete()},delete:function t(){this.editor.editLayer.removeLayer(this)},index:function t(){return this.latlngs.indexOf(this.right.latlng)}});t.Editable.mergeOptions({middleMarkerClass:t.Editable.MiddleMarker});t.Editable.BaseEditor=t.Handler.extend({initialize:function e(n,r,i){t.setOptions(this,i);this.map=n;this.feature=r;this.feature.editor=this;this.editLayer=new t.LayerGroup;this.tools=this.options.editTools||n.editTools},addHooks:function t(){if(this.isConnected())this.onFeatureAdd();else this.feature.once("add",this.onFeatureAdd,this);this.onEnable();this.feature.on(this._getEvents(),this)},removeHooks:function t(){this.feature.off(this._getEvents(),this);if(this.feature.dragging)this.feature.dragging.disable();this.editLayer.clearLayers();this.tools.editLayer.removeLayer(this.editLayer);this.onDisable();if(this._drawing)this.cancelDrawing()},drawing:function t(){return!!this._drawing},reset:function t(){},onFeatureAdd:function t(){this.tools.editLayer.addLayer(this.editLayer);if(this.feature.dragging)this.feature.dragging.enable()},hasMiddleMarkers:function t(){return!this.options.skipMiddleMarkers&&!this.tools.options.skipMiddleMarkers},fireAndForward:function t(e,n){n=n||{};n.layer=this.feature;this.feature.fire(e,n);this.tools.fireAndForward(e,n)},onEnable:function t(){this.fireAndForward("editable:enable")},onDisable:function t(){this.fireAndForward("editable:disable")},onEditing:function t(){this.fireAndForward("editable:editing")},onStartDrawing:function t(){this.fireAndForward("editable:drawing:start")},onEndDrawing:function t(){this.fireAndForward("editable:drawing:end")},onCancelDrawing:function t(){this.fireAndForward("editable:drawing:cancel")},onCommitDrawing:function t(e){this.fireAndForward("editable:drawing:commit",e)},onDrawingMouseDown:function t(e){this.fireAndForward("editable:drawing:mousedown",e)},onDrawingMouseUp:function t(e){this.fireAndForward("editable:drawing:mouseup",e)},startDrawing:function e(){if(!this._drawing)this._drawing=t.Editable.FORWARD;this.tools.registerForDrawing(this);this.onStartDrawing()},commitDrawing:function t(e){this.onCommitDrawing(e);this.endDrawing()},cancelDrawing:function e(){t.Draggable._dragging=false;this.onCancelDrawing();this.endDrawing()},endDrawing:function t(){this._drawing=false;this.tools.unregisterForDrawing(this);this.onEndDrawing()},onDrawingClick:function e(n){if(!this.drawing())return;t.Editable.makeCancellable(n);this.fireAndForward("editable:drawing:click",n);if(n._cancelled)return;if(!this.isConnected())this.connect(n);this.processDrawingClick(n)},isConnected:function t(){return this.map.hasLayer(this.feature)},connect:function t(){this.tools.connectCreatedToMap(this.feature);this.tools.editLayer.addLayer(this.editLayer)},onMove:function t(e){this.fireAndForward("editable:drawing:move",e)},onDrawingMouseMove:function t(e){this.onMove(e)},_getEvents:function t(){return{dragstart:this.onDragStart,drag:this.onDrag,dragend:this.onDragEnd,remove:this.disable}},onDragStart:function t(e){this.onEditing();this.fireAndForward("editable:dragstart",e)},onDrag:function t(e){this.onMove(e);this.fireAndForward("editable:drag",e)},onDragEnd:function t(e){this.fireAndForward("editable:dragend",e)}});t.Editable.MarkerEditor=t.Editable.BaseEditor.extend({onDrawingMouseMove:function e(n){t.Editable.BaseEditor.prototype.onDrawingMouseMove.call(this,n);if(this._drawing)this.feature.setLatLng(n.latlng)},processDrawingClick:function t(e){this.fireAndForward("editable:drawing:clicked",e);this.commitDrawing(e)},connect:function e(n){if(n)this.feature._latlng=n.latlng;t.Editable.BaseEditor.prototype.connect.call(this,n)}});t.Editable.PathEditor=t.Editable.BaseEditor.extend({CLOSED:false,MIN_VERTEX:2,addHooks:function e(){t.Editable.BaseEditor.prototype.addHooks.call(this);if(this.feature)this.initVertexMarkers();return this},initVertexMarkers:function t(e){if(!this.enabled())return;e=e||this.getLatLngs();if(l(e))this.addVertexMarkers(e);else for(var n=0;n<e.length;n++){this.initVertexMarkers(e[n])}},getLatLngs:function t(){return this.feature.getLatLngs()},reset:function t(){this.editLayer.clearLayers();this.initVertexMarkers()},addVertexMarker:function t(e,n){return new this.tools.options.vertexMarkerClass(e,n,this)},onNewVertex:function t(e){this.fireAndForward("editable:vertex:new",{latlng:e.latlng,vertex:e})},addVertexMarkers:function t(e){for(var n=0;n<e.length;n++){this.addVertexMarker(e[n],e)}},refreshVertexMarkers:function t(e){e=e||this.getDefaultLatLngs();for(var n=0;n<e.length;n++){e[n].__vertex.update()}},addMiddleMarker:function t(e,n,r){return new this.tools.options.middleMarkerClass(e,n,r,this)},onVertexMarkerClick:function e(n){t.Editable.makeCancellable(n);this.fireAndForward("editable:vertex:click",n);if(n._cancelled)return;if(this.tools.drawing()&&this.tools._drawingEditor!==this)return;var r=n.vertex.getIndex(),i;if(n.originalEvent.ctrlKey){this.onVertexMarkerCtrlClick(n)}else if(n.originalEvent.altKey){this.onVertexMarkerAltClick(n)}else if(n.originalEvent.shiftKey){this.onVertexMarkerShiftClick(n)}else if(n.originalEvent.metaKey){this.onVertexMarkerMetaKeyClick(n)}else if(r===n.vertex.getLastIndex()&&this._drawing===t.Editable.FORWARD){if(r>=this.MIN_VERTEX-1)i=true}else if(r===0&&this._drawing===t.Editable.BACKWARD&&this._drawnLatLngs.length>=this.MIN_VERTEX){i=true}else if(r===0&&this._drawing===t.Editable.FORWARD&&this._drawnLatLngs.length>=this.MIN_VERTEX&&this.CLOSED){i=true}else{this.onVertexRawMarkerClick(n)}this.fireAndForward("editable:vertex:clicked",n);if(i)this.commitDrawing(n)},onVertexRawMarkerClick:function t(e){this.fireAndForward("editable:vertex:rawclick",e);if(e._cancelled)return;if(!this.vertexCanBeDeleted(e.vertex))return;e.vertex.delete()},vertexCanBeDeleted:function t(e){return e.latlngs.length>this.MIN_VERTEX},onVertexDeleted:function t(e){this.fireAndForward("editable:vertex:deleted",e)},onVertexMarkerCtrlClick:function t(e){this.fireAndForward("editable:vertex:ctrlclick",e)},onVertexMarkerShiftClick:function t(e){this.fireAndForward("editable:vertex:shiftclick",e)},onVertexMarkerMetaKeyClick:function t(e){this.fireAndForward("editable:vertex:metakeyclick",e)},onVertexMarkerAltClick:function t(e){this.fireAndForward("editable:vertex:altclick",e)},onVertexMarkerContextMenu:function t(e){this.fireAndForward("editable:vertex:contextmenu",e)},onVertexMarkerMouseDown:function t(e){this.fireAndForward("editable:vertex:mousedown",e)},onMiddleMarkerMouseDown:function t(e){this.fireAndForward("editable:middlemarker:mousedown",e)},onVertexMarkerDrag:function t(e){this.onMove(e);if(this.feature._bounds)this.extendBounds(e);this.fireAndForward("editable:vertex:drag",e)},onVertexMarkerDragStart:function t(e){this.fireAndForward("editable:vertex:dragstart",e)},onVertexMarkerDragEnd:function t(e){this.fireAndForward("editable:vertex:dragend",e)},setDrawnLatLngs:function t(e){this._drawnLatLngs=e||this.getDefaultLatLngs()},startDrawing:function e(){if(!this._drawnLatLngs)this.setDrawnLatLngs();t.Editable.BaseEditor.prototype.startDrawing.call(this)},startDrawingForward:function t(){this.startDrawing()},endDrawing:function e(){this.tools.detachForwardLineGuide();this.tools.detachBackwardLineGuide();if(this._drawnLatLngs&&this._drawnLatLngs.length<this.MIN_VERTEX)this.deleteShape(this._drawnLatLngs);t.Editable.BaseEditor.prototype.endDrawing.call(this);delete this._drawnLatLngs},addLatLng:function e(n){if(this._drawing===t.Editable.FORWARD)this._drawnLatLngs.push(n);else this._drawnLatLngs.unshift(n);this.feature._bounds.extend(n);var r=this.addVertexMarker(n,this._drawnLatLngs);this.onNewVertex(r);this.refresh()},newPointForward:function t(e){this.addLatLng(e);this.tools.attachForwardLineGuide();this.tools.anchorForwardLineGuide(e)},newPointBackward:function t(e){this.addLatLng(e);this.tools.anchorBackwardLineGuide(e)},push:function e(n){if(!n)return console.error("L.Editable.PathEditor.push expect a valid latlng as parameter");if(this._drawing===t.Editable.FORWARD)this.newPointForward(n);else this.newPointBackward(n)},removeLatLng:function t(e){e.__vertex.delete();this.refresh()},pop:function e(){if(this._drawnLatLngs.length<=1)return;var n;if(this._drawing===t.Editable.FORWARD)n=this._drawnLatLngs[this._drawnLatLngs.length-1];else n=this._drawnLatLngs[0];this.removeLatLng(n);if(this._drawing===t.Editable.FORWARD)this.tools.anchorForwardLineGuide(this._drawnLatLngs[this._drawnLatLngs.length-1]);else this.tools.anchorForwardLineGuide(this._drawnLatLngs[0]);return n},processDrawingClick:function e(n){if(n.vertex&&n.vertex.editor===this)return;if(this._drawing===t.Editable.FORWARD)this.newPointForward(n.latlng);else this.newPointBackward(n.latlng);this.fireAndForward("editable:drawing:clicked",n)},onDrawingMouseMove:function e(n){t.Editable.BaseEditor.prototype.onDrawingMouseMove.call(this,n);if(this._drawing){this.tools.moveForwardLineGuide(n.latlng);this.tools.moveBackwardLineGuide(n.latlng)}},refresh:function t(){this.feature.redraw();this.onEditing()},newShape:function t(e){var n=this.addNewEmptyShape();if(!n)return;this.setDrawnLatLngs(n[0]||n);this.startDrawingForward();this.fireAndForward("editable:shape:new",{shape:n});if(e)this.newPointForward(e)},deleteShape:function e(n,r){var i={shape:n};t.Editable.makeCancellable(i);this.fireAndForward("editable:shape:delete",i);if(i._cancelled)return;n=this._deleteShape(n,r);if(this.ensureNotFlat)this.ensureNotFlat();this.feature.setLatLngs(this.getLatLngs());this.refresh();this.reset();this.fireAndForward("editable:shape:deleted",{shape:n});return n},_deleteShape:function t(e,n){n=n||this.getLatLngs();if(!n.length)return;var r=this,i=function t(e,n){n=e.splice(0,Number.MAX_VALUE);return n},o=function t(e,n){e.splice(e.indexOf(n),1);if(!e.length)r._deleteShape(e);return n};if(n===e)return i(n,e);for(var a=0;a<n.length;a++){if(n[a]===e)return o(n,e);else if(n[a].indexOf(e)!==-1)return o(n[a],e)}},deleteShapeAt:function t(e){var n=this.feature.shapeAt(e);if(n)return this.deleteShape(n)},appendShape:function t(e){this.insertShape(e)},prependShape:function t(e){this.insertShape(e,0)},insertShape:function t(e,n){this.ensureMulti();e=this.formatShape(e);if(typeof n==="undefined")n=this.feature._latlngs.length;this.feature._latlngs.splice(n,0,e);this.feature.redraw();if(this._enabled)this.reset()},extendBounds:function t(e){this.feature._bounds.extend(e.vertex.latlng)},onDragStart:function e(n){this.editLayer.clearLayers();t.Editable.BaseEditor.prototype.onDragStart.call(this,n)},onDragEnd:function e(n){this.initVertexMarkers();t.Editable.BaseEditor.prototype.onDragEnd.call(this,n)}});t.Editable.PolylineEditor=t.Editable.PathEditor.extend({startDrawingBackward:function e(){this._drawing=t.Editable.BACKWARD;this.startDrawing()},continueBackward:function t(e){if(this.drawing())return;e=e||this.getDefaultLatLngs();this.setDrawnLatLngs(e);if(e.length>0){this.tools.attachBackwardLineGuide();this.tools.anchorBackwardLineGuide(e[0])}this.startDrawingBackward()},continueForward:function t(e){if(this.drawing())return;e=e||this.getDefaultLatLngs();this.setDrawnLatLngs(e);if(e.length>0){this.tools.attachForwardLineGuide();this.tools.anchorForwardLineGuide(e[e.length-1])}this.startDrawingForward()},getDefaultLatLngs:function e(n){n=n||this.feature._latlngs;if(!n.length||n[0]instanceof t.LatLng)return n;else return this.getDefaultLatLngs(n[0])},ensureMulti:function t(){if(this.feature._latlngs.length&&l(this.feature._latlngs)){this.feature._latlngs=[this.feature._latlngs]}},addNewEmptyShape:function t(){if(this.feature._latlngs.length){var e=[];this.appendShape(e);return e}else{return this.feature._latlngs}},formatShape:function t(e){if(l(e))return e;else if(e[0])return this.formatShape(e[0])},splitShape:function e(n,r){if(!r||r>=n.length-1)return;this.ensureMulti();var i=this.feature._latlngs.indexOf(n);if(i===-1)return;var o=n.slice(0,r+1),a=n.slice(r);a[0]=t.latLng(a[0].lat,a[0].lng,a[0].alt);this.feature._latlngs.splice(i,1,o,a);this.refresh();this.reset()}});t.Editable.PolygonEditor=t.Editable.PathEditor.extend({CLOSED:true,MIN_VERTEX:3,newPointForward:function e(n){t.Editable.PathEditor.prototype.newPointForward.call(this,n);if(!this.tools.backwardLineGuide._latlngs.length)this.tools.anchorBackwardLineGuide(n);if(this._drawnLatLngs.length===2)this.tools.attachBackwardLineGuide()},addNewEmptyHole:function t(e){this.ensureNotFlat();var n=this.feature.shapeAt(e);if(!n)return;var r=[];n.push(r);return r},newHole:function t(e){var n=this.addNewEmptyHole(e);if(!n)return;this.setDrawnLatLngs(n);this.startDrawingForward();if(e)this.newPointForward(e)},addNewEmptyShape:function t(){if(this.feature._latlngs.length&&this.feature._latlngs[0].length){var e=[];this.appendShape(e);return e}else{return this.feature._latlngs}},ensureMulti:function t(){if(this.feature._latlngs.length&&l(this.feature._latlngs[0])){this.feature._latlngs=[this.feature._latlngs]}},ensureNotFlat:function t(){if(!this.feature._latlngs.length||l(this.feature._latlngs))this.feature._latlngs=[this.feature._latlngs]},vertexCanBeDeleted:function e(n){var r=this.feature.parentShape(n.latlngs),i=t.Util.indexOf(r,n.latlngs);if(i>0)return true;return t.Editable.PathEditor.prototype.vertexCanBeDeleted.call(this,n)},getDefaultLatLngs:function t(){if(!this.feature._latlngs.length)this.feature._latlngs.push([]);return this.feature._latlngs[0]},formatShape:function t(e){if(l(e)&&(!e[0]||e[0].length!==0))return[e];else return e}});t.Editable.RectangleEditor=t.Editable.PathEditor.extend({CLOSED:true,MIN_VERTEX:4,options:{skipMiddleMarkers:true},extendBounds:function e(n){var r=n.vertex.getIndex(),i=n.vertex.getNext(),o=n.vertex.getPrevious(),a=(r+2)%4,s=n.vertex.latlngs[a],l=new t.LatLngBounds(n.latlng,s);o.latlng.update([n.latlng.lat,s.lng]);i.latlng.update([s.lat,n.latlng.lng]);this.updateBounds(l);this.refreshVertexMarkers()},onDrawingMouseDown:function e(n){t.Editable.PathEditor.prototype.onDrawingMouseDown.call(this,n);this.connect();var r=this.getDefaultLatLngs();if(r.length===3)r.push(n.latlng);var i=new t.LatLngBounds(n.latlng,n.latlng);this.updateBounds(i);this.updateLatLngs(i);this.refresh();this.reset();n.originalEvent._simulated=false;this.map.dragging._draggable._onUp(n.originalEvent);r[3].__vertex.dragging._draggable._onDown(n.originalEvent)},onDrawingMouseUp:function e(n){this.commitDrawing(n);n.originalEvent._simulated=false;t.Editable.PathEditor.prototype.onDrawingMouseUp.call(this,n)},onDrawingMouseMove:function e(n){n.originalEvent._simulated=false;t.Editable.PathEditor.prototype.onDrawingMouseMove.call(this,n)},getDefaultLatLngs:function t(e){return e||this.feature._latlngs[0]},updateBounds:function t(e){this.feature._bounds=e},updateLatLngs:function t(e){var n=this.getDefaultLatLngs(),r=this.feature._boundsToLatLngs(e);for(var i=0;i<n.length;i++){n[i].update(r[i])}}});t.Editable.CircleEditor=t.Editable.PathEditor.extend({MIN_VERTEX:2,options:{skipMiddleMarkers:true},initialize:function e(n,r,i){t.Editable.PathEditor.prototype.initialize.call(this,n,r,i);this._resizeLatLng=this.computeResizeLatLng()},computeResizeLatLng:function t(){var e=(this.feature._radius||this.feature._mRadius)*Math.cos(Math.PI/4),n=this.map.project(this.feature._latlng);return this.map.unproject([n.x+e,n.y-e])},updateResizeLatLng:function t(){this._resizeLatLng.update(this.computeResizeLatLng());this._resizeLatLng.__vertex.update()},getLatLngs:function t(){return[this.feature._latlng,this._resizeLatLng]},getDefaultLatLngs:function t(){return this.getLatLngs()},onVertexMarkerDrag:function e(n){if(n.vertex.getIndex()===1)this.resize(n);else this.updateResizeLatLng(n);t.Editable.PathEditor.prototype.onVertexMarkerDrag.call(this,n)},resize:function t(e){var n=this.feature._latlng.distanceTo(e.latlng);this.feature.setRadius(n)},onDrawingMouseDown:function e(n){t.Editable.PathEditor.prototype.onDrawingMouseDown.call(this,n);this._resizeLatLng.update(n.latlng);this.feature._latlng.update(n.latlng);this.connect();n.originalEvent._simulated=false;this.map.dragging._draggable._onUp(n.originalEvent);this._resizeLatLng.__vertex.dragging._draggable._onDown(n.originalEvent)},onDrawingMouseUp:function e(n){this.commitDrawing(n);n.originalEvent._simulated=false;t.Editable.PathEditor.prototype.onDrawingMouseUp.call(this,n)},onDrawingMouseMove:function e(n){n.originalEvent._simulated=false;t.Editable.PathEditor.prototype.onDrawingMouseMove.call(this,n)},onDrag:function e(n){t.Editable.PathEditor.prototype.onDrag.call(this,n);this.feature.dragging.updateLatLng(this._resizeLatLng)}});var e={createEditor:function t(e){e=e||this._map;var n=(this.options.editOptions||{}).editTools||e.editTools;if(!n)throw Error("Unable to detect Editable instance.");var r=this.options.editorClass||this.getEditorClass(n);return new r(e,this,this.options.editOptions)},enableEdit:function t(e){if(!this.editor)this.createEditor(e);this.editor.enable();return this.editor},editEnabled:function t(){return this.editor&&this.editor.enabled()},disableEdit:function t(){if(this.editor){this.editor.disable();delete this.editor}},toggleEdit:function t(){if(this.editEnabled())this.disableEdit();else this.enableEdit()},_onEditableAdd:function t(){if(this.editor)this.enableEdit()}};var n={getEditorClass:function e(n){return n&&n.options.polylineEditorClass?n.options.polylineEditorClass:t.Editable.PolylineEditor},shapeAt:function t(e,n){var r=null;n=n||this._latlngs;if(!n.length)return r;else if(l(n)&&this.isInLatLngs(e,n))r=n;else for(var i=0;i<n.length;i++){if(this.isInLatLngs(e,n[i]))return n[i]}return r},isInLatLngs:function e(n,r){if(!r)return false;var i,o,a,s=[],l,u=this._clickTolerance();this._projectLatlngs(r,s,this._pxBounds);s=s[0];l=this._map.latLngToLayerPoint(n);if(!this._pxBounds.contains(l)){return false}for(i=1,a=s.length,o=0;i<a;o=i++){if(t.LineUtil.pointToSegmentDistance(l,s[o],s[i])<=u){return true}}return false}};var r={getEditorClass:function e(n){return n&&n.options.polygonEditorClass?n.options.polygonEditorClass:t.Editable.PolygonEditor},shapeAt:function t(e,n){var r=null;n=n||this._latlngs;if(!n.length)return r;else if(l(n)&&this.isInLatLngs(e,n))r=n;else if(l(n[0])&&this.isInLatLngs(e,n[0]))r=n;else for(var i=0;i<n.length;i++){if(this.isInLatLngs(e,n[i][0]))return n[i]}return r},isInLatLngs:function t(e,n){var r=false,i,o,a,s,l;for(a=0,l=n.length,s=l-1;a<l;s=a++){i=n[a];o=n[s];if(i.lat>e.lat!==o.lat>e.lat&&e.lng<(o.lng-i.lng)*(e.lat-i.lat)/(o.lat-i.lat)+i.lng){r=!r}}return r},parentShape:function e(n,r){r=r||this._latlngs;if(!r)return;var i=t.Util.indexOf(r,n);if(i!==-1)return r;for(var o=0;o<r.length;o++){i=t.Util.indexOf(r[o],n);if(i!==-1)return r[o]}}};var i={getEditorClass:function e(n){return n&&n.options.markerEditorClass?n.options.markerEditorClass:t.Editable.MarkerEditor}};var o={getEditorClass:function e(n){return n&&n.options.rectangleEditorClass?n.options.rectangleEditorClass:t.Editable.RectangleEditor}};var a={getEditorClass:function e(n){return n&&n.options.circleEditorClass?n.options.circleEditorClass:t.Editable.CircleEditor}};var s=function t(){this.on("add",this._onEditableAdd)};var l=t.LineUtil.isFlat||t.LineUtil._flat||t.Polyline._flat;if(t.Polyline){t.Polyline.include(e);t.Polyline.include(n);t.Polyline.addInitHook(s)}if(t.Polygon){t.Polygon.include(e);t.Polygon.include(r)}if(t.Marker){t.Marker.include(e);t.Marker.include(i);t.Marker.addInitHook(s)}if(t.Rectangle){t.Rectangle.include(e);t.Rectangle.include(o)}if(t.Circle){t.Circle.include(e);t.Circle.include(a)}t.LatLng.prototype.update=function(e){e=t.latLng(e);this.lat=e.lat;this.lng=e.lng}},window)},function(t,e,n){"use strict";L.PathDraggable=L.Draggable.extend({initialize:function t(e){this._path=e;this._canvas=e._map.getRenderer(e)instanceof L.Canvas;var n=this._canvas?this._path._map.getRenderer(this._path)._container:this._path._path;L.Draggable.prototype.initialize.call(this,n,n,true)},_updatePosition:function t(){var e={originalEvent:this._lastEvent};this.fire("drag",e)},_onDown:function t(e){var n=e.touches?e.touches[0]:e;this._startPoint=new L.Point(n.clientX,n.clientY);if(this._canvas&&!this._path._containsPoint(this._path._map.mouseEventToLayerPoint(n))){return}L.Draggable.prototype._onDown.call(this,e)}});L.Handler.PathDrag=L.Handler.extend({initialize:function t(e){this._path=e},getEvents:function t(){return{dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd}},addHooks:function t(){if(!this._draggable){this._draggable=new L.PathDraggable(this._path)}this._draggable.on(this.getEvents(),this).enable();L.DomUtil.addClass(this._draggable._element,"leaflet-path-draggable")},removeHooks:function t(){this._draggable.off(this.getEvents(),this).disable();L.DomUtil.removeClass(this._draggable._element,"leaflet-path-draggable")},moved:function t(){return this._draggable&&this._draggable._moved},_onDragStart:function t(){this._startPoint=this._draggable._startPoint;this._path.closePopup().fire("movestart").fire("dragstart")},_onDrag:function t(e){var n=this._path,r=e.originalEvent.touches&&e.originalEvent.touches.length===1?e.originalEvent.touches[0]:e.originalEvent,i=L.point(r.clientX,r.clientY),o=n._map.layerPointToLatLng(i);this._offset=i.subtract(this._startPoint);this._startPoint=i;this._path.eachLatLng(this.updateLatLng,this);n.redraw();e.latlng=o;e.offset=this._offset;n.fire("drag",e);e.latlng=this._path.getCenter?this._path.getCenter():this._path.getLatLng();n.fire("move",e)},_onDragEnd:function t(e){if(this._path._bounds)this.resetBounds();this._path.fire("moveend").fire("dragend",e)},latLngToLayerPoint:function t(e){var n=this._path._map.project(L.latLng(e));return n._subtract(this._path._map.getPixelOrigin())},updateLatLng:function t(e){var n=this.latLngToLayerPoint(e);n._add(this._offset);var r=this._path._map.layerPointToLatLng(n);e.lat=r.lat;e.lng=r.lng},resetBounds:function t(){this._path._bounds=new L.LatLngBounds;this._path.eachLatLng(function(t){this._bounds.extend(t)})}});L.Path.include({eachLatLng:function t(e,n){n=n||this;var r=function t(r){for(var i=0;i<r.length;i++){if(L.Util.isArray(r[i]))t(r[i]);else e.call(n,r[i])}};r(this.getLatLngs?this.getLatLngs():[this.getLatLng()])}});L.Path.addInitHook(function(){this.dragging=new L.Handler.PathDrag(this);if(this.options.draggable){this.once("add",function(){this.dragging.enable()})}})},function(t,e,n){"use strict";var r=n(1);var i=n(4);var o=n(13);var a=n(3);function s(t){var e=new o(t);var n=i(o.prototype.request,e);r.extend(n,o.prototype,e);r.extend(n,e);return n}var l=s(a);l.Axios=o;l.create=function t(e){return s(r.merge(a,e))};l.Cancel=n(8);l.CancelToken=n(28);l.isCancel=n(7);l.all=function t(e){return Promise.all(e)};l.spread=n(29);t.exports=l;t.exports.default=l},function(t,e){
/*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   */
t.exports=function(t){return t!=null&&(n(t)||r(t)||!!t._isBuffer)};function n(t){return!!t.constructor&&typeof t.constructor.isBuffer==="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE==="function"&&typeof t.slice==="function"&&n(t.slice(0,0))}},function(t,e,n){"use strict";var r=n(3);var i=n(1);var o=n(23);var a=n(24);function s(t){this.defaults=t;this.interceptors={request:new o,response:new o}}s.prototype.request=function t(e){if(typeof e==="string"){e=i.merge({url:arguments[0]},arguments[1])}e=i.merge(r,{method:"get"},this.defaults,e);e.method=e.method.toLowerCase();var n=[a,undefined];var o=Promise.resolve(e);this.interceptors.request.forEach(function t(e){n.unshift(e.fulfilled,e.rejected)});this.interceptors.response.forEach(function t(e){n.push(e.fulfilled,e.rejected)});while(n.length){o=o.then(n.shift(),n.shift())}return o};i.forEach(["delete","get","head","options"],function t(e){s.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}});i.forEach(["post","put","patch"],function t(e){s.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}});t.exports=s},function(t,e){var n=t.exports={};var r;var i;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=o}}catch(t){r=o}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=a}}catch(t){i=a}})();function s(t){if(r===setTimeout){return setTimeout(t,0)}if((r===o||!r)&&setTimeout){r=setTimeout;return setTimeout(t,0)}try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function l(t){if(i===clearTimeout){return clearTimeout(t)}if((i===a||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(t)}try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}var u=[];var c=false;var f;var h=-1;function d(){if(!c||!f){return}c=false;if(f.length){u=f.concat(u)}else{h=-1}if(u.length){p()}}function p(){if(c){return}var t=s(d);c=true;var e=u.length;while(e){f=u;u=[];while(++h<e){if(f){f[h].run()}}h=-1;e=u.length}f=null;c=false;l(t)}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}}u.push(new v(t,e));if(u.length===1&&!c){s(p)}};function v(t,e){this.fun=t;this.array=e}v.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function m(){}n.on=m;n.addListener=m;n.once=m;n.off=m;n.removeListener=m;n.removeAllListeners=m;n.emit=m;n.prependListener=m;n.prependOnceListener=m;n.listeners=function(t){return[]};n.binding=function(t){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(t){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(1);t.exports=function t(e,n){r.forEach(e,function t(r,i){if(i!==n&&i.toUpperCase()===n.toUpperCase()){e[n]=r;delete e[i]}})}},function(t,e,n){"use strict";var r=n(6);t.exports=function t(e,n,i){var o=i.config.validateStatus;if(!i.status||!o||o(i.status)){e(i)}else{n(r("Request failed with status code "+i.status,i.config,null,i.request,i))}}},function(t,e,n){"use strict";t.exports=function t(e,n,r,i,o){e.config=n;if(r){e.code=r}e.request=i;e.response=o;return e}},function(t,e,n){"use strict";var r=n(1);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function t(e,n,o){if(!n){return e}var a;if(o){a=o(n)}else if(r.isURLSearchParams(n)){a=n.toString()}else{var s=[];r.forEach(n,function t(e,n){if(e===null||typeof e==="undefined"){return}if(r.isArray(e)){n=n+"[]"}else{e=[e]}r.forEach(e,function t(e){if(r.isDate(e)){e=e.toISOString()}else if(r.isObject(e)){e=JSON.stringify(e)}s.push(i(n)+"="+i(e))})});a=s.join("&")}if(a){e+=(e.indexOf("?")===-1?"?":"&")+a}return e}},function(t,e,n){"use strict";var r=n(1);var i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function t(e){var n={};var o;var a;var s;if(!e){return n}r.forEach(e.split("\n"),function t(e){s=e.indexOf(":");o=r.trim(e.substr(0,s)).toLowerCase();a=r.trim(e.substr(s+1));if(o){if(n[o]&&i.indexOf(o)>=0){return}if(o==="set-cookie"){n[o]=(n[o]?n[o]:[]).concat([a])}else{n[o]=n[o]?n[o]+", "+a:a}}});return n}},function(t,e,n){"use strict";var r=n(1);t.exports=r.isStandardBrowserEnv()?function t(){var e=/(msie|trident)/i.test(navigator.userAgent);var n=document.createElement("a");var i;function o(t){var r=t;if(e){n.setAttribute("href",r);r=n.href}n.setAttribute("href",r);return{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}i=o(window.location.href);return function t(e){var n=r.isString(e)?o(e):e;return n.protocol===i.protocol&&n.host===i.host}}():function t(){return function t(){return true}}()},function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error;i.prototype.code=5;i.prototype.name="InvalidCharacterError";function o(t){var e=String(t);var n="";for(var o,a,s=0,l=r;e.charAt(s|0)||(l="=",s%1);n+=l.charAt(63&o>>8-s%1*8)){a=e.charCodeAt(s+=3/4);if(a>255){throw new i}o=o<<8|a}return n}t.exports=o},function(t,e,n){"use strict";var r=n(1);t.exports=r.isStandardBrowserEnv()?function t(){return{write:function t(e,n,i,o,a,s){var l=[];l.push(e+"="+encodeURIComponent(n));if(r.isNumber(i)){l.push("expires="+new Date(i).toGMTString())}if(r.isString(o)){l.push("path="+o)}if(r.isString(a)){l.push("domain="+a)}if(s===true){l.push("secure")}document.cookie=l.join("; ")},read:function t(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function t(e){this.write(e,"",Date.now()-864e5)}}}():function t(){return{write:function t(){},read:function t(){return null},remove:function t(){}}}()},function(t,e,n){"use strict";var r=n(1);function i(){this.handlers=[]}i.prototype.use=function t(e,n){this.handlers.push({fulfilled:e,rejected:n});return this.handlers.length-1};i.prototype.eject=function t(e){if(this.handlers[e]){this.handlers[e]=null}};i.prototype.forEach=function t(e){r.forEach(this.handlers,function t(n){if(n!==null){e(n)}})};t.exports=i},function(t,e,n){"use strict";var r=n(1);var i=n(25);var o=n(7);var a=n(3);var s=n(26);var l=n(27);function u(t){if(t.cancelToken){t.cancelToken.throwIfRequested()}}t.exports=function t(e){u(e);if(e.baseURL&&!s(e.url)){e.url=l(e.baseURL,e.url)}e.headers=e.headers||{};e.data=i(e.data,e.headers,e.transformRequest);e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{});r.forEach(["delete","get","head","post","put","patch","common"],function t(n){delete e.headers[n]});var n=e.adapter||a.adapter;return n(e).then(function t(n){u(e);n.data=i(n.data,n.headers,e.transformResponse);return n},function t(n){if(!o(n)){u(e);if(n&&n.response){n.response.data=i(n.response.data,n.response.headers,e.transformResponse)}}return Promise.reject(n)})}},function(t,e,n){"use strict";var r=n(1);t.exports=function t(e,n,i){r.forEach(i,function t(r){e=r(e,n)});return e}},function(t,e,n){"use strict";t.exports=function t(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(t,e,n){"use strict";t.exports=function t(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}},function(t,e,n){"use strict";var r=n(8);function i(t){if(typeof t!=="function"){throw new TypeError("executor must be a function.")}var e;this.promise=new Promise(function t(n){e=n});var n=this;t(function t(i){if(n.reason){return}n.reason=new r(i);e(n.reason)})}i.prototype.throwIfRequested=function t(){if(this.reason){throw this.reason}};i.source=function t(){var e;var n=new i(function t(n){e=n});return{token:n,cancel:e}};t.exports=i},function(t,e,n){"use strict";t.exports=function t(e){return function t(n){return e.apply(null,n)}}},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r=n(0);var i=n.n(r);var o=n(9);var a=n(10);i.a.Control.Custom=i.a.Control.extend({version:"1.0.1",options:{position:"topright",id:"",title:"",classes:"",content:"",style:{},datas:{},events:{}},container:null,onAdd:function t(e){this.container=i.a.DomUtil.create("div");this.container.id=this.options.id;this.container.title=this.options.title;this.container.className=this.options.classes;this.container.innerHTML=this.options.content;for(var n in this.options.style){this.container.style[n]=this.options.style[n]}for(var r in this.options.datas){this.container.dataset[r]=this.options.datas[r]}i.a.DomEvent.disableClickPropagation(this.container);i.a.DomEvent.on(this.container,"contextmenu",function(t){i.a.DomEvent.stopPropagation(t)});i.a.DomEvent.disableScrollPropagation(this.container);for(var o in this.options.events){i.a.DomEvent.on(this.container,o,this.options.events[o],this.container)}return this.container},onRemove:function t(e){for(var n in this.options.events){i.a.DomEvent.off(this.container,n,this.options.events[n],this.container)}}});i.a.control.custom=function(t){return new i.a.Control.Custom(t)};var s=n(2);var l=n.n(s);function u(t){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){u=function t(e){return typeof e}}else{u=function t(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return u(t)}var c=window.L;c.TileLayer.Iiif=c.TileLayer.extend({options:{continuousWorld:true,tileSize:256,updateWhenIdle:true,tileFormat:"jpg",fitBounds:true,setMaxBounds:false},initialize:function t(e,n){n=typeof n!=="undefined"?n:{};if(n.maxZoom){this._customMaxZoom=true}if(n.tileSize){this._explicitTileSize=true}if(n.quality){this._explicitQuality=true}n=c.setOptions(this,n);this._infoUrl=e;this._baseUrl=this._templateUrl();this._getInfo()},getTileUrl:function t(e){var n=e.x,r=e.y,i=this._getZoomForUrl(),o=Math.pow(2,this.maxNativeZoom-i),a=this.options.tileSize*o,s=n*a,l=r*a,u=Math.min(s+a,this.x),f=Math.min(l+a,this.y);var h=u-s;var d=f-l;return c.Util.template(this._baseUrl,c.extend({format:this.options.tileFormat,quality:this.quality,region:[s,l,h,d].join(","),rotation:0,size:Math.ceil(h/o)+","},this.options))},onAdd:function t(e){},_addTileLayer:function t(){var e=this._map;e._layersMaxZoom=this.maxZoom;c.TileLayer.prototype.onAdd.call(this,e);if(this.options.fitBounds){this._fitBounds()}if(this.options.setMaxBounds){this._setMaxBounds()}this.on("tileload",function(t,e){var n=t.tile.naturalHeight,r=t.tile.naturalWidth;if(n===256&&r===256)return;t.tile.style.width=r+"px";t.tile.style.height=n+"px"})},onRemove:function t(e){if(this.options.setMaxBounds){e.setMaxBounds(null)}c.TileLayer.prototype.onRemove.call(this,e)},_fitBounds:function t(){var e=this._getInitialZoom(this._map.getSize());var n=this._imageSizes[e];var r=this._map.options.crs.pointToLatLng(c.point(0,n.y),e);var i=this._map.options.crs.pointToLatLng(c.point(n.x,0),e);var o=c.latLngBounds(r,i);this._map.fitBounds(o,true)},_setMaxBounds:function t(){var e=this._getInitialZoom(this._map.getSize());var n=this._imageSizes[e];var r=this._map.options.crs.pointToLatLng(c.point(0,n.y),e);var i=this._map.options.crs.pointToLatLng(c.point(n.x,0),e);var o=c.latLngBounds(r,i);this._map.setMaxBounds(o,true)},_getInfo:function t(){var e=this;l.a.get(this._infoUrl).then(function(t){var n=t.data;e.y=n.height;e.x=n.width;var r=[],i=[],o,a,s,l,u;if(n.profile instanceof Array){e.profile=n.profile[0]}else{e.profile=n.profile}e._setQuality();if(!e._explicitTileSize){e.options.tileSize=256;if(n.tiles){e.options.tileSize=n.tiles[0].width}else if(n.tile_width){e.options.tileSize=n.tile_width}}function f(t){return Math.ceil(Math.log(t)/Math.LN2)}e.maxNativeZoom=Math.max(f(e.x/e.options.tileSize),f(e.y/e.options.tileSize));if(e._customMaxZoom&&e.options.maxZoom>e.maxNativeZoom){e.maxZoom=e.options.maxZoom}else{e.maxZoom=e.maxNativeZoom}for(var h=0;h<=e.maxZoom;h++){o=Math.pow(2,e.maxNativeZoom-h);a=Math.ceil(e.x/o);s=Math.ceil(e.y/o);l=Math.ceil(a/e.options.tileSize);u=Math.ceil(s/e.options.tileSize);r.push([l,u]);i.push(c.point(a,s))}e._tierSizes=r;e._imageSizes=i;e._addTileLayer()}).catch(function(t){throw t})},_setQuality:function t(){var e=this.profile;if(this._explicitQuality){return}if(u(e)==="object"){e=e["@id"]}switch(true){case/^http:\/\/library.stanford.edu\/iiif\/image-api\/1.1\/compliance.html.*$/.test(e):this.options.quality="native";break;default:this.options.quality="default";break}},_infoToBaseUrl:function t(){return this._infoUrl.replace("info.json","")},_templateUrl:function t(){return this._infoToBaseUrl()+"{region}/{size}/{rotation}/{quality}.{format}"},_isValidTile:function t(e){var n=this._getZoomForUrl(),r=this._tierSizes[n],i=e.x,o=e.y;if(!r)return false;if(i<0||r[0]<=i||o<0||r[1]<=o){return false}else{return true}},_getInitialZoom:function t(e){var n=.8,r;for(var i=this.maxNativeZoom;i>=0;i--){r=this._imageSizes[i];if(r.x*n<e.x&&r.y*n<e.y){return i}}return 2}});var f=c.tileLayer.iiif=function(t,e){return new c.TileLayer.Iiif(t,e)};var h=f;var d={ZOOM:2,initialize:function t(e,n,r,i){this.default_zone_type=r;this.annotations=[];this.annotationTypes={};this.map=e;this.featureGroup=n;this.toolTipOptions=i?i:{direction:"center",className:"facsimileToolTip"}},_makeAnnotation:function t(e){var n=[];if(e instanceof L.Circle){var r=e.toGeoJSON().geometry.coordinates;var i=this.map.project([r[1],r[0]],d.ZOOM);n=[i.x,i.y,e.getRadius()*4]}else{var o=true;var a=false;var s=undefined;try{for(var l=e.toGeoJSON().geometry.coordinates[Symbol.iterator](),u;!(o=(u=l.next()).done);o=true){var c=u.value;if(!c){return null}for(var f=0;f<c.length;f++){var h=this.map.project([c[f][1],c[f][0]],d.ZOOM);n.push(h.x+","+h.y)}}}catch(t){a=true;s=t}finally{try{if(!o&&l.return!=null){l.return()}}finally{if(a){throw s}}}}n=n.join(",");if(new Set(n.split(",")).size===1){return null}if(!e.annotation_type){e.annotation_type=this.annotationTypes[this.default_zone_type.label]}return{region:{coords:n},content:e.content,annotation_type:e.annotation_type,canvas_id:e.canvas_id,img_id:e.img_id,zone_id:e.zone_id}},getAnnotations:function t(e,n){this.annotations=[];var r=this;this.featureGroup.eachLayer(function(t){if(!t.canvas_id)t.canvas_id=e;if(!t.img_id)t.img_id=n;var i=r._makeAnnotation(t);if(i){r.annotations.push(i)}});return this.annotations},setAnnotations:function t(e){this.featureGroup.clearLayers();console.log(this.featureGroup.getLayers().length);for(var n in e){if(e[n].annotations.length>0){this.annotationTypes[e[n].annotation_type.label]=e[n].annotation_type;var r=true;var i=false;var o=undefined;try{for(var a=e[n].annotations[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){var l=s.value;var u=l.region.coords.split(",");var c=null;switch(l.region.type){case"rect":c=L.rectangle([this.map.unproject([u[0],u[1]],d.ZOOM),this.map.unproject([u[2],u[3]],2)]);break;case"polygon":var f=[];for(var h=0;h<u.length;h+=2){f.push(this.map.unproject([u[h],u[h+1]],d.ZOOM))}c=L.polygon(f);break;case"circle":c=L.circle(this.map.unproject([u[0],u[1]],d.ZOOM),{radius:u[2]*.25});break}c.canvas_id=l.canvas_id;c.img_id=l.img_id;c.zone_id=l.zone_id;c.content=l.content;if(l.content&&l.content.length>0){c.bindTooltip(l.content,this.toolTipOptions)}c.annotation_type=e[n].annotation_type;this.featureGroup.addLayer(c);c.addTo(this.map)}}catch(t){i=true;o=t}finally{try{if(!r&&a.return!=null){a.return()}}finally{if(i){throw o}}}}}console.log(this.featureGroup.getLayers().length)}};var p=d;var v={options:{},initialize:function t(e,n,r){this.annotationLists={};this.annotations_loader=n;this.annotation_id_retriever=r;var i=[];if(e.otherContent){var o=true;var a=false;var s=undefined;try{for(var u=e.otherContent[Symbol.iterator](),c;!(o=(c=u.next()).done);o=true){var f=c.value;if(f["@type"]==="sc:AnnotationList"){i.push(this.loadAnnotationList(f["@id"]))}}}catch(t){a=true;s=t}finally{try{if(!o&&u.return!=null){u.return()}}finally{if(a){throw s}}}}return l.a.all(i)},_getSelectorRegion:function t(e,n){var r=null;if(n==="iiif:ImageApiSelector"){r={coords:e.region,type:"rect"}}else if(n==="oa:SvgSelector"){var i=new window.DOMParser;var o=i.parseFromString(e.chars,"text/xml");var a=e.chars;if(a.indexOf("circle")!==-1){var s=o.getElementsByTagName("circle")[0];var l=[s.cx.baseVal.valueAsString,s.cy.baseVal.valueAsString,s.r.baseVal.valueAsString];r={coords:l.join(","),type:"circle"}}else if(a.indexOf("path")!==-1){var u=a.substr(a.indexOf(" d='"),a.length);u=u.substr(4,u.indexOf("z")-5);var c=u.split("L");c[0]=c[0].split("M")[1];c[c.length-1]=c[c.length-1].split("z")[0];var f=[];for(var h in c){var d=c[h].trim().split(" ");f.push(d[0]);f.push(d[1])}r={coords:f.join(","),type:"polygon"}}}return r},parseAnnotation:function t(e){var n=null;if(e["@type"]==="oa:Annotation"&&e["motivation"]==="sc:painting"){n={id:e.resource["@id"]};var r=this.annotation_id_retriever(e);if(e.resource["@type"]==="cnt:ContentAsText"){n=Object.assign(n,{content:e.resource.chars,format:e.resource.format,zone_id:r})}var i=null;var o=null;var a=null;if(e.on["@type"]==="oa:SpecificResource"){if(e.on.selector){if(typeof e.on.selector["@type"]==="string"){i=this._getSelectorRegion(e.on.selector,e.on.selector["@type"])}else{i=[];var s=true;var l=false;var u=undefined;try{for(var c=e.on.selector["@type"][Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;var d=this._getSelectorRegion(e.on.selector,h);if(d){i.push(d)}}}catch(t){l=true;u=t}finally{try{if(!s&&c.return!=null){c.return()}}finally{if(l){throw u}}}}}o=e.on.on;a=e.on.full["@id"]}else if(typeof e.on==="string"&&e.on.indexOf("xywh=")!==0){var p=e.on.indexOf("xywh=");i={coords:e.on.substr(p+5,e.on.length),type:"rect"};o=e.on.substr(0,p-1);a=999}if(i){if(Array.isArray(i)&&i.length===1){i=i[0]}n=Object.assign(n,{region:i})}n=Object.assign(n,{canvas_id:o,img_id:a})}return n},loadAnnotationList:function t(e){var n=this;console.log("Adding list "+e);this.annotationLists[e]={annotation_type:undefined,annotations:[]};var r=this;return this.annotations_loader(e).then(function(t){var r=true;var i=false;var o=undefined;try{for(var a=t.metadata[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){var l=s.value;if(l["annotation_type"]){n.annotationLists[e].annotation_type=l["annotation_type"]}}}catch(t){i=true;o=t}finally{try{if(!r&&a.return!=null){a.return()}}finally{if(i){throw o}}}if(!n.annotationLists[e].annotation_type){throw new Error("Annotation type metadata is empty for annotation list "+e)}if(t.resources){var u=true;var c=false;var f=undefined;try{for(var h=t.resources[Symbol.iterator](),d;!(u=(d=h.next()).done);u=true){var p=d.value;var v=n.parseAnnotation(p);if(v){n.annotationLists[e].annotations.push(v)}}}catch(t){c=true;f=t}finally{try{if(!u&&h.return!=null){h.return()}}finally{if(c){throw f}}}}}).catch(function(t){console.log(t)})}};var m=v;var y=n(30);function g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};var r=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))}r.forEach(function(e){_(t,e,n[e])})}return t}function _(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function b(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function x(t,e,n){if(e)w(t.prototype,e);if(n)w(t,n);return t}var E=function(){function t(e,n,r){var o=this;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};b(this,t);this.callbacks=n;this.map_id=e;this.auth_header=null;this.must_be_saved=false;this.enable_edition=a;this.erasing=false;this.showing=false;this.map_options=s;this.tooltipOptions=r;this.editableLayers=new i.a.FeatureGroup;this.callbacks.loadDefaultAnnotationType().then(function(e){o.default_zone_type=e;o.callbacks.loadManifest().then(function(e){if(e&&e.sequences&&e.sequences.length>=1){o.canvases_data=e.sequences[0].canvases;o.displayMap(0);if(o.enable_edition){t.disableShowingMode()}else{o.showing=false;o.hideShapes()}}else{console.log("Error1 loading manifest:");console.log("Response: ",e)}}).catch(function(t){console.log("Error2 loading manifest:");console.log("Response: ",t)})}).catch(function(t){console.log("Error3 loading manifest:");console.log("Response: ",t)})}x(t,[{key:"handleAPIErrors",value:function t(e){if(e&&e.errors){var n=JSON.stringify(e.errors);if(e.errors){this.error=n;throw new Error(n)}}}},{key:"mapCreate",value:function e(n,r){this.map=i.a.map(this.map_id,g({center:[0,0],crs:i.a.CRS.Simple,zoom:0,zoomControl:false,editable:this.enable_edition},this.map_options));this.map.doubleClickZoom.disable();var o=this.canvases_data[n].images[r].resource.service["@id"]+"/info.json";this.baseLayer=h(o);this.baseLayer.addTo(this.map);this.clearAnnotations();this.map.addLayer(this.editableLayers);this.canvases=[];this.images=[];var a=true;var s=false;var l=undefined;try{for(var u=this.canvases_data[Symbol.iterator](),c;!(a=(c=u.next()).done);a=true){var f=c.value;this.canvases.push(f["@id"]);this.images.push(f.images[0].resource["@id"])}}catch(t){s=true;l=t}finally{try{if(!a&&u.return!=null){u.return()}}finally{if(s){throw l}}}var d=this;this.map.on("editable:editing",function(){d.must_be_saved=true});this.map.on("editable:created",function(t){d.editableLayers.addLayer(t.layer);d.must_be_saved=true;t.layer.on("click",i.a.DomEvent.stop).on("click",function(){d.onShapeClick(t.layer)})});this.map.on("editable:drawing:commit",function(e){t.unselectDrawingTools()});if(this.canvases.length>1){this.addPaginationControls()}if(this.enable_edition){this.addDrawControls()}}},{key:"displayMap",value:function t(e){this.current_canvas_idx=e;this.current_img_idx=0;if(!this.map){this.mapCreate(this.current_canvas_idx,this.current_img_idx)}else{var n=this.canvases_data[e].images[this.current_img_idx].resource.service["@id"]+"/info.json";this.map.removeLayer(this.baseLayer);this.baseLayer=h(n);this.baseLayer.addTo(this.map);this.editableLayers.clearLayers();this.map.addLayer(this.editableLayers)}this.clearAnnotations();this.annotationsLoader=m.initialize(this.canvases_data[this.current_canvas_idx],this.callbacks.loadAnnotations,this.callbacks.getAnnotationId);p.initialize(this.map,this.editableLayers,this.default_zone_type,this.tooltipOptions);return this.setDisplayMode()}},{key:"refresh",value:function t(){this.displayMap(this.current_canvas_idx)}},{key:"addPaginationControls",value:function e(){var n="";var r=1;var o=true;var a=false;var s=undefined;try{for(var l=this.images[Symbol.iterator](),u;!(o=(u=l.next()).done);o=true){var c=u.value;var f=c.replace("full/full","full/,80");n+='<div class="iiif-thumbnail '+(this.current_canvas_idx+1===r?"selected-page":"")+'">';n+='<img src="'+f+'"/><div>'+r+"</div>";n+='<input type="hidden" value="'+(r-1)+'"/></div>';r+=1}}catch(t){a=true;s=t}finally{try{if(!o&&l.return!=null){l.return()}}finally{if(a){throw s}}}var h=this;function d(e){if(e.target.tagName==="IMG"){if(h.enable_edition){document.getElementById("save-link").click()}var n=e.target.parentNode;var r=parseInt(n.getElementsByTagName("input")[0].value);h.displayMap(r);var i=true;var o=false;var a=undefined;try{for(var s=document.getElementsByClassName("iiif-thumbnail")[Symbol.iterator](),l;!(i=(l=s.next()).done);i=true){var u=l.value;u.classList.remove("selected-page")}}catch(t){o=true;a=t}finally{try{if(!i&&s.return!=null){s.return()}}finally{if(o){throw a}}}n.classList.add("selected-page");if(h.enable_edition){t.disableErasingMode();t.unselectDrawingTools()}if(h.callbacks.onPageChange){h.callbacks.onPageChange(h.current_canvas_idx)}}}i.a.control.custom({id:"facsimile-pagination-control",position:"bottomleft",content:'<div class="facsimile-pagination">'+n+"</div>",classes:"",style:{padding:"0px 0 0 0",cursor:"pointer"},events:{click:function t(e){return d(e)}}}).addTo(this.map)}},{key:"createDrawControls",value:function e(){console.log("create draw controls");var n=i.a.DomUtil.create("div","leaflet-control leaflet-bar drawing-tools-bar");var r=i.a.DomUtil.create("div","leaflet-control leaflet-bar workflow-tools-bar");var o=this;i.a.DomEvent.disableClickPropagation(n);i.a.DomEvent.disableClickPropagation(r);var a=function e(n){return function(e,r){if(o.map.editTools.drawing()){this.map.editTools.stopDrawing()}else{t.enableShowingMode();t.disableErasingMode();n.bind(this.map.editTools)(e,r)}}};i.a.EditControl=i.a.Control.extend({options:{position:"topright",callback:null,kind:"",title:"",classes:""},onAdd:function e(r){var a=i.a.DomUtil.create("a","",n),s=i.a.DomUtil.create("a","",a);a.href="#";a.title=this.options.title;i.a.DomUtil.addClass(s,"fas fa-save fa-lg");var l=true;var u=false;var c=undefined;try{for(var f=this.options.classes[Symbol.iterator](),h;!(l=(h=f.next()).done);l=true){var d=h.value;i.a.DomUtil.addClass(s,d)}}catch(t){u=true;c=t}finally{try{if(!l&&f.return!=null){f.return()}}finally{if(u){throw c}}}i.a.DomEvent.on(a,"click",i.a.DomEvent.stop).on(a,"click",function(){o.erasing=false;window.LAYER=this.options.callback.call(r.editTools);var e=i.a.DomUtil.hasClass(a,"tool-enabled");t.unselectDrawingTools();if(e){i.a.DomUtil.removeClass(a,"tool-enabled");i.a.DomUtil.addClass(a,"tool-disabled")}else{i.a.DomUtil.removeClass(a,"tool-disabled");i.a.DomUtil.addClass(a,"tool-enabled")}},this);return n}});i.a.NewPolygonControl=i.a.EditControl.extend({options:{callback:a(this.map.editTools.startPolygon),title:"Ajouter un polygone",classes:["leaflet-iiifmap-toolbar","leaflet-iiifmap-toolbar-polygon","fas","fa-draw-polygon"]}});i.a.NewRectangleControl=i.a.EditControl.extend({options:{callback:a(this.map.editTools.startRectangle),title:"Ajouter un rectangle",classes:["leaflet-iiifmap-toolbar","leaflet-iiifmap-toolbar-rectangle","fas","fa-square-full"]}});i.a.NewCircleControl=i.a.EditControl.extend({options:{callback:a(this.map.editTools.startCircle),title:"Ajouter un cercle",classes:["leaflet-iiifmap-toolbar","leaflet-iiifmap-toolbar-circle","fas","fa-circle"]}});i.a.ShowingModeControl=i.a.Control.extend({onAdd:function e(n){var a=i.a.DomUtil.create("a","",r),s=i.a.DomUtil.create("a","",a);a.href="#";a.title="Afficher les zones";t.enableShowingMode=function(){o.showing=true;t.showShapes();i.a.DomUtil.addClass(a,"tool-enabled");i.a.DomUtil.removeClass(a,"tool-disabled")};t.disableShowingMode=function(){t.disableErasingMode();o.showing=false;o.hideShapes();i.a.DomUtil.addClass(a,"tool-disabled");i.a.DomUtil.removeClass(a,"tool-enabled")};o.toggleShowingMode=function(){o.showing=!o.showing;t.unselectDrawingTools();if(o.showing){t.enableShowingMode()}else{t.disableShowingMode()}};i.a.DomUtil.addClass(s,"fas fa-eye fa-lg workflow-tool");i.a.DomEvent.on(a,"click",i.a.DomEvent.stop).on(a,"click",o.toggleShowingMode,this);return r}});i.a.ErasingModeControl=i.a.Control.extend({onAdd:function e(n){var a=i.a.DomUtil.create("a","",r),s=i.a.DomUtil.create("a","",a);a.href="#";a.title="Supprimer une zone";i.a.DomUtil.addClass(a,"tool-disabled");i.a.DomUtil.addClass(s,"fas fa-eraser fa-lg workflow-tool");t.disableErasingMode=function(){o.erasing=false;i.a.DomUtil.addClass(a,"tool-disabled");i.a.DomUtil.removeClass(a,"tool-enabled")};t.enableErasingMode=function(){o.erasing=true;o.editableLayers.eachLayer(function(t){t.disableEdit()});t.enableShowingMode();i.a.DomUtil.removeClass(a,"tool-disabled");i.a.DomUtil.addClass(a,"tool-enabled")};o.toggleErasingMode=function(){t.unselectDrawingTools();o.erasing=!o.erasing;if(o.erasing){t.enableErasingMode()}else{t.disableErasingMode()}};i.a.DomEvent.on(a,"click",i.a.DomEvent.stop).on(a,"click",o.toggleErasingMode,this);return r}});i.a.SaveAllControl=i.a.Control.extend({onAdd:function t(e){var n=i.a.DomUtil.create("a","",r),a=i.a.DomUtil.create("a","",n);n.href="#";n.title="Sauvegarder les zones de la page en cours";n.id="save-link";i.a.DomUtil.addClass(a,"fas fa-save fa-lg workflow-tool");i.a.DomEvent.on(n,"click",i.a.DomEvent.stop).on(n,"click",function(){if(o.must_be_saved){o.saveAll().then(function(){o.editableLayers.eachLayer(function(t){t.disableEdit();o.must_be_saved=false},this)})}else{o.editableLayers.eachLayer(function(t){t.disableEdit()})}},this);return r}});i.a.ReloadControl=i.a.Control.extend({onAdd:function e(n){var a=i.a.DomUtil.create("a","",r),s=i.a.DomUtil.create("a","",a);a.href="#";a.title="Recharger la page en cours";a.id="reload-link";i.a.DomUtil.addClass(s,"fas fa-undo fa-lg workflow-tool");i.a.DomEvent.on(a,"click",i.a.DomEvent.stop).on(a,"dbclick",i.a.DomEvent.stop).on(a,"click",function(){console.log("reload annotations");var e=o.showing;t.unselectDrawingTools();t.disableErasingMode();o.clearAnnotations();o.annotationsLoader=m.initialize(o.canvases_data[o.current_canvas_idx],o.callbacks.loadAnnotations,o.callbacks.getAnnotationId);p.initialize(o.map,o.editableLayers,o.default_zone_type,o.tooltipOptions);o.setAnnotations().then(function(){if(e){t.enableShowingMode()}})},this);return r}});this.mapControls=[new i.a.ShowingModeControl,new i.a.NewPolygonControl,new i.a.NewRectangleControl,new i.a.NewCircleControl,new i.a.ErasingModeControl,new i.a.SaveAllControl,new i.a.ReloadControl]}},{key:"addDrawControls",value:function t(){this.createDrawControls();var e=true;var n=false;var r=undefined;try{for(var i=this.mapControls[Symbol.iterator](),o;!(e=(o=i.next()).done);e=true){var a=o.value;this.map.addControl(a)}}catch(t){n=true;r=t}finally{try{if(!e&&i.return!=null){i.return()}}finally{if(n){throw r}}}}},{key:"removeDrawControls",value:function t(){var e=true;var n=false;var r=undefined;try{for(var i=this.mapControls[Symbol.iterator](),o;!(e=(o=i.next()).done);e=true){var a=o.value;this.map.removeControl(a)}}catch(t){n=true;r=t}finally{try{if(!e&&i.return!=null){i.return()}}finally{if(n){throw r}}}this.mapControls=[]}},{key:"saveZones",value:function t(e){if(!this.enable_edition){return}if(!this.callbacks.saveAnnotations){console.log("Liiiflet 'saveAnnotations' callback improperly configured");return}var n=this.canvases[this.current_canvas_idx];var r=n.split("/");r=r[r.length-1];var i=[];var o=true;var a=false;var s=undefined;try{for(var l=e[Symbol.iterator](),u;!(o=(u=l.next()).done);o=true){var c=u.value;var f={canvas_name:r,coords:c.region.coords,content:c.content?c.content:"",zone_type_id:c.annotation_type?c.annotation_type.id:this.default_zone_type.id,zone_id:c.zone_id};i.push(f)}}catch(t){a=true;s=t}finally{try{if(!o&&l.return!=null){l.return()}}finally{if(a){throw s}}}return this.callbacks.saveAnnotations(r,i)}},{key:"saveAlignments",value:function t(e){if(!this.enable_edition){return}if(!this.callbacks.saveAnnotationAlignments){console.log("Liiiflet 'saveAnnotationAlignments' callback improperly configured");return}return this.callbacks.saveAnnotationAlignments(e)}},{key:"getCurrentCanevasId",value:function t(){return this.canvases[this.current_canvas_idx]}},{key:"getCurrentImageId",value:function t(){return this.images[this.current_img_idx]}},{key:"saveAll",value:function t(){var e=this;var n=p.getAnnotations(this.getCurrentCanevasId(),this.getCurrentImageId());console.log("save: ",this.getCurrentCanevasId(),this.getCurrentImageId());return this.saveZones(n).then(function(t){e.handleAPIErrors(t);return e.saveAlignments(n)}).then(function(t){e.handleAPIErrors(t);return true})}},{key:"setAnnotations",value:function e(){console.log("set annotations");var n=this;return this.annotationsLoader.then(function(){p.setAnnotations(m.annotationLists);n.editableLayers.eachLayer(function(t){t.on("click",i.a.DomEvent.stop).on("click",function(){n.onShapeClick(t)})});n.must_be_saved=false;if(!n.showing){if(n.enable_edition){t.disableShowingMode()}else{n.showing=false;n.hideShapes()}}})}},{key:"clearAnnotations",value:function t(){console.log("clear annotations");var e=this;return new Promise(function(t,n){e.editableLayers.clearLayers();t()})}},{key:"setDisplayMode",value:function t(){if(this.displayAnnotationsMode){return this.setAnnotations()}else{return this.clearAnnotations()}}},{key:"onShapeClick",value:function t(e){if(this.enable_edition){if(this.erasing){this.editableLayers.removeLayer(e);if(e.zone_id){this.callbacks.onDeleteAnnotation(e.zone_id)}this.must_be_saved=true}else{if(this.showing){e.toggleEdit()}}}}},{key:"displayAnnotationsMode",value:function t(){if(this.displayAnnotationsMode){this.setAnnotations()}else{this.clearAnnotations()}}},{key:"hideShapes",value:function t(){var e=true;var n=false;var r=undefined;try{for(var i=document.getElementsByClassName("leaflet-interactive")[Symbol.iterator](),o;!(e=(o=i.next()).done);e=true){var a=o.value;a.style.opacity=0;a.style.cursor="pointer";a.onmouseover=function(){this.style.opacity=0};a.onmouseout=function(){this.style.opacity=0}}}catch(t){n=true;r=t}finally{try{if(!e&&i.return!=null){i.return()}}finally{if(n){throw r}}}this.editableLayers.eachLayer(function(t){t.disableEdit()})}}],[{key:"unselectDrawingTools",value:function t(){var e=true;var n=false;var r=undefined;try{for(var i=document.getElementsByClassName("drawing-tools-bar")[Symbol.iterator](),o;!(e=(o=i.next()).done);e=true){var a=o.value;var s=true;var l=false;var u=undefined;try{for(var c=a.getElementsByTagName("a")[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;h.classList.remove("tool-enabled");h.classList.add("tool-disabled")}}catch(t){l=true;u=t}finally{try{if(!s&&c.return!=null){c.return()}}finally{if(l){throw u}}}}}catch(t){n=true;r=t}finally{try{if(!e&&i.return!=null){i.return()}}finally{if(n){throw r}}}}},{key:"showShapes",value:function t(){var e=true;var n=false;var r=undefined;try{for(var i=document.getElementsByClassName("leaflet-interactive")[Symbol.iterator](),o;!(e=(o=i.next()).done);e=true){var a=o.value;a.style.opacity=100;a.style.cursor="pointer";a.onmouseover=null;a.onmouseout=null}}catch(t){n=true;r=t}finally{try{if(!e&&i.return!=null){i.return()}}finally{if(n){throw r}}}}}]);return t}();window.Liiiflet=E}])},function(t,e,n){var r=n(120);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("5116f4e3",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,"",""])},function(t,e,n){var r=n(122);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("23a8c010",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,".fade-enter-active[data-v-6239f32a],.fade-leave-active[data-v-6239f32a]{transition:opacity .25s}.fade-enter[data-v-6239f32a],.fade-leave-to[data-v-6239f32a]{opacity:0}.fade-enter-active .loading-icon[data-v-6239f32a],.fade-leave-active .loading-icon[data-v-6239f32a]{transition:transform .25s}.fade-enter .loading-icon[data-v-6239f32a],.fade-leave-to .loading-icon[data-v-6239f32a]{transform:translateY(100%)}",""])},function(t,e,n){var r=n(124);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("5a6730bc",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,"",""])},function(t,e){t.exports='<svg viewBox="0 0 24 24"><g><path class="ql-stroke" d="M19.9,23.5c2,0,3.6-1.6,3.6-3.6v-0.5"></path><circle class="ql-stroke" cx="21.8" cy="19.3" r="1.7"></circle><path class="ql-stroke" d="M15.5,23.5c2,0,3.6-1.6,3.6-3.6v-0.5"></path><circle class="ql-stroke" cx="17.4" cy="19.3" r="1.7"></circle></g><path class="ql-stroke" d="M9.5,21.6h-9"></path><path class="ql-stroke" d="M9.5,17.8h-9"></path><path class="ql-stroke" d="M23.5,13.9h-23"></path><path class="ql-stroke" d="M23.5,10.1h-23"></path><path class="ql-stroke" d="M23.5,6.2h-9"></path><path class="ql-stroke" d="M23.5,2.4h-9"></path><g><path class="ql-stroke" d="M4.1,0.5c-2,0-3.6,1.6-3.6,3.6v0.5"></path><circle class="ql-stroke" cx="2.2" cy="4.7" r="1.7"></circle><path class="ql-stroke" d="M8.5,0.5c-2,0-3.6,1.6-3.6,3.6v0.5"></path><circle class="ql-stroke" cx="6.6" cy="4.7" r="1.7"></circle></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24"><path class="ql-stroke" d="M3.75,23.248H13.5a6.75,6.75,0,0,0,0-13.5h.75a4.5,4.5,0,1,0,0-9H3.75"></path><line class="ql-stroke" x1="6.75" y1="0.748" x2="6.75" y2="23.248"></line><line class="ql-stroke" x1="13.5" y1="9.748" x2="6.75" y2="9.748"></line></svg>'},function(t,e){t.exports='<svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve"><polygon class="ql-stroke" points="12,15.754 7.5,13.504 7.5,6.754 12,9.004 "></polygon><polyline class="ql-stroke" points="12,15.754 16.5,13.504 16.5,6.754 12,9.004 "></polyline><path class="ql-stroke" d="M14.993,5.507L12,7L8.978,5.493"></path><path class="ql-stroke" d="M21,9.754c0,7.9-6.932,12.331-8.629,13.3c-0.2302,0.1315-0.5128,0.1315-0.743,0C9.931,22.084,3,17.652,3,9.754 c0-4.9706,4.0294-9,9-9S21,4.7834,21,9.754z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24"><path class="ql-stroke" d="M0.5,4h7.25"></path><path class="ql-stroke" d="M0.5,8.5h7.25"></path><path class="ql-stroke" d="M0.5,13h7.25"></path><path class="ql-stroke" d="M16.2499,6l2-2l-2-2"></path><path class="ql-stroke" d="M18.2499,4h-4.25c-1.2426,0-2.25,1.0074-2.25,2.25v13.499c0,1.2426-1.0074,2.25-2.25,2.25h-2.25"></path><path class="ql-stroke" d="M7.75,17.5H0.5"></path><path class="ql-stroke" d="M0.5,22H4"></path><path class="ql-stroke" d="M21.25,4h2.25"></path><path class="ql-stroke" d="M15.25,8.5h8.25"></path><path class="ql-stroke" d="M15.25,13h8.25"></path><path class="ql-stroke" d="M23.5,17.5h-8.25"></path><path class="ql-stroke" d="M15.5001,22h4.5"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"></line><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"></polyline><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"></line></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="ql-stroke" d="M18.75.748H11.727c-2.485,0-4.977,2.014-4.977,4.5,0,6.75,12,6.75,12,13.5a4.5,4.5,0,0,1-4.5,4.5H6.75"></path><line class="ql-stroke" x1="0.75" y1="12.748" x2="23.25" y2="12.748"></line></svg>'},function(t,e){t.exports='<svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve"><path class="ql-stroke" d="M7,23.504c-1.7063,0-3.7937,0-5.5,0c-0.0666,0-0.4209-0.0067-0.7071-0.2929 C0.6119,23.0301,0.5,22.7801,0.5,22.504v-21c0-0.5523,0.4477-1,1-1c2.6609,0,5.5,0,5.5,0"></path><path class="ql-stroke" d="M17,0.504c1.5191,0,3.9809,0,5.5,0c0.0666,0,0.4209,0.0067,0.7071,0.2929 C23.3881,0.9779,23.5,1.2279,23.5,1.504v21c0,0.5523-0.4477,1-1,1c-1.6277,0-3.8723,0-5.5,0"></path><path class="ql-stroke" d="M10.4,17.994h-4c-1.3255,0-2.4-1.0069-2.4-2.2489V8.2489C4,7.0069,5.0745,6,6.4,6h4"></path><line class="ql-stroke" x1="4" y1="12.003" x2="8" y2="12.003"></line><line class="ql-stroke" x1="13.6" y1="18" x2="20" y2="6.006"></line><line class="ql-stroke" x1="20" y1="18" x2="13.6" y2="6.006"></line></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><line class="ql-stroke" x1="23.25" y1="0.748" x2="12.75" y2="0.748"></line><line class="ql-stroke" x1="11.25" y1="23.248" x2="0.75" y2="23.248"></line><line class="ql-stroke" x1="6" y1="23.248" x2="18" y2="0.748"></line></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><style>.a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px;}</style></defs><title>hyperlink-2</title><line class="ql-stroke" x1="6.75" y1="17.249" x2="17.25" y2="6.749"></line><path class="ql-stroke" d="M7.735,12.021a4.472,4.472,0,0,0-3.417,1.3l-2.25,2.25a4.5,4.5,0,0,0,6.364,6.364l2.25-2.25a4.472,4.472,0,0,0,1.3-3.417"></path><path class="ql-stroke" d="M16.265,11.976a4.473,4.473,0,0,0,3.417-1.3l2.25-2.25a4.5,4.5,0,0,0-6.364-6.364l-2.25,2.25a4.475,4.475,0,0,0-1.295,3.417"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><style>.a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px;}</style></defs><title>list-bullets</title><circle class="ql-stroke" cx="3" cy="2.998" r="2.25"></circle><circle class="ql-stroke" cx="3" cy="11.998" r="2.25"></circle><circle class="ql-stroke" cx="3" cy="20.998" r="2.25"></circle><line class="ql-stroke" x1="8.25" y1="3.748" x2="23.25" y2="3.748"></line><line class="ql-stroke" x1="8.25" y1="12.748" x2="23.25" y2="12.748"></line><line class="ql-stroke" x1="8.25" y1="21.748" x2="23.25" y2="21.748"></line></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle class="ql-stroke" cx="12" cy="9.75" r="6"></circle><path class="ql-stroke" d="M6.8,6.751H8.25a1.5,1.5,0,0,1,1.5,1.5v.7a1.5,1.5,0,0,0,.668,1.248l.958.639a1.4,1.4,0,0,1,0,2.332L8.845,14.854"></path><path class="ql-stroke" d="M17.2,6.751h-.7a1.5,1.5,0,0,0-1.342,2.171c.427.854.525.895.79,1.054l1.9,1.138"></path><path class="ql-stroke" d="M21,9.75c0,7.9-6.932,12.331-8.629,13.3a.751.751,0,0,1-.743,0C9.931,22.08,3,17.648,3,9.75a9,9,0,0,1,18,0Z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24"><g><path class="ql-stroke" d="M17.5,23.5c3.3137,0,6-2.6863,6-6s-2.6863-6-6-6c-3.3137,0-6,2.6863-6,6 S14.1863,23.5,17.5,23.5z"></path><path class="ql-stroke" d="M17.5,14.5v6"></path><path class="ql-stroke" d="M20.5,17.5h-6"></path><path class="ql-stroke" d="M9.5,14.5h-1l-4,4v-4h-3c-0.5523,0-1-0.4477-1-1v-12c0-0.5523,0.4477-1,1-1h19 c0.5523,0,1,0.4477,1,1v8"></path></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><line class="ql-stroke" x1="11.25" y1="0.748" x2="11.25" y2="23.248"></line><line class="ql-stroke" x1="17.25" y1="0.748" x2="17.25" y2="23.248"></line><path class="ql-stroke" d="M11.25,14.248H7.5a6.75,6.75,0,0,1,0-13.5H23.25"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle class="ql-stroke" cx="12" cy="7.504" r="2.25"></circle><path class="ql-stroke" d="M7.5,15.754a4.5,4.5,0,1,1,9,0Z"></path><path class="ql-stroke" d="M21,9.754c0,7.9-6.932,12.331-8.629,13.3a.749.749,0,0,1-.743,0C9.931,22.084,3,17.652,3,9.754a9,9,0,0,1,18,0Z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24"><path class="ql-stroke" d="M13,21c5.8,0,10.5-4.7,10.5-10.5V9"></path><circle class="ql-stroke" cx="18.5" cy="9" r="5"></circle><path class="ql-stroke" d="M0.5,21C6.3,21,11,16.3,11,10.5V9"></path><circle class="ql-stroke" cx="6" cy="9" r="5"></circle></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><line class="ql-stroke" x1="0.75" y1="0.748" x2="16.5" y2="16.498"></line><line class="ql-stroke" x1="16.5" y1="0.748" x2="0.75" y2="16.498"></line><path class="ql-stroke" d="M20.25,18.748a1.5,1.5,0,0,1,1.5-1.5h0a1.5,1.5,0,0,1,1.5,1.5h0a2.138,2.138,0,0,1-.468,1.335L20.25,23.248h3"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><line class="ql-stroke" x1="0.75" y1="7.498" x2="16.5" y2="23.248"></line><line class="ql-stroke" x1="16.5" y1="7.498" x2="0.75" y2="23.248"></line><path class="ql-stroke" d="M20.25,2.248a1.5,1.5,0,0,1,1.5-1.5h0a1.5,1.5,0,0,1,1.5,1.5h0a2.138,2.138,0,0,1-.468,1.335L20.25,6.748h3"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><line class="ql-stroke" x1="0.75" y1="23.248" x2="23.25" y2="23.248"></line><line class="ql-stroke" x1="3.75" y1="0.748" x2="6.75" y2="0.748"></line><line class="ql-stroke" x1="17.25" y1="0.748" x2="20.25" y2="0.748"></line><path class="ql-stroke" d="M18.75.748V12a6.75,6.75,0,0,1-13.5,0V.748"></path></svg>'},function(t,e){t.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 43 24" style="enable-background:new 0 0 43 24;" xml:space="preserve"><line class="ql-stroke" x1="8.25" y1="3.748" x2="17.4134" y2="3.748"></line><line class="ql-stroke" x1="8.25" y1="12.748" x2="17.4134" y2="12.748"></line><line class="ql-stroke" x1="8.25" y1="21.748" x2="17.4134" y2="21.748"></line><path class="ql-stroke" d="M0.8,18.36c0.2143-0.8002,1.0367-1.2752,1.8369-1.061c0.8002,0.2143,1.2752,1.0367,1.061,1.8369 c-0.1755,0.6555-0.7693,1.1115-1.4479,1.112c0.8284-0.0004,1.5003,0.6709,1.5007,1.4993c0.0004,0.8284-0.6709,1.5003-1.4993,1.5007 c-0.6746,0.0003-1.2665-0.4498-1.4464-1.1"></path><path class="ql-stroke" d="M0.75,11.248c0-0.8284,0.6716-1.5,1.5-1.5l0,0c0.8284,0,1.5,0.6716,1.5,1.5l0,0 c0.0002,0.4855-0.1649,0.9567-0.468,1.336L0.75,14.248h3"></path><path class="ql-stroke" d="M0.75,0.748H1.5c0.4142,0,0.75,0.3358,0.75,0.75v5.25"></path><line class="ql-stroke" x1="0.75" y1="6.748" x2="3.75" y2="6.748"></line><line class="ql-stroke" x1="32.25" y1="3.748" x2="41.4134" y2="3.748"></line><line class="ql-stroke" x1="32.25" y1="12.748" x2="41.4134" y2="12.748"></line><line class="ql-stroke" x1="32.25" y1="21.748" x2="41.4134" y2="21.748"></line><path class="ql-stroke" d="M24.8,18.36c0.2143-0.8002,1.0367-1.2752,1.837-1.061c0.8002,0.2143,1.2752,1.0367,1.061,1.8369 c-0.1755,0.6555-0.7693,1.1115-1.4479,1.112c0.8284-0.0004,1.5003,0.6709,1.5007,1.4993c0.0004,0.8284-0.6709,1.5003-1.4993,1.5007 c-0.6746,0.0003-1.2665-0.4498-1.4464-1.1"></path><path class="ql-stroke" d="M24.75,11.248c0-0.8284,0.6716-1.5,1.5-1.5l0,0c0.8284,0,1.5,0.6716,1.5,1.5l0,0 c0.0002,0.4855-0.1649,0.9567-0.468,1.336l-2.532,1.664h3"></path><path class="ql-stroke" d="M24.75,0.748h0.75c0.4142,0,0.75,0.3358,0.75,0.75v5.25"></path><line class="ql-stroke" x1="24.75" y1="6.748" x2="27.75" y2="6.748"></line></svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24"><g id="small-caps"><path class="ql-stroke" d="M0.5,5V3c0-0.5523,0.4477-1,1-1h12c0.5523,0,1,0.4477,1,1v2"></path><path class="ql-stroke" d="M7.5,2v20"></path><path class="ql-stroke" d="M5,22h5"></path><path class="ql-stroke" d="M13.5,11v-1c0-0.5523,0.4477-1,1-1h8c0.5523,0,1,0.4477,1,1v1"></path><path class="ql-stroke" d="M18.5,9v13"></path><path class="ql-stroke" d="M17,22h3"></path></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24"><g><path class="ql-stroke" d="M17.5,23.5005c3.3137,0,6-2.6863,6-6s-2.6863-6-6-6c-3.3137,0-6,2.6863-6,6 S14.1863,23.5005,17.5,23.5005z"></path><path class="ql-stroke" d="M17.4996,14.5001l0.0007,5.9998"></path><path class="ql-stroke" d="M20.4999,17.5004l-5.9998-0.0007"></path><path class="ql-stroke" d="M21.331,10.4765c0.1089-0.4849,0.1656-0.9801,0.169-1.477c0-4.693-4.7-8.5-10.5-8.5 s-10.5,3.807-10.5,8.5c0.0527,2.3409,1.1623,4.5321,3.018,5.96l-2.018,4.54l5.637-2.6c0.7714,0.2426,1.5644,0.41,2.368,0.5"></path></g></svg>'},function(t,e){t.exports='<svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve"><path class="ql-stroke" d="M0.776,22.232C0.2153,11.513,8.4502,2.369,19.1692,1.8082c1.3641-0.0714,2.732,0.0013,4.0808,0.2168 c-0.4345,2.6774-1.4593,5.2246-3,7.457h-4.5c0,0,0.539,1.2,1.466,3.329c-4.3687,3.9705-10.3055,5.7396-16.135,4.808"></path><path class="ql-stroke" d="M18.3498,5.4019c-3.9902-0.57-10.9528,3.1759-16.7753,11.93"></path><path class="ql-stroke" d="M3.776,22.232c5.2132,0,10.4265,0,15.6397,0"></path></svg>'},function(t,e){t.exports='<svg version="1.1" id="Calque_2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 48 24" style="enable-background:new 0 0 48 24;" xml:space="preserve"><style type="text/css"> .st0{fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;} </style><g id="Images-Photography__x2F__Pictures__x2F__picture-double-shapes-1"><g id="Group_31"><g id="picture-double-shapes-1"><path id="Oval_46" class="st0" d="M5.5,16.5c1.7,0,3-1.3,3-3c0-1.7-1.3-3-3-3c-1.7,0-3,1.3-3,3C2.5,15.2,3.8,16.5,5.5,16.5z"></path><path id="Shape_156" class="st0" d="M9.5,16.5h4c0.3,0,0.7-0.2,0.9-0.5c0.2-0.3,0.2-0.7,0-1l-3.7-7.1c-0.1-0.3-0.4-0.4-0.7-0.4 c-0.3,0-0.6,0.2-0.7,0.4L8.5,9.4"></path></g></g></g><g id="Interface-Essential__x2F__Paragraphs__x2F__insert-image-top"><g id="Group_496"><g id="insert-image-top"><path id="Shape_2449" class="st0" d="M44.5,22H29"></path><path id="Rectangle-path_136" class="st0" d="M29,10.7c0-0.4,0.3-0.7,0.8-0.7H43c0.4,0,0.8,0.3,0.8,0.7v2.7 c0,0.4-0.3,0.7-0.8,0.7H29.8c-0.4,0-0.8-0.3-0.8-0.7V10.7z"></path><path id="Shape_2450_1_" class="st0" d="M42.2,18H29"></path><path id="Shape_2450_2_" class="st0" d="M42.2,6H29"></path><path id="Shape_2449_2_" class="st0" d="M44.5,2H29"></path></g></g></g><path id="Rectangle-path_51_1_" class="st0" d="M17.5,9.5v13c0,0.6-0.4,1-1,1h-15c-0.6,0-1-0.4-1-1v-21c0-0.6,0.4-1,1-1h15 c0.6,0,1,0.4,1,1V4"></path><path id="Oval_332" class="st0" d="M17.5,9.5C18.9,9.5,20,8.4,20,7s-1.1-2.5-2.5-2.5C16.1,4.5,15,5.6,15,7S16.1,9.5,17.5,9.5z"></path><path id="Shape_2846" class="st0" d="M20.5,7H23c0.8,0,1.5,0.7,1.5,1.5v2c0,0.8,0.7,1.5,1.5,1.5h2.5"></path></svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=function(){function t(){this.head=this.tail=null;this.length=0}t.prototype.append=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}this.insertBefore(t[0],null);if(t.length>1){this.append.apply(this,t.slice(1))}};t.prototype.contains=function(t){var e,n=this.iterator();while(e=n()){if(e===t)return true}return false};t.prototype.insertBefore=function(t,e){if(!t)return;t.next=e;if(e!=null){t.prev=e.prev;if(e.prev!=null){e.prev.next=t}e.prev=t;if(e===this.head){this.head=t}}else if(this.tail!=null){this.tail.next=t;t.prev=this.tail;this.tail=t}else{t.prev=null;this.head=this.tail=t}this.length+=1};t.prototype.offset=function(t){var e=0,n=this.head;while(n!=null){if(n===t)return e;e+=n.length();n=n.next}return-1};t.prototype.remove=function(t){if(!this.contains(t))return;if(t.prev!=null)t.prev.next=t.next;if(t.next!=null)t.next.prev=t.prev;if(t===this.head)this.head=t.next;if(t===this.tail)this.tail=t.prev;this.length-=1};t.prototype.iterator=function(t){if(t===void 0){t=this.head}return function(){var e=t;if(t!=null)t=t.next;return e}};t.prototype.find=function(t,e){if(e===void 0){e=false}var n,r=this.iterator();while(n=r()){var i=n.length();if(t<i||e&&t===i&&(n.next==null||n.next.length()!==0)){return[n,t]}t-=i}return[null,0]};t.prototype.forEach=function(t){var e,n=this.iterator();while(e=n()){t(e)}};t.prototype.forEachAt=function(t,e,n){if(e<=0)return;var r=this.find(t),i=r[0],o=r[1];var a,s=t-o,l=this.iterator(i);while((a=l())&&s<t+e){var u=a.length();if(t>s){n(a,t-s,Math.min(e,s+u-t))}else{n(a,0,Math.min(u,t+e-s))}s+=u}};t.prototype.map=function(t){return this.reduce(function(e,n){e.push(t(n));return e},[])};t.prototype.reduce=function(t,e){var n,r=this.iterator();while(n=r()){e=t(e,n)}return e};return t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:true});var i=n(36);var o=n(7);var a={attributes:true,characterData:true,characterDataOldValue:true,childList:true,subtree:true};var s=100;var l=function(t){r(e,t);function e(e){var n=t.call(this,e)||this;n.scroll=n;n.observer=new MutationObserver(function(t){n.update(t)});n.observer.observe(n.domNode,a);n.attach();return n}e.prototype.detach=function(){t.prototype.detach.call(this);this.observer.disconnect()};e.prototype.deleteAt=function(e,n){this.update();if(e===0&&n===this.length()){this.children.forEach(function(t){t.remove()})}else{t.prototype.deleteAt.call(this,e,n)}};e.prototype.formatAt=function(e,n,r,i){this.update();t.prototype.formatAt.call(this,e,n,r,i)};e.prototype.insertAt=function(e,n,r){this.update();t.prototype.insertAt.call(this,e,n,r)};e.prototype.optimize=function(e,n){var r=this;if(e===void 0){e=[]}if(n===void 0){n={}}t.prototype.optimize.call(this,n);var a=[].slice.call(this.observer.takeRecords());while(a.length>0)e.push(a.pop());var l=function(t,e){if(e===void 0){e=true}if(t==null||t===r)return;if(t.domNode.parentNode==null)return;if(t.domNode[o.DATA_KEY].mutations==null){t.domNode[o.DATA_KEY].mutations=[]}if(e)l(t.parent)};var u=function(t){if(t.domNode[o.DATA_KEY]==null||t.domNode[o.DATA_KEY].mutations==null){return}if(t instanceof i.default){t.children.forEach(u)}t.optimize(n)};var c=e;for(var f=0;c.length>0;f+=1){if(f>=s){throw new Error("[Parchment] Maximum optimize iterations reached")}c.forEach(function(t){var e=o.find(t.target,true);if(e==null)return;if(e.domNode===t.target){if(t.type==="childList"){l(o.find(t.previousSibling,false));[].forEach.call(t.addedNodes,function(t){var e=o.find(t,false);l(e,false);if(e instanceof i.default){e.children.forEach(function(t){l(t,false)})}})}else if(t.type==="attributes"){l(e.prev)}}l(e)});this.children.forEach(u);c=[].slice.call(this.observer.takeRecords());a=c.slice();while(a.length>0)e.push(a.pop())}};e.prototype.update=function(e,n){var r=this;if(n===void 0){n={}}e=e||this.observer.takeRecords();e.map(function(t){var e=o.find(t.target,true);if(e==null)return null;if(e.domNode[o.DATA_KEY].mutations==null){e.domNode[o.DATA_KEY].mutations=[t];return e}else{e.domNode[o.DATA_KEY].mutations.push(t);return null}}).forEach(function(t){if(t==null||t===r||t.domNode[o.DATA_KEY]==null)return;t.update(t.domNode[o.DATA_KEY].mutations||[],n)});if(this.domNode[o.DATA_KEY].mutations!=null){t.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,n)}this.optimize(e,n)};e.blotName="scroll";e.defaultChild="block";e.scope=o.Scope.BLOCK_BLOT;e.tagName="DIV";return e}(i.default);e.default=l},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:true});var i=n(37);var o=n(7);function a(t,e){if(Object.keys(t).length!==Object.keys(e).length)return false;for(var n in t){if(t[n]!==e[n])return false}return true}var s=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.formats=function(n){if(n.tagName===e.tagName)return undefined;return t.formats.call(this,n)};e.prototype.format=function(n,r){var o=this;if(n===this.statics.blotName&&!r){this.children.forEach(function(t){if(!(t instanceof i.default)){t=t.wrap(e.blotName,true)}o.attributes.copy(t)});this.unwrap()}else{t.prototype.format.call(this,n,r)}};e.prototype.formatAt=function(e,n,r,i){if(this.formats()[r]!=null||o.query(r,o.Scope.ATTRIBUTE)){var a=this.isolate(e,n);a.format(r,i)}else{t.prototype.formatAt.call(this,e,n,r,i)}};e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var r=this.formats();if(Object.keys(r).length===0){return this.unwrap()}var i=this.next;if(i instanceof e&&i.prev===this&&a(r,i.formats())){i.moveChildren(this);i.remove()}};e.blotName="inline";e.scope=o.Scope.INLINE_BLOT;e.tagName="SPAN";return e}(i.default);e.default=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:true});var i=n(37);var o=n(7);var a=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.formats=function(n){var r=o.query(e.blotName).tagName;if(n.tagName===r)return undefined;return t.formats.call(this,n)};e.prototype.format=function(n,r){if(o.query(n,o.Scope.BLOCK)==null){return}else if(n===this.statics.blotName&&!r){this.replaceWith(e.blotName)}else{t.prototype.format.call(this,n,r)}};e.prototype.formatAt=function(e,n,r,i){if(o.query(r,o.Scope.BLOCK)!=null){this.format(r,i)}else{t.prototype.formatAt.call(this,e,n,r,i)}};e.prototype.insertAt=function(e,n,r){if(r==null||o.query(n,o.Scope.INLINE)!=null){t.prototype.insertAt.call(this,e,n,r)}else{var i=this.split(e);var a=o.create(n,r);i.parent.insertBefore(a,i)}};e.prototype.update=function(e,n){if(navigator.userAgent.match(/Trident/)){this.build()}else{t.prototype.update.call(this,e,n)}};e.blotName="block";e.scope=o.Scope.BLOCK_BLOT;e.tagName="P";return e}(i.default);e.default=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:true});var i=n(38);var o=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.formats=function(t){return undefined};e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)};e.prototype.formatAt=function(e,n,r,i){if(e===0&&n===this.length()){this.format(r,i)}else{t.prototype.formatAt.call(this,e,n,r,i)}};e.prototype.formats=function(){return this.statics.formats(this.domNode)};return e}(i.default);e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:true});var i=n(38);var o=n(7);var a=function(t){r(e,t);function e(e){var n=t.call(this,e)||this;n.text=n.statics.value(n.domNode);return n}e.create=function(t){return document.createTextNode(t)};e.value=function(t){var e=t.data;if(e["normalize"])e=e["normalize"]();return e};e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)};e.prototype.index=function(t,e){if(this.domNode===t){return e}return-1};e.prototype.insertAt=function(e,n,r){if(r==null){this.text=this.text.slice(0,e)+n+this.text.slice(e);this.domNode.data=this.text}else{t.prototype.insertAt.call(this,e,n,r)}};e.prototype.length=function(){return this.text.length};e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);this.text=this.statics.value(this.domNode);if(this.text.length===0){this.remove()}else if(this.next instanceof e&&this.next.prev===this){this.insertAt(this.length(),this.next.value());this.next.remove()}};e.prototype.position=function(t,e){if(e===void 0){e=false}return[this.domNode,t]};e.prototype.split=function(t,e){if(e===void 0){e=false}if(!e){if(t===0)return this;if(t===this.length())return this.next}var n=o.create(this.domNode.splitText(t));this.parent.insertBefore(n,this.next);this.text=this.statics.value(this.domNode);return n};e.prototype.update=function(t,e){var n=this;if(t.some(function(t){return t.type==="characterData"&&t.target===n.domNode})){this.text=this.statics.value(this.domNode)}};e.prototype.value=function(){return this.text};e.blotName="text";e.scope=o.Scope.INLINE_BLOT;return e}(i.default);e.default=a},function(t,e){var n=document.createElement("div");n.classList.toggle("test-class",false);if(n.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){if(arguments.length>1&&!this.contains(t)===!e){return e}else{return r.call(this,t)}}}if(!String.prototype.startsWith){String.prototype.startsWith=function(t,e){e=e||0;return this.substr(e,t.length)===t}}if(!String.prototype.endsWith){String.prototype.endsWith=function(t,e){var n=this.toString();if(typeof e!=="number"||!isFinite(e)||Math.floor(e)!==e||e>n.length){e=n.length}e-=t.length;var r=n.indexOf(t,e);return r!==-1&&r===e}}if(!Array.prototype.find){Object.defineProperty(Array.prototype,"find",{value:function t(e){if(this===null){throw new TypeError("Array.prototype.find called on null or undefined")}if(typeof e!=="function"){throw new TypeError("predicate must be a function")}var n=Object(this);var r=n.length>>>0;var i=arguments[1];var t;for(var o=0;o<r;o++){t=n[o];if(e.call(i,t,o,n)){return t}}return undefined}})}document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",false,false);document.execCommand("autoUrlDetect",false,false)})},function(t,e){var n=-1;var r=1;var i=0;function o(t,e,n){if(t==e){if(t){return[[i,t]]}return[]}if(n<0||t.length<n){n=null}var r=u(t,e);var o=t.substring(0,r);t=t.substring(r);e=e.substring(r);r=c(t,e);var s=t.substring(t.length-r);t=t.substring(0,t.length-r);e=e.substring(0,e.length-r);var l=a(t,e);if(o){l.unshift([i,o])}if(s){l.push([i,s])}h(l);if(n!=null){l=v(l,n)}l=m(l);return l}function a(t,e){var a;if(!t){return[[r,e]]}if(!e){return[[n,t]]}var l=t.length>e.length?t:e;var u=t.length>e.length?e:t;var c=l.indexOf(u);if(c!=-1){a=[[r,l.substring(0,c)],[i,u],[r,l.substring(c+u.length)]];if(t.length>e.length){a[0][0]=a[2][0]=n}return a}if(u.length==1){return[[n,t],[r,e]]}var h=f(t,e);if(h){var d=h[0];var p=h[1];var v=h[2];var m=h[3];var y=h[4];var g=o(d,v);var _=o(p,m);return g.concat([[i,y]],_)}return s(t,e)}function s(t,e){var i=t.length;var o=e.length;var a=Math.ceil((i+o)/2);var s=a;var u=2*a;var c=new Array(u);var f=new Array(u);for(var h=0;h<u;h++){c[h]=-1;f[h]=-1}c[s+1]=0;f[s+1]=0;var d=i-o;var p=d%2!=0;var v=0;var m=0;var y=0;var g=0;for(var _=0;_<a;_++){for(var b=-_+v;b<=_-m;b+=2){var w=s+b;var x;if(b==-_||b!=_&&c[w-1]<c[w+1]){x=c[w+1]}else{x=c[w-1]+1}var E=x-b;while(x<i&&E<o&&t.charAt(x)==e.charAt(E)){x++;E++}c[w]=x;if(x>i){m+=2}else if(E>o){v+=2}else if(p){var k=s+d-b;if(k>=0&&k<u&&f[k]!=-1){var O=i-f[k];if(x>=O){return l(t,e,x,E)}}}}for(var T=-_+y;T<=_-g;T+=2){var k=s+T;var O;if(T==-_||T!=_&&f[k-1]<f[k+1]){O=f[k+1]}else{O=f[k-1]+1}var C=O-T;while(O<i&&C<o&&t.charAt(i-O-1)==e.charAt(o-C-1)){O++;C++}f[k]=O;if(O>i){g+=2}else if(C>o){y+=2}else if(!p){var w=s+d-T;if(w>=0&&w<u&&c[w]!=-1){var x=c[w];var E=s+x-w;O=i-O;if(x>=O){return l(t,e,x,E)}}}}}return[[n,t],[r,e]]}function l(t,e,n,r){var i=t.substring(0,n);var a=e.substring(0,r);var s=t.substring(n);var l=e.substring(r);var u=o(i,a);var c=o(s,l);return u.concat(c)}function u(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0)){return 0}var n=0;var r=Math.min(t.length,e.length);var i=r;var o=0;while(n<i){if(t.substring(o,i)==e.substring(o,i)){n=i;o=n}else{r=i}i=Math.floor((r-n)/2+n)}return i}function c(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1)){return 0}var n=0;var r=Math.min(t.length,e.length);var i=r;var o=0;while(n<i){if(t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)){n=i;o=n}else{r=i}i=Math.floor((r-n)/2+n)}return i}function f(t,e){var n=t.length>e.length?t:e;var r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length){return null}function i(t,e,n){var r=t.substring(n,n+Math.floor(t.length/4));var i=-1;var o="";var a,s,l,f;while((i=e.indexOf(r,i+1))!=-1){var h=u(t.substring(n),e.substring(i));var d=c(t.substring(0,n),e.substring(0,i));if(o.length<d+h){o=e.substring(i-d,i)+e.substring(i,i+h);a=t.substring(0,n-d);s=t.substring(n+h);l=e.substring(0,i-d);f=e.substring(i+h)}}if(o.length*2>=t.length){return[a,s,l,f,o]}else{return null}}var o=i(n,r,Math.ceil(n.length/4));var a=i(n,r,Math.ceil(n.length/2));var s;if(!o&&!a){return null}else if(!a){s=o}else if(!o){s=a}else{s=o[4].length>a[4].length?o:a}var l,f,h,d;if(t.length>e.length){l=s[0];f=s[1];h=s[2];d=s[3]}else{h=s[0];d=s[1];l=s[2];f=s[3]}var p=s[4];return[l,f,h,d,p]}function h(t){t.push([i,""]);var e=0;var o=0;var a=0;var s="";var l="";var f;while(e<t.length){switch(t[e][0]){case r:a++;l+=t[e][1];e++;break;case n:o++;s+=t[e][1];e++;break;case i:if(o+a>1){if(o!==0&&a!==0){f=u(l,s);if(f!==0){if(e-o-a>0&&t[e-o-a-1][0]==i){t[e-o-a-1][1]+=l.substring(0,f)}else{t.splice(0,0,[i,l.substring(0,f)]);e++}l=l.substring(f);s=s.substring(f)}f=c(l,s);if(f!==0){t[e][1]=l.substring(l.length-f)+t[e][1];l=l.substring(0,l.length-f);s=s.substring(0,s.length-f)}}if(o===0){t.splice(e-a,o+a,[r,l])}else if(a===0){t.splice(e-o,o+a,[n,s])}else{t.splice(e-o-a,o+a,[n,s],[r,l])}e=e-o-a+(o?1:0)+(a?1:0)+1}else if(e!==0&&t[e-1][0]==i){t[e-1][1]+=t[e][1];t.splice(e,1)}else{e++}a=0;o=0;s="";l="";break}}if(t[t.length-1][1]===""){t.pop()}var d=false;e=1;while(e<t.length-1){if(t[e-1][0]==i&&t[e+1][0]==i){if(t[e][1].substring(t[e][1].length-t[e-1][1].length)==t[e-1][1]){t[e][1]=t[e-1][1]+t[e][1].substring(0,t[e][1].length-t[e-1][1].length);t[e+1][1]=t[e-1][1]+t[e+1][1];t.splice(e-1,1);d=true}else if(t[e][1].substring(0,t[e+1][1].length)==t[e+1][1]){t[e-1][1]+=t[e+1][1];t[e][1]=t[e][1].substring(t[e+1][1].length)+t[e+1][1];t.splice(e+1,1);d=true}}e++}if(d){h(t)}}var d=o;d.INSERT=r;d.DELETE=n;d.EQUAL=i;t.exports=d;function p(t,e){if(e===0){return[i,t]}for(var r=0,o=0;o<t.length;o++){var a=t[o];if(a[0]===n||a[0]===i){var s=r+a[1].length;if(e===s){return[o+1,t]}else if(e<s){t=t.slice();var l=e-r;var u=[a[0],a[1].slice(0,l)];var c=[a[0],a[1].slice(l)];t.splice(o,1,u,c);return[o+1,t]}else{r=s}}}throw new Error("cursor_pos is out of bounds!")}function v(t,e){var n=p(t,e);var r=n[1];var o=n[0];var a=r[o];var s=r[o+1];if(a==null){return t}else if(a[0]!==i){return t}else{if(s!=null&&a[1]+s[1]===s[1]+a[1]){r.splice(o,2,s,a);return y(r,o,2)}else if(s!=null&&s[1].indexOf(a[1])===0){r.splice(o,2,[s[0],a[1]],[0,a[1]]);var l=s[1].slice(a[1].length);if(l.length>0){r.splice(o+2,0,[s[0],l])}return y(r,o,3)}else{return t}}}function m(t){var e=false;var o=function t(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343};var a=function t(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319};for(var s=2;s<t.length;s+=1){if(t[s-2][0]===i&&a(t[s-2][1])&&t[s-1][0]===n&&o(t[s-1][1])&&t[s][0]===r&&o(t[s][1])){e=true;t[s-1][1]=t[s-2][1].slice(-1)+t[s-1][1];t[s][1]=t[s-2][1].slice(-1)+t[s][1];t[s-2][1]=t[s-2][1].slice(0,-1)}}if(!e){return t}var l=[];for(var s=0;s<t.length;s+=1){if(t[s][1].length>0){l.push(t[s])}}return l}function y(t,e,n){for(var r=e+n-1;r>=0&&r>=e-1;r--){if(r+1<t.length){var i=t[r];var o=t[r+1];if(i[0]===o[1]){t.splice(r,2,[i[0],i[1]+o[1]])}}}return t}},function(t,e){e=t.exports=typeof Object.keys==="function"?Object.keys:n;e.shim=n;function n(t){var e=[];for(var n in t){e.push(n)}return e}},function(t,e){var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";e=t.exports=r?i:o;e.supported=i;function i(t){return Object.prototype.toString.call(t)=="[object Arguments]"}e.unsupported=o;function o(t){return t&&(typeof t==="undefined"?"undefined":n(t))=="object"&&typeof t.length=="number"&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||false}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(159);var i=n(160);var o=n(161);e.Buffer=u;e.SlowBuffer=_;e.INSPECT_MAX_BYTES=50;u.TYPED_ARRAY_SUPPORT=t.TYPED_ARRAY_SUPPORT!==undefined?t.TYPED_ARRAY_SUPPORT:a();e.kMaxLength=s();function a(){try{var t=new Uint8Array(1);t.__proto__={__proto__:Uint8Array.prototype,foo:function t(){return 42}};return t.foo()===42&&typeof t.subarray==="function"&&t.subarray(1,1).byteLength===0}catch(t){return false}}function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(s()<e){throw new RangeError("Invalid typed array length")}if(u.TYPED_ARRAY_SUPPORT){t=new Uint8Array(e);t.__proto__=u.prototype}else{if(t===null){t=new u(e)}t.length=e}return t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u)){return new u(t,e,n)}if(typeof t==="number"){if(typeof e==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return d(this,t)}return c(this,t,e,n)}u.poolSize=8192;u._augment=function(t){t.__proto__=u.prototype;return t};function c(t,e,n,r){if(typeof e==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&e instanceof ArrayBuffer){return m(t,e,n,r)}if(typeof e==="string"){return p(t,e,n)}return y(t,e)}u.from=function(t,e,n){return c(null,t,e,n)};if(u.TYPED_ARRAY_SUPPORT){u.prototype.__proto__=Uint8Array.prototype;u.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&u[Symbol.species]===u){Object.defineProperty(u,Symbol.species,{value:null,configurable:true})}}function f(t){if(typeof t!=="number"){throw new TypeError('"size" argument must be a number')}else if(t<0){throw new RangeError('"size" argument must not be negative')}}function h(t,e,n,r){f(e);if(e<=0){return l(t,e)}if(n!==undefined){return typeof r==="string"?l(t,e).fill(n,r):l(t,e).fill(n)}return l(t,e)}u.alloc=function(t,e,n){return h(null,t,e,n)};function d(t,e){f(e);t=l(t,e<0?0:g(e)|0);if(!u.TYPED_ARRAY_SUPPORT){for(var n=0;n<e;++n){t[n]=0}}return t}u.allocUnsafe=function(t){return d(null,t)};u.allocUnsafeSlow=function(t){return d(null,t)};function p(t,e,n){if(typeof n!=="string"||n===""){n="utf8"}if(!u.isEncoding(n)){throw new TypeError('"encoding" must be a valid string encoding')}var r=b(e,n)|0;t=l(t,r);var i=t.write(e,n);if(i!==r){t=t.slice(0,i)}return t}function v(t,e){var n=e.length<0?0:g(e.length)|0;t=l(t,n);for(var r=0;r<n;r+=1){t[r]=e[r]&255}return t}function m(t,e,n,r){e.byteLength;if(n<0||e.byteLength<n){throw new RangeError("'offset' is out of bounds")}if(e.byteLength<n+(r||0)){throw new RangeError("'length' is out of bounds")}if(n===undefined&&r===undefined){e=new Uint8Array(e)}else if(r===undefined){e=new Uint8Array(e,n)}else{e=new Uint8Array(e,n,r)}if(u.TYPED_ARRAY_SUPPORT){t=e;t.__proto__=u.prototype}else{t=v(t,e)}return t}function y(t,e){if(u.isBuffer(e)){var n=g(e.length)|0;t=l(t,n);if(t.length===0){return t}e.copy(t,0,0,n);return t}if(e){if(typeof ArrayBuffer!=="undefined"&&e.buffer instanceof ArrayBuffer||"length"in e){if(typeof e.length!=="number"||et(e.length)){return l(t,0)}return v(t,e)}if(e.type==="Buffer"&&o(e.data)){return v(t,e.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(t){if(t>=s()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+s().toString(16)+" bytes")}return t|0}function _(t){if(+t!=t){t=0}return u.alloc(+t)}u.isBuffer=function t(e){return!!(e!=null&&e._isBuffer)};u.compare=function t(e,n){if(!u.isBuffer(e)||!u.isBuffer(n)){throw new TypeError("Arguments must be Buffers")}if(e===n)return 0;var r=e.length;var i=n.length;for(var o=0,a=Math.min(r,i);o<a;++o){if(e[o]!==n[o]){r=e[o];i=n[o];break}}if(r<i)return-1;if(i<r)return 1;return 0};u.isEncoding=function t(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};u.concat=function t(e,n){if(!o(e)){throw new TypeError('"list" argument must be an Array of Buffers')}if(e.length===0){return u.alloc(0)}var r;if(n===undefined){n=0;for(r=0;r<e.length;++r){n+=e[r].length}}var i=u.allocUnsafe(n);var a=0;for(r=0;r<e.length;++r){var s=e[r];if(!u.isBuffer(s)){throw new TypeError('"list" argument must be an Array of Buffers')}s.copy(i,a);a+=s.length}return i};function b(t,e){if(u.isBuffer(t)){return t.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)){return t.byteLength}if(typeof t!=="string"){t=""+t}var n=t.length;if(n===0)return 0;var r=false;for(;;){switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case undefined:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return Q(t).length;default:if(r)return Y(t).length;e=(""+e).toLowerCase();r=true}}}u.byteLength=b;function w(t,e,n){var r=false;if(e===undefined||e<0){e=0}if(e>this.length){return""}if(n===undefined||n>this.length){n=this.length}if(n<=0){return""}n>>>=0;e>>>=0;if(n<=e){return""}if(!t)t="utf8";while(true){switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return N(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return D(this,e,n);case"base64":return P(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase();r=true}}}u.prototype._isBuffer=true;function x(t,e,n){var r=t[e];t[e]=t[n];t[n]=r}u.prototype.swap16=function t(){var e=this.length;if(e%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var n=0;n<e;n+=2){x(this,n,n+1)}return this};u.prototype.swap32=function t(){var e=this.length;if(e%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var n=0;n<e;n+=4){x(this,n,n+3);x(this,n+1,n+2)}return this};u.prototype.swap64=function t(){var e=this.length;if(e%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var n=0;n<e;n+=8){x(this,n,n+7);x(this,n+1,n+6);x(this,n+2,n+5);x(this,n+3,n+4)}return this};u.prototype.toString=function t(){var e=this.length|0;if(e===0)return"";if(arguments.length===0)return N(this,0,e);return w.apply(this,arguments)};u.prototype.equals=function t(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(this===e)return true;return u.compare(this,e)===0};u.prototype.inspect=function t(){var n="";var r=e.INSPECT_MAX_BYTES;if(this.length>0){n=this.toString("hex",0,r).match(/.{2}/g).join(" ");if(this.length>r)n+=" ... "}return"<Buffer "+n+">"};u.prototype.compare=function t(e,n,r,i,o){if(!u.isBuffer(e)){throw new TypeError("Argument must be a Buffer")}if(n===undefined){n=0}if(r===undefined){r=e?e.length:0}if(i===undefined){i=0}if(o===undefined){o=this.length}if(n<0||r>e.length||i<0||o>this.length){throw new RangeError("out of range index")}if(i>=o&&n>=r){return 0}if(i>=o){return-1}if(n>=r){return 1}n>>>=0;r>>>=0;i>>>=0;o>>>=0;if(this===e)return 0;var a=o-i;var s=r-n;var l=Math.min(a,s);var c=this.slice(i,o);var f=e.slice(n,r);for(var h=0;h<l;++h){if(c[h]!==f[h]){a=c[h];s=f[h];break}}if(a<s)return-1;if(s<a)return 1;return 0};function E(t,e,n,r,i){if(t.length===0)return-1;if(typeof n==="string"){r=n;n=0}else if(n>2147483647){n=2147483647}else if(n<-2147483648){n=-2147483648}n=+n;if(isNaN(n)){n=i?0:t.length-1}if(n<0)n=t.length+n;if(n>=t.length){if(i)return-1;else n=t.length-1}else if(n<0){if(i)n=0;else return-1}if(typeof e==="string"){e=u.from(e,r)}if(u.isBuffer(e)){if(e.length===0){return-1}return k(t,e,n,r,i)}else if(typeof e==="number"){e=e&255;if(u.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==="function"){if(i){return Uint8Array.prototype.indexOf.call(t,e,n)}else{return Uint8Array.prototype.lastIndexOf.call(t,e,n)}}return k(t,[e],n,r,i)}throw new TypeError("val must be string, number or Buffer")}function k(t,e,n,r,i){var o=1;var a=t.length;var s=e.length;if(r!==undefined){r=String(r).toLowerCase();if(r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le"){if(t.length<2||e.length<2){return-1}o=2;a/=2;s/=2;n/=2}}function l(t,e){if(o===1){return t[e]}else{return t.readUInt16BE(e*o)}}var u;if(i){var c=-1;for(u=n;u<a;u++){if(l(t,u)===l(e,c===-1?0:u-c)){if(c===-1)c=u;if(u-c+1===s)return c*o}else{if(c!==-1)u-=u-c;c=-1}}}else{if(n+s>a)n=a-s;for(u=n;u>=0;u--){var f=true;for(var h=0;h<s;h++){if(l(t,u+h)!==l(e,h)){f=false;break}}if(f)return u}}return-1}u.prototype.includes=function t(e,n,r){return this.indexOf(e,n,r)!==-1};u.prototype.indexOf=function t(e,n,r){return E(this,e,n,r,true)};u.prototype.lastIndexOf=function t(e,n,r){return E(this,e,n,r,false)};function O(t,e,n,r){n=Number(n)||0;var i=t.length-n;if(!r){r=i}else{r=Number(r);if(r>i){r=i}}var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");if(r>o/2){r=o/2}for(var a=0;a<r;++a){var s=parseInt(e.substr(a*2,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function T(t,e,n,r){return tt(Y(e,t.length-n),t,n,r)}function C(t,e,n,r){return tt(X(e),t,n,r)}function A(t,e,n,r){return C(t,e,n,r)}function L(t,e,n,r){return tt(Q(e),t,n,r)}function S(t,e,n,r){return tt(J(e,t.length-n),t,n,r)}u.prototype.write=function t(e,n,r,i){if(n===undefined){i="utf8";r=this.length;n=0}else if(r===undefined&&typeof n==="string"){i=n;r=this.length;n=0}else if(isFinite(n)){n=n|0;if(isFinite(r)){r=r|0;if(i===undefined)i="utf8"}else{i=r;r=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var o=this.length-n;if(r===undefined||r>o)r=o;if(e.length>0&&(r<0||n<0)||n>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!i)i="utf8";var a=false;for(;;){switch(i){case"hex":return O(this,e,n,r);case"utf8":case"utf-8":return T(this,e,n,r);case"ascii":return C(this,e,n,r);case"latin1":case"binary":return A(this,e,n,r);case"base64":return L(this,e,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,n,r);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase();a=true}}};u.prototype.toJSON=function t(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(t,e,n){if(e===0&&n===t.length){return r.fromByteArray(t)}else{return r.fromByteArray(t.slice(e,n))}}function N(t,e,n){n=Math.min(t.length,n);var r=[];var i=e;while(i<n){var o=t[i];var a=null;var s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var l,u,c,f;switch(s){case 1:if(o<128){a=o}break;case 2:l=t[i+1];if((l&192)===128){f=(o&31)<<6|l&63;if(f>127){a=f}}break;case 3:l=t[i+1];u=t[i+2];if((l&192)===128&&(u&192)===128){f=(o&15)<<12|(l&63)<<6|u&63;if(f>2047&&(f<55296||f>57343)){a=f}}break;case 4:l=t[i+1];u=t[i+2];c=t[i+3];if((l&192)===128&&(u&192)===128&&(c&192)===128){f=(o&15)<<18|(l&63)<<12|(u&63)<<6|c&63;if(f>65535&&f<1114112){a=f}}}}if(a===null){a=65533;s=1}else if(a>65535){a-=65536;r.push(a>>>10&1023|55296);a=56320|a&1023}r.push(a);i+=s}return M(r)}var j=4096;function M(t){var e=t.length;if(e<=j){return String.fromCharCode.apply(String,t)}var n="";var r=0;while(r<e){n+=String.fromCharCode.apply(String,t.slice(r,r+=j))}return n}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i){r+=String.fromCharCode(t[i]&127)}return r}function D(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i){r+=String.fromCharCode(t[i])}return r}function R(t,e,n){var r=t.length;if(!e||e<0)e=0;if(!n||n<0||n>r)n=r;var i="";for(var o=e;o<n;++o){i+=K(t[o])}return i}function q(t,e,n){var r=t.slice(e,n);var i="";for(var o=0;o<r.length;o+=2){i+=String.fromCharCode(r[o]+r[o+1]*256)}return i}u.prototype.slice=function t(e,n){var r=this.length;e=~~e;n=n===undefined?r:~~n;if(e<0){e+=r;if(e<0)e=0}else if(e>r){e=r}if(n<0){n+=r;if(n<0)n=0}else if(n>r){n=r}if(n<e)n=e;var i;if(u.TYPED_ARRAY_SUPPORT){i=this.subarray(e,n);i.__proto__=u.prototype}else{var o=n-e;i=new u(o,undefined);for(var a=0;a<o;++a){i[a]=this[a+e]}}return i};function B(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUIntLE=function t(e,n,r){e=e|0;n=n|0;if(!r)B(e,n,this.length);var i=this[e];var o=1;var a=0;while(++a<n&&(o*=256)){i+=this[e+a]*o}return i};u.prototype.readUIntBE=function t(e,n,r){e=e|0;n=n|0;if(!r){B(e,n,this.length)}var i=this[e+--n];var o=1;while(n>0&&(o*=256)){i+=this[e+--n]*o}return i};u.prototype.readUInt8=function t(e,n){if(!n)B(e,1,this.length);return this[e]};u.prototype.readUInt16LE=function t(e,n){if(!n)B(e,2,this.length);return this[e]|this[e+1]<<8};u.prototype.readUInt16BE=function t(e,n){if(!n)B(e,2,this.length);return this[e]<<8|this[e+1]};u.prototype.readUInt32LE=function t(e,n){if(!n)B(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};u.prototype.readUInt32BE=function t(e,n){if(!n)B(e,4,this.length);return this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};u.prototype.readIntLE=function t(e,n,r){e=e|0;n=n|0;if(!r)B(e,n,this.length);var i=this[e];var o=1;var a=0;while(++a<n&&(o*=256)){i+=this[e+a]*o}o*=128;if(i>=o)i-=Math.pow(2,8*n);return i};u.prototype.readIntBE=function t(e,n,r){e=e|0;n=n|0;if(!r)B(e,n,this.length);var i=n;var o=1;var a=this[e+--i];while(i>0&&(o*=256)){a+=this[e+--i]*o}o*=128;if(a>=o)a-=Math.pow(2,8*n);return a};u.prototype.readInt8=function t(e,n){if(!n)B(e,1,this.length);if(!(this[e]&128))return this[e];return(255-this[e]+1)*-1};u.prototype.readInt16LE=function t(e,n){if(!n)B(e,2,this.length);var r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};u.prototype.readInt16BE=function t(e,n){if(!n)B(e,2,this.length);var r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};u.prototype.readInt32LE=function t(e,n){if(!n)B(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};u.prototype.readInt32BE=function t(e,n){if(!n)B(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};u.prototype.readFloatLE=function t(e,n){if(!n)B(e,4,this.length);return i.read(this,e,true,23,4)};u.prototype.readFloatBE=function t(e,n){if(!n)B(e,4,this.length);return i.read(this,e,false,23,4)};u.prototype.readDoubleLE=function t(e,n){if(!n)B(e,8,this.length);return i.read(this,e,true,52,8)};u.prototype.readDoubleBE=function t(e,n){if(!n)B(e,8,this.length);return i.read(this,e,false,52,8)};function F(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}u.prototype.writeUIntLE=function t(e,n,r,i){e=+e;n=n|0;r=r|0;if(!i){var o=Math.pow(2,8*r)-1;F(this,e,n,r,o,0)}var a=1;var s=0;this[n]=e&255;while(++s<r&&(a*=256)){this[n+s]=e/a&255}return n+r};u.prototype.writeUIntBE=function t(e,n,r,i){e=+e;n=n|0;r=r|0;if(!i){var o=Math.pow(2,8*r)-1;F(this,e,n,r,o,0)}var a=r-1;var s=1;this[n+a]=e&255;while(--a>=0&&(s*=256)){this[n+a]=e/s&255}return n+r};u.prototype.writeUInt8=function t(e,n,r){e=+e;n=n|0;if(!r)F(this,e,n,1,255,0);if(!u.TYPED_ARRAY_SUPPORT)e=Math.floor(e);this[n]=e&255;return n+1};function z(t,e,n,r){if(e<0)e=65535+e+1;for(var i=0,o=Math.min(t.length-n,2);i<o;++i){t[n+i]=(e&255<<8*(r?i:1-i))>>>(r?i:1-i)*8}}u.prototype.writeUInt16LE=function t(e,n,r){e=+e;n=n|0;if(!r)F(this,e,n,2,65535,0);if(u.TYPED_ARRAY_SUPPORT){this[n]=e&255;this[n+1]=e>>>8}else{z(this,e,n,true)}return n+2};u.prototype.writeUInt16BE=function t(e,n,r){e=+e;n=n|0;if(!r)F(this,e,n,2,65535,0);if(u.TYPED_ARRAY_SUPPORT){this[n]=e>>>8;this[n+1]=e&255}else{z(this,e,n,false)}return n+2};function U(t,e,n,r){if(e<0)e=4294967295+e+1;for(var i=0,o=Math.min(t.length-n,4);i<o;++i){t[n+i]=e>>>(r?i:3-i)*8&255}}u.prototype.writeUInt32LE=function t(e,n,r){e=+e;n=n|0;if(!r)F(this,e,n,4,4294967295,0);if(u.TYPED_ARRAY_SUPPORT){this[n+3]=e>>>24;this[n+2]=e>>>16;this[n+1]=e>>>8;this[n]=e&255}else{U(this,e,n,true)}return n+4};u.prototype.writeUInt32BE=function t(e,n,r){e=+e;n=n|0;if(!r)F(this,e,n,4,4294967295,0);if(u.TYPED_ARRAY_SUPPORT){this[n]=e>>>24;this[n+1]=e>>>16;this[n+2]=e>>>8;this[n+3]=e&255}else{U(this,e,n,false)}return n+4};u.prototype.writeIntLE=function t(e,n,r,i){e=+e;n=n|0;if(!i){var o=Math.pow(2,8*r-1);F(this,e,n,r,o-1,-o)}var a=0;var s=1;var l=0;this[n]=e&255;while(++a<r&&(s*=256)){if(e<0&&l===0&&this[n+a-1]!==0){l=1}this[n+a]=(e/s>>0)-l&255}return n+r};u.prototype.writeIntBE=function t(e,n,r,i){e=+e;n=n|0;if(!i){var o=Math.pow(2,8*r-1);F(this,e,n,r,o-1,-o)}var a=r-1;var s=1;var l=0;this[n+a]=e&255;while(--a>=0&&(s*=256)){if(e<0&&l===0&&this[n+a+1]!==0){l=1}this[n+a]=(e/s>>0)-l&255}return n+r};u.prototype.writeInt8=function t(e,n,r){e=+e;n=n|0;if(!r)F(this,e,n,1,127,-128);if(!u.TYPED_ARRAY_SUPPORT)e=Math.floor(e);if(e<0)e=255+e+1;this[n]=e&255;return n+1};u.prototype.writeInt16LE=function t(e,n,r){e=+e;n=n|0;if(!r)F(this,e,n,2,32767,-32768);if(u.TYPED_ARRAY_SUPPORT){this[n]=e&255;this[n+1]=e>>>8}else{z(this,e,n,true)}return n+2};u.prototype.writeInt16BE=function t(e,n,r){e=+e;n=n|0;if(!r)F(this,e,n,2,32767,-32768);if(u.TYPED_ARRAY_SUPPORT){this[n]=e>>>8;this[n+1]=e&255}else{z(this,e,n,false)}return n+2};u.prototype.writeInt32LE=function t(e,n,r){e=+e;n=n|0;if(!r)F(this,e,n,4,2147483647,-2147483648);if(u.TYPED_ARRAY_SUPPORT){this[n]=e&255;this[n+1]=e>>>8;this[n+2]=e>>>16;this[n+3]=e>>>24}else{U(this,e,n,true)}return n+4};u.prototype.writeInt32BE=function t(e,n,r){e=+e;n=n|0;if(!r)F(this,e,n,4,2147483647,-2147483648);if(e<0)e=4294967295+e+1;if(u.TYPED_ARRAY_SUPPORT){this[n]=e>>>24;this[n+1]=e>>>16;this[n+2]=e>>>8;this[n+3]=e&255}else{U(this,e,n,false)}return n+4};function $(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(t,e,n,r,o){if(!o){$(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38)}i.write(t,e,n,r,23,4);return n+4}u.prototype.writeFloatLE=function t(e,n,r){return H(this,e,n,true,r)};u.prototype.writeFloatBE=function t(e,n,r){return H(this,e,n,false,r)};function Z(t,e,n,r,o){if(!o){$(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308)}i.write(t,e,n,r,52,8);return n+8}u.prototype.writeDoubleLE=function t(e,n,r){return Z(this,e,n,true,r)};u.prototype.writeDoubleBE=function t(e,n,r){return Z(this,e,n,false,r)};u.prototype.copy=function t(e,n,r,i){if(!r)r=0;if(!i&&i!==0)i=this.length;if(n>=e.length)n=e.length;if(!n)n=0;if(i>0&&i<r)i=r;if(i===r)return 0;if(e.length===0||this.length===0)return 0;if(n<0){throw new RangeError("targetStart out of bounds")}if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");if(i>this.length)i=this.length;if(e.length-n<i-r){i=e.length-n+r}var o=i-r;var a;if(this===e&&r<n&&n<i){for(a=o-1;a>=0;--a){e[a+n]=this[a+r]}}else if(o<1e3||!u.TYPED_ARRAY_SUPPORT){for(a=0;a<o;++a){e[a+n]=this[a+r]}}else{Uint8Array.prototype.set.call(e,this.subarray(r,r+o),n)}return o};u.prototype.fill=function t(e,n,r,i){if(typeof e==="string"){if(typeof n==="string"){i=n;n=0;r=this.length}else if(typeof r==="string"){i=r;r=this.length}if(e.length===1){var o=e.charCodeAt(0);if(o<256){e=o}}if(i!==undefined&&typeof i!=="string"){throw new TypeError("encoding must be a string")}if(typeof i==="string"&&!u.isEncoding(i)){throw new TypeError("Unknown encoding: "+i)}}else if(typeof e==="number"){e=e&255}if(n<0||this.length<n||this.length<r){throw new RangeError("Out of range index")}if(r<=n){return this}n=n>>>0;r=r===undefined?this.length:r>>>0;if(!e)e=0;var a;if(typeof e==="number"){for(a=n;a<r;++a){this[a]=e}}else{var s=u.isBuffer(e)?e:Y(new u(e,i).toString());var l=s.length;for(a=0;a<r-n;++a){this[a+n]=s[a%l]}}return this};var V=/[^+\/0-9A-Za-z-_]/g;function W(t){t=G(t).replace(V,"");if(t.length<2)return"";while(t.length%4!==0){t=t+"="}return t}function G(t){if(t.trim)return t.trim();return t.replace(/^\s+|\s+$/g,"")}function K(t){if(t<16)return"0"+t.toString(16);return t.toString(16)}function Y(t,e){e=e||Infinity;var n;var r=t.length;var i=null;var o=[];for(var a=0;a<r;++a){n=t.charCodeAt(a);if(n>55295&&n<57344){if(!i){if(n>56319){if((e-=3)>-1)o.push(239,191,189);continue}else if(a+1===r){if((e-=3)>-1)o.push(239,191,189);continue}i=n;continue}if(n<56320){if((e-=3)>-1)o.push(239,191,189);i=n;continue}n=(i-55296<<10|n-56320)+65536}else if(i){if((e-=3)>-1)o.push(239,191,189)}i=null;if(n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else{throw new Error("Invalid code point")}}return o}function X(t){var e=[];for(var n=0;n<t.length;++n){e.push(t.charCodeAt(n)&255)}return e}function J(t,e){var n,r,i;var o=[];for(var a=0;a<t.length;++a){if((e-=2)<0)break;n=t.charCodeAt(a);r=n>>8;i=n%256;o.push(i);o.push(r)}return o}function Q(t){return r.toByteArray(W(t))}function tt(t,e,n,r){for(var i=0;i<r;++i){if(i+n>=e.length||i>=t.length)break;e[i+n]=t[i]}return i}function et(t){return t!==t}}).call(this,n(19))},function(t,e,n){"use strict";e.byteLength=c;e.toByteArray=h;e.fromByteArray=v;var r=[];var i=[];var o=typeof Uint8Array!=="undefined"?Uint8Array:Array;var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var s=0,l=a.length;s<l;++s){r[s]=a[s];i[a.charCodeAt(s)]=s}i["-".charCodeAt(0)]=62;i["_".charCodeAt(0)]=63;function u(t){var e=t.length;if(e%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var n=t.indexOf("=");if(n===-1)n=e;var r=n===e?0:4-n%4;return[n,r]}function c(t){var e=u(t);var n=e[0];var r=e[1];return(n+r)*3/4-r}function f(t,e,n){return(e+n)*3/4-n}function h(t){var e;var n=u(t);var r=n[0];var a=n[1];var s=new o(f(t,r,a));var l=0;var c=a>0?r-4:r;for(var h=0;h<c;h+=4){e=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)];s[l++]=e>>16&255;s[l++]=e>>8&255;s[l++]=e&255}if(a===2){e=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4;s[l++]=e&255}if(a===1){e=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2;s[l++]=e>>8&255;s[l++]=e&255}return s}function d(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[t&63]}function p(t,e,n){var r;var i=[];for(var o=e;o<n;o+=3){r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255);i.push(d(r))}return i.join("")}function v(t){var e;var n=t.length;var i=n%3;var o=[];var a=16383;for(var s=0,l=n-i;s<l;s+=a){o.push(p(t,s,s+a>l?l:s+a))}if(i===1){e=t[n-1];o.push(r[e>>2]+r[e<<4&63]+"==")}else if(i===2){e=(t[n-2]<<8)+t[n-1];o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")}return o.join("")}},function(t,e){e.read=function(t,e,n,r,i){var o,a;var s=i*8-r-1;var l=(1<<s)-1;var u=l>>1;var c=-7;var f=n?i-1:0;var h=n?-1:1;var d=t[e+f];f+=h;o=d&(1<<-c)-1;d>>=-c;c+=s;for(;c>0;o=o*256+t[e+f],f+=h,c-=8){}a=o&(1<<-c)-1;o>>=-c;c+=r;for(;c>0;a=a*256+t[e+f],f+=h,c-=8){}if(o===0){o=1-u}else if(o===l){return a?NaN:(d?-1:1)*Infinity}else{a=a+Math.pow(2,r);o=o-u}return(d?-1:1)*a*Math.pow(2,o-r)};e.write=function(t,e,n,r,i,o){var a,s,l;var u=o*8-i-1;var c=(1<<u)-1;var f=c>>1;var h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0;var d=r?0:o-1;var p=r?1:-1;var v=e<0||e===0&&1/e<0?1:0;e=Math.abs(e);if(isNaN(e)||e===Infinity){s=isNaN(e)?1:0;a=c}else{a=Math.floor(Math.log(e)/Math.LN2);if(e*(l=Math.pow(2,-a))<1){a--;l*=2}if(a+f>=1){e+=h/l}else{e+=h*Math.pow(2,1-f)}if(e*l>=2){a++;l/=2}if(a+f>=c){s=0;a=c}else if(a+f>=1){s=(e*l-1)*Math.pow(2,i);a=a+f}else{s=e*Math.pow(2,f-1)*Math.pow(2,i);a=0}}for(;i>=8;t[n+d]=s&255,d+=p,s/=256,i-=8){}a=a<<i|s;u+=i;for(;u>0;t[n+d]=a&255,d+=p,a/=256,u-=8){}t[n+d-p]|=v*128}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return n.call(t)=="[object Array]"}},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"></line><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"></line></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon><rect height="1" width="1" x="4" y="4"></rect><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon><rect height="1" width="1" x="2" y="6"></rect><rect height="1" width="1" x="3" y="5"></rect><rect height="1" width="1" x="4" y="7"></rect><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon><rect height="1" width="1" x="2" y="12"></rect><rect height="1" width="1" x="2" y="9"></rect><rect height="1" width="1" x="2" y="15"></rect><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon><rect height="1" width="1" x="3" y="8"></rect><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"></path><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"></path><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"></path><rect height="1" width="1" x="12" y="2"></rect><rect height="1" width="1" x="11" y="3"></rect><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"></path><rect height="1" width="1" x="2" y="3"></rect><rect height="1" width="1" x="6" y="2"></rect><rect height="1" width="1" x="3" y="2"></rect><rect height="1" width="1" x="5" y="3"></rect><rect height="1" width="1" x="9" y="2"></rect><rect height="1" width="1" x="15" y="14"></rect><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon><rect height="1" width="1" x="13" y="7"></rect><rect height="1" width="1" x="15" y="5"></rect><rect height="1" width="1" x="14" y="6"></rect><rect height="1" width="1" x="15" y="8"></rect><rect height="1" width="1" x="14" y="9"></rect><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"></path><rect height="1" width="1" x="14" y="3"></rect><polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon><rect height="1" width="1" x="15" y="2"></rect><rect height="1" width="1" x="12" y="5"></rect><rect height="1" width="1" x="13" y="4"></rect><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon><rect height="1" width="1" x="9" y="14"></rect><rect height="1" width="1" x="8" y="15"></rect><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"></path><rect height="1" width="1" x="5" y="15"></rect><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"></path><rect height="1" width="1" x="11" y="15"></rect><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"></path><rect height="1" width="1" x="14" y="15"></rect><rect height="1" width="1" x="15" y="11"></rect></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"></polyline><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"></line></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"></rect><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"></rect><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"></path><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"></path><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"></path></svg>'},function(t,e){t.exports='<svg class viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"></line><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"></line><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"></line><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"></line><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"></line><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"></polyline><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"></line></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"></line><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"></path><rect class="ql-fill" height="11" width="1" x="11" y="4"></rect><rect class="ql-fill" height="11" width="1" x="13" y="4"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"></line><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"></path><rect class="ql-fill" height="11" width="1" x="5" y="4"></rect><rect class="ql-fill" height="11" width="1" x="7" y="4"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z"></path><path class="ql-fill" d="M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z"></path><rect class="ql-fill" x="3" y="6" width="12" height="6" rx="1" ry="1"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z"></path><path class="ql-fill" d="M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z"></path><rect class="ql-fill" x="2" y="6" width="14" height="6" rx="1" ry="1"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z"></path><path class="ql-fill" d="M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z"></path><path class="ql-fill" d="M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z"></path><path class="ql-fill" d="M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z"></path><rect class="ql-fill" x="2" y="6" width="8" height="6" rx="1" ry="1"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z"></path><path class="ql-fill" d="M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z"></path><path class="ql-fill" d="M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z"></path><path class="ql-fill" d="M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z"></path><rect class="ql-fill" x="8" y="6" width="8" height="6" rx="1" ry="1" transform="translate(24 18) rotate(-180)"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"></path><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"></rect><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"></line><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"></line><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"></line></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"></rect><circle class="ql-fill" cx="6" cy="7" r="1"></circle><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"></line><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"></line><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"></line><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"></line><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"></line><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"></line><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"></polyline></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"></line><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"></path><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"></line><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"></line><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"></line><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"></line><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"></path><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"></path><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"></line><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"></line><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"></line><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"></line><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"></line><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"></line></svg>'},function(t,e){t.exports='<svg class viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"></line><polyline class="ql-stroke" points="3 4 4 5 6 3"></polyline><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"></line><polyline class="ql-stroke" points="3 14 4 15 6 13"></polyline><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"></line><polyline class="ql-stroke" points="3 9 4 10 6 8"></polyline></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"></path><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"></path><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"></line><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"></path><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"></path></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"></path><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"></rect></svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"></rect><rect class="ql-fill" height="12" width="1" x="5" y="3"></rect><rect class="ql-fill" height="12" width="1" x="12" y="3"></rect><rect class="ql-fill" height="2" width="8" x="5" y="8"></rect><rect class="ql-fill" height="1" width="3" x="3" y="5"></rect><rect class="ql-fill" height="1" width="3" x="3" y="7"></rect><rect class="ql-fill" height="1" width="3" x="3" y="10"></rect><rect class="ql-fill" height="1" width="3" x="3" y="12"></rect><rect class="ql-fill" height="1" width="3" x="12" y="5"></rect><rect class="ql-fill" height="1" width="3" x="12" y="7"></rect><rect class="ql-fill" height="1" width="3" x="12" y="10"></rect><rect class="ql-fill" height="1" width="3" x="12" y="12"></rect></svg>'},function(t,e,n){var r=n(194),i=n(223),o=n(41),a=n(224),s=n(230),l=n(233),u=n(234),c=n(235),f=n(237),h=n(238),d=n(81),p=n(31),v=n(243),m=n(244),y=n(250),g=n(10),_=n(42),b=n(252),w=n(17),x=n(254),E=n(28);var k=1,O=2,T=4;var C="[object Arguments]",A="[object Array]",L="[object Boolean]",S="[object Date]",P="[object Error]",N="[object Function]",j="[object GeneratorFunction]",M="[object Map]",I="[object Number]",D="[object Object]",R="[object RegExp]",q="[object Set]",B="[object String]",F="[object Symbol]",z="[object WeakMap]";var U="[object ArrayBuffer]",$="[object DataView]",H="[object Float32Array]",Z="[object Float64Array]",V="[object Int8Array]",W="[object Int16Array]",G="[object Int32Array]",K="[object Uint8Array]",Y="[object Uint8ClampedArray]",X="[object Uint16Array]",J="[object Uint32Array]";var Q={};Q[C]=Q[A]=Q[U]=Q[$]=Q[L]=Q[S]=Q[H]=Q[Z]=Q[V]=Q[W]=Q[G]=Q[M]=Q[I]=Q[D]=Q[R]=Q[q]=Q[B]=Q[F]=Q[K]=Q[Y]=Q[X]=Q[J]=true;Q[P]=Q[N]=Q[z]=false;function tt(t,e,n,A,L,S){var P,M=e&k,I=e&O,R=e&T;if(n){P=L?n(t,A,L,S):n(t)}if(P!==undefined){return P}if(!w(t)){return t}var q=g(t);if(q){P=v(t);if(!M){return u(t,P)}}else{var B=p(t),F=B==N||B==j;if(_(t)){return l(t,M)}if(B==D||B==C||F&&!L){P=I||F?{}:y(t);if(!M){return I?f(t,s(P,t)):c(t,a(P,t))}}else{if(!Q[B]){return L?t:{}}P=m(t,B,M)}}S||(S=new r);var z=S.get(t);if(z){return z}S.set(t,P);if(x(t)){t.forEach(function(r){P.add(tt(r,e,n,r,t,S))});return P}if(b(t)){t.forEach(function(r,i){P.set(i,tt(r,e,n,i,t,S))});return P}var U=R?I?d:h:I?keysIn:E;var $=q?undefined:U(t);i($||t,function(r,i){if($){i=r;r=t[i]}o(P,i,tt(r,e,n,i,t,S))});return P}t.exports=tt},function(t,e,n){var r=n(24),i=n(200),o=n(201),a=n(202),s=n(203),l=n(204);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=i;u.prototype["delete"]=o;u.prototype.get=a;u.prototype.has=s;u.prototype.set=l;t.exports=u},function(t,e){function n(){this.__data__=[];this.size=0}t.exports=n},function(t,e,n){var r=n(25);var i=Array.prototype;var o=i.splice;function a(t){var e=this.__data__,n=r(e,t);if(n<0){return false}var i=e.length-1;if(n==i){e.pop()}else{o.call(e,n,1)}--this.size;return true}t.exports=a},function(t,e,n){var r=n(25);function i(t){var e=this.__data__,n=r(e,t);return n<0?undefined:e[n][1]}t.exports=i},function(t,e,n){var r=n(25);function i(t){return r(this.__data__,t)>-1}t.exports=i},function(t,e,n){var r=n(25);function i(t,e){var n=this.__data__,i=r(n,t);if(i<0){++this.size;n.push([t,e])}else{n[i][1]=e}return this}t.exports=i},function(t,e,n){var r=n(24);function i(){this.__data__=new r;this.size=0}t.exports=i},function(t,e){function n(t){var e=this.__data__,n=e["delete"](t);this.size=e.size;return n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){var r=n(24),i=n(40),o=n(70);var a=200;function s(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1){s.push([t,e]);this.size=++n.size;return this}n=this.__data__=new o(s)}n.set(t,e);this.size=n.size;return this}t.exports=s},function(t,e,n){var r=n(67),i=n(208),o=n(17),a=n(69);var s=/[\\^$.*+?()[\]{}|]/g;var l=/^\[object .+?Constructor\]$/;var u=Function.prototype,c=Object.prototype;var f=u.toString;var h=c.hasOwnProperty;var d=RegExp("^"+f.call(h).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(t){if(!o(t)||i(t)){return false}var e=r(t)?d:l;return e.test(a(t))}t.exports=p},function(t,e,n){var r=n(21);var i=Object.prototype;var o=i.hasOwnProperty;var a=i.toString;var s=r?r.toStringTag:undefined;function l(t){var e=o.call(t,s),n=t[s];try{t[s]=undefined;var r=true}catch(t){}var i=a.call(t);if(r){if(e){t[s]=n}else{delete t[s]}}return i}t.exports=l},function(t,e){var n=Object.prototype;var r=n.toString;function i(t){return r.call(t)}t.exports=i},function(t,e,n){var r=n(209);var i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function o(t){return!!i&&i in t}t.exports=o},function(t,e,n){var r=n(9);var i=r["__core-js_shared__"];t.exports=i},function(t,e){function n(t,e){return t==null?undefined:t[e]}t.exports=n},function(t,e,n){var r=n(212),i=n(24),o=n(40);function a(){this.size=0;this.__data__={hash:new r,map:new(o||i),string:new r}}t.exports=a},function(t,e,n){var r=n(213),i=n(214),o=n(215),a=n(216),s=n(217);function l(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r;l.prototype["delete"]=i;l.prototype.get=o;l.prototype.has=a;l.prototype.set=s;t.exports=l},function(t,e,n){var r=n(26);function i(){this.__data__=r?r(null):{};this.size=0}t.exports=i},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}t.exports=n},function(t,e,n){var r=n(26);var i="__lodash_hash_undefined__";var o=Object.prototype;var a=o.hasOwnProperty;function s(t){var e=this.__data__;if(r){var n=e[t];return n===i?undefined:n}return a.call(e,t)?e[t]:undefined}t.exports=s},function(t,e,n){var r=n(26);var i=Object.prototype;var o=i.hasOwnProperty;function a(t){var e=this.__data__;return r?e[t]!==undefined:o.call(e,t)}t.exports=a},function(t,e,n){var r=n(26);var i="__lodash_hash_undefined__";function o(t,e){var n=this.__data__;this.size+=this.has(t)?0:1;n[t]=r&&e===undefined?i:e;return this}t.exports=o},function(t,e,n){var r=n(27);function i(t){var e=r(this,t)["delete"](t);this.size-=e?1:0;return e}t.exports=i},function(t,e){var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t){var e=typeof t==="undefined"?"undefined":n(t);return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}t.exports=r},function(t,e,n){var r=n(27);function i(t){return r(this,t).get(t)}t.exports=i},function(t,e,n){var r=n(27);function i(t){return r(this,t).has(t)}t.exports=i},function(t,e,n){var r=n(27);function i(t,e){var n=r(this,t),i=n.size;n.set(t,e);this.size+=n.size==i?0:1;return this}t.exports=i},function(t,e){function n(t,e){var n=-1,r=t==null?0:t.length;while(++n<r){if(e(t[n],n,t)===false){break}}return t}t.exports=n},function(t,e,n){var r=n(22),i=n(28);function o(t,e){return t&&r(e,i(e),t)}t.exports=o},function(t,e){function n(t,e){var n=-1,r=Array(t);while(++n<t){r[n]=e(n)}return r}t.exports=n},function(t,e,n){var r=n(16),i=n(14);var o="[object Arguments]";function a(t){return i(t)&&r(t)==o}t.exports=a},function(t,e){function n(){return false}t.exports=n},function(t,e,n){var r=n(16),i=n(44),o=n(14);var a="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Function]",h="[object Map]",d="[object Number]",p="[object Object]",v="[object RegExp]",m="[object Set]",y="[object String]",g="[object WeakMap]";var _="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",E="[object Int8Array]",k="[object Int16Array]",O="[object Int32Array]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",A="[object Uint16Array]",L="[object Uint32Array]";var S={};S[w]=S[x]=S[E]=S[k]=S[O]=S[T]=S[C]=S[A]=S[L]=true;S[a]=S[s]=S[_]=S[l]=S[b]=S[u]=S[c]=S[f]=S[h]=S[d]=S[p]=S[v]=S[m]=S[y]=S[g]=false;function P(t){return o(t)&&i(t.length)&&!!S[r(t)]}t.exports=P},function(t,e,n){var r=n(76);var i=r(Object.keys,Object);t.exports=i},function(t,e,n){var r=n(22),i=n(77);function o(t,e){return t&&r(e,i(e),t)}t.exports=o},function(t,e,n){var r=n(17),i=n(30),o=n(232);var a=Object.prototype;var s=a.hasOwnProperty;function l(t){if(!r(t)){return o(t)}var e=i(t),n=[];for(var a in t){if(!(a=="constructor"&&(e||!s.call(t,a)))){n.push(a)}}return n}t.exports=l},function(t,e){function n(t){var e=[];if(t!=null){for(var n in Object(t)){e.push(n)}}return e}t.exports=n},function(t,e,n){(function(t){var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=n(9);var o=(false?undefined:r(e))=="object"&&e&&!e.nodeType&&e;var a=o&&(false?undefined:r(t))=="object"&&t&&!t.nodeType&&t;var s=a&&a.exports===o;var l=s?i.Buffer:undefined,u=l?l.allocUnsafe:undefined;function c(t,e){if(e){return t.slice()}var n=t.length,r=u?u(n):new t.constructor(n);t.copy(r);return r}t.exports=c}).call(this,n(23)(t))},function(t,e){function n(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r){e[n]=t[n]}return e}t.exports=n},function(t,e,n){var r=n(22),i=n(48);function o(t,e){return r(t,i(t),e)}t.exports=o},function(t,e){function n(t,e){var n=-1,r=t==null?0:t.length,i=0,o=[];while(++n<r){var a=t[n];if(e(a,n,t)){o[i++]=a}}return o}t.exports=n},function(t,e,n){var r=n(22),i=n(79);function o(t,e){return r(t,i(t),e)}t.exports=o},function(t,e,n){var r=n(80),i=n(48),o=n(28);function a(t){return r(t,o,i)}t.exports=a},function(t,e,n){var r=n(13),i=n(9);var o=r(i,"DataView");t.exports=o},function(t,e,n){var r=n(13),i=n(9);var o=r(i,"Promise");t.exports=o},function(t,e,n){var r=n(13),i=n(9);var o=r(i,"Set");t.exports=o},function(t,e,n){var r=n(13),i=n(9);var o=r(i,"WeakMap");t.exports=o},function(t,e){var n=Object.prototype;var r=n.hasOwnProperty;function i(t){var e=t.length,n=new t.constructor(e);if(e&&typeof t[0]=="string"&&r.call(t,"index")){n.index=t.index;n.input=t.input}return n}t.exports=i},function(t,e,n){var r=n(51),i=n(246),o=n(247),a=n(248),s=n(249);var l="[object Boolean]",u="[object Date]",c="[object Map]",f="[object Number]",h="[object RegExp]",d="[object Set]",p="[object String]",v="[object Symbol]";var m="[object ArrayBuffer]",y="[object DataView]",g="[object Float32Array]",_="[object Float64Array]",b="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",E="[object Uint8Array]",k="[object Uint8ClampedArray]",O="[object Uint16Array]",T="[object Uint32Array]";function C(t,e,n){var C=t.constructor;switch(e){case m:return r(t);case l:case u:return new C(+t);case y:return i(t,n);case g:case _:case b:case w:case x:case E:case k:case O:case T:return s(t,n);case c:return new C;case f:case p:return new C(t);case h:return o(t);case d:return new C;case v:return a(t)}}t.exports=C},function(t,e,n){var r=n(9);var i=r.Uint8Array;t.exports=i},function(t,e,n){var r=n(51);function i(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}t.exports=i},function(t,e){var n=/\w*$/;function r(t){var e=new t.constructor(t.source,n.exec(t));e.lastIndex=t.lastIndex;return e}t.exports=r},function(t,e,n){var r=n(21);var i=r?r.prototype:undefined,o=i?i.valueOf:undefined;function a(t){return o?Object(o.call(t)):{}}t.exports=a},function(t,e,n){var r=n(51);function i(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}t.exports=i},function(t,e,n){var r=n(251),i=n(50),o=n(30);function a(t){return typeof t.constructor=="function"&&!o(t)?r(i(t)):{}}t.exports=a},function(t,e,n){var r=n(17);var i=Object.create;var o=function(){function t(){}return function(e){if(!r(e)){return{}}if(i){return i(e)}t.prototype=e;var n=new t;t.prototype=undefined;return n}}();t.exports=o},function(t,e,n){var r=n(253),i=n(45),o=n(46);var a=o&&o.isMap;var s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(31),i=n(14);var o="[object Map]";function a(t){return i(t)&&r(t)==o}t.exports=a},function(t,e,n){var r=n(255),i=n(45),o=n(46);var a=o&&o.isSet;var s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(31),i=n(14);var o="[object Set]";function a(t){return i(t)&&r(t)==o}t.exports=a},function(t,e,n){var r=n(18),i=n(263),o=n(264),a=n(32);function s(t,e){e=r(e,t);t=o(t,e);return t==null||delete t[a(i(e))]}t.exports=s},function(t,e,n){var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=n(10),o=n(52);var a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function l(t,e){if(i(t)){return false}var n=typeof t==="undefined"?"undefined":r(t);if(n=="number"||n=="symbol"||n=="boolean"||t==null||o(t)){return true}return s.test(t)||!a.test(t)||e!=null&&t in Object(e)}t.exports=l},function(t,e,n){var r=n(259);var i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var o=/\\(\\)?/g;var a=r(function(t){var e=[];if(t.charCodeAt(0)===46){e.push("")}t.replace(i,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)});return e});t.exports=a},function(t,e,n){var r=n(260);var i=500;function o(t){var e=r(t,function(t){if(n.size===i){n.clear()}return t});var n=e.cache;return e}t.exports=o},function(t,e,n){var r=n(70);var i="Expected a function";function o(t,e){if(typeof t!="function"||e!=null&&typeof e!="function"){throw new TypeError(i)}var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i)){return o.get(i)}var a=t.apply(this,r);n.cache=o.set(i,a)||o;return a};n.cache=new(o.Cache||r);return n}o.Cache=r;t.exports=o},function(t,e,n){var r=n(262);function i(t){return t==null?"":r(t)}t.exports=i},function(t,e,n){var r=n(21),i=n(39),o=n(10),a=n(52);var s=1/0;var l=r?r.prototype:undefined,u=l?l.toString:undefined;function c(t){if(typeof t=="string"){return t}if(o(t)){return i(t,c)+""}if(a(t)){return u?u.call(t):""}var e=t+"";return e=="0"&&1/t==-s?"-0":e}t.exports=c},function(t,e){function n(t){var e=t==null?0:t.length;return e?t[e-1]:undefined}t.exports=n},function(t,e,n){var r=n(82),i=n(265);function o(t,e){return e.length<2?t:r(t,i(e,0,-1))}t.exports=o},function(t,e){function n(t,e,n){var r=-1,i=t.length;if(e<0){e=-e>i?0:i+e}n=n>i?i:n;if(n<0){n+=i}i=e>n?0:n-e>>>0;e>>>=0;var o=Array(i);while(++r<i){o[r]=t[r+e]}return o}t.exports=n},function(t,e,n){var r=n(267);function i(t){return r(t)?undefined:t}t.exports=i},function(t,e,n){var r=n(16),i=n(50),o=n(14);var a="[object Object]";var s=Function.prototype,l=Object.prototype;var u=s.toString;var c=l.hasOwnProperty;var f=u.call(Object);function h(t){if(!o(t)||r(t)!=a){return false}var e=i(t);if(e===null){return true}var n=c.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&u.call(n)==f}t.exports=h},function(t,e,n){var r=n(269);function i(t){var e=t==null?0:t.length;return e?r(t,1):[]}t.exports=i},function(t,e,n){var r=n(49),i=n(270);function o(t,e,n,a,s){var l=-1,u=t.length;n||(n=i);s||(s=[]);while(++l<u){var c=t[l];if(e>0&&n(c)){if(e>1){o(c,e-1,n,a,s)}else{r(s,c)}}else if(!a){s[s.length]=c}}return s}t.exports=o},function(t,e,n){var r=n(21),i=n(29),o=n(10);var a=r?r.isConcatSpreadable:undefined;function s(t){return o(t)||i(t)||!!(a&&t&&t[a])}t.exports=s},function(t,e,n){var r=n(272);var i=Math.max;function o(t,e,n){e=i(e===undefined?t.length-1:e,0);return function(){var o=arguments,a=-1,s=i(o.length-e,0),l=Array(s);while(++a<s){l[a]=o[e+a]}a=-1;var u=Array(e+1);while(++a<e){u[a]=o[a]}u[e]=n(l);return r(t,this,u)}}t.exports=o},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){var r=n(274),i=n(277);var o=i(r);t.exports=o},function(t,e,n){var r=n(275),i=n(72),o=n(276);var a=!i?o:function(t,e){return i(t,"toString",{configurable:true,enumerable:false,value:r(e),writable:true})};t.exports=a},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e){var n=800,r=16;var i=Date.now;function o(t){var e=0,o=0;return function(){var a=i(),s=r-(a-o);o=a;if(s>0){if(++e>=n){return arguments[0]}}else{e=0}return t.apply(undefined,arguments)}}t.exports=o},function(t,e,n){var r=n(279),i=n(281);function o(t,e){return r(t,e,function(e,n){return i(t,n)})}t.exports=o},function(t,e,n){var r=n(82),i=n(280),o=n(18);function a(t,e,n){var a=-1,s=e.length,l={};while(++a<s){var u=e[a],c=r(t,u);if(n(c,u)){i(l,o(u,t),c)}}return l}t.exports=a},function(t,e,n){var r=n(41),i=n(18),o=n(43),a=n(17),s=n(32);function l(t,e,n,l){if(!a(t)){return t}e=i(e,t);var u=-1,c=e.length,f=c-1,h=t;while(h!=null&&++u<c){var d=s(e[u]),p=n;if(u!=f){var v=h[d];p=l?l(v,d,h):undefined;if(p===undefined){p=a(v)?v:o(e[u+1])?[]:{}}}r(h,d,p);h=h[d]}return t}t.exports=l},function(t,e,n){var r=n(282),i=n(283);function o(t,e){return t!=null&&i(t,e,r)}t.exports=o},function(t,e){function n(t,e){return t!=null&&e in Object(t)}t.exports=n},function(t,e,n){var r=n(18),i=n(29),o=n(10),a=n(43),s=n(44),l=n(32);function u(t,e,n){e=r(e,t);var u=-1,c=e.length,f=false;while(++u<c){var h=l(e[u]);if(!(f=t!=null&&n(t,h))){break}t=t[h]}if(f||++u!=c){return f}c=t==null?0:t.length;return!!c&&s(c)&&a(h,c)&&(o(t)||i(t))}t.exports=u},function(t,e,n){var r=n(39);function i(t,e){return r(e,function(e){return t[e]})}t.exports=i},function(t,e,n){var r=n(286);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("34d48858",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,"",""])},function(t,e,n){var r=n(288);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("1ce40828",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,"a.disabled[data-v-6f6fff80]{pointer-events:none}",""])},function(t,e,n){var r=n(290);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("033b9690",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,"",""])},function(t,e,n){var r=n(292);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("5922c424",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,"",""])},function(t,e,n){var r=n(294);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("ae8e9012",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,"#joke[data-v-2e41172a]{background:#000 url(/adele/static/images/solar-system.svg) no-repeat 50% 50%;background-size:cover;position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1}#astronaut[data-v-2e41172a]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-30deg);animation:astronaut-rotation-data-v-2e41172a 5s infinite linear}@keyframes astronaut-rotation-data-v-2e41172a{0%{transform:translate(-50%,-50%) rotate(-30deg)}to{transform:translate(-50%,-50%) rotate(330deg)}}",""])},function(t,e,n){var r=n(296);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("07d1a5e6",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,"",""])},function(t,e,n){var r=n(298);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("4ab12066",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,"",""])},function(t,e,n){var r=n(300);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("713c6021",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,"",""])},function(t,e,n){var r=n(302);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("e8931ce6",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,"",""])},function(t,e,n){var r=n(304);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("11c9700e",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,"button.disabled[data-v-40d0a7ec]{pointer-events:none}",""])},function(t,e,n){var r=n(306);if(typeof r==="string")r=[[t.i,r,""]];if(r.locals)t.exports=r.locals;var i=n(5).default;var o=i("72b377a6",r,true,{})},function(t,e,n){e=t.exports=n(4)(false);e.push([t.i,"",""])},function(t,e,n){"use strict";n.r(e);var r=n(33);var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
/**
 * vuex v3.0.1
 * (c) 2017 Evan You
 * @license MIT
 */var o=function t(e){var n=Number(e.version.split(".")[0]);if(n>=2){e.mixin({beforeCreate:i})}else{var r=e.prototype._init;e.prototype._init=function(t){if(t===void 0)t={};t.init=t.init?[i].concat(t.init):i;r.call(this,t)}}function i(){var t=this.$options;if(t.store){this.$store=typeof t.store==="function"?t.store():t.store}else if(t.parent&&t.parent.$store){this.$store=t.parent.$store}}};var a=typeof window!=="undefined"&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function s(t){if(!a){return}t._devtoolHook=a;a.emit("vuex:init",t);a.on("vuex:travel-to-state",function(e){t.replaceState(e)});t.subscribe(function(t,e){a.emit("vuex:mutation",t,e)})}function l(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function u(t){return t!==null&&(typeof t==="undefined"?"undefined":i(t))==="object"}function c(t){return t&&typeof t.then==="function"}function f(t,e){if(!t){throw new Error("[vuex] "+e)}}var h=function t(e,n){this.runtime=n;this._children=Object.create(null);this._rawModule=e;var r=e.state;this.state=(typeof r==="function"?r():r)||{}};var d={namespaced:{configurable:true}};d.namespaced.get=function(){return!!this._rawModule.namespaced};h.prototype.addChild=function t(e,n){this._children[e]=n};h.prototype.removeChild=function t(e){delete this._children[e]};h.prototype.getChild=function t(e){return this._children[e]};h.prototype.update=function t(e){this._rawModule.namespaced=e.namespaced;if(e.actions){this._rawModule.actions=e.actions}if(e.mutations){this._rawModule.mutations=e.mutations}if(e.getters){this._rawModule.getters=e.getters}};h.prototype.forEachChild=function t(e){l(this._children,e)};h.prototype.forEachGetter=function t(e){if(this._rawModule.getters){l(this._rawModule.getters,e)}};h.prototype.forEachAction=function t(e){if(this._rawModule.actions){l(this._rawModule.actions,e)}};h.prototype.forEachMutation=function t(e){if(this._rawModule.mutations){l(this._rawModule.mutations,e)}};Object.defineProperties(h.prototype,d);var p=function t(e){this.register([],e,false)};p.prototype.get=function t(e){return e.reduce(function(t,e){return t.getChild(e)},this.root)};p.prototype.getNamespace=function t(e){var n=this.root;return e.reduce(function(t,e){n=n.getChild(e);return t+(n.namespaced?e+"/":"")},"")};p.prototype.update=function t(e){v([],this.root,e)};p.prototype.register=function t(e,n,r){var i=this;if(r===void 0)r=true;if(false){}var o=new h(n,r);if(e.length===0){this.root=o}else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],o)}if(n.modules){l(n.modules,function(t,n){i.register(e.concat(n),t,r)})}};p.prototype.unregister=function t(e){var n=this.get(e.slice(0,-1));var r=e[e.length-1];if(!n.getChild(r).runtime){return}n.removeChild(r)};function v(t,e,n){if(false){}e.update(n);if(n.modules){for(var r in n.modules){if(!e.getChild(r)){if(false){}return}v(t.concat(r),e.getChild(r),n.modules[r])}}}var m={assert:function t(e){return typeof e==="function"},expected:"function"};var y={assert:function t(e){return typeof e==="function"||(typeof e==="undefined"?"undefined":i(e))==="object"&&typeof e.handler==="function"},expected:'function or object with "handler" function'};var g={getters:m,mutations:m,actions:y};function _(t,e){Object.keys(g).forEach(function(n){if(!e[n]){return}var r=g[n];l(e[n],function(e,i){f(r.assert(e),b(t,n,i,e,r.expected))})})}function b(t,e,n,r,i){var o=e+" should be "+i+' but "'+e+"."+n+'"';if(t.length>0){o+=' in module "'+t.join(".")+'"'}o+=" is "+JSON.stringify(r)+".";return o}var w;var x=function t(e){var n=this;if(e===void 0)e={};if(!w&&typeof window!=="undefined"&&window.Vue){D(window.Vue)}if(false){}var r=e.plugins;if(r===void 0)r=[];var i=e.strict;if(i===void 0)i=false;var o=e.state;if(o===void 0)o={};if(typeof o==="function"){o=o()||{}}this._committing=false;this._actions=Object.create(null);this._actionSubscribers=[];this._mutations=Object.create(null);this._wrappedGetters=Object.create(null);this._modules=new p(e);this._modulesNamespaceMap=Object.create(null);this._subscribers=[];this._watcherVM=new w;var a=this;var l=this;var u=l.dispatch;var c=l.commit;this.dispatch=function t(e,n){return u.call(a,e,n)};this.commit=function t(e,n,r){return c.call(a,e,n,r)};this.strict=i;C(this,o,[],this._modules.root);T(this,o);r.forEach(function(t){return t(n)});if(w.config.devtools){s(this)}};var E={state:{configurable:true}};E.state.get=function(){return this._vm._data.$$state};E.state.set=function(t){if(false){}};x.prototype.commit=function t(e,n,r){var i=this;var o=I(e,n,r);var a=o.type;var s=o.payload;var l=o.options;var u={type:a,payload:s};var c=this._mutations[a];if(!c){if(false){}return}this._withCommit(function(){c.forEach(function t(e){e(s)})});this._subscribers.forEach(function(t){return t(u,i.state)});if(false){}};x.prototype.dispatch=function t(e,n){var r=this;var i=I(e,n);var o=i.type;var a=i.payload;var s={type:o,payload:a};var l=this._actions[o];if(!l){if(false){}return}this._actionSubscribers.forEach(function(t){return t(s,r.state)});return l.length>1?Promise.all(l.map(function(t){return t(a)})):l[0](a)};x.prototype.subscribe=function t(e){return k(e,this._subscribers)};x.prototype.subscribeAction=function t(e){return k(e,this._actionSubscribers)};x.prototype.watch=function t(e,n,r){var i=this;if(false){}return this._watcherVM.$watch(function(){return e(i.state,i.getters)},n,r)};x.prototype.replaceState=function t(e){var n=this;this._withCommit(function(){n._vm._data.$$state=e})};x.prototype.registerModule=function t(e,n,r){if(r===void 0)r={};if(typeof e==="string"){e=[e]}if(false){}this._modules.register(e,n);C(this,this.state,e,this._modules.get(e),r.preserveState);T(this,this.state)};x.prototype.unregisterModule=function t(e){var n=this;if(typeof e==="string"){e=[e]}if(false){}this._modules.unregister(e);this._withCommit(function(){var t=M(n.state,e.slice(0,-1));w.delete(t,e[e.length-1])});O(this)};x.prototype.hotUpdate=function t(e){this._modules.update(e);O(this,true)};x.prototype._withCommit=function t(e){var n=this._committing;this._committing=true;e();this._committing=n};Object.defineProperties(x.prototype,E);function k(t,e){if(e.indexOf(t)<0){e.push(t)}return function(){var n=e.indexOf(t);if(n>-1){e.splice(n,1)}}}function O(t,e){t._actions=Object.create(null);t._mutations=Object.create(null);t._wrappedGetters=Object.create(null);t._modulesNamespaceMap=Object.create(null);var n=t.state;C(t,n,[],t._modules.root,true);T(t,n,e)}function T(t,e,n){var r=t._vm;t.getters={};var i=t._wrappedGetters;var o={};l(i,function(e,n){o[n]=function(){return e(t)};Object.defineProperty(t.getters,n,{get:function e(){return t._vm[n]},enumerable:true})});var a=w.config.silent;w.config.silent=true;t._vm=new w({data:{$$state:e},computed:o});w.config.silent=a;if(t.strict){j(t)}if(r){if(n){t._withCommit(function(){r._data.$$state=null})}w.nextTick(function(){return r.$destroy()})}}function C(t,e,n,r,i){var o=!n.length;var a=t._modules.getNamespace(n);if(r.namespaced){t._modulesNamespaceMap[a]=r}if(!o&&!i){var s=M(e,n.slice(0,-1));var l=n[n.length-1];t._withCommit(function(){w.set(s,l,r.state)})}var u=r.context=A(t,a,n);r.forEachMutation(function(e,n){var r=a+n;S(t,r,e,u)});r.forEachAction(function(e,n){var r=e.root?n:a+n;var i=e.handler||e;P(t,r,i,u)});r.forEachGetter(function(e,n){var r=a+n;N(t,r,e,u)});r.forEachChild(function(r,o){C(t,e,n.concat(o),r,i)})}function A(t,e,n){var r=e==="";var i={dispatch:r?t.dispatch:function(n,r,i){var o=I(n,r,i);var a=o.payload;var s=o.options;var l=o.type;if(!s||!s.root){l=e+l;if(false){}}return t.dispatch(l,a)},commit:r?t.commit:function(n,r,i){var o=I(n,r,i);var a=o.payload;var s=o.options;var l=o.type;if(!s||!s.root){l=e+l;if(false){}}t.commit(l,a,s)}};Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return L(t,e)}},state:{get:function e(){return M(t.state,n)}}});return i}function L(t,e){var n={};var r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)!==e){return}var o=i.slice(r);Object.defineProperty(n,o,{get:function e(){return t.getters[i]},enumerable:true})});return n}function S(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function e(i){n.call(t,r.state,i)})}function P(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function e(i,o){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},i,o);if(!c(a)){a=Promise.resolve(a)}if(t._devtoolHook){return a.catch(function(e){t._devtoolHook.emit("vuex:error",e);throw e})}else{return a}})}function N(t,e,n,r){if(t._wrappedGetters[e]){if(false){}return}t._wrappedGetters[e]=function t(e){return n(r.state,r.getters,e.state,e.getters)}}function j(t){t._vm.$watch(function(){return this._data.$$state},function(){if(false){}},{deep:true,sync:true})}function M(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function I(t,e,n){if(u(t)&&t.type){n=e;e=t;t=t.type}if(false){}return{type:t,payload:e,options:n}}function D(t){if(w&&t===w){if(false){}return}w=t;o(w)}var R=$(function(t,e){var n={};U(e).forEach(function(e){var r=e.key;var i=e.val;n[r]=function e(){var n=this.$store.state;var r=this.$store.getters;if(t){var o=H(this.$store,"mapState",t);if(!o){return}n=o.context.state;r=o.context.getters}return typeof i==="function"?i.call(this,n,r):n[i]};n[r].vuex=true});return n});var q=$(function(t,e){var n={};U(e).forEach(function(e){var r=e.key;var i=e.val;n[r]=function e(){var n=[],r=arguments.length;while(r--){n[r]=arguments[r]}var o=this.$store.commit;if(t){var a=H(this.$store,"mapMutations",t);if(!a){return}o=a.context.commit}return typeof i==="function"?i.apply(this,[o].concat(n)):o.apply(this.$store,[i].concat(n))}});return n});var B=$(function(t,e){var n={};U(e).forEach(function(e){var r=e.key;var i=e.val;i=t+i;n[r]=function e(){if(t&&!H(this.$store,"mapGetters",t)){return}if(false){}return this.$store.getters[i]};n[r].vuex=true});return n});var F=$(function(t,e){var n={};U(e).forEach(function(e){var r=e.key;var i=e.val;n[r]=function e(){var n=[],r=arguments.length;while(r--){n[r]=arguments[r]}var o=this.$store.dispatch;if(t){var a=H(this.$store,"mapActions",t);if(!a){return}o=a.context.dispatch}return typeof i==="function"?i.apply(this,[o].concat(n)):o.apply(this.$store,[i].concat(n))}});return n});var z=function t(e){return{mapState:R.bind(null,e),mapGetters:B.bind(null,e),mapMutations:q.bind(null,e),mapActions:F.bind(null,e)}};function U(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function $(t){return function(e,n){if(typeof e!=="string"){n=e;e=""}else if(e.charAt(e.length-1)!=="/"){e+="/"}return t(e,n)}}function H(t,e,n){var r=t._modulesNamespaceMap[n];if(false){}return r}var Z={Store:x,install:D,version:"3.0.1",mapState:R,mapMutations:q,mapGetters:B,mapActions:F,createNamespacedHelpers:z};var V=Z;var W={name:"tab",props:{name:{required:true},selected:{default:false}},data:function t(){return{isActive:this.selected}}};var G=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"tab"},[t.isActive?t._t("default"):t._e()],2)};var K=[];function Y(t,e,n,r,i,o,a,s){t=t||{};var l=typeof t.default;if(l==="object"||l==="function"){t=t.default}var u=typeof t==="function"?t.options:t;if(e){u.render=e;u.staticRenderFns=n;u._compiled=true}if(r){u.functional=true}if(o){u._scopeId=o}var c;if(a){c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext;if(!t&&typeof __VUE_SSR_CONTEXT__!=="undefined"){t=__VUE_SSR_CONTEXT__}if(i){i.call(this,t)}if(t&&t._registeredComponents){t._registeredComponents.add(a)}};u._ssrRegister=c}else if(i){c=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i}if(c){if(u.functional){u._injectStyles=c;var f=u.render;u.render=function t(e,n){c.call(n);return f(e,n)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}}return{exports:t,options:u}}var X=false;var J=null;var Q=null;var tt=null;var et=Y(W,G,K,X,J,Q,tt);var nt=et.exports;var rt={name:"tabs",props:{tabsStyle:{type:String,default:""},onTabChange:{type:Function,default:null}},components:{tab:nt},data:function t(){return{tabs:null}},created:function t(){this.tabs=this.$children},methods:{selectTab:function t(e){var n=void 0;this.tabs.forEach(function(t){t.isActive=t.name===e.name;if(t.isActive)n=t});e.isActive=true;if(this.onTabChange)this.onTabChange(n.name,e.name)}}};var it=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",[n("div",{staticClass:"tabs",class:t.tabsStyle},[n("ul",t._l(t.tabs,function(e){return n("li",{class:{"is-active":e.isActive}},[n("a",{on:{click:function(n){t.selectTab(e)}}},[t._v(t._s(e.name))])])}))]),t._v(" "),n("div",{staticClass:"tabs-content is-flex-fill"},[t._t("default")],2)])};var ot=[];var at=false;var st=null;var lt=null;var ut=null;var ct=Y(rt,it,ot,at,st,lt,ut);var ft=ct.exports;var ht=n(1);var dt=n.n(ht);var pt=n(118);var vt={name:"a-message",props:["type","title","body"]};var mt=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("article",{staticClass:"message",class:t.type},[n("div",{staticClass:"message-header"},[n("p",[t._v(t._s(t.title))])]),t._v(" "),n("div",{staticClass:"message-body"},[n("p",{domProps:{innerHTML:t._s(t.body)}})])])};var yt=[];function gt(t){n(119)}var _t=false;var bt=gt;var wt="data-v-2f12bd82";var xt=null;var Et=Y(vt,mt,yt,_t,bt,wt,xt);var kt=Et.exports;var Ot=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var Tt=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var Ct={components:{AMessage:kt},name:"iiif-map",props:["manifest","drawMode","displayAnnotationsMode"],data:function t(){return{liiiflet:null,error:undefined,refreshInterval:null}},mounted:function t(){var e=this;this.liiiflet=new Liiiflet("liiiflet-map",{loadManifest:this.loadManifest,loadAnnotations:this.loadAnnotations,saveAnnotations:this.saveAnnotations,onDeleteAnnotation:this.onDeleteAnnotation,onPageChange:this.onPageChange,getAnnotationId:this.getAnnotationId,loadDefaultAnnotationType:this.loadDefaultAnnotationType,saveAnnotationAlignments:this.saveAnnotationAlignments},{direction:"center",className:"facsimileToolTip"},this.drawMode,{zoomControl:true});this.refreshInterval=setInterval(function(){if(e.liiiflet&&e.liiiflet.map)e.liiiflet.map.invalidateSize(true)},400)},methods:{loadManifest:function t(){var e="/adele/api/1.0/documents/"+this.document.id+"/manifest/from-user/"+this.$store.state.user.author.id;console.log("IIIFMAP: manifest_url: ",e);return dt.a.get(e,this.authHeader).then(function(t){return new Promise(function(e){return e(t.data.data)})})},loadAnnotations:function t(e){return dt.a.get(e,this.authHeader).then(function(t){return new Promise(function(e){return e(t.data)})})},saveAnnotations:function t(e,n){return dt.a.post("/adele/api/1.0/documents/"+this.document.id+"/annotations/"+e,{data:n},this.authHeader)},onDeleteAnnotation:function t(e){console.log("propagate deletion of image zone: ",e);this.$store.dispatch("facsimile/deleteFacsimileZone",e)},onPageChange:function t(e){console.log("page changed: ",e);this.$store.dispatch("facsimile/updateCanvas",e)},getAnnotationId:function t(e){var n=void 0;try{n=e.resource["@id"].split("/");n=n[n.length-3]}catch(t){n=null}return n},loadDefaultAnnotationType:function t(){return dt.a.get("/adele/api/1.0/annotation-types",null).then(function(t){console.log("loadDefaultAnnotationType",t);var e=function t(e){if(e.label==="transcription"){return{v:new Promise(function(t){return t(e)})}}};var n=true;var r=false;var i=undefined;try{for(var o=t.data.data[Symbol.iterator](),a;!(n=(a=o.next()).done);n=true){var s=a.value;var l=e(s);if((typeof l==="undefined"?"undefined":Tt(l))==="object")return l.v}}catch(t){r=true;i=t}finally{try{if(!n&&o.return){o.return()}}finally{if(r){throw i}}}return new Promise(function(e){return e(t.data.data[0])})})},saveAnnotationAlignments:function t(e){console.log("SAVE ANNOTATIONS ALIGNMENTS");this.$store.dispatch("transcription/save")}},watch:{savingStatus:function t(e,n){console.log("savingStatus",e,n);if(n==="saving"&&e==="uptodate"&&this.liiiflet&&this.liiiflet.map){this.liiiflet.refresh()}}},computed:Ot({},B("user",["authHeader"]),R("document",["document"]),R("transcription",["savingStatus"])),beforeDestroy:function t(){clearInterval(this.refreshInterval)}};var At=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return!t.error?n("div",{ref:"map",staticClass:"iiif-map",attrs:{id:"liiiflet-map"}}):n("a-message",{attrs:{title:"Erreur",body:t.error,type:"is-danger"}})};var Lt=[];function St(t){n(98)}var Pt=false;var Nt=St;var jt=null;var Mt=null;var It=Y(Ct,At,Lt,Pt,Nt,jt,Mt);var Dt=It.exports;var Rt={name:"loading-indicator",props:{active:{type:Boolean,default:false},fullPage:{type:Boolean,default:false}},computed:{myClasses:function t(){var e=[];if(this.active)e.push("is-active");if(this.fullPage)e.push("is-full-page");return e.join(" ")}}};var qt=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.active?n("div",{staticClass:"loading-overlay",class:t.myClasses},[n("div",{staticClass:"loading-background"}),t._v(" "),n("div",{staticClass:"loading-icon"})]):t._e()])};var Bt=[];function Ft(t){n(121)}var zt=false;var Ut=Ft;var $t="data-v-6239f32a";var Ht=null;var Zt=Y(Rt,qt,Bt,zt,Ut,$t,Ht);var Vt=Zt.exports;var Wt=n(84);var Gt=n.n(Wt);var Kt={name:"editor-button",props:["selected","active","callback","format"],computed:{iconClass:function t(){return"fa fa-"+this.icon},iconSvg:function t(){return Gt.a[this.format]}}};var Yt=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("button",{staticClass:"button is-small",class:{selected:t.selected},attrs:{disabled:!t.active},domProps:{innerHTML:t._s(t.iconSvg)},on:{click:function(e){t.callback(t.format)}}})};var Xt=[];function Jt(t){n(123)}var Qt=false;var te=Jt;var ee="data-v-6cdad718";var ne=null;var re=Y(Kt,Yt,Xt,Qt,te,ee,ne);var ie=re.exports;var oe=n(0);var ae=n.n(oe);var se=n(154);var le=n(2);var ue=n.n(le);var ce=n(15);var fe=n.n(ce);var he=n(3);var de=n.n(he);var pe=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var ve=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function me(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ye(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ge(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var _e=function(t){ge(e,t);function e(){me(this,e);return ye(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}pe(e,[{key:"insertInto",value:function t(n,r){if(n.children.length===0){ve(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,n,r)}else{this.remove()}}},{key:"length",value:function t(){return 0}},{key:"value",value:function t(){return""}}],[{key:"value",value:function t(){return undefined}}]);return e}(ae.a.Embed);_e.blotName="break";_e.tagName="BR";var be=_e;function we(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function xe(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ee(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ke=function(t){Ee(e,t);function e(){we(this,e);return xe(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(ae.a.Text);var Oe=ke;var Te=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Ce=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Ae(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Le(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Se(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Pe=function(t){Se(e,t);function e(){Ae(this,e);return Le(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Te(e,[{key:"formatAt",value:function t(n,r,i,o){if(e.compare(this.statics.blotName,i)<0&&ae.a.query(i,ae.a.Scope.BLOT)){var a=this.isolate(n,r);if(o){a.wrap(i,o)}}else{Ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,n,r,i,o)}}},{key:"optimize",value:function t(n){Ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,n);if(this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r);r.wrap(this)}}}],[{key:"compare",value:function t(n,r){var i=e.order.indexOf(n);var o=e.order.indexOf(r);if(i>=0||o>=0){return i-o}else if(n===r){return 0}else if(n<r){return-1}else{return 1}}}]);return e}(ae.a.Inline);Pe.allowedChildren=[Pe,ae.a.Embed,Oe];Pe.order=["cursor","inline","underline","strike","italic","bold","script","link","code"];var Ne=Pe;var je=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Me=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Ie(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function De(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Re(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var qe=1;var Be=function(t){Re(e,t);function e(){Ie(this,e);return De(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}je(e,[{key:"attach",value:function t(){Me(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this);this.attributes=new ae.a.Attributor.Store(this.domNode)}},{key:"delta",value:function t(){return(new ue.a).insert(this.value(),de()(this.formats(),this.attributes.values()))}},{key:"format",value:function t(e,n){var r=ae.a.query(e,ae.a.Scope.BLOCK_ATTRIBUTE);if(r!=null){this.attributes.attribute(r,n)}}},{key:"formatAt",value:function t(e,n,r,i){this.format(r,i)}},{key:"insertAt",value:function t(n,r,i){if(typeof r==="string"&&r.endsWith("\n")){var o=ae.a.create(Fe.blotName);this.parent.insertBefore(o,n===0?this:this.next);o.insertAt(0,r.slice(0,-1))}else{Me(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,n,r,i)}}}]);return e}(ae.a.Embed);Be.scope=ae.a.Scope.BLOCK_BLOT;var Fe=function(t){Re(e,t);function e(t){Ie(this,e);var n=De(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.cache={};return n}je(e,[{key:"delta",value:function t(){if(this.cache.delta==null){this.cache.delta=this.descendants(ae.a.Leaf).reduce(function(t,e){if(e.length()===0){return t}else{return t.insert(e.value(),ze(e))}},new ue.a).insert("\n",ze(this))}return this.cache.delta}},{key:"deleteAt",value:function t(n,r){Me(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,n,r);this.cache={}}},{key:"formatAt",value:function t(n,r,i,o){if(r<=0)return;if(ae.a.query(i,ae.a.Scope.BLOCK)){if(n+r===this.length()){this.format(i,o)}}else{Me(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,n,Math.min(r,this.length()-n-1),i,o)}this.cache={}}},{key:"insertAt",value:function t(n,r,i){if(i!=null)return Me(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,n,r,i);if(r.length===0)return;var o=r.split("\n");var a=o.shift();if(a.length>0){if(n<this.length()-1||this.children.tail==null){Me(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(n,this.length()-1),a)}else{this.children.tail.insertAt(this.children.tail.length(),a)}this.cache={}}var s=this;o.reduce(function(t,e){s=s.split(t,true);s.insertAt(0,e);return e.length},n+a.length)}},{key:"insertBefore",value:function t(n,r){var i=this.children.head;Me(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,n,r);if(i instanceof be){i.remove()}this.cache={}}},{key:"length",value:function t(){if(this.cache.length==null){this.cache.length=Me(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+qe}return this.cache.length}},{key:"moveChildren",value:function t(n,r){Me(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,n,r);this.cache={}}},{key:"optimize",value:function t(n){Me(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,n);this.cache={}}},{key:"path",value:function t(n){return Me(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,n,true)}},{key:"removeChild",value:function t(n){Me(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,n);this.cache={}}},{key:"split",value:function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(r&&(n===0||n>=this.length()-qe)){var i=this.clone();if(n===0){this.parent.insertBefore(i,this);return this}else{this.parent.insertBefore(i,this.next);return i}}else{var o=Me(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,n,r);this.cache={};return o}}}]);return e}(ae.a.Block);Fe.blotName="block";Fe.tagName="P";Fe.defaultChild="break";Fe.allowedChildren=[Ne,ae.a.Embed,Oe];function ze(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(t==null)return e;if(typeof t.formats==="function"){e=de()(e,t.formats())}if(t.parent==null||t.parent.blotName=="scroll"||t.parent.statics.scope!==t.statics.scope){return e}return ze(t.parent,e)}var Ue=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var $e=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var He=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Ze(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ve(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function We(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ge=function(t){We(e,t);function e(){Ze(this,e);return Ve(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Ne);Ge.blotName="code";Ge.tagName="CODE";var Ke=function(t){We(e,t);function e(){Ze(this,e);return Ve(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}$e(e,[{key:"delta",value:function t(){var e=this;var n=this.domNode.textContent;if(n.endsWith("\n")){n=n.slice(0,-1)}return n.split("\n").reduce(function(t,n){return t.insert(n).insert("\n",e.formats())},new ue.a)}},{key:"format",value:function t(n,r){if(n===this.statics.blotName&&r)return;var i=this.descendant(Oe,this.length()-1),o=Ue(i,1),a=o[0];if(a!=null){a.deleteAt(a.length()-1,1)}He(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,r)}},{key:"formatAt",value:function t(n,r,i,o){if(r===0)return;if(ae.a.query(i,ae.a.Scope.BLOCK)==null||i===this.statics.blotName&&o===this.statics.formats(this.domNode)){return}var a=this.newlineIndex(n);if(a<0||a>=n+r)return;var s=this.newlineIndex(n,true)+1;var l=a-s+1;var u=this.isolate(s,l);var c=u.next;u.format(i,o);if(c instanceof e){c.formatAt(0,n-s+r-l,i,o)}}},{key:"insertAt",value:function t(e,n,r){if(r!=null)return;var i=this.descendant(Oe,e),o=Ue(i,2),a=o[0],s=o[1];a.insertAt(s,n)}},{key:"length",value:function t(){var t=this.domNode.textContent.length;if(!this.domNode.textContent.endsWith("\n")){return t+1}return t}},{key:"newlineIndex",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!n){var r=this.domNode.textContent.slice(e).indexOf("\n");return r>-1?e+r:-1}else{return this.domNode.textContent.slice(0,e).lastIndexOf("\n")}}},{key:"optimize",value:function t(n){if(!this.domNode.textContent.endsWith("\n")){this.appendChild(ae.a.create("text","\n"))}He(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,n);var r=this.next;if(r!=null&&r.prev===this&&r.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===r.statics.formats(r.domNode)){r.optimize(n);r.moveChildren(this);r.remove()}}},{key:"replace",value:function t(n){He(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,n);[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(t){var e=ae.a.find(t);if(e==null){t.parentNode.removeChild(t)}else if(e instanceof ae.a.Embed){e.remove()}else{e.unwrap()}})}}],[{key:"create",value:function t(n){var r=He(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);r.setAttribute("spellcheck",false);return r}},{key:"formats",value:function t(){return true}}]);return e}(Fe);Ke.blotName="code-block";Ke.tagName="PRE";Ke.TAB="  ";var Ye=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var Xe=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};var Je=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Qe(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function tn(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function en(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var nn=function(t){en(e,t);Je(e,null,[{key:"value",value:function t(){return undefined}}]);function e(t,n){Qe(this,e);var r=tn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));r.selection=n;r.textNode=document.createTextNode(e.CONTENTS);r.domNode.appendChild(r.textNode);r._length=0;return r}Je(e,[{key:"detach",value:function t(){if(this.parent!=null)this.parent.removeChild(this)}},{key:"format",value:function t(n,r){if(this._length!==0){return Xe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,r)}var i=this,o=0;while(i!=null&&i.statics.scope!==ae.a.Scope.BLOCK_BLOT){o+=i.offset(i.parent);i=i.parent}if(i!=null){this._length=e.CONTENTS.length;i.optimize();i.formatAt(o,e.CONTENTS.length,n,r);this._length=0}}},{key:"index",value:function t(n,r){if(n===this.textNode)return 0;return Xe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,n,r)}},{key:"length",value:function t(){return this._length}},{key:"position",value:function t(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function t(){Xe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this);this.parent=null}},{key:"restore",value:function t(){if(this.selection.composing||this.parent==null)return;var n=this.textNode;var r=this.selection.getNativeRange();var i=void 0,o=void 0,a=void 0;if(r!=null&&r.start.node===n&&r.end.node===n){var s=[n,r.start.offset,r.end.offset];i=s[0];o=s[1];a=s[2]}while(this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode){this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode)}if(this.textNode.data!==e.CONTENTS){var l=this.textNode.data.split(e.CONTENTS).join("");if(this.next instanceof Oe){i=this.next.domNode;this.next.insertAt(0,l);this.textNode.data=e.CONTENTS}else{this.textNode.data=l;this.parent.insertBefore(ae.a.create(this.textNode),this);this.textNode=document.createTextNode(e.CONTENTS);this.domNode.appendChild(this.textNode)}}this.remove();if(o!=null){var u=[o,a].map(function(t){return Math.max(0,Math.min(i.data.length,t-1))});var c=Ye(u,2);o=c[0];a=c[1];return{startNode:i,startOffset:o,endNode:i,endOffset:a}}}},{key:"update",value:function t(e,n){var r=this;if(e.some(function(t){return t.type==="characterData"&&t.target===r.textNode})){var i=this.restore();if(i)n.range=i}}},{key:"value",value:function t(){return""}}]);return e}(ae.a.Embed);nn.blotName="cursor";nn.className="ql-cursor";nn.tagName="span";nn.CONTENTS="\ufeff";var rn=nn;var on=n(8);var an=n.n(on);var sn=n(11);var ln=n.n(sn);var un=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var cn=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var fn=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function hn(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function dn(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var pn=/^[ -~]*$/;var vn=function(){function t(e){dn(this,t);this.scroll=e;this.delta=this.getDelta()}fn(t,[{key:"applyDelta",value:function t(e){var n=this;var r=false;this.scroll.update();var i=this.scroll.length();this.scroll.batchStart();e=yn(e);e.reduce(function(t,e){var o=e.retain||e.delete||e.insert.length||1;var a=e.attributes||{};if(e.insert!=null){if(typeof e.insert==="string"){var s=e.insert;if(s.endsWith("\n")&&r){r=false;s=s.slice(0,-1)}if(t>=i&&!s.endsWith("\n")){r=true}n.scroll.insertAt(t,s);var l=n.scroll.line(t),u=cn(l,2),c=u[0],f=u[1];var h=de()({},ze(c));if(c instanceof Fe){var d=c.descendant(ae.a.Leaf,f),p=cn(d,1),v=p[0];h=de()(h,ze(v))}a=fe.a.attributes.diff(h,a)||{}}else if(un(e.insert)==="object"){var m=Object.keys(e.insert)[0];if(m==null)return t;n.scroll.insertAt(t,m,e.insert[m])}i+=o}Object.keys(a).forEach(function(e){n.scroll.formatAt(t,o,e,a[e])});return t+o},0);e.reduce(function(t,e){if(typeof e.delete==="number"){n.scroll.deleteAt(t,e.delete);return t}return t+(e.retain||e.insert.length||1)},0);this.scroll.batchEnd();return this.update(e)}},{key:"deleteText",value:function t(e,n){this.scroll.deleteAt(e,n);return this.update((new ue.a).retain(e).delete(n))}},{key:"formatLine",value:function t(e,n){var r=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};this.scroll.update();Object.keys(i).forEach(function(t){if(r.scroll.whitelist!=null&&!r.scroll.whitelist[t])return;var o=r.scroll.lines(e,Math.max(n,1));var a=n;o.forEach(function(n){var o=n.length();if(!(n instanceof Ke)){n.format(t,i[t])}else{var s=e-n.offset(r.scroll);var l=n.newlineIndex(s+a)-s+1;n.formatAt(s,l,t,i[t])}a-=o})});this.scroll.optimize();return this.update((new ue.a).retain(e).retain(n,an()(i)))}},{key:"formatText",value:function t(e,n){var r=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};Object.keys(i).forEach(function(t){r.scroll.formatAt(e,n,t,i[t])});return this.update((new ue.a).retain(e).retain(n,an()(i)))}},{key:"getContents",value:function t(e,n){return this.delta.slice(e,e+n)}},{key:"getDelta",value:function t(){return this.scroll.lines().reduce(function(t,e){return t.concat(e.delta())},new ue.a)}},{key:"getFormat",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=[],i=[];if(n===0){this.scroll.path(e).forEach(function(t){var e=cn(t,1),n=e[0];if(n instanceof Fe){r.push(n)}else if(n instanceof ae.a.Leaf){i.push(n)}})}else{r=this.scroll.lines(e,n);i=this.scroll.descendants(ae.a.Leaf,e,n)}var o=[r,i].map(function(t){if(t.length===0)return{};var e=ze(t.shift());while(Object.keys(e).length>0){var n=t.shift();if(n==null)return e;e=mn(ze(n),e)}return e});return de.a.apply(de.a,o)}},{key:"getText",value:function t(e,n){return this.getContents(e,n).filter(function(t){return typeof t.insert==="string"}).map(function(t){return t.insert}).join("")}},{key:"insertEmbed",value:function t(e,n,r){this.scroll.insertAt(e,n,r);return this.update((new ue.a).retain(e).insert(hn({},n,r)))}},{key:"insertText",value:function t(e,n){var r=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};n=n.replace(/\r\n/g,"\n").replace(/\r/g,"\n");this.scroll.insertAt(e,n);Object.keys(i).forEach(function(t){r.scroll.formatAt(e,n.length,t,i[t])});return this.update((new ue.a).retain(e).insert(n,an()(i)))}},{key:"isBlank",value:function t(){if(this.scroll.children.length==0)return true;if(this.scroll.children.length>1)return false;var e=this.scroll.children.head;if(e.statics.blotName!==Fe.blotName)return false;if(e.children.length>1)return false;return e.children.head instanceof be}},{key:"removeFormat",value:function t(e,n){var r=this.getText(e,n);var i=this.scroll.line(e+n),o=cn(i,2),a=o[0],s=o[1];var l=0,u=new ue.a;if(a!=null){if(!(a instanceof Ke)){l=a.length()-s}else{l=a.newlineIndex(s)-s+1}u=a.delta().slice(s,s+l-1).insert("\n")}var c=this.getContents(e,n+l);var f=c.diff((new ue.a).insert(r).concat(u));var h=(new ue.a).retain(e).concat(f);return this.applyDelta(h)}},{key:"update",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;var i=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(pn)&&ae.a.find(n[0].target)){var o=ae.a.find(n[0].target);var a=ze(o);var s=o.offset(this.scroll);var l=n[0].oldValue.replace(rn.CONTENTS,"");var u=(new ue.a).insert(l);var c=(new ue.a).insert(o.value());var f=(new ue.a).retain(s).concat(u.diff(c,r));e=f.reduce(function(t,e){if(e.insert){return t.insert(e.insert,a)}else{return t.push(e)}},new ue.a);this.delta=i.compose(e)}else{this.delta=this.getDelta();if(!e||!ln()(i.compose(e),this.delta)){e=i.diff(this.delta,r)}}return e}}]);return t}();function mn(t,e){return Object.keys(e).reduce(function(n,r){if(t[r]==null)return n;if(e[r]===t[r]){n[r]=e[r]}else if(Array.isArray(e[r])){if(e[r].indexOf(t[r])<0){n[r]=e[r].concat([t[r]])}}else{n[r]=[e[r],t[r]]}return n},{})}function yn(t){return t.reduce(function(t,e){if(e.insert===1){var n=an()(e.attributes);delete n["image"];return t.insert({image:e.attributes.image},n)}if(e.attributes!=null&&(e.attributes.list===true||e.attributes.bullet===true)){e=an()(e);if(e.attributes.list){e.attributes.list="ordered"}else{e.attributes.list="bullet";delete e.attributes.bullet}}if(typeof e.insert==="string"){var r=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(r,e.attributes)}return t.push(e)},new ue.a)}var gn=vn;var _n=n(85);var bn=n.n(_n);var wn=["error","warn","log","info"];var xn="warn";function En(t){if(wn.indexOf(t)<=wn.indexOf(xn)){var e;for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}(e=console)[t].apply(e,r)}}function kn(t){return wn.reduce(function(e,n){e[n]=En.bind(console,n,t);return e},{})}En.level=kn.level=function(t){xn=t};var On=kn;var Tn=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Cn=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function An(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ln(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Sn(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Pn=On("quill:events");var Nn=["selectionchange","mousedown","mouseup","click"];Nn.forEach(function(t){document.addEventListener(t,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++){e[n]=arguments[n]}[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(t){if(t.__quill&&t.__quill.emitter){var n;(n=t.__quill.emitter).handleDOM.apply(n,e)}})})});var jn=function(t){Sn(e,t);function e(){An(this,e);var t=Ln(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));t.listeners={};t.on("error",Pn.error);return t}Tn(e,[{key:"emit",value:function t(){Pn.log.apply(Pn,arguments);Cn(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function t(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}(this.listeners[e.type]||[]).forEach(function(t){var n=t.node,i=t.handler;if(e.target===n||n.contains(e.target)){i.apply(undefined,[e].concat(r))}})}},{key:"listenDOM",value:function t(e,n,r){if(!this.listeners[e]){this.listeners[e]=[]}this.listeners[e].push({node:n,handler:r})}}]);return e}(bn.a);jn.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"};jn.sources={API:"api",SILENT:"silent",USER:"user"};var Mn=jn;function In(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var Dn=function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};In(this,t);this.quill=e;this.options=n};Dn.DEFAULTS={};var Rn=Dn;var qn=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var Bn=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Fn(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}function zn(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var Un=On("quill:selection");var $n=function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;zn(this,t);this.index=e;this.length=n};var Hn=function(){function t(e,n){var r=this;zn(this,t);this.emitter=n;this.scroll=e;this.composing=false;this.mouseDown=false;this.root=this.scroll.domNode;this.cursor=ae.a.create("cursor",this);this.lastRange=this.savedRange=new $n(0,0);this.handleComposition();this.handleDragging();this.emitter.listenDOM("selectionchange",document,function(){if(!r.mouseDown){setTimeout(r.update.bind(r,Mn.sources.USER),1)}});this.emitter.on(Mn.events.EDITOR_CHANGE,function(t,e){if(t===Mn.events.TEXT_CHANGE&&e.length()>0){r.update(Mn.sources.SILENT)}});this.emitter.on(Mn.events.SCROLL_BEFORE_UPDATE,function(){if(!r.hasFocus())return;var t=r.getNativeRange();if(t==null)return;if(t.start.node===r.cursor.textNode)return;r.emitter.once(Mn.events.SCROLL_UPDATE,function(){try{r.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}})});this.emitter.on(Mn.events.SCROLL_OPTIMIZE,function(t,e){if(e.range){var n=e.range,i=n.startNode,o=n.startOffset,a=n.endNode,s=n.endOffset;r.setNativeRange(i,o,a,s)}});this.update(Mn.sources.SILENT)}Bn(t,[{key:"handleComposition",value:function t(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=true});this.root.addEventListener("compositionend",function(){e.composing=false;if(e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function t(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=true});this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=false;e.update(Mn.sources.USER)})}},{key:"focus",value:function t(){if(this.hasFocus())return;this.root.focus();this.setRange(this.savedRange)}},{key:"format",value:function t(e,n){if(this.scroll.whitelist!=null&&!this.scroll.whitelist[e])return;this.scroll.update();var r=this.getNativeRange();if(r==null||!r.native.collapsed||ae.a.query(e,ae.a.Scope.BLOCK))return;if(r.start.node!==this.cursor.textNode){var i=ae.a.find(r.start.node,false);if(i==null)return;if(i instanceof ae.a.Leaf){var o=i.split(r.start.offset);i.parent.insertBefore(this.cursor,o)}else{i.insertBefore(this.cursor,r.start.node)}this.cursor.attach()}this.cursor.format(e,n);this.scroll.optimize();this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length);this.update()}},{key:"getBounds",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=this.scroll.length();e=Math.min(e,r-1);n=Math.min(e+n,r-1)-e;var i=void 0,o=this.scroll.leaf(e),a=qn(o,2),s=a[0],l=a[1];if(s==null)return null;var u=s.position(l,true);var c=qn(u,2);i=c[0];l=c[1];var f=document.createRange();if(n>0){f.setStart(i,l);var h=this.scroll.leaf(e+n);var d=qn(h,2);s=d[0];l=d[1];if(s==null)return null;var p=s.position(l,true);var v=qn(p,2);i=v[0];l=v[1];f.setEnd(i,l);return f.getBoundingClientRect()}else{var m="left";var y=void 0;if(i instanceof Text){if(l<i.data.length){f.setStart(i,l);f.setEnd(i,l+1)}else{f.setStart(i,l-1);f.setEnd(i,l);m="right"}y=f.getBoundingClientRect()}else{y=s.domNode.getBoundingClientRect();if(l>0)m="right"}return{bottom:y.top+y.height,height:y.height,left:y[m],right:y[m],top:y.top,width:0}}}},{key:"getNativeRange",value:function t(){var e=document.getSelection();if(e==null||e.rangeCount<=0)return null;var n=e.getRangeAt(0);if(n==null)return null;var r=this.normalizeNative(n);Un.info("getNativeRange",r);return r}},{key:"getRange",value:function t(){var e=this.getNativeRange();if(e==null)return[null,null];var n=this.normalizedToRange(e);return[n,e]}},{key:"hasFocus",value:function t(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function t(e){var n=this;var r=[[e.start.node,e.start.offset]];if(!e.native.collapsed){r.push([e.end.node,e.end.offset])}var i=r.map(function(t){var e=qn(t,2),r=e[0],i=e[1];var o=ae.a.find(r,true);var a=o.offset(n.scroll);if(i===0){return a}else if(o instanceof ae.a.Container){return a+o.length()}else{return a+o.index(r,i)}});var o=Math.min(Math.max.apply(Math,Fn(i)),this.scroll.length()-1);var a=Math.min.apply(Math,[o].concat(Fn(i)));return new $n(a,o-a)}},{key:"normalizeNative",value:function t(e){if(!Zn(this.root,e.startContainer)||!e.collapsed&&!Zn(this.root,e.endContainer)){return null}var n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};[n.start,n.end].forEach(function(t){var e=t.node,n=t.offset;while(!(e instanceof Text)&&e.childNodes.length>0){if(e.childNodes.length>n){e=e.childNodes[n];n=0}else if(e.childNodes.length===n){e=e.lastChild;n=e instanceof Text?e.data.length:e.childNodes.length+1}else{break}}t.node=e,t.offset=n});return n}},{key:"rangeToNative",value:function t(e){var n=this;var r=e.collapsed?[e.index]:[e.index,e.index+e.length];var i=[];var o=this.scroll.length();r.forEach(function(t,e){t=Math.min(o-1,t);var r=void 0,a=n.scroll.leaf(t),s=qn(a,2),l=s[0],u=s[1];var c=l.position(u,e!==0);var f=qn(c,2);r=f[0];u=f[1];i.push(r,u)});if(i.length<2){i=i.concat(i)}return i}},{key:"scrollIntoView",value:function t(e){var n=this.lastRange;if(n==null)return;var r=this.getBounds(n.index,n.length);if(r==null)return;var i=this.scroll.length()-1;var o=this.scroll.line(Math.min(n.index,i)),a=qn(o,1),s=a[0];var l=s;if(n.length>0){var u=this.scroll.line(Math.min(n.index+n.length,i));var c=qn(u,1);l=c[0]}if(s==null||l==null)return;var f=e.getBoundingClientRect();if(r.top<f.top){e.scrollTop-=f.top-r.top}else if(r.bottom>f.bottom){e.scrollTop+=r.bottom-f.bottom}}},{key:"setNativeRange",value:function t(e,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:e;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:n;var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;Un.info("setNativeRange",e,n,r,i);if(e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null)){return}var a=document.getSelection();if(a==null)return;if(e!=null){if(!this.hasFocus())this.root.focus();var s=(this.getNativeRange()||{}).native;if(s==null||o||e!==s.startContainer||n!==s.startOffset||r!==s.endContainer||i!==s.endOffset){if(e.tagName=="BR"){n=[].indexOf.call(e.parentNode.childNodes,e);e=e.parentNode}if(r.tagName=="BR"){i=[].indexOf.call(r.parentNode.childNodes,r);r=r.parentNode}var l=document.createRange();l.setStart(e,n);l.setEnd(r,i);a.removeAllRanges();a.addRange(l)}}else{a.removeAllRanges();this.root.blur();document.body.focus()}}},{key:"setRange",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Mn.sources.API;if(typeof n==="string"){r=n;n=false}Un.info("setRange",e);if(e!=null){var i=this.rangeToNative(e);this.setNativeRange.apply(this,Fn(i).concat([n]))}else{this.setNativeRange(null)}this.update(r)}},{key:"update",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Mn.sources.USER;var n=this.lastRange;var r=this.getRange(),i=qn(r,2),o=i[0],a=i[1];this.lastRange=o;if(this.lastRange!=null){this.savedRange=this.lastRange}if(!ln()(n,this.lastRange)){var s;if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){this.cursor.restore()}var l=[Mn.events.SELECTION_CHANGE,an()(this.lastRange),an()(n),e];(s=this.emitter).emit.apply(s,[Mn.events.EDITOR_CHANGE].concat(l));if(e!==Mn.sources.SILENT){var u;(u=this.emitter).emit.apply(u,l)}}}}]);return t}();function Zn(t,e){try{e.parentNode}catch(t){return false}if(e instanceof Text){e=e.parentNode}return t.contains(e)}var Vn=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Wn(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var Gn=function(){function t(e,n){Wn(this,t);this.quill=e;this.options=n;this.modules={}}Vn(t,[{key:"init",value:function t(){var e=this;Object.keys(this.options.modules).forEach(function(t){if(e.modules[t]==null){e.addModule(t)}})}},{key:"addModule",value:function t(e){var n=this.quill.constructor.import("modules/"+e);this.modules[e]=new n(this.quill,this.options.modules[e]||{});return this.modules[e]}}]);return t}();Gn.DEFAULTS={modules:{}};Gn.themes={default:Gn};var Kn=Gn;var Yn=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var Xn=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var Jn=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Qn(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function tr(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var er=On("quill");var nr=function(){Jn(t,null,[{key:"debug",value:function t(e){if(e===true){e="log"}On.level(e)}},{key:"find",value:function t(e){return e.__quill||ae.a.find(e)}},{key:"import",value:function t(e){if(this.imports[e]==null){er.error("Cannot import "+e+". Are you sure it was registered?")}return this.imports[e]}},{key:"register",value:function t(e,n){var r=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(typeof e!=="string"){var o=e.attrName||e.blotName;if(typeof o==="string"){this.register("formats/"+o,e,n)}else{Object.keys(e).forEach(function(t){r.register(t,e[t],n)})}}else{if(this.imports[e]!=null&&!i){er.warn("Overwriting "+e+" with",n)}this.imports[e]=n;if((e.startsWith("blots/")||e.startsWith("formats/"))&&n.blotName!=="abstract"){ae.a.register(n)}else if(e.startsWith("modules")&&typeof n.register==="function"){n.register()}}}}]);function t(e){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};tr(this,t);this.options=rr(e,r);this.container=this.options.container;if(this.container==null){return er.error("Invalid Quill container",e)}if(this.options.debug){t.debug(this.options.debug)}var i=this.container.innerHTML.trim();this.container.classList.add("ql-container");this.container.innerHTML="";this.container.__quill=this;this.root=this.addContainer("ql-editor");this.root.classList.add("ql-blank");this.root.setAttribute("data-gramm",false);this.scrollingContainer=this.options.scrollingContainer||this.root;this.emitter=new Mn;this.scroll=ae.a.create(this.root,{emitter:this.emitter,whitelist:this.options.formats});this.editor=new gn(this.scroll);this.selection=new Hn(this.scroll,this.emitter);this.theme=new this.options.theme(this,this.options);this.keyboard=this.theme.addModule("keyboard");this.clipboard=this.theme.addModule("clipboard");this.history=this.theme.addModule("history");this.theme.init();this.emitter.on(Mn.events.EDITOR_CHANGE,function(t){if(t===Mn.events.TEXT_CHANGE){n.root.classList.toggle("ql-blank",n.editor.isBlank())}});this.emitter.on(Mn.events.SCROLL_UPDATE,function(t,e){var r=n.selection.lastRange;var i=r&&r.length===0?r.index:undefined;ir.call(n,function(){return n.editor.update(null,e,i)},t)});var o=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+i+"<p><br></p></div>");this.setContents(o);this.history.clear();if(this.options.placeholder){this.root.setAttribute("data-placeholder",this.options.placeholder)}if(this.options.readOnly){this.disable()}}Jn(t,[{key:"addContainer",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(typeof e==="string"){var r=e;e=document.createElement("div");e.classList.add(r)}this.container.insertBefore(e,n);return e}},{key:"blur",value:function t(){this.selection.setRange(null)}},{key:"deleteText",value:function t(e,n,r){var i=this;var o=or(e,n,r);var a=Xn(o,4);e=a[0];n=a[1];r=a[3];return ir.call(this,function(){return i.editor.deleteText(e,n)},r,e,-1*n)}},{key:"disable",value:function t(){this.enable(false)}},{key:"enable",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.scroll.enable(e);this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function t(){var e=this.scrollingContainer.scrollTop;this.selection.focus();this.scrollingContainer.scrollTop=e;this.scrollIntoView()}},{key:"format",value:function t(e,n){var r=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Mn.sources.API;return ir.call(this,function(){var t=r.getSelection(true);var i=new ue.a;if(t==null){return i}else if(ae.a.query(e,ae.a.Scope.BLOCK)){i=r.editor.formatLine(t.index,t.length,Qn({},e,n))}else if(t.length===0){r.selection.format(e,n);return i}else{i=r.editor.formatText(t.index,t.length,Qn({},e,n))}r.setSelection(t,Mn.sources.SILENT);return i},i)}},{key:"formatLine",value:function t(e,n,r,i,o){var a=this;var s=void 0;var l=or(e,n,r,i,o);var u=Xn(l,4);e=u[0];n=u[1];s=u[2];o=u[3];return ir.call(this,function(){return a.editor.formatLine(e,n,s)},o,e,0)}},{key:"formatText",value:function t(e,n,r,i,o){var a=this;var s=void 0;var l=or(e,n,r,i,o);var u=Xn(l,4);e=u[0];n=u[1];s=u[2];o=u[3];return ir.call(this,function(){return a.editor.formatText(e,n,s)},o,e,0)}},{key:"getBounds",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=void 0;if(typeof e==="number"){r=this.selection.getBounds(e,n)}else{r=this.selection.getBounds(e.index,e.length)}var i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}},{key:"getContents",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.getLength()-e;var r=or(e,n);var i=Xn(r,2);e=i[0];n=i[1];return this.editor.getContents(e,n)}},{key:"getFormat",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getSelection(true);var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(typeof e==="number"){return this.editor.getFormat(e,n)}else{return this.editor.getFormat(e.index,e.length)}}},{key:"getIndex",value:function t(e){return e.offset(this.scroll)}},{key:"getLength",value:function t(){return this.scroll.length()}},{key:"getLeaf",value:function t(e){return this.scroll.leaf(e)}},{key:"getLine",value:function t(e){return this.scroll.line(e)}},{key:"getLines",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Number.MAX_VALUE;if(typeof e!=="number"){return this.scroll.lines(e.index,e.length)}else{return this.scroll.lines(e,n)}}},{key:"getModule",value:function t(e){return this.theme.modules[e]}},{key:"getSelection",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(e)this.focus();this.update();return this.selection.getRange()[0]}},{key:"getText",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.getLength()-e;var r=or(e,n);var i=Xn(r,2);e=i[0];n=i[1];return this.editor.getText(e,n)}},{key:"hasFocus",value:function t(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function e(n,r,i){var o=this;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:t.sources.API;return ir.call(this,function(){return o.editor.insertEmbed(n,r,i)},a,n)}},{key:"insertText",value:function t(e,n,r,i,o){var a=this;var s=void 0;var l=or(e,0,r,i,o);var u=Xn(l,4);e=u[0];s=u[2];o=u[3];return ir.call(this,function(){return a.editor.insertText(e,n,s)},o,e,n.length)}},{key:"isEnabled",value:function t(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function t(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function t(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function t(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function t(e,n,r){this.clipboard.dangerouslyPasteHTML(e,n,r)}},{key:"removeFormat",value:function t(e,n,r){var i=this;var o=or(e,n,r);var a=Xn(o,4);e=a[0];n=a[1];r=a[3];return ir.call(this,function(){return i.editor.removeFormat(e,n)},r,e)}},{key:"scrollIntoView",value:function t(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function t(e){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Mn.sources.API;return ir.call(this,function(){e=new ue.a(e);var t=n.getLength();var r=n.editor.deleteText(0,t);var i=n.editor.applyDelta(e);var o=i.ops[i.ops.length-1];if(o!=null&&typeof o.insert==="string"&&o.insert[o.insert.length-1]==="\n"){n.editor.deleteText(n.getLength()-1,1);i.delete(1)}var a=r.compose(i);return a},r)}},{key:"setSelection",value:function e(n,r,i){if(n==null){this.selection.setRange(null,r||t.sources.API)}else{var o=or(n,r,i);var a=Xn(o,4);n=a[0];r=a[1];i=a[3];this.selection.setRange(new $n(n,r),i);if(i!==Mn.sources.SILENT){this.selection.scrollIntoView(this.scrollingContainer)}}}},{key:"setText",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Mn.sources.API;var r=(new ue.a).insert(e);return this.setContents(r,n)}},{key:"update",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Mn.sources.USER;var n=this.scroll.update(e);this.selection.update(e);return n}},{key:"updateContents",value:function t(e){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Mn.sources.API;return ir.call(this,function(){e=new ue.a(e);return n.editor.applyDelta(e,r)},r,true)}}]);return t}();nr.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:false,scrollingContainer:null,strict:true,theme:"default"};nr.events=Mn.events;nr.sources=Mn.sources;nr.version=typeof QUILL_VERSION==="undefined"?"dev":QUILL_VERSION;nr.imports={delta:ue.a,parchment:ae.a,"core/module":Rn,"core/theme":Kn};function rr(t,e){e=de()(true,{container:t,modules:{clipboard:true,keyboard:true,history:true}},e);if(!e.theme||e.theme===nr.DEFAULTS.theme){e.theme=Kn}else{e.theme=nr.import("themes/"+e.theme);if(e.theme==null){throw new Error("Invalid theme "+e.theme+". Did you register it?")}}var n=de()(true,{},e.theme.DEFAULTS);[n,e].forEach(function(t){t.modules=t.modules||{};Object.keys(t.modules).forEach(function(e){if(t.modules[e]===true){t.modules[e]={}}})});var r=Object.keys(n.modules).concat(Object.keys(e.modules));var i=r.reduce(function(t,e){var n=nr.import("modules/"+e);if(n==null){er.error("Cannot load "+e+" module. Are you sure you registered it?")}else{t[e]=n.DEFAULTS||{}}return t},{});if(e.modules!=null&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object){e.modules.toolbar={container:e.modules.toolbar}}e=de()(true,{},nr.DEFAULTS,{modules:i},n,e);["bounds","container","scrollingContainer"].forEach(function(t){if(typeof e[t]==="string"){e[t]=document.querySelector(e[t])}});e.modules=Object.keys(e.modules).reduce(function(t,n){if(e.modules[n]){t[n]=e.modules[n]}return t},{});return e}function ir(t,e,n,r){if(this.options.strict&&!this.isEnabled()&&e===Mn.sources.USER){return new ue.a}var i=n==null?null:this.getSelection();var o=this.editor.delta;var a=t();if(i!=null){if(n===true)n=i.index;if(r==null){i=ar(i,a,e)}else if(r!==0){i=ar(i,n,r,e)}this.setSelection(i,Mn.sources.SILENT)}if(a.length()>0){var s;var l=[Mn.events.TEXT_CHANGE,a,o,e];(s=this.emitter).emit.apply(s,[Mn.events.EDITOR_CHANGE].concat(l));if(e!==Mn.sources.SILENT){var u;(u=this.emitter).emit.apply(u,l)}}return a}function or(t,e,n,r,i){var o={};if(typeof t.index==="number"&&typeof t.length==="number"){if(typeof e!=="number"){i=r,r=n,n=e,e=t.length,t=t.index}else{e=t.length,t=t.index}}else if(typeof e!=="number"){i=r,r=n,n=e,e=0}if((typeof n==="undefined"?"undefined":Yn(n))==="object"){o=n;i=r}else if(typeof n==="string"){if(r!=null){o[n]=r}else{i=n}}i=i||Mn.sources.API;return[t,e,o,i]}function ar(t,e,n,r){if(t==null)return null;var i=void 0,o=void 0;if(e instanceof ue.a){var a=[t.index,t.index+t.length].map(function(t){return e.transformPosition(t,r!==Mn.sources.USER)});var s=Xn(a,2);i=s[0];o=s[1]}else{var l=[t.index,t.index+t.length].map(function(t){if(t<e||t===e&&r===Mn.sources.USER)return t;if(n>=0){return t+n}else{return Math.max(e,t+n)}});var u=Xn(l,2);i=u[0];o=u[1]}return new $n(i,o-i)}function sr(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function lr(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ur(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var cr=function(t){ur(e,t);function e(){sr(this,e);return lr(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(ae.a.Container);cr.allowedChildren=[Fe,Be,cr];var fr=cr;var hr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var dr=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function pr(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function vr(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function mr(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var yr="\ufeff";var gr=function(t){mr(e,t);function e(t){pr(this,e);var n=vr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.contentNode=document.createElement("span");n.contentNode.setAttribute("contenteditable",false);[].slice.call(n.domNode.childNodes).forEach(function(t){n.contentNode.appendChild(t)});n.leftGuard=document.createTextNode(yr);n.rightGuard=document.createTextNode(yr);n.domNode.appendChild(n.leftGuard);n.domNode.appendChild(n.contentNode);n.domNode.appendChild(n.rightGuard);return n}hr(e,[{key:"index",value:function t(n,r){if(n===this.leftGuard)return 0;if(n===this.rightGuard)return 1;return dr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,n,r)}},{key:"restore",value:function t(e){var n=void 0,r=void 0;var i=e.data.split(yr).join("");if(e===this.leftGuard){if(this.prev instanceof Oe){var o=this.prev.length();this.prev.insertAt(o,i);n={startNode:this.prev.domNode,startOffset:o+i.length}}else{r=document.createTextNode(i);this.parent.insertBefore(ae.a.create(r),this);n={startNode:r,startOffset:i.length}}}else if(e===this.rightGuard){if(this.next instanceof Oe){this.next.insertAt(0,i);n={startNode:this.next.domNode,startOffset:i.length}}else{r=document.createTextNode(i);this.parent.insertBefore(ae.a.create(r),this.next);n={startNode:r,startOffset:i.length}}}e.data=yr;return n}},{key:"update",value:function t(e,n){var r=this;e.forEach(function(t){if(t.type==="characterData"&&(t.target===r.leftGuard||t.target===r.rightGuard)){var e=r.restore(t.target);if(e)n.range=e}})}}]);return e}(ae.a.Embed);var _r=gr;var br=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var wr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var xr=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Er(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function kr(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Or(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}function Tr(t){return t instanceof Fe||t instanceof Be}var Cr=function(t){Or(e,t);function e(t,n){Er(this,e);var r=kr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));r.emitter=n.emitter;if(Array.isArray(n.whitelist)){r.whitelist=n.whitelist.reduce(function(t,e){t[e]=true;return t},{})}r.domNode.addEventListener("DOMNodeInserted",function(){});r.optimize();r.enable();return r}wr(e,[{key:"batchStart",value:function t(){this.batch=true}},{key:"batchEnd",value:function t(){this.batch=false;this.optimize()}},{key:"deleteAt",value:function t(n,r){var i=this.line(n),o=br(i,2),a=o[0],s=o[1];var l=this.line(n+r),u=br(l,1),c=u[0];xr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,n,r);if(c!=null&&a!==c&&s>0){if(a instanceof Be||c instanceof Be){this.optimize();return}if(a instanceof Ke){var f=a.newlineIndex(a.length(),true);if(f>-1){a=a.split(f+1);if(a===c){this.optimize();return}}}else if(c instanceof Ke){var h=c.newlineIndex(0);if(h>-1){c.split(h+1)}}var d=c.children.head instanceof be?null:c.children.head;a.moveChildren(c,d);a.remove()}this.optimize()}},{key:"enable",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function t(n,r,i,o){if(this.whitelist!=null&&!this.whitelist[i])return;xr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,n,r,i,o);this.optimize()}},{key:"insertAt",value:function t(n,r,i){if(i!=null&&this.whitelist!=null&&!this.whitelist[r])return;if(n>=this.length()){if(i==null||ae.a.query(r,ae.a.Scope.BLOCK)==null){var o=ae.a.create(this.statics.defaultChild);this.appendChild(o);if(i==null&&r.endsWith("\n")){r=r.slice(0,-1)}o.insertAt(0,r,i)}else{var a=ae.a.create(r,i);this.appendChild(a)}}else{xr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,n,r,i)}this.optimize()}},{key:"insertBefore",value:function t(n,r){if(n.statics.scope===ae.a.Scope.INLINE_BLOT){var i=ae.a.create(this.statics.defaultChild);i.appendChild(n);n=i}xr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,n,r)}},{key:"leaf",value:function t(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function t(e){if(e===this.length()){return this.line(e-1)}return this.descendant(Tr,e)}},{key:"lines",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Number.MAX_VALUE;var r=function t(e,n,r){var i=[],o=r;e.children.forEachAt(n,r,function(e,n,r){if(Tr(e)){i.push(e)}else if(e instanceof ae.a.Container){i=i.concat(t(e,n,o))}o-=r});return i};return r(this,e,n)}},{key:"optimize",value:function t(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.batch===true)return;xr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,n,r);if(n.length>0){this.emitter.emit(Mn.events.SCROLL_OPTIMIZE,n,r)}}},{key:"path",value:function t(n){return xr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,n).slice(1)}},{key:"update",value:function t(n){if(this.batch===true)return;var r=Mn.sources.USER;if(typeof n==="string"){r=n}if(!Array.isArray(n)){n=this.observer.takeRecords()}if(n.length>0){this.emitter.emit(Mn.events.SCROLL_BEFORE_UPDATE,r,n)}xr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,n.concat([]));if(n.length>0){this.emitter.emit(Mn.events.SCROLL_UPDATE,r,n)}}}]);return e}(ae.a.Scroll);Cr.blotName="scroll";Cr.className="ql-editor";Cr.tagName="DIV";Cr.defaultChild="block";Cr.allowedChildren=[Fe,Be,fr];var Ar=Cr;var Lr={scope:ae.a.Scope.BLOCK,whitelist:["right","center","justify"]};var Sr=new ae.a.Attributor.Attribute("align","align",Lr);var Pr=new ae.a.Attributor.Class("align","ql-align",Lr);var Nr=new ae.a.Attributor.Style("align","text-align",Lr);var jr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Mr=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Ir(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Dr(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Rr(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var qr=function(t){Rr(e,t);function e(){Ir(this,e);return Dr(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}jr(e,[{key:"value",value:function t(n){var t=Mr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,n);if(!t.startsWith("rgb("))return t;t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");return"#"+t.split(",").map(function(t){return("00"+parseInt(t).toString(16)).slice(-2)}).join("")}}]);return e}(ae.a.Attributor.Style);var Br=new ae.a.Attributor.Class("color","ql-color",{scope:ae.a.Scope.INLINE});var Fr=new qr("color","color",{scope:ae.a.Scope.INLINE});var zr=new ae.a.Attributor.Class("background","ql-bg",{scope:ae.a.Scope.INLINE});var Ur=new qr("background","background-color",{scope:ae.a.Scope.INLINE});var $r={scope:ae.a.Scope.BLOCK,whitelist:["rtl"]};var Hr=new ae.a.Attributor.Attribute("direction","dir",$r);var Zr=new ae.a.Attributor.Class("direction","ql-direction",$r);var Vr=new ae.a.Attributor.Style("direction","direction",$r);var Wr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Gr=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Kr(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Yr(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Xr(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Jr={scope:ae.a.Scope.INLINE,whitelist:["serif","monospace"]};var Qr=new ae.a.Attributor.Class("font","ql-font",Jr);var ti=function(t){Xr(e,t);function e(){Kr(this,e);return Yr(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Wr(e,[{key:"value",value:function t(n){return Gr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,n).replace(/["']/g,"")}}]);return e}(ae.a.Attributor.Style);var ei=new ti("font","font-family",Jr);var ni=new ae.a.Attributor.Class("size","ql-size",{scope:ae.a.Scope.INLINE,whitelist:["small","large","huge"]});var ri=new ae.a.Attributor.Style("size","font-size",{scope:ae.a.Scope.INLINE,whitelist:["10px","18px","32px"]});var ii=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var oi=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var ai=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function si(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function li(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ui(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ci(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var fi=On("quill:clipboard");var hi="__ql-matcher";var di=[[Node.TEXT_NODE,Pi],[Node.TEXT_NODE,Ai],["br",Oi],[Node.ELEMENT_NODE,Ai],[Node.ELEMENT_NODE,ki],[Node.ELEMENT_NODE,Li],[Node.ELEMENT_NODE,Ei],[Node.ELEMENT_NODE,Si],["li",Ci],["b",xi.bind(xi,"bold")],["i",xi.bind(xi,"italic")],["style",Ti]];var pi=[Sr,Hr].reduce(function(t,e){t[e.keyName]=e;return t},{});var vi=[Nr,Ur,Fr,Vr,ei,ri].reduce(function(t,e){t[e.keyName]=e;return t},{});var mi=function(t){ci(e,t);function e(t,n){li(this,e);var r=ui(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.quill.root.addEventListener("paste",r.onPaste.bind(r));r.container=r.quill.addContainer("ql-clipboard");r.container.setAttribute("contenteditable",true);r.container.setAttribute("tabindex",-1);r.matchers=[];di.concat(r.options.matchers).forEach(function(t){var e=oi(t,2),i=e[0],o=e[1];if(!n.matchVisual&&o===Li)return;r.addMatcher(i,o)});return r}ai(e,[{key:"addMatcher",value:function t(e,n){this.matchers.push([e,n])}},{key:"convert",value:function t(e){if(typeof e==="string"){this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><");return this.convert()}var n=this.quill.getFormat(this.quill.selection.savedRange.index);if(n[Ke.blotName]){var r=this.container.innerText;this.container.innerHTML="";return(new ue.a).insert(r,si({},Ke.blotName,n[Ke.blotName]))}var i=this.prepareMatching(),o=oi(i,2),a=o[0],s=o[1];var l=wi(this.container,a,s);if(_i(l,"\n")&&l.ops[l.ops.length-1].attributes==null){l=l.compose((new ue.a).retain(l.length()-1).delete(1))}fi.log("convert",this.container.innerHTML,l);this.container.innerHTML="";return l}},{key:"dangerouslyPasteHTML",value:function t(e,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:nr.sources.API;if(typeof e==="string"){this.quill.setContents(this.convert(e),n);this.quill.setSelection(0,nr.sources.SILENT)}else{var i=this.convert(n);this.quill.updateContents((new ue.a).retain(e).concat(i),r);this.quill.setSelection(e+i.length(),nr.sources.SILENT)}}},{key:"onPaste",value:function t(e){var n=this;if(e.defaultPrevented||!this.quill.isEnabled())return;var r=this.quill.getSelection();var i=(new ue.a).retain(r.index);var o=this.quill.scrollingContainer.scrollTop;this.container.focus();this.quill.selection.update(nr.sources.SILENT);setTimeout(function(){i=i.concat(n.convert()).delete(r.length);n.quill.updateContents(i,nr.sources.USER);n.quill.setSelection(i.length()-r.length,nr.sources.SILENT);n.quill.scrollingContainer.scrollTop=o;n.quill.focus()},1)}},{key:"prepareMatching",value:function t(){var e=this;var n=[],r=[];this.matchers.forEach(function(t){var i=oi(t,2),o=i[0],a=i[1];switch(o){case Node.TEXT_NODE:r.push(a);break;case Node.ELEMENT_NODE:n.push(a);break;default:[].forEach.call(e.container.querySelectorAll(o),function(t){t[hi]=t[hi]||[];t[hi].push(a)});break}});return[n,r]}}]);return e}(Rn);mi.DEFAULTS={matchers:[],matchVisual:true};function yi(t,e,n){if((typeof e==="undefined"?"undefined":ii(e))==="object"){return Object.keys(e).reduce(function(t,n){return yi(t,n,e[n])},t)}else{return t.reduce(function(t,r){if(r.attributes&&r.attributes[e]){return t.push(r)}else{return t.insert(r.insert,de()({},si({},e,n),r.attributes))}},new ue.a)}}function gi(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};var e="__ql-computed-style";return t[e]||(t[e]=window.getComputedStyle(t))}function _i(t,e){var n="";for(var r=t.ops.length-1;r>=0&&n.length<e.length;--r){var i=t.ops[r];if(typeof i.insert!=="string")break;n=i.insert+n}return n.slice(-1*e.length)===e}function bi(t){if(t.childNodes.length===0)return false;var e=gi(t);return["block","list-item"].indexOf(e.display)>-1}function wi(t,e,n){if(t.nodeType===t.TEXT_NODE){return n.reduce(function(e,n){return n(t,e)},new ue.a)}else if(t.nodeType===t.ELEMENT_NODE){return[].reduce.call(t.childNodes||[],function(r,i){var o=wi(i,e,n);if(i.nodeType===t.ELEMENT_NODE){o=e.reduce(function(t,e){return e(i,t)},o);o=(i[hi]||[]).reduce(function(t,e){return e(i,t)},o)}return r.concat(o)},new ue.a)}else{return new ue.a}}function xi(t,e,n){return yi(n,t,true)}function Ei(t,e){var n=ae.a.Attributor.Attribute.keys(t);var r=ae.a.Attributor.Class.keys(t);var i=ae.a.Attributor.Style.keys(t);var o={};n.concat(r).concat(i).forEach(function(e){var n=ae.a.query(e,ae.a.Scope.ATTRIBUTE);if(n!=null){o[n.attrName]=n.value(t);if(o[n.attrName])return}n=pi[e];if(n!=null&&(n.attrName===e||n.keyName===e)){o[n.attrName]=n.value(t)||undefined}n=vi[e];if(n!=null&&(n.attrName===e||n.keyName===e)){n=vi[e];o[n.attrName]=n.value(t)||undefined}});if(Object.keys(o).length>0){e=yi(e,o)}return e}function ki(t,e){var n=ae.a.query(t);if(n==null)return e;if(n.prototype instanceof ae.a.Embed){var r={};var i=n.value(t);if(i!=null){r[n.blotName]=i;e=(new ue.a).insert(r,n.formats(t))}}else if(typeof n.formats==="function"){e=yi(e,n.blotName,n.formats(t))}return e}function Oi(t,e){if(!_i(e,"\n")){e.insert("\n")}return e}function Ti(){return new ue.a}function Ci(t,e){var n=ae.a.query(t);if(n==null||n.blotName!=="list-item"||!_i(e,"\n")){return e}var r=-1,i=t.parentNode;while(!i.classList.contains("ql-clipboard")){if((ae.a.query(i)||{}).blotName==="list"){r+=1}i=i.parentNode}if(r<=0)return e;return e.compose((new ue.a).retain(e.length()-1).retain(1,{indent:r}))}function Ai(t,e){if(!_i(e,"\n")){if(bi(t)||e.length()>0&&t.nextSibling&&bi(t.nextSibling)){e.insert("\n")}}return e}function Li(t,e){if(bi(t)&&t.nextElementSibling!=null&&!_i(e,"\n\n")){var n=t.offsetHeight+parseFloat(gi(t).marginTop)+parseFloat(gi(t).marginBottom);if(t.nextElementSibling.offsetTop>t.offsetTop+n*1.5){e.insert("\n")}}return e}function Si(t,e){var n={};var r=t.style||{};if(r.fontStyle&&gi(t).fontStyle==="italic"){n.italic=true}if(r.fontWeight&&(gi(t).fontWeight.startsWith("bold")||parseInt(gi(t).fontWeight)>=700)){n.bold=true}if(Object.keys(n).length>0){e=yi(e,n)}if(parseFloat(r.textIndent||0)>0){e=(new ue.a).insert("\t").concat(e)}return e}function Pi(t,e){var n=t.data;if(t.parentNode.tagName==="O:P"){return e.insert(n.trim())}if(n.trim().length===0&&t.parentNode.classList.contains("ql-clipboard")){return e}if(!gi(t.parentNode).whiteSpace.startsWith("pre")){var r=function t(e,n){n=n.replace(/[^\u00a0]/g,"");return n.length<1&&e?" ":n};n=n.replace(/\r\n/g," ").replace(/\n/g," ");n=n.replace(/\s\s+/g,r.bind(r,true));if(t.previousSibling==null&&bi(t.parentNode)||t.previousSibling!=null&&bi(t.previousSibling)){n=n.replace(/^\s+/,r.bind(r,false))}if(t.nextSibling==null&&bi(t.parentNode)||t.nextSibling!=null&&bi(t.nextSibling)){n=n.replace(/\s+$/,r.bind(r,false))}}return e.insert(n)}var Ni=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function ji(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Mi(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ii(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Di=function(t){Ii(e,t);function e(t,n){ji(this,e);var r=Mi(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.lastRecorded=0;r.ignoreChange=false;r.clear();r.quill.on(nr.events.EDITOR_CHANGE,function(t,e,n,i){if(t!==nr.events.TEXT_CHANGE||r.ignoreChange)return;if(!r.options.userOnly||i===nr.sources.USER){r.record(e,n)}else{r.transform(e)}});r.quill.keyboard.addBinding({key:"Z",shortKey:true},r.undo.bind(r));r.quill.keyboard.addBinding({key:"Z",shortKey:true,shiftKey:true},r.redo.bind(r));if(/Win/i.test(navigator.platform)){r.quill.keyboard.addBinding({key:"Y",shortKey:true},r.redo.bind(r))}return r}Ni(e,[{key:"change",value:function t(e,n){if(this.stack[e].length===0)return;var r=this.stack[e].pop();this.stack[n].push(r);this.lastRecorded=0;this.ignoreChange=true;this.quill.updateContents(r[e],nr.sources.USER);this.ignoreChange=false;var i=qi(r[e]);this.quill.setSelection(i)}},{key:"clear",value:function t(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function t(){this.lastRecorded=0}},{key:"record",value:function t(e,n){if(e.ops.length===0)return;this.stack.redo=[];var r=this.quill.getContents().diff(n);var i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var o=this.stack.undo.pop();r=r.compose(o.undo);e=o.redo.compose(e)}else{this.lastRecorded=i}this.stack.undo.push({redo:e,undo:r});if(this.stack.undo.length>this.options.maxStack){this.stack.undo.shift()}}},{key:"redo",value:function t(){this.change("redo","undo")}},{key:"transform",value:function t(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,true);t.redo=e.transform(t.redo,true)});this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,true);t.redo=e.transform(t.redo,true)})}},{key:"undo",value:function t(){this.change("undo","redo")}}]);return e}(Rn);Di.DEFAULTS={delay:1e3,maxStack:100,userOnly:false};function Ri(t){var e=t.ops[t.ops.length-1];if(e==null)return false;if(e.insert!=null){return typeof e.insert==="string"&&e.insert.endsWith("\n")}if(e.attributes!=null){return Object.keys(e.attributes).some(function(t){return ae.a.query(t,ae.a.Scope.BLOCK)!=null})}return false}function qi(t){var e=t.reduce(function(t,e){t+=e.delete||0;return t},0);var n=t.length()-e;if(Ri(t)){n-=1}return n}var Bi=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var Fi=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var zi=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Ui(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function $i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Hi(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Zi(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Vi=On("quill:keyboard");var Wi=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";var Gi=function(t){Zi(e,t);zi(e,null,[{key:"match",value:function t(e,n){n=no(n);if(["altKey","ctrlKey","metaKey","shiftKey"].some(function(t){return!!n[t]!==e[t]&&n[t]!==null})){return false}return n.key===(e.which||e.keyCode)}}]);function e(t,n){$i(this,e);var r=Hi(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.bindings={};Object.keys(r.options.bindings).forEach(function(e){if(e==="list autofill"&&t.scroll.whitelist!=null&&!t.scroll.whitelist["list"]){return}if(r.options.bindings[e]){r.addBinding(r.options.bindings[e])}});r.addBinding({key:e.keys.ENTER,shiftKey:null},Qi);r.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){});if(/Firefox/i.test(navigator.userAgent)){r.addBinding({key:e.keys.BACKSPACE},{collapsed:true},Yi);r.addBinding({key:e.keys.DELETE},{collapsed:true},Xi)}else{r.addBinding({key:e.keys.BACKSPACE},{collapsed:true,prefix:/^.?$/},Yi);r.addBinding({key:e.keys.DELETE},{collapsed:true,suffix:/^.?$/},Xi)}r.addBinding({key:e.keys.BACKSPACE},{collapsed:false},Ji);r.addBinding({key:e.keys.DELETE},{collapsed:false},Ji);r.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:true,offset:0},Yi);r.listen();return r}zi(e,[{key:"addBinding",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i=no(e);if(i==null||i.key==null){return Vi.warn("Attempted to add invalid keyboard binding",i)}if(typeof n==="function"){n={handler:n}}if(typeof r==="function"){r={handler:r}}i=de()(i,n,r);this.bindings[i.key]=this.bindings[i.key]||[];this.bindings[i.key].push(i)}},{key:"listen",value:function t(){var n=this;this.quill.root.addEventListener("keydown",function(t){if(t.defaultPrevented)return;var r=t.which||t.keyCode;var i=(n.bindings[r]||[]).filter(function(n){return e.match(t,n)});if(i.length===0)return;var o=n.quill.getSelection();if(o==null||!n.quill.hasFocus())return;var a=n.quill.getLine(o.index),s=Fi(a,2),l=s[0],u=s[1];var c=n.quill.getLeaf(o.index),f=Fi(c,2),h=f[0],d=f[1];var p=o.length===0?[h,d]:n.quill.getLeaf(o.index+o.length),v=Fi(p,2),m=v[0],y=v[1];var g=h instanceof ae.a.Text?h.value().slice(0,d):"";var _=m instanceof ae.a.Text?m.value().slice(y):"";var b={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:n.quill.getFormat(o),offset:u,prefix:g,suffix:_};var w=i.some(function(t){if(t.collapsed!=null&&t.collapsed!==b.collapsed)return false;if(t.empty!=null&&t.empty!==b.empty)return false;if(t.offset!=null&&t.offset!==b.offset)return false;if(Array.isArray(t.format)){if(t.format.every(function(t){return b.format[t]==null})){return false}}else if(Bi(t.format)==="object"){if(!Object.keys(t.format).every(function(e){if(t.format[e]===true)return b.format[e]!=null;if(t.format[e]===false)return b.format[e]==null;return ln()(t.format[e],b.format[e])})){return false}}if(t.prefix!=null&&!t.prefix.test(b.prefix))return false;if(t.suffix!=null&&!t.suffix.test(b.suffix))return false;return t.handler.call(n,o,b)!==true});if(w){t.preventDefault()}})}}]);return e}(Rn);Gi.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};Gi.DEFAULTS={bindings:{bold:eo("bold"),italic:eo("italic"),underline:eo("underline"),indent:{key:Gi.keys.TAB,format:["blockquote","indent","list"],handler:function t(e,n){if(n.collapsed&&n.offset!==0)return true;this.quill.format("indent","+1",nr.sources.USER)}},outdent:{key:Gi.keys.TAB,shiftKey:true,format:["blockquote","indent","list"],handler:function t(e,n){if(n.collapsed&&n.offset!==0)return true;this.quill.format("indent","-1",nr.sources.USER)}},"outdent backspace":{key:Gi.keys.BACKSPACE,collapsed:true,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function t(e,n){if(n.format.indent!=null){this.quill.format("indent","-1",nr.sources.USER)}else if(n.format.list!=null){this.quill.format("list",false,nr.sources.USER)}}},"indent code-block":to(true),"outdent code-block":to(false),"remove tab":{key:Gi.keys.TAB,shiftKey:true,collapsed:true,prefix:/\t$/,handler:function t(e){this.quill.deleteText(e.index-1,1,nr.sources.USER)}},tab:{key:Gi.keys.TAB,handler:function t(e){this.quill.history.cutoff();var n=(new ue.a).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(n,nr.sources.USER);this.quill.history.cutoff();this.quill.setSelection(e.index+1,nr.sources.SILENT)}},"list empty enter":{key:Gi.keys.ENTER,collapsed:true,format:["list"],empty:true,handler:function t(e,n){this.quill.format("list",false,nr.sources.USER);if(n.format.indent){this.quill.format("indent",false,nr.sources.USER)}}},"checklist enter":{key:Gi.keys.ENTER,collapsed:true,format:{list:"checked"},handler:function t(e){var n=this.quill.getLine(e.index),r=Fi(n,2),i=r[0],o=r[1];var a=de()({},i.formats(),{list:"checked"});var s=(new ue.a).retain(e.index).insert("\n",a).retain(i.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,nr.sources.USER);this.quill.setSelection(e.index+1,nr.sources.SILENT);this.quill.scrollIntoView()}},"header enter":{key:Gi.keys.ENTER,collapsed:true,format:["header"],suffix:/^$/,handler:function t(e,n){var r=this.quill.getLine(e.index),i=Fi(r,2),o=i[0],a=i[1];var s=(new ue.a).retain(e.index).insert("\n",n.format).retain(o.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,nr.sources.USER);this.quill.setSelection(e.index+1,nr.sources.SILENT);this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:true,format:{list:false},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function t(e,n){var r=n.prefix.length;var i=this.quill.getLine(e.index),o=Fi(i,2),a=o[0],s=o[1];if(s>r)return true;var l=void 0;switch(n.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",nr.sources.USER);this.quill.history.cutoff();var u=(new ue.a).retain(e.index-s).delete(r+1).retain(a.length()-2-s).retain(1,{list:l});this.quill.updateContents(u,nr.sources.USER);this.quill.history.cutoff();this.quill.setSelection(e.index-r,nr.sources.SILENT)}},"code exit":{key:Gi.keys.ENTER,collapsed:true,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function t(e){var n=this.quill.getLine(e.index),r=Fi(n,2),i=r[0],o=r[1];var a=(new ue.a).retain(e.index+i.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,nr.sources.USER)}},"embed left":Ki(Gi.keys.LEFT,false),"embed left shift":Ki(Gi.keys.LEFT,true),"embed right":Ki(Gi.keys.RIGHT,false),"embed right shift":Ki(Gi.keys.RIGHT,true)}};function Ki(t,e){var n;var r=t===Gi.keys.LEFT?"prefix":"suffix";return n={key:t,shiftKey:e,altKey:null},Ui(n,r,/^$/),Ui(n,"handler",function n(r){var i=r.index;if(t===Gi.keys.RIGHT){i+=r.length+1}var o=this.quill.getLeaf(i),a=Fi(o,1),s=a[0];if(!(s instanceof ae.a.Embed))return true;if(t===Gi.keys.LEFT){if(e){this.quill.setSelection(r.index-1,r.length+1,nr.sources.USER)}else{this.quill.setSelection(r.index-1,nr.sources.USER)}}else{if(e){this.quill.setSelection(r.index,r.length+1,nr.sources.USER)}else{this.quill.setSelection(r.index+r.length+1,nr.sources.USER)}}return false}),n}function Yi(t,e){if(t.index===0||this.quill.getLength()<=1)return;var n=this.quill.getLine(t.index),r=Fi(n,1),i=r[0];var o={};if(e.offset===0){var a=this.quill.getLine(t.index-1),s=Fi(a,1),l=s[0];if(l!=null&&l.length()>1){var u=i.formats();var c=this.quill.getFormat(t.index-1,1);o=fe.a.attributes.diff(u,c)||{}}}var f=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-f,f,nr.sources.USER);if(Object.keys(o).length>0){this.quill.formatLine(t.index-f,f,o,nr.sources.USER)}this.quill.focus()}function Xi(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;var r={},i=0;var o=this.quill.getLine(t.index),a=Fi(o,1),s=a[0];if(e.offset>=s.length()-1){var l=this.quill.getLine(t.index+1),u=Fi(l,1),c=u[0];if(c){var f=s.formats();var h=this.quill.getFormat(t.index,1);r=fe.a.attributes.diff(f,h)||{};i=c.length()}}this.quill.deleteText(t.index,n,nr.sources.USER);if(Object.keys(r).length>0){this.quill.formatLine(t.index+i-1,n,r,nr.sources.USER)}}function Ji(t){var e=this.quill.getLines(t);var n={};if(e.length>1){var r=e[0].formats();var i=e[e.length-1].formats();n=fe.a.attributes.diff(i,r)||{}}this.quill.deleteText(t,nr.sources.USER);if(Object.keys(n).length>0){this.quill.formatLine(t.index,1,n,nr.sources.USER)}this.quill.setSelection(t.index,nr.sources.SILENT);this.quill.focus()}function Qi(t,e){var n=this;if(t.length>0){this.quill.scroll.deleteAt(t.index,t.length)}var r=Object.keys(e.format).reduce(function(t,n){if(ae.a.query(n,ae.a.Scope.BLOCK)&&!Array.isArray(e.format[n])){t[n]=e.format[n]}return t},{});this.quill.insertText(t.index,"\n",r,nr.sources.USER);this.quill.setSelection(t.index+1,nr.sources.SILENT);this.quill.focus();Object.keys(e.format).forEach(function(t){if(r[t]!=null)return;if(Array.isArray(e.format[t]))return;if(t==="link")return;n.quill.format(t,e.format[t],nr.sources.USER)})}function to(t){return{key:Gi.keys.TAB,shiftKey:!t,format:{"code-block":true},handler:function e(n){var r=ae.a.query("code-block");var i=n.index,o=n.length;var a=this.quill.scroll.descendant(r,i),s=Fi(a,2),l=s[0],u=s[1];if(l==null)return;var c=this.quill.getIndex(l);var f=l.newlineIndex(u,true)+1;var h=l.newlineIndex(c+u+o);var d=l.domNode.textContent.slice(f,h).split("\n");u=0;d.forEach(function(e,n){if(t){l.insertAt(f+u,r.TAB);u+=r.TAB.length;if(n===0){i+=r.TAB.length}else{o+=r.TAB.length}}else if(e.startsWith(r.TAB)){l.deleteAt(f+u,r.TAB.length);u-=r.TAB.length;if(n===0){i-=r.TAB.length}else{o-=r.TAB.length}}u+=e.length+1});this.quill.update(nr.sources.USER);this.quill.setSelection(i,o,nr.sources.SILENT)}}}function eo(t){return{key:t[0].toUpperCase(),shortKey:true,handler:function e(n,r){this.quill.format(t,!r.format[t],nr.sources.USER)}}}function no(t){if(typeof t==="string"||typeof t==="number"){return no({key:t})}if((typeof t==="undefined"?"undefined":Bi(t))==="object"){t=an()(t,false)}if(typeof t.key==="string"){if(Gi.keys[t.key.toUpperCase()]!=null){t.key=Gi.keys[t.key.toUpperCase()]}else if(t.key.length===1){t.key=t.key.toUpperCase().charCodeAt(0)}else{return null}}if(t.shortKey){t[Wi]=t.shortKey;delete t.shortKey}return t}nr.register({"blots/block":Fe,"blots/block/embed":Be,"blots/break":be,"blots/container":fr,"blots/cursor":rn,"blots/embed":_r,"blots/inline":Ne,"blots/scroll":Ar,"blots/text":Oe,"modules/clipboard":mi,"modules/history":Di,"modules/keyboard":Gi});ae.a.register(Fe,be,rn,Ne,Ar,Oe);var ro=nr;var io=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var oo=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function ao(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function so(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function lo(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var uo=function(t){lo(e,t);function e(){ao(this,e);return so(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}io(e,[{key:"add",value:function t(n,r){if(r==="+1"||r==="-1"){var i=this.value(n)||0;r=r==="+1"?i+1:i-1}if(r===0){this.remove(n);return true}else{return oo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,n,r)}}},{key:"canAdd",value:function t(n,r){return oo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,n,r)||oo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,n,parseInt(r))}},{key:"value",value:function t(n){return parseInt(oo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,n))||undefined}}]);return e}(ae.a.Attributor.Class);var co=new uo("indent","ql-indent",{scope:ae.a.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});function fo(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ho(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function po(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var vo=function(t){po(e,t);function e(){fo(this,e);return ho(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Fe);vo.blotName="blockquote";vo.tagName="blockquote";var mo=vo;var yo=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function go(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function _o(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function bo(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var wo=function(t){bo(e,t);function e(){go(this,e);return _o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}yo(e,null,[{key:"formats",value:function t(e){return this.tagName.indexOf(e.tagName)+1}}]);return e}(Fe);wo.blotName="header";wo.tagName=["H1","H2","H3","H4","H5","H6"];var xo=wo;var Eo=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var ko=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Oo(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function To(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Co(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ao(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Lo=function(t){Ao(e,t);function e(){To(this,e);return Co(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Eo(e,[{key:"format",value:function t(n,r){if(n===So.blotName&&!r){this.replaceWith(ae.a.create(this.statics.scope))}else{ko(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,r)}}},{key:"remove",value:function t(){if(this.prev==null&&this.next==null){this.parent.remove()}else{ko(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}}},{key:"replaceWith",value:function t(n,r){this.parent.isolate(this.offset(this.parent),this.length());if(n===this.parent.statics.blotName){this.parent.replaceWith(n,r);return this}else{this.parent.unwrap();return ko(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,n,r)}}}],[{key:"formats",value:function t(n){return n.tagName===this.tagName?undefined:ko(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,n)}}]);return e}(Fe);Lo.blotName="list-item";Lo.tagName="LI";var So=function(t){Ao(e,t);Eo(e,null,[{key:"create",value:function t(n){var r=n==="ordered"?"OL":"UL";var i=ko(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,r);if(n==="checked"||n==="unchecked"){i.setAttribute("data-checked",n==="checked")}return i}},{key:"formats",value:function t(e){if(e.tagName==="OL")return"ordered";if(e.tagName==="UL"){if(e.hasAttribute("data-checked")){return e.getAttribute("data-checked")==="true"?"checked":"unchecked"}else{return"bullet"}}return undefined}}]);function e(t){To(this,e);var n=Co(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));var r=function e(r){if(r.target.parentNode!==t)return;var i=n.statics.formats(t);var o=ae.a.find(r.target);if(i==="checked"){o.format("list","unchecked")}else if(i==="unchecked"){o.format("list","checked")}};t.addEventListener("touchstart",r);t.addEventListener("mousedown",r);return n}Eo(e,[{key:"format",value:function t(e,n){if(this.children.length>0){this.children.tail.format(e,n)}}},{key:"formats",value:function t(){return Oo({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function t(n,r){if(n instanceof Lo){ko(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,n,r)}else{var i=r==null?this.length():r.offset(this);var o=this.split(i);o.parent.insertBefore(n,o)}}},{key:"optimize",value:function t(n){ko(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,n);var r=this.next;if(r!=null&&r.prev===this&&r.statics.blotName===this.statics.blotName&&r.domNode.tagName===this.domNode.tagName&&r.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")){r.moveChildren(this);r.remove()}}},{key:"replace",value:function t(n){if(n.statics.blotName!==this.statics.blotName){var r=ae.a.create(this.statics.defaultChild);n.moveChildren(r);this.appendChild(r)}ko(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,n)}}]);return e}(fr);So.blotName="list";So.scope=ae.a.Scope.BLOCK_BLOT;So.tagName=["OL","UL"];So.defaultChild="list-item";So.allowedChildren=[Lo];var Po=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var No=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function jo(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Mo(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Io(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Do=function(t){Io(e,t);function e(){jo(this,e);return Mo(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Po(e,[{key:"optimize",value:function t(n){No(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,n);if(this.domNode.tagName!==this.statics.tagName[0]){this.replaceWith(this.statics.blotName)}}}],[{key:"create",value:function t(){return No(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function t(){return true}}]);return e}(Ne);Do.blotName="bold";Do.tagName=["STRONG","B"];var Ro=Do;function qo(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Bo(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Fo(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var zo=function(t){Fo(e,t);function e(){qo(this,e);return Bo(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Ro);zo.blotName="italic";zo.tagName=["EM","I"];var Uo=zo;var $o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Ho=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Zo(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Vo(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Wo(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Go=function(t){Wo(e,t);function e(){Zo(this,e);return Vo(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}$o(e,[{key:"format",value:function t(n,r){if(n!==this.statics.blotName||!r)return Ho(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,r);r=this.constructor.sanitize(r);this.domNode.setAttribute("href",r)}}],[{key:"create",value:function t(n){var r=Ho(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);n=this.sanitize(n);r.setAttribute("href",n);r.setAttribute("target","_blank");return r}},{key:"formats",value:function t(e){return e.getAttribute("href")}},{key:"sanitize",value:function t(e){return Ko(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]);return e}(Ne);Go.blotName="link";Go.tagName="A";Go.SANITIZED_URL="about:blank";Go.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function Ko(t,e){var n=document.createElement("a");n.href=t;var r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}var Yo=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Xo=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Jo(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Qo(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ta(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ea=function(t){ta(e,t);function e(){Jo(this,e);return Qo(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Yo(e,null,[{key:"create",value:function t(n){if(n==="super"){return document.createElement("sup")}else if(n==="sub"){return document.createElement("sub")}else{return Xo(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n)}}},{key:"formats",value:function t(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super";return undefined}}]);return e}(Ne);ea.blotName="script";ea.tagName=["SUB","SUP"];var na=ea;function ra(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ia(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function oa(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var aa=function(t){oa(e,t);function e(){ra(this,e);return ia(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Ne);aa.blotName="strike";aa.tagName="S";var sa=aa;function la(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ua(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ca(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var fa=function(t){ca(e,t);function e(){la(this,e);return ua(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Ne);fa.blotName="underline";fa.tagName="U";var ha=fa;var da=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var pa=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function va(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ma(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ya(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ga=["alt","height","width"];var _a=function(t){ya(e,t);function e(){va(this,e);return ma(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}da(e,[{key:"format",value:function t(n,r){if(ga.indexOf(n)>-1){if(r){this.domNode.setAttribute(n,r)}else{this.domNode.removeAttribute(n)}}else{pa(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,r)}}}],[{key:"create",value:function t(n){var r=pa(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);if(typeof n==="string"){r.setAttribute("src",this.sanitize(n))}return r}},{key:"formats",value:function t(e){return ga.reduce(function(t,n){if(e.hasAttribute(n)){t[n]=e.getAttribute(n)}return t},{})}},{key:"match",value:function t(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function t(e){return Ko(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function t(e){return e.getAttribute("src")}}]);return e}(ae.a.Embed);_a.blotName="image";_a.tagName="IMG";var ba=_a;var wa=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var xa=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Ea(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ka(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Oa(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ta=["height","width"];var Ca=function(t){Oa(e,t);function e(){Ea(this,e);return ka(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}wa(e,[{key:"format",value:function t(n,r){if(Ta.indexOf(n)>-1){if(r){this.domNode.setAttribute(n,r)}else{this.domNode.removeAttribute(n)}}else{xa(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,r)}}}],[{key:"create",value:function t(n){var r=xa(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);r.setAttribute("frameborder","0");r.setAttribute("allowfullscreen",true);r.setAttribute("src",this.sanitize(n));return r}},{key:"formats",value:function t(e){return Ta.reduce(function(t,n){if(e.hasAttribute(n)){t[n]=e.getAttribute(n)}return t},{})}},{key:"sanitize",value:function t(e){return Go.sanitize(e)}},{key:"value",value:function t(e){return e.getAttribute("src")}}]);return e}(Be);Ca.blotName="video";Ca.className="ql-video";Ca.tagName="IFRAME";var Aa=Ca;var La=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Sa=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Pa(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Na(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ja(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ma=function(t){ja(e,t);function e(){Pa(this,e);return Na(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}La(e,null,[{key:"create",value:function t(n){var r=Sa(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);if(typeof n==="string"){window.katex.render(n,r,{throwOnError:false,errorColor:"#f00"});r.setAttribute("data-value",n)}return r}},{key:"value",value:function t(e){return e.getAttribute("data-value")}}]);return e}(_r);Ma.blotName="formula";Ma.className="ql-formula";Ma.tagName="SPAN";var Ia=function(t){ja(e,t);La(e,null,[{key:"register",value:function t(){nr.register(Ma,true)}}]);function e(){Pa(this,e);var t=Na(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(window.katex==null){throw new Error("Formula module requires KaTeX.")}return t}return e}(Rn);var Da=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Ra=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function qa(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ba(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Fa(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var za=function(t){Fa(e,t);function e(){qa(this,e);return Ba(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Da(e,[{key:"replaceWith",value:function t(n){this.domNode.textContent=this.domNode.textContent;this.attach();Ra(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,n)}},{key:"highlight",value:function t(e){var n=this.domNode.textContent;if(this.cachedText!==n){if(n.trim().length>0||this.cachedText==null){this.domNode.innerHTML=e(n);this.domNode.normalize();this.attach()}this.cachedText=n}}}]);return e}(Ke);za.className="ql-syntax";var Ua=new ae.a.Attributor.Class("token","hljs",{scope:ae.a.Scope.INLINE});var $a=function(t){Fa(e,t);Da(e,null,[{key:"register",value:function t(){nr.register(Ua,true);nr.register(za,true)}}]);function e(t,n){qa(this,e);var r=Ba(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(typeof r.options.highlight!=="function"){throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.")}var i=null;r.quill.on(nr.events.SCROLL_OPTIMIZE,function(){clearTimeout(i);i=setTimeout(function(){r.highlight();i=null},r.options.interval)});r.highlight();return r}Da(e,[{key:"highlight",value:function t(){var e=this;if(this.quill.selection.composing)return;this.quill.update(nr.sources.USER);var n=this.quill.getSelection();this.quill.scroll.descendants(za).forEach(function(t){t.highlight(e.options.highlight)});this.quill.update(nr.sources.SILENT);if(n!=null){this.quill.setSelection(n,nr.sources.SILENT)}}}]);return e}(Rn);$a.DEFAULTS={highlight:function(){if(window.hljs==null)return null;return function(t){var e=window.hljs.highlightAuto(t);return e.value}}(),interval:1e3};var Ha=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var Za=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Va(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function Wa(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ga(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ka(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ya=On("quill:toolbar");var Xa=function(t){Ka(e,t);function e(t,n){Wa(this,e);var r=Ga(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(r.options.container)){var i=document.createElement("div");Qa(i,r.options.container);t.container.parentNode.insertBefore(i,t.container);r.container=i}else if(typeof r.options.container==="string"){r.container=document.querySelector(r.options.container)}else{r.container=r.options.container}if(!(r.container instanceof HTMLElement)){var o;return o=Ya.error("Container required for toolbar",r.options),Ga(r,o)}r.container.classList.add("ql-toolbar");r.controls=[];r.handlers={};Object.keys(r.options.handlers).forEach(function(t){r.addHandler(t,r.options.handlers[t])});[].forEach.call(r.container.querySelectorAll("button, select"),function(t){r.attach(t)});r.quill.on(nr.events.EDITOR_CHANGE,function(t,e){if(t===nr.events.SELECTION_CHANGE){r.update(e)}});r.quill.on(nr.events.SCROLL_OPTIMIZE,function(){var t=r.quill.selection.getRange(),e=Ha(t,1),n=e[0];r.update(n)});return r}Za(e,[{key:"addHandler",value:function t(e,n){this.handlers[e]=n}},{key:"attach",value:function t(e){var n=this;var r=[].find.call(e.classList,function(t){return t.indexOf("ql-")===0});if(!r)return;r=r.slice("ql-".length);if(e.tagName==="BUTTON"){e.setAttribute("type","button")}if(this.handlers[r]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[r]==null){Ya.warn("ignoring attaching to disabled format",r,e);return}if(ae.a.query(r)==null){Ya.warn("ignoring attaching to nonexistent format",r,e);return}}var i=e.tagName==="SELECT"?"change":"click";e.addEventListener(i,function(t){var i=void 0;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;var o=e.options[e.selectedIndex];if(o.hasAttribute("selected")){i=false}else{i=o.value||false}}else{if(e.classList.contains("ql-active")){i=false}else{i=e.value||!e.hasAttribute("value")}t.preventDefault()}n.quill.focus();var a=n.quill.selection.getRange(),s=Ha(a,1),l=s[0];if(n.handlers[r]!=null){n.handlers[r].call(n,i)}else if(ae.a.query(r).prototype instanceof ae.a.Embed){i=prompt("Enter "+r);if(!i)return;n.quill.updateContents((new ue.a).retain(l.index).delete(l.length).insert(Va({},r,i)),nr.sources.USER)}else{n.quill.format(r,i,nr.sources.USER)}n.update(l)});this.controls.push([r,e])}},{key:"update",value:function t(e){var n=e==null?{}:this.quill.getFormat(e);this.controls.forEach(function(t){var r=Ha(t,2),i=r[0],o=r[1];if(o.tagName==="SELECT"){var a=void 0;if(e==null){a=null}else if(n[i]==null){a=o.querySelector("option[selected]")}else if(!Array.isArray(n[i])){var s=n[i];if(typeof s==="string"){s=s.replace(/\"/g,'\\"')}a=o.querySelector('option[value="'+s+'"]')}if(a==null){o.value="";o.selectedIndex=-1}else{a.selected=true}}else{if(e==null){o.classList.remove("ql-active")}else if(o.hasAttribute("value")){var l=n[i]===o.getAttribute("value")||n[i]!=null&&n[i].toString()===o.getAttribute("value")||n[i]==null&&!o.getAttribute("value");o.classList.toggle("ql-active",l)}else{o.classList.toggle("ql-active",n[i]!=null)}}})}}]);return e}(Rn);Xa.DEFAULTS={};function Ja(t,e,n){var r=document.createElement("button");r.setAttribute("type","button");r.classList.add("ql-"+e);if(n!=null){r.value=n}t.appendChild(r)}function Qa(t,e){if(!Array.isArray(e[0])){e=[e]}e.forEach(function(e){var n=document.createElement("span");n.classList.add("ql-formats");e.forEach(function(t){if(typeof t==="string"){Ja(n,t)}else{var e=Object.keys(t)[0];var r=t[e];if(Array.isArray(r)){ts(n,e,r)}else{Ja(n,e,r)}}});t.appendChild(n)})}function ts(t,e,n){var r=document.createElement("select");r.classList.add("ql-"+e);n.forEach(function(t){var e=document.createElement("option");if(t!==false){e.setAttribute("value",t)}else{e.setAttribute("selected","selected")}r.appendChild(e)});t.appendChild(r)}Xa.DEFAULTS={container:null,handlers:{clean:function t(){var e=this;var n=this.quill.getSelection();if(n==null)return;if(n.length==0){var r=this.quill.getFormat();Object.keys(r).forEach(function(t){if(ae.a.query(t,ae.a.Scope.INLINE)!=null){e.quill.format(t,false)}})}else{this.quill.removeFormat(n,nr.sources.USER)}},direction:function t(e){var n=this.quill.getFormat()["align"];if(e==="rtl"&&n==null){this.quill.format("align","right",nr.sources.USER)}else if(!e&&n==="right"){this.quill.format("align",false,nr.sources.USER)}this.quill.format("direction",e,nr.sources.USER)},indent:function t(e){var n=this.quill.getSelection();var r=this.quill.getFormat(n);var t=parseInt(r.indent||0);if(e==="+1"||e==="-1"){var i=e==="+1"?1:-1;if(r.direction==="rtl")i*=-1;this.quill.format("indent",t+i,nr.sources.USER)}},link:function t(e){if(e===true){e=prompt("Enter link URL:")}this.quill.format("link",e,nr.sources.USER)},list:function t(e){var n=this.quill.getSelection();var r=this.quill.getFormat(n);if(e==="check"){if(r["list"]==="checked"||r["list"]==="unchecked"){this.quill.format("list",false,nr.sources.USER)}else{this.quill.format("list","unchecked",nr.sources.USER)}}else{this.quill.format("list",e,nr.sources.USER)}}}};var es=n(12);var ns=n.n(es);var rs=n(86);var is=n.n(rs);var os=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var as=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function ss(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var ls=0;function us(t,e){t.setAttribute(e,!(t.getAttribute(e)==="true"))}var cs=function(){function t(e){var n=this;ss(this,t);this.select=e;this.container=document.createElement("span");this.buildPicker();this.select.style.display="none";this.select.parentNode.insertBefore(this.container,this.select);this.label.addEventListener("mousedown",function(){n.togglePicker()});this.label.addEventListener("keydown",function(t){switch(t.keyCode){case Gi.keys.ENTER:n.togglePicker();break;case Gi.keys.ESCAPE:n.escape();t.preventDefault();break;default:}});this.select.addEventListener("change",this.update.bind(this))}as(t,[{key:"togglePicker",value:function t(){this.container.classList.toggle("ql-expanded");us(this.label,"aria-expanded");us(this.options,"aria-hidden")}},{key:"buildItem",value:function t(e){var n=this;var r=document.createElement("span");r.tabIndex="0";r.setAttribute("role","button");r.classList.add("ql-picker-item");if(e.hasAttribute("value")){r.setAttribute("data-value",e.getAttribute("value"))}if(e.textContent){r.setAttribute("data-label",e.textContent)}r.addEventListener("click",function(){n.selectItem(r,true)});r.addEventListener("keydown",function(t){switch(t.keyCode){case Gi.keys.ENTER:n.selectItem(r,true);t.preventDefault();break;case Gi.keys.ESCAPE:n.escape();t.preventDefault();break;default:}});return r}},{key:"buildLabel",value:function t(){var e=document.createElement("span");e.classList.add("ql-picker-label");e.innerHTML=is.a;e.tabIndex="0";e.setAttribute("role","button");e.setAttribute("aria-expanded","false");this.container.appendChild(e);return e}},{key:"buildOptions",value:function t(){var e=this;var n=document.createElement("span");n.classList.add("ql-picker-options");n.setAttribute("aria-hidden","true");n.tabIndex="-1";n.id="ql-picker-options-"+ls;ls+=1;this.label.setAttribute("aria-controls",n.id);this.options=n;[].slice.call(this.select.options).forEach(function(t){var r=e.buildItem(t);n.appendChild(r);if(t.selected===true){e.selectItem(r)}});this.container.appendChild(n)}},{key:"buildPicker",value:function t(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)});this.container.classList.add("ql-picker");this.label=this.buildLabel();this.buildOptions()}},{key:"escape",value:function t(){var e=this;this.close();setTimeout(function(){return e.label.focus()},1)}},{key:"close",value:function t(){this.container.classList.remove("ql-expanded");this.label.setAttribute("aria-expanded","false");this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=this.container.querySelector(".ql-selected");if(e===r)return;if(r!=null){r.classList.remove("ql-selected")}if(e==null)return;e.classList.add("ql-selected");this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e);if(e.hasAttribute("data-value")){this.label.setAttribute("data-value",e.getAttribute("data-value"))}else{this.label.removeAttribute("data-value")}if(e.hasAttribute("data-label")){this.label.setAttribute("data-label",e.getAttribute("data-label"))}else{this.label.removeAttribute("data-label")}if(n){if(typeof Event==="function"){this.select.dispatchEvent(new Event("change"))}else if((typeof Event==="undefined"?"undefined":os(Event))==="object"){var i=document.createEvent("Event");i.initEvent("change",true,true);this.select.dispatchEvent(i)}this.close()}}},{key:"update",value:function t(){var e=void 0;if(this.select.selectedIndex>-1){var n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex];this.selectItem(n)}else{this.selectItem(null)}var r=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]);return t}();var fs=cs;var hs=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var ds=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function ps(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function vs(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ms(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ys=function(t){ms(e,t);function e(t,n){ps(this,e);var r=vs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));r.label.innerHTML=n;r.container.classList.add("ql-color-picker");[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(t){t.classList.add("ql-primary")});return r}hs(e,[{key:"buildItem",value:function t(n){var r=ds(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,n);r.style.backgroundColor=n.getAttribute("value")||"";return r}},{key:"selectItem",value:function t(n,r){ds(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,n,r);var i=this.label.querySelector(".ql-color-label");var o=n?n.getAttribute("data-value")||"":"";if(i){if(i.tagName==="line"){i.style.stroke=o}else{i.style.fill=o}}}}]);return e}(fs);var gs=ys;var _s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var bs=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function ws(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function xs(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Es(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ks=function(t){Es(e,t);function e(t,n){ws(this,e);var r=xs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));r.container.classList.add("ql-icon-picker");[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),function(t){t.innerHTML=n[t.getAttribute("data-value")||""]});r.defaultItem=r.container.querySelector(".ql-selected");r.selectItem(r.defaultItem);return r}_s(e,[{key:"selectItem",value:function t(n,r){bs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,n,r);n=n||this.defaultItem;this.label.innerHTML=n.innerHTML}}]);return e}(fs);var Os=ks;var Ts=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Cs(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var As=function(){function t(e,n){var r=this;Cs(this,t);this.quill=e;this.boundsContainer=n||document.body;this.root=e.addContainer("ql-tooltip");this.root.innerHTML=this.constructor.TEMPLATE;if(this.quill.root===this.quill.scrollingContainer){this.quill.root.addEventListener("scroll",function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"})}this.hide()}Ts(t,[{key:"hide",value:function t(){this.root.classList.add("ql-hidden")}},{key:"position",value:function t(e){var n=e.left+e.width/2-this.root.offsetWidth/2;var r=e.bottom+this.quill.root.scrollTop;this.root.style.left=n+"px";this.root.style.top=r+"px";this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect();var o=this.root.getBoundingClientRect();var a=0;if(o.right>i.right){a=i.right-o.right;this.root.style.left=n+a+"px"}if(o.left<i.left){a=i.left-o.left;this.root.style.left=n+a+"px"}if(o.bottom>i.bottom){var s=o.bottom-o.top;var l=e.bottom-e.top+s;this.root.style.top=r-l+"px";this.root.classList.add("ql-flip")}return a}},{key:"show",value:function t(){this.root.classList.remove("ql-editing");this.root.classList.remove("ql-hidden")}}]);return t}();var Ls=As;var Ss=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Ps=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Ns(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function js(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ms(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Is=[false,"center","right","justify"];var Ds=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"];var Rs=[false,"serif","monospace"];var qs=["1","2","3",false];var Bs=["small",false,"large","huge"];var Fs=function(t){Ms(e,t);function e(t,n){Ns(this,e);var r=js(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));var i=function e(n){if(!document.body.contains(t.root)){return document.body.removeEventListener("click",e)}if(r.tooltip!=null&&!r.tooltip.root.contains(n.target)&&document.activeElement!==r.tooltip.textbox&&!r.quill.hasFocus()){r.tooltip.hide()}if(r.pickers!=null){r.pickers.forEach(function(t){if(!t.container.contains(n.target)){t.close()}})}};t.emitter.listenDOM("click",document.body,i);return r}Ss(e,[{key:"addModule",value:function t(n){var r=Ps(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,n);if(n==="toolbar"){this.extendToolbar(r)}return r}},{key:"buildButtons",value:function t(e,n){e.forEach(function(t){var e=t.getAttribute("class")||"";e.split(/\s+/).forEach(function(e){if(!e.startsWith("ql-"))return;e=e.slice("ql-".length);if(n[e]==null)return;if(e==="direction"){t.innerHTML=n[e][""]+n[e]["rtl"]}else if(typeof n[e]==="string"){t.innerHTML=n[e]}else{var r=t.value||"";if(r!=null&&n[e][r]){t.innerHTML=n[e][r]}}})})}},{key:"buildPickers",value:function t(e,n){var r=this;this.pickers=e.map(function(t){if(t.classList.contains("ql-align")){if(t.querySelector("option")==null){$s(t,Is)}return new Os(t,n.align)}else if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var e=t.classList.contains("ql-background")?"background":"color";if(t.querySelector("option")==null){$s(t,Ds,e==="background"?"#ffffff":"#000000")}return new gs(t,n[e])}else{if(t.querySelector("option")==null){if(t.classList.contains("ql-font")){$s(t,Rs)}else if(t.classList.contains("ql-header")){$s(t,qs)}else if(t.classList.contains("ql-size")){$s(t,Bs)}}return new fs(t)}});var i=function t(){r.pickers.forEach(function(t){t.update()})};this.quill.on(Mn.events.EDITOR_CHANGE,i)}}]);return e}(Kn);Fs.DEFAULTS=de()(true,{},Kn.DEFAULTS,{modules:{toolbar:{handlers:{formula:function t(){this.quill.theme.tooltip.edit("formula")},image:function t(){var e=this;var n=this.container.querySelector("input.ql-image[type=file]");if(n==null){n=document.createElement("input");n.setAttribute("type","file");n.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon");n.classList.add("ql-image");n.addEventListener("change",function(){if(n.files!=null&&n.files[0]!=null){var t=new FileReader;t.onload=function(t){var r=e.quill.getSelection(true);e.quill.updateContents((new ue.a).retain(r.index).delete(r.length).insert({image:t.target.result}),Mn.sources.USER);e.quill.setSelection(r.index+1,Mn.sources.SILENT);n.value=""};t.readAsDataURL(n.files[0])}});this.container.appendChild(n)}n.click()},video:function t(){this.quill.theme.tooltip.edit("video")}}}}});var zs=function(t){Ms(e,t);function e(t,n){Ns(this,e);var r=js(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.textbox=r.root.querySelector('input[type="text"]');r.listen();return r}Ss(e,[{key:"listen",value:function t(){var e=this;this.textbox.addEventListener("keydown",function(t){if(Gi.match(t,"enter")){e.save();t.preventDefault()}else if(Gi.match(t,"escape")){e.cancel();t.preventDefault()}})}},{key:"cancel",value:function t(){this.hide()}},{key:"edit",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"link";var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.root.classList.remove("ql-hidden");this.root.classList.add("ql-editing");if(n!=null){this.textbox.value=n}else if(e!==this.root.getAttribute("data-mode")){this.textbox.value=""}this.position(this.quill.getBounds(this.quill.selection.savedRange));this.textbox.select();this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||"");this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function t(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus();this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function t(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var n=this.quill.root.scrollTop;if(this.linkRange){this.quill.formatText(this.linkRange,"link",e,Mn.sources.USER);delete this.linkRange}else{this.restoreFocus();this.quill.format("link",e,Mn.sources.USER)}this.quill.root.scrollTop=n;break}case"video":{e=Us(e)}case"formula":{if(!e)break;var r=this.quill.getSelection(true);if(r!=null){var i=r.index+r.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),e,Mn.sources.USER);if(this.root.getAttribute("data-mode")==="formula"){this.quill.insertText(i+1," ",Mn.sources.USER)}this.quill.setSelection(i+2,Mn.sources.USER)}break}default:}this.textbox.value="";this.hide()}}]);return e}(Ls);function Us(t){var e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(e){return(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0"}if(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/)){return(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/"}return t}function $s(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;e.forEach(function(e){var r=document.createElement("option");if(e===n){r.setAttribute("selected","selected")}else{r.setAttribute("value",e)}t.appendChild(r)})}var Hs=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};var Zs=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Vs(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ws(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Gs(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ks=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];var Ys=function(t){Gs(e,t);function e(t,n){Vs(this,e);if(n.modules.toolbar!=null&&n.modules.toolbar.container==null){n.modules.toolbar.container=Ks}var r=Ws(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.quill.container.classList.add("ql-bubble");return r}Zs(e,[{key:"extendToolbar",value:function t(e){this.tooltip=new Xs(this.quill,this.options.bounds);this.tooltip.root.appendChild(e.container);this.buildButtons([].slice.call(e.container.querySelectorAll("button")),ns.a);this.buildPickers([].slice.call(e.container.querySelectorAll("select")),ns.a)}}]);return e}(Fs);Ys.DEFAULTS=de()(true,{},Fs.DEFAULTS,{modules:{toolbar:{handlers:{link:function t(e){if(!e){this.quill.format("link",false)}else{this.quill.theme.tooltip.edit()}}}}}});var Xs=function(t){Gs(e,t);function e(t,n){Vs(this,e);var r=Ws(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.quill.on(Mn.events.EDITOR_CHANGE,function(t,e,n,i){if(t!==Mn.events.SELECTION_CHANGE)return;if(e!=null&&e.length>0&&i===Mn.sources.USER){r.show();r.root.style.left="0px";r.root.style.width="";r.root.style.width=r.root.offsetWidth+"px";var o=r.quill.getLines(e.index,e.length);if(o.length===1){r.position(r.quill.getBounds(e))}else{var a=o[o.length-1];var s=r.quill.getIndex(a);var l=Math.min(a.length()-1,e.index+e.length-s);var u=r.quill.getBounds(new $n(s,l));r.position(u)}}else if(document.activeElement!==r.textbox&&r.quill.hasFocus()){r.hide()}});return r}Zs(e,[{key:"listen",value:function t(){var n=this;Hs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this);this.root.querySelector(".ql-close").addEventListener("click",function(){n.root.classList.remove("ql-editing")});this.quill.on(Mn.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(n.root.classList.contains("ql-hidden"))return;var t=n.quill.getSelection();if(t!=null){n.position(n.quill.getBounds(t))}},1)})}},{key:"cancel",value:function t(){this.show()}},{key:"position",value:function t(n){var r=Hs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,n);var i=this.root.querySelector(".ql-tooltip-arrow");i.style.marginLeft="";if(r===0)return r;i.style.marginLeft=-1*r-i.offsetWidth/2+"px"}}]);return e}(zs);Xs.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");var Js=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var Qs=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};var tl=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function el(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function nl(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function rl(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var il=[[{header:["1","2","3",false]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];var ol=function(t){rl(e,t);function e(t,n){el(this,e);if(n.modules.toolbar!=null&&n.modules.toolbar.container==null){n.modules.toolbar.container=il}var r=nl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.quill.container.classList.add("ql-snow");return r}tl(e,[{key:"extendToolbar",value:function t(e){e.container.classList.add("ql-snow");this.buildButtons([].slice.call(e.container.querySelectorAll("button")),ns.a);this.buildPickers([].slice.call(e.container.querySelectorAll("select")),ns.a);this.tooltip=new al(this.quill,this.options.bounds);if(e.container.querySelector(".ql-link")){this.quill.keyboard.addBinding({key:"K",shortKey:true},function(t,n){e.handlers["link"].call(e,!n.format.link)})}}}]);return e}(Fs);ol.DEFAULTS=de()(true,{},Fs.DEFAULTS,{modules:{toolbar:{handlers:{link:function t(e){if(e){var n=this.quill.getSelection();if(n==null||n.length==0)return;var r=this.quill.getText(n);if(/^\S+@\S+\.\S+$/.test(r)&&r.indexOf("mailto:")!==0){r="mailto:"+r}var i=this.quill.theme.tooltip;i.edit("link",r)}else{this.quill.format("link",false)}}}}}});var al=function(t){rl(e,t);function e(t,n){el(this,e);var r=nl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.preview=r.root.querySelector("a.ql-preview");return r}tl(e,[{key:"listen",value:function t(){var n=this;Qs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this);this.root.querySelector("a.ql-action").addEventListener("click",function(t){if(n.root.classList.contains("ql-editing")){n.save()}else{n.edit("link",n.preview.textContent)}t.preventDefault()});this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(n.linkRange!=null){var e=n.linkRange;n.restoreFocus();n.quill.formatText(e,"link",false,Mn.sources.USER);delete n.linkRange}t.preventDefault();n.hide()});this.quill.on(Mn.events.SELECTION_CHANGE,function(t,e,r){if(t==null)return;if(t.length===0&&r===Mn.sources.USER){var i=n.quill.scroll.descendant(Go,t.index),o=Js(i,2),a=o[0],s=o[1];if(a!=null){n.linkRange=new $n(t.index-s,a.length());var l=Go.formats(a.domNode);n.preview.textContent=l;n.preview.setAttribute("href",l);n.show();n.position(n.quill.getBounds(n.linkRange));return}}else{delete n.linkRange}n.hide()})}},{key:"show",value:function t(){Qs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this);this.root.removeAttribute("data-mode")}}]);return e}(zs);al.TEMPLATE=['<a class="ql-preview" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");var sl=ol;ro.register({"attributors/attribute/direction":Hr,"attributors/class/align":Pr,"attributors/class/background":zr,"attributors/class/color":Br,"attributors/class/direction":Zr,"attributors/class/font":Qr,"attributors/class/size":ni,"attributors/style/align":Nr,"attributors/style/background":Ur,"attributors/style/color":Fr,"attributors/style/direction":Vr,"attributors/style/font":ei,"attributors/style/size":ri},true);ro.register({"formats/align":Pr,"formats/direction":Zr,"formats/indent":co,"formats/background":Ur,"formats/color":Fr,"formats/font":Qr,"formats/size":ni,"formats/blockquote":mo,"formats/code-block":Ke,"formats/header":xo,"formats/list":So,"formats/bold":Ro,"formats/code":Ge,"formats/italic":Uo,"formats/link":Go,"formats/script":na,"formats/strike":sa,"formats/underline":ha,"formats/image":ba,"formats/video":Aa,"formats/list/item":Lo,"modules/formula":Ia,"modules/syntax":$a,"modules/toolbar":Xa,"themes/bubble":Ys,"themes/snow":sl,"ui/icons":ns.a,"ui/picker":fs,"ui/icon-picker":Os,"ui/color-picker":gs,"ui/tooltip":Ls},true);var ll=ro;var ul=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function cl(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function fl(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function hl(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var dl=ll.import("modules/clipboard");var pl=ll.import("delta");var vl=function(t){hl(e,t);function e(){cl(this,e);return fl(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}ul(e,[{key:"onPaste",value:function t(e){e.preventDefault();var n=this.quill.getSelection();var r=this.quill.getFormat();var i=e.clipboardData.getData("text/plain");var o=(new pl).retain(n.index).delete(n.length).insert(i,r);var a=i.length+n.index;var s=0;this.quill.updateContents(o,"user");this.quill.setSelection(a,s,"user");this.quill.scrollIntoView()}}]);return e}(dl);var ml=vl;function yl(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function gl(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function _l(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var bl=ll.import("blots/inline");var wl=function(t){_l(e,t);function e(){yl(this,e);return gl(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(bl);wl.blotName="bold";wl.tagName="strong";var xl=wl;function El(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function kl(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ol(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Tl=ll.import("blots/inline");var Cl=function(t){Ol(e,t);function e(){El(this,e);return kl(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Tl);Cl.blotName="italic";Cl.tagName="i";var Al=Cl;function Ll(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Sl(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Pl(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Nl=ll.import("blots/inline");var jl=function(t){Pl(e,t);function e(){Ll(this,e);return Sl(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Nl);jl.blotName="smallcaps";jl.tagName="smallcaps";var Ml=jl;function Il(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Dl(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Rl(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ql=ll.import("blots/inline");var Bl=function(t){Rl(e,t);function e(){Il(this,e);return Dl(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(ql);Bl.blotName="superscript";Bl.tagName="sup";var Fl=Bl;function zl(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ul(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function $l(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Hl=ll.import("blots/inline");var Zl=function(t){$l(e,t);function e(){zl(this,e);return Ul(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Hl);Zl.blotName="expan";Zl.tagName="ex";var Vl=Zl;function Wl(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Gl(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Kl(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Yl=ll.import("blots/inline");var Xl=function(t){Kl(e,t);function e(){Wl(this,e);return Gl(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Yl);Xl.blotName="del";Xl.tagName="del";var Jl=Xl;var Ql=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var tu=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function eu(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function nu(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ru(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var iu=ll.import("blots/inline");var ou=function(t){ru(e,t);function e(){eu(this,e);return nu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Ql(e,null,[{key:"create",value:function t(n){var r=tu(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this);r.setAttribute("href",n);r.setAttribute("target","_blank");return r}},{key:"formats",value:function t(e){return e.getAttribute("href")}}]);return e}(iu);ou.blotName="link";ou.tagName="a";var au=ou;function su(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function lu(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function uu(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var cu=ll.import("blots/block");var fu=function(t){uu(e,t);function e(){su(this,e);return lu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(cu);fu.blotName="blockquote";fu.tagName="blockquote";var hu=fu;function du(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function pu(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function vu(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var mu=ll.import("blots/inline");var yu=function(t){vu(e,t);function e(){du(this,e);return pu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(mu);yu.blotName="inlinequote";yu.tagName="q";var gu=yu;var _u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var bu=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function wu(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function xu(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Eu(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ku=ll.import("blots/inline");var Ou=function(t){Eu(e,t);function e(){wu(this,e);return xu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}_u(e,[{key:"format",value:function t(n,r){if(n==="person"&&r){this.domNode.setAttribute("ref",r)}else{bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,r)}}},{key:"formats",value:function t(){var t=bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formats",this).call(this);t["person"]=e.formats(this.domNode);return t}}],[{key:"create",value:function t(n){var r=bu(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this);r.setAttribute("ref",n);return r}},{key:"formats",value:function t(e){var n=e.getAttribute("ref");return n||true}}]);return e}(ku);Ou.blotName="person";Ou.tagName="persName";var Tu=Ou;var Cu=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Au=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Lu(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Su(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Pu(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Nu=ll.import("blots/inline");var ju=function(t){Pu(e,t);function e(){Lu(this,e);return Su(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Cu(e,[{key:"format",value:function t(n,r){if(n==="location"&&r){this.domNode.setAttribute("ref",r)}else{Au(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,r)}}},{key:"formats",value:function t(){var t=Au(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formats",this).call(this);t["cite"]=e.formats(this.domNode);return t}}],[{key:"create",value:function t(n){var r=Au(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this);r.setAttribute("ref",n);return r}},{key:"formats",value:function t(e){var n=e.getAttribute("ref");return n||true}}]);return e}(Nu);ju.blotName="cite";ju.tagName="cite";var Mu=ju;var Iu=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Du=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Ru(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function qu(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Bu(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Fu=ll.import("blots/inline");var zu=function(t){Bu(e,t);function e(){Ru(this,e);return qu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Iu(e,[{key:"format",value:function t(n,r){if(n==="location"&&r){this.domNode.setAttribute("ref",r)}else{Du(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,r)}}},{key:"formats",value:function t(){var t=Du(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formats",this).call(this);t["location"]=e.formats(this.domNode);return t}}],[{key:"create",value:function t(n){var r=Du(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this);r.setAttribute("ref",n);return r}},{key:"formats",value:function t(e){var n=e.getAttribute("ref");return n||true}}]);return e}(Fu);zu.blotName="location";zu.tagName="placeName";var Uu=zu;var $u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Hu=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Zu(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Vu(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Wu(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Gu=function(t){Wu(e,t);function e(){Zu(this,e);return Vu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}$u(e,null,[{key:"create",value:function t(n){var r=Hu(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this);return r}}]);return e}(ae.a.Embed);Gu.blotName="segment";Gu.tagName="segment";var Ku=Gu;var Yu=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Xu=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Ju(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Qu(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function tc(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ec=function(t){tc(e,t);function e(){Ju(this,e);return Qu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Yu(e,[{key:"length",value:function t(){return 1}},{key:"insertInto",value:function t(e,n){ae.a.Embed.prototype.insertInto.call(this,e,n)}}],[{key:"create",value:function t(n){var r=Xu(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);r.innerHTML='<span class="br"></span><span class="segment-bullet"></span>';return r}}]);return e}(ae.a.Embed);ec.blotName="linebreak";ec.tagName="lb";var nc=ec;function rc(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ic(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function oc(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ac=ll.import("blots/block");var sc=function(t){oc(e,t);function e(){rc(this,e);return ic(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(ac);sc.blotName="paragraph";sc.tagName="p";var lc=sc;function uc(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function cc(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function fc(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var hc=ll.import("blots/block");var dc=function(t){fc(e,t);function e(){uc(this,e);return cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(hc);dc.blotName="verse";dc.tagName="l";var pc=dc;var vc=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var mc=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function yc(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function gc(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function _c(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var bc=ll.import("blots/inline");var wc=function(t){_c(e,t);function e(){yc(this,e);return gc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}vc(e,[{key:"format",value:function t(n,r){if(n==="note"&&r){this.domNode.setAttribute("id",r)}else{mc(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,r)}}},{key:"formats",value:function t(){var t=mc(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formats",this).call(this);t["note"]=e.formats(this.domNode);return t}}],[{key:"create",value:function t(n){var r=mc(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this);r.setAttribute("id",n);return r}},{key:"formats",value:function t(e){var n=e.getAttribute("id");return n||true}}]);return e}(bc);wc.blotName="note";wc.tagName="note";var xc=wc;var Ec=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var kc=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Oc(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Tc(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Cc(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ac=ll.import("blots/inline");var Lc=function(t){Cc(e,t);function e(){Oc(this,e);return Tc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Ec(e,[{key:"format",value:function t(n,r){if(n==="note"&&r){this.domNode.setAttribute("id",r)}else{kc(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,r)}}},{key:"formats",value:function t(){var t=kc(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formats",this).call(this);t["zone"]=e.formats(this.domNode);return t}}],[{key:"create",value:function t(n){var r=kc(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this);r.setAttribute("id",n);return r}},{key:"formats",value:function t(e){var n=e.getAttribute("id");return n||true}}]);return e}(Ac);Lc.blotName="zone";Lc.tagName="zone";var Sc=Lc;var Pc=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Nc=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function jc(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Mc(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ic(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Dc=ll.import("blots/inline");var Rc=function(t){Ic(e,t);function e(){jc(this,e);return Mc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Pc(e,[{key:"format",value:function t(n,r){if(n==="speechpart"&&r){this.domNode.setAttribute("id",r)}else{Nc(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,n,r)}}},{key:"formats",value:function t(){var t=Nc(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formats",this).call(this);t["speechpart"]=e.formats(this.domNode);return t}}],[{key:"create",value:function t(n){var r=Nc(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this);r.setAttribute("id",n);return r}},{key:"formats",value:function t(e){var n=e.getAttribute("id");return n}}]);return e}(Dc);Rc.blotName="speechpart";Rc.tagName="speechpart";var qc=Rc;var Bc=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Fc=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function zc(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Uc(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function $c(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Hc=function(t){$c(e,t);function e(){zc(this,e);return Uc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Bc(e,null,[{key:"create",value:function t(n){var r=Fc(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this);return r}}]);return e}(ae.a.Embed);Hc.blotName="colbreak";Hc.tagName="cb";var Zc=Hc;var Vc=ll.import("blots/inline");var Wc=ll.import("blots/embed");Vc.order=["cursor","expan","inline","underline","strike","italic","bold","script","del","link","code","person","location","note","zone","speechpart"];ll.register("modules/clipboard",ml,true);ll.register(nc,true);ll.register(xl,true);ll.register(Al,true);ll.register(Ml,true);ll.register(Fl,true);ll.register(Vl,true);ll.register(Jl,true);ll.register(au,true);ll.register(hu,true);ll.register(gu,true);ll.register(Uu,true);ll.register(Mu,true);ll.register(Tu,true);ll.register(Ku,true);ll.register(lc,true);ll.register(pc,true);ll.register(xc,true);ll.register(Sc,true);ll.register(Zc,true);ll.register(qc,true);function Gc(){var t=new ue.a;t.insert({linebreak:""});return t}var Kc={modules:{clipboard:{matchers:[["lb",Gc]]},keyboard:{bindings:{linebreak:{key:13,shiftKey:true,handler:function t(e){this.quill.insertEmbed(e.index,"linebreak",true,"user");this.quill.setSelection(e.index+1,ll.sources.SILENT)}}}}}};function Yc(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=e||Kc;var r=new ll(t,Kc);var i=r.getLength();var o=r.getText(i-2,2);if(o==="\n\n"){r.deleteText(r.getLength()-2,2)}return r}var Xc=n(54);var Jc=n.n(Xc);var Qc=n(34);var tf=n.n(Qc);var ef=n(87);var nf=n.n(ef);var rf=n(88);var of=n.n(rf);var af=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function sf(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}var lf={removeAttributes:["color","background"],keepFormats:["bold","italic","smallcaps","underline","del","expan","superscript","location","person","cite"]};var uf={content:{removeAttributes:["note","speechpart","zone"].concat(lf.removeAttributes),keepFormats:[].concat(lf.keepFormats)},notes:{removeAttributes:["segment","speechpart","zone"].concat(lf.removeAttributes),keepFormats:["note"].concat(lf.keepFormats)},speechparts:{removeAttributes:["segment","note","zone"].concat(lf.removeAttributes),keepFormats:["speechpart"].concat(lf.keepFormats)},facsimile:{removeAttributes:["note","segment","speechpart"].concat(lf.removeAttributes),keepFormats:["zone"].concat(lf.keepFormats)}};var cf=function t(){return new ue.a};var ff=function t(e){var n=new ue.a;e.forEach(function(t){if(t.retain){n.retain(t.retain)}else if(t.insert){n.insert(t.insert)}else if(t.delete){n.delete(t.delete)}});return n};var hf=function t(e,n,r){var i=[].concat(sf(n.ops));var o=new ue.a;var a=0;var s=Object.assign({},i[0]);if(s.retain){a=s.retain}s=df(e,s,r,0);o.ops.push(s);var l=of()(Jc()(i,[0]));if(l.length>0){l.forEach(function(t){o.ops.push(df(e,t,r,a))})}return o};var df=function t(e,n,r,i){var o=uf[r];var a={};var s=pf(n);if(n[s]!==null&&af(n[s])==="object"){a[s]=Object.assign({},n[s])}else{a[s]=n[s]}var l=e.getFormat(i);if(s==="insert"){l=nf()(l,o.keepFormats);if(!tf()(l))a.attributes=l}if(n.attributes){var u=Object.assign({},Jc()(n.attributes,o.removeAttributes));a.attributes=Object.assign(a.attributes||{},u)}return a};var pf=function t(e){if(e.retain){return"retain"}else if(e.insert){return"insert"}else if(e.delete){return"delete"}};var vf=function t(e){var n=pf(e);var r=void 0,i="";if(e.attributes){r=e.attributes;i=Object.keys(r).map(function(t){return t+": "+r[t]}).join(", ")}return n+" ("+e[n]+") { "+i+" }"};var mf=function t(e){var n=new ue.a;e.ops.forEach(function(t){if(t.attributes&&t.attributes.note)delete t.attributes.note;n.ops.push(t)});return n};var yf={data:function t(){return{storeActions:{},editor:null,editorContentElement:null,editorHasFocus:false,currentSelection:null,formTextfield:null,actionsPositions:{top:0,left:0,right:0,bottom:0},editorInited:false}},methods:{initEditor:function t(e,n){e.innerHTML=n;this.editor=Yc(e);this.activateEvents();this.editor.updateContents(cf().retain(this.editor.getLength(),"api"));this.editorContentElement=e.children[0];this.editorInited=true},activateEvents:function t(){this.editor.on("selection-change",this.onSelection);this.editor.on("selection-change",this.onFocus);this.editor.on("text-change",this.onTextChange)},deactivateEvents:function t(){this.editor.off("selection-change",this.onSelection);this.editor.off("selection-change",this.onFocus);this.editor.off("text-change",this.onTextChange)},getEditorHTML:function t(){return this.editorContentElement.innerHTML},onTextChange:function t(e,n,r){this.lastOperations=e;if(this.editorInited)this.$store.dispatch(this.storeActions.changed,e)},onSelection:function t(e){if(e){this.setRangeBound(e);var n=this.editor.getFormat(e.index,e.length);this.updateButtons(n);console.log("onSelection",e,n);if(!!n.note){this.onNoteSelected(n.note,e);this.buttons.note=false}else{this.selectedNoteId=null;this.buttons.note=true}}},onFocus:function t(){this.editorHasFocus=this.editor.hasFocus()},simpleFormat:function t(e){var n=this.editor.getSelection();var r=this.editor.getFormat(n.index,n.length);var i=!r[e];this.editor.format(e,i);var o=this.editor.getFormat(n.index,n.length);this.updateButtons(o)},insertSegment:function t(){var e=this.editor.getSelection(true);this.editor.updateContents(cf().retain(e.index).delete(e.length).insert({segment:true}),ll.sources.USER);this.editor.setSelection(e.index+1,ll.sources.SILENT)},insertColBreak:function t(){var e=this.editor.getSelection(true);this.editor.updateContents(cf().retain(e.index).delete(e.length).insert({colbreak:true}),ll.sources.USER);this.editor.setSelection(e.index+1,ll.sources.SILENT)},updateButtons:function t(e){if(tf()(e))e={paragraph:true};for(var n in this.buttons){this.buttons[n]=!!e[n]}},setRangeBound:function t(e){var n=this.editor.getBounds(e);this.actionsPositions.left=n.left;this.actionsPositions.right=n.right;this.actionsPositions.bottom=n.bottom},displayTextfieldForm:function t(e){var n=this.editor.getFormat();e.value=n[e.format];this.formTextfield=e},cancelTextfieldForm:function t(){this.formTextfield=null},submitTextfieldForm:function t(e){this.editor.format(this.formTextfield.format,e);this.cancelTextfieldForm();var n=this.editor.getFormat();this.updateButtons(n)},removeFormat:function t(){console.log("removeFormat",this.formTextfield.format);var e=this.formTextfield.format;var n=this.editor.getSelection();this.editor.format(e,"");this.cancelTextfieldForm();var r=this.editor.getFormat(n.index,n.length);this.updateButtons(r)},displayLocationForm:function t(){this.displayTextfieldForm({format:"location",title:'<i class="fas fa-map-marker-alt"></i> Identifier un lieu',label:"Nom du lieu"})},displayPersonForm:function t(){this.displayTextfieldForm({format:"person",title:'<i class="fas fa-user"></i> Identifier une personne',label:"Nom de la personne"})},displayCiteForm:function t(){this.displayTextfieldForm({format:"cite",title:'<i class="fas fa-book"></i> Ajouter une mention bibliographique',label:"Référence"})}},computed:{actionsPosition:function t(){var e=this.actionsPositions.bottom+5;var n=(this.actionsPositions.left+this.actionsPositions.right)/2;return"top:"+e+"px;left:"+n+"px"},isNoteButtonActive:function t(){var e=this.editorHasFocus&&this.buttons.note;return e}}};var gf=yf;var _f={name:"in-editor-actions",props:{edit:{type:Function,required:true},delete:{type:Function,required:true},editText:{type:String,default:"Éditer"},deleteText:{type:String,default:"Supprimer"}},methods:{deleteAction:function t(){this.$props.delete()},editAction:function t(){this.$props.edit()}}};var bf=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"in-editor-actions"},[n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button",on:{click:t.editAction}},[t._m(0),t._v(" "),n("span",{domProps:{textContent:t._s(t.editText)}})])])]),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-danger is-outlined",on:{click:t.deleteAction}},[t._m(1),t._v(" "),n("span",{domProps:{textContent:t._s(t.deleteText)}},[t._v("Supprimer")])])])])])};var wf=[function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-edit"})])},function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-eraser"})])}];var xf=false;var Ef=null;var kf=null;var Of=null;var Tf=Y(_f,bf,wf,xf,Ef,kf,Of);var Cf=Tf.exports;var Af={name:"SaveButtonIcon",props:{status:{type:String,default:"normal"}}};var Lf=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return t.status==="normal"?n("span",{key:"normal",staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-save"})]):t.status==="success"?n("span",{key:"success",staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-check"})]):t.status==="error"?n("span",{key:"error",staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-exclamation-triangle"})]):t._e()};var Sf=[];function Pf(t){n(289)}var Nf=false;var jf=Pf;var Mf="data-v-65a0c8be";var If=null;var Df=Y(Af,Lf,Sf,Nf,jf,Mf,If);var Rf=Df.exports;var qf={name:"save-bar-button",components:{SaveButtonIcon:Rf},props:{visible:{type:Boolean,default:true},status:{type:String,default:true},action:{type:Function,required:true}},computed:{buttonText:function t(){switch(this.status){case"normal":return"Sauvegarder les changements";case"working":return"Sauvegarde en cours...";case"success":return"Le document a bien été sauvegardé";case"error":return"La sauvegarde a échoué..."}},buttonClass:function t(){switch(this.status){case"normal":return"is-primary";case"working":return"is-loading disabled save-bar__working";case"success":return"disabled disabled save-bar__message has-text-success";case"error":return"disabled disabled save-bar__error has-text-danger"}}}};var Bf=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("a",{key:t.status,staticClass:"button is-fullwidth",class:t.buttonClass,on:{click:t.action}},[n("save-button-icon",{attrs:{status:t.status}}),t._v("   "+t._s(t.buttonText)+"\n        ")],1)])};var Ff=[];function zf(t){n(287)}var Uf=false;var $f=zf;var Hf="data-v-6f6fff80";var Zf=null;var Vf=Y(qf,Bf,Ff,Uf,$f,Hf,Zf);var Wf=Vf.exports;var Gf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var Kf={name:"save-bar",components:{SaveBarButton:Wf},props:{disabled:{type:Boolean,default:true},action:{type:Function,required:true}},data:function t(){return{visible:false,visibilityTimeout:null,statusTimeout:null,buttonStatus:"normal"}},beforeDestroy:function t(){clearTimeout(this.visibilityTimeout);clearTimeout(this.statusTimeout)},methods:{changeVisibilityWithDelay:function t(e){var n=this;this.visibilityTimeout=setTimeout(function(){n.visible=e},2e3)},changeStatusWithDelay:function t(e){var n=this;this.statusTimeout=setTimeout(function(){n.buttonStatus=e},3e3)}},watch:{savingStatus:function t(){switch(this.savingStatus){case"tobesaved":this.visible=true;this.buttonStatus="normal";break;case"uptodate":this.buttonStatus="success";this.changeVisibilityWithDelay(false);this.changeStatusWithDelay("normal");break;case"error":this.visible=true;this.buttonStatus="error";this.changeStatusWithDelay("normal");break;case"saving":this.visible=true;this.buttonStatus="working";break}}},computed:Gf({},R("transcription",["savingStatus"]))};var Yf=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("transition",{attrs:{name:"slideup"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"save-bar"},[n("div",{staticClass:"container save-bar__container"},[n("save-bar-button",{attrs:{action:t.action,status:t.buttonStatus}})],1)])])};var Xf=[];function Jf(t){n(285)}var Qf=false;var th=Jf;var eh="data-v-10e8f800";var nh=null;var rh=Y(Kf,Yf,Xf,Qf,th,eh,nh);var ih=rh.exports;var oh={name:"modal-form",props:{type:{type:String},title:{type:String},submitText:{type:String},submit:{type:Function},cancel:{type:Function}}};var ah=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background",on:{click:t.cancel}}),t._v(" "),n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v(t._s(t.title))]),t._v(" "),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.cancel}})]),t._v(" "),n("section",{staticClass:"modal-card-body"},[t._t("default")],2),t._v(" "),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button",on:{click:t.cancel}},[t._v("Annuler")]),t._v(" "),n("button",{staticClass:"button is-danger",on:{click:t.submit}},[t._v(t._s(t.submitText))])])])])};var sh=[];function lh(t){n(291)}var uh=false;var ch=lh;var fh="data-v-2cd590a9";var hh=null;var dh=Y(oh,ah,sh,uh,ch,fh,hh);var ph=dh.exports;var vh={name:"modal-confirm-facsimile-delete",props:["cancel","submit"],components:{ModalConfirm:ph},methods:{submitAction:function t(){this.$props.submit(this.selected)},cancelAction:function t(){this.$props.cancel()}}};var mh=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("modal-confirm",{staticClass:"has-text-danger",attrs:{title:"Supprimer l'alignement ?",submitText:"Oui je veux le supprimer",cancel:t.cancelAction,submit:t.submitAction}},[n("p",[n("b",[t._v("Danger")])]),t._v(" "),n("p",[t._v("Vous êtes sur le point de supprimer un alignement image/texte.")]),t._v(" "),n("p",[n("b",[t._v("Cette action ne peut pas être annulée.")])])])};var yh=[];var gh=false;var _h=null;var bh=null;var wh=null;var xh=Y(vh,mh,yh,gh,_h,bh,wh);var Eh=xh.exports;var kh={name:"modal-form",props:{title:{type:String,default:""},cancel:{type:Function,required:true},submit:{type:Function,required:true},remove:{type:Function},valid:{type:Boolean,required:true},submitText:{type:String,default:"Soumettre"},submitting:{type:Boolean,default:false}},mounted:function t(){document.addEventListener("keyup",this.onKeyUp)},methods:{onKeyUp:function t(e){if(!(e.target===document.body))return;if(e.code==="Enter")this.submit();else if(e.code==="Escape")this.cancel()}},beforeDestroy:function t(){document.removeEventListener("keyup",this.onKeyUp)}};var Oh=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background",on:{click:t.cancel}}),t._v(" "),n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title",domProps:{innerHTML:t._s(t.title)}}),t._v(" "),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.cancel}})]),t._v(" "),n("section",{staticClass:"modal-card-body"},[t._t("default")],2),t._v(" "),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button is-success",attrs:{disabled:!t.valid||t.submitting},on:{click:t.submit}},[t._v("Valider")]),t._v(" "),n("button",{staticClass:"button",attrs:{disabled:t.submitting},on:{click:t.cancel}},[t._v("Annuler")]),t._v(" "),t.remove?n("div",{staticStyle:{float:"right",width:"100%","text-align":"right"}},[n("button",{staticClass:"button is-danger",attrs:{disabled:t.submitting},on:{click:t.remove}},[t._v("Supprimer")])]):t._e()])])])};var Th=[];var Ch=false;var Ah=null;var Lh=null;var Sh=null;var Ph=Y(kh,Oh,Th,Ch,Ah,Lh,Sh);var Nh=Ph.exports;var jh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var Mh={name:"facsimile-zone-list-form",props:["title","zoneId","cancel","submit"],components:{LoadingIndicator:Vt,ModalForm:Nh},data:function t(){return{selected:null,loading:false}},mounted:function t(){var e=this;console.log("FacsimileZoneListForm mounted",this.zoneId);this.selected=this.zoneId;this.loading=true;this.$store.dispatch("facsimile/fetchFragments").then(function(){e.loading=false})},methods:{selectItem:function t(e){this.selected=e},submitAction:function t(){console.log("FacsimileZoneListForm.submitAction",this.selected);this.$props.submit(this.selected)},cancelAction:function t(){this.$props.cancel()}},computed:jh({},B("facsimile",["transcriptionFragments"]))};var Ih=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("modal-form",{attrs:{title:"Choisissez une zone",cancel:t.cancelAction,submit:t.submitAction,valid:!!t.selected}},[n("div",{staticClass:"ZoneForm"},t._l(t.transcriptionFragments,function(e){return n("a",{key:e.zone_id,staticClass:"zones-list-item list-item",class:{selected:e.zone_id==t.selected},on:{click:function(n){t.selectItem(e.zone_id)}}},[n("div",{staticClass:"content"},[n("img",{attrs:{src:e.fragment_url}})])])})),t._v(" "),n("loading-indicator",{attrs:{active:t.loading}})],1)};var Dh=[];var Rh=false;var qh=null;var Bh=null;var Fh=null;var zh=Y(Mh,Ih,Dh,Rh,qh,Bh,Fh);var Uh=zh.exports;var $h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var Hh={name:"facsimile-editior",props:["initialContent"],mixins:[gf],components:{FacsimileZoneListForm:Uh,ModalConfirmFacsimileDelete:Eh,SaveBar:ih,InEditorActions:Cf,EditorButton:ie},data:function t(){return{storeActions:{changed:"transcription/changed"},delta:null,facsimileEditMode:null,selectedZoneId:null,currentFacsimile:null,defineNewFacsimile:false,buttons:{zone:false}}},mounted:function t(){this.initEditor(this.$refs.editor,this.$props.initialContent);this.preventKeyboard()},beforeDestroy:function t(){this.allowKeyboard()},methods:{updateContent:function t(){this.delta=this.editor.getContents().ops},updateButtons:function t(e){for(var n in this.buttons){this.buttons[n]=!!e[n]}},onSelection:function t(e){if(e){this.setRangeBound(e);var n=this.editor.getFormat(e.index,e.length);this.updateButtons(n);if(!!n.zone){this.onTextAlignmentSelected(n.zone,e);this.selectedZoneId=n.zone;this.buttons.zone=false}else{this.selectedZoneId=null;this.buttons.zone=true}}},onTextAlignmentSelected:function t(e,n){if(!n.length)return;this.selectedZoneId=e},updateAlignment:function t(e){var n=this.facsimileEditMode==="new";var r=n?"add":"update";this.editor.format("zone",e);this.$store.dispatch("facsimile/addAlignment",e);this.closeFragmentsListEdit()},deleteTextAlignment:function t(){this.editor.format("zone",false);this.selectedZoneId=null;this.closeFragmentsListEdit()},setFacsimileEditModeDelete:function t(){this.facsimileEditMode="delete"},setFacsimileEditModeNew:function t(){console.log("setFacsimileEditModeNew");this.facsimileEditMode="new";this.currentFacsimile={zone_id:this.selectedZoneId};this.newFacsimileChoiceClose()},setFacsimileEditModeEdit:function t(){this.facsimileEditMode="edit";this.currentFacsimile=this.selectedZoneId},newFacsimileChoiceClose:function t(){this.defineNewFacsimile=false},closeFragmentsListEdit:function t(){this.facsimileEditMode=null;this.currentFacsimile=null;this.editor.focus()},preventKeyboard:function t(){document.addEventListener("keydown",this.keyboardPreventHandler,true)},allowKeyboard:function t(){document.removeEventListener("keydown",this.keyboardPreventHandler,true)},keyboardPreventHandler:function t(e){if(!this.editor.hasFocus())return;if(e.keyCode<37||e.keyCode>40){e.preventDefault()}}},computed:$h({isZoneButtonActive:function t(){return this.editorHasFocus&&this.buttons.zone}},R("transcription",["transcription"]),R("facsimile",["newFacsimileZone","fragments","deletedFacsimileZoneId"]),B("facsimile",["getZoneById"])),watch:{deletedFacsimileZoneId:function t(e){var n=this;console.log("deletedFacsimileZoneId",e);var r=this.editor.getContents();console.log("editor content",r);var i=0;r.ops.forEach(function(t){console.log("op",t.attributes&&t.attributes.zone?t.attributes.zone:null,t.attributes&&t.attributes.zone&&t.attributes.zone===e);if(t.attributes&&t.attributes.zone&&t.attributes.zone===e){n.editor.formatText(i,t.insert.length,{zone:false},"api")}i+=t.insert.length;console.log("next index",i)})}}};var Zh=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",[n("div",{staticClass:"editor-area"},[n("div",{ref:"controls",staticClass:"editor-controls"},[n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Structure éditoriale")]),t._v(" "),n("editor-button",{attrs:{active:t.isZoneButtonActive,callback:t.setFacsimileEditModeNew,format:"zone"}})],1)]),t._v(" "),n("div",{staticClass:"editor-container"},[n("div",{ref:"editor",staticClass:"quill-editor",attrs:{spellcheck:"false"}}),t._v(" "),n("in-editor-actions",{directives:[{name:"show",rawName:"v-show",value:t.selectedZoneId&&this.editor.hasFocus(),expression:"selectedZoneId && this.editor.hasFocus()"}],style:t.actionsPosition,attrs:{refs:"facsimileActions",edit:t.setFacsimileEditModeEdit,delete:t.setFacsimileEditModeDelete}})],1),t._v(" "),t.facsimileEditMode=="new"||t.facsimileEditMode=="edit"?n("facsimile-zone-list-form",{attrs:{zoneId:t.selectedZoneId,submit:t.updateAlignment,cancel:t.closeFragmentsListEdit}}):t._e(),t._v(" "),t.facsimileEditMode=="delete"?n("modal-confirm-facsimile-delete",{attrs:{cancel:t.closeFragmentsListEdit,submit:t.deleteTextAlignment}}):t._e()],1)])};var Vh=[];var Wh=false;var Gh=null;var Kh=null;var Yh=null;var Xh=Y(Hh,Zh,Vh,Wh,Gh,Kh,Yh);var Jh=Xh.exports;var Qh={name:"visibility-toggle",props:["visible","action","param"],methods:{clickHandler:function t(){this.action(this.param)}}};var td=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault();return t.clickHandler(e)}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}]},[n("i",{staticClass:"fas fa-eye"})]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.visible,expression:"!visible"}]},[n("i",{staticClass:"fas fa-eye-slash"})]),t._v(" "),t._t("default")],2)};var ed=[];var nd=false;var rd=null;var id=null;var od=null;var ad=Y(Qh,td,ed,nd,rd,id,od);var sd=ad.exports;var ld={methods:{toggle:function t(e){this.visibility[e]=!this.visibility[e]}},computed:{nbCols:function t(){var e=0;if(this.visibility.image)e++;if(this.visibility.transcription)e++;if(this.visibility.translation)e++;return e},columnSize:function t(){if(this.nbCols==2){return"is-half"}else if(this.nbCols==3){return"is-one-third"}return false},isNight:function t(){return this.nbCols?"is-night":""}}};var ud=ld;var cd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var fd={name:"facsimile-edition",mixins:[ud],components:{FacsimilesEditor:Jh,LoadingIndicator:Vt,IIIFMap:Dt,VisibilityToggle:sd},data:function t(){return{visibility:{image:true,transcription:true}}},created:function t(){console.log("FacsimileEditor.created")},watch:{canvasNames:function t(e,n){console.log("Canvas names changed")}},computed:cd({nbCols:function t(){var e=0;if(this.visibility.image)e++;if(this.visibility.transcription)e++;return e},hasImage:function t(){return!!this.document.images.length}},B("document",["manifestURL"]),R("document",["document"]),R("facsimile",["canvasNames","currentCanvas"]),R("transcription",["transcriptionWithFacsimile"]))};var hd=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{class:t.isNight,attrs:{id:"facsimile-edition"}},[n("p",{staticClass:"has-text-right is-size-7",staticStyle:{"margin-bottom":"1em"}},[n("span",{staticClass:"tag"},[t._v("\n      Affichage :    \n      "),t.hasImage?n("visibility-toggle",{attrs:{action:t.toggle,param:"image",visible:t.visibility.image}},[t._v("image")]):t._e(),t._v("\n         \n      "),n("visibility-toggle",{attrs:{action:t.toggle,param:"transcription",visible:t.visibility.transcription}},[t._v("transcription")])],1)]),t._v(" "),n("div",{staticClass:"columns"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visibility.image&&t.hasImage,expression:"visibility.image && hasImage"}],staticClass:"column",class:t.columnSize},[n("h2",{staticClass:"subtitle"},[t._v("Image")]),t._v(" "),n("IIIFMap",{attrs:{manifest:t.manifestURL,"draw-mode":true,"display-annotations-mode":true}})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.visibility.transcription,expression:"visibility.transcription"}],staticClass:"column",class:t.columnSize},[n("h2",{staticClass:"subtitle"},[t._v("Transcription")]),t._v(" "),n("facsimiles-editor",{attrs:{initialContent:t.transcriptionWithFacsimile}})],1)])])};var dd=[];function pd(t){n(96)}var vd=false;var md=pd;var yd="data-v-317c1856";var gd=null;var _d=Y(fd,hd,dd,vd,md,yd,gd);var bd=_d.exports;var wd={data:function t(){return{selectedNoteId:null,currentNote:null,noteEditMode:null,defineNewNote:false}},methods:{onNoteSelected:function t(e,n){if(!n.length)return;this.selectedNoteId=e;var r=this.editor.getContents().ops;var i=r.length},updateNoteId:function t(e){this.editor.format("note",e);this.selectedNoteId=e;this.closeNoteEdit()},updateNote:function t(e){var n=this;var r=this.noteEditMode==="new";var i=r?"notes/add":"notes/update";this.$store.dispatch(i,e).then(function(){if(r){n.editor.format("note",n.$store.getters["notes/newNote"].id);n.selectedNoteId=n.$store.getters["notes/newNote"].id}n.closeNoteEdit()})},unlinkNote:function t(){this.editor.format("note",false);this.selectedNoteId=null},deleteNote:function t(){this.editor.format("note",false);this.selectedNoteId=null;this.closeNoteEdit()},setNoteEditModeList:function t(){this.noteEditMode="list";this.newNoteChoiceClose()},setNoteEditModeDelete:function t(){this.noteEditMode="delete"},setNoteEditModeNew:function t(){this.noteEditMode="new";this.newNoteChoiceClose()},setNoteEditModeEdit:function t(){this.noteEditMode="edit";this.currentNote=this.$store.getters["notes/getNoteById"](this.selectedNoteId)},closeNoteEdit:function t(){this.noteEditMode=null;this.currentNote=null;this.editor.focus()},newNoteChoiceOpen:function t(){this.defineNewNote=true},newNoteChoiceClose:function t(){this.defineNewNote=false}},computed:{isNoteButtonActive:function t(){var e=this.editorHasFocus&&this.buttons.note;return e}}};var xd=wd;var Ed={name:"note-actions",props:{edit:{type:Function,required:true},newNote:{type:Function,required:true},delete:{type:Function,required:true},updateLink:{type:Function,required:true},unlink:{type:Function,required:true}},methods:{newAction:function t(){this.$props.newNote()},deleteAction:function t(){this.$props.delete()},editAction:function t(){this.$props.edit()},unlinkAction:function t(){this.$props.unlink()},updateLinkAction:function t(){this.$props.updateLink()}}};var kd=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"note-actions"},[n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-primary",on:{click:t.newAction}},[t._m(0),t._v(" "),n("span",[t._v("Lier à une nouvelle note")])])])]),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-info",on:{click:t.updateLinkAction}},[t._m(1),t._v(" "),n("span",[t._v("Lier à une note existante")])])])]),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-link",on:{click:t.unlinkAction}},[t._m(2),t._v(" "),n("span",[t._v("Supprimer le lien vers la note")])])])]),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-warning",on:{click:t.editAction}},[t._m(3),t._v(" "),n("span",[t._v("Éditer la note")])])])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-danger",on:{click:t.deleteAction}},[t._m(4),t._v(" "),n("span",[t._v("Supprimer la note")])])])])])};var Od=[function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-plus"})])},function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-link"})])},function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-unlink"})])},function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-edit"})])},function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-trash"})])}];var Td=false;var Cd=null;var Ad=null;var Ld=null;var Sd=Y(Ed,kd,Od,Td,Cd,Ad,Ld);var Pd=Sd.exports;var Nd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var jd={name:"new-note-actions",props:{modeNew:{type:Function,required:true},modeLink:{type:Function,required:true},cancel:{type:Function}},mounted:function t(){if(!this.notes||this.notes.length===0){console.log("=> new and first");this.chooseModeNew()}},methods:{chooseModeNew:function t(){this.modeNew()},chooseModeLink:function t(){this.modeLink()},chooseModeAction:function t(){this.chooseMode()},cancelAction:function t(){this.cancel()}},computed:Nd({},R("notes",["notes"]))};var Md=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background",on:{click:t.cancel}}),t._v(" "),n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v("Définir une nouvelle note")]),t._v(" "),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.cancel}})]),t._v(" "),n("section",{staticClass:"modal-card-body"},[n("div",{staticClass:"new-note-actions"},[n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-primary",on:{click:t.modeNew}},[t._m(0),t._v(" "),n("span",[t._v("Lier à une nouvelle note")])])])]),t._v(" "),t.notes&&t.notes.length>0?n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("a",{staticClass:"button is-info",on:{click:t.modeLink}},[t._m(1),t._v(" "),n("span",[t._v("Lier à une note existante")])])])]):t._e()])]),t._v(" "),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button",on:{click:t.cancel}},[t._v("Annuler")])])])])};var Id=[function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-plus"})])},function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-link"})])}];var Dd=false;var Rd=null;var qd=null;var Bd=null;var Fd=Y(jd,Md,Id,Dd,Rd,qd,Bd);var zd=Fd.exports;var Ud={name:"field-select",props:{options:{type:Array},label:{type:String},selected:{type:Number},onChange:{type:Function,required:true}},data:function t(){return{val:this.$props.selected||this.$props.options[0].id}},mounted:function t(){this.onChange(this.val)},methods:{optionSelected:function t(e){return e===this.selected}},watch:{selected:function t(){this.val=this.$props.selected}},computed:{hasOptions:function t(){return this.options&&this.options.length>0},isLoading:function t(){return!(this.options&&this.options.length>0)?"is-loading":false}}};var $d=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("label",{staticClass:"label"},[t._v(t._s(t.label))]),t._v(" "),n("span",{staticClass:"select",class:t.isLoading},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.val=e.target.multiple?n:n[0]},function(e){t.onChange(t.val)}]}},t._l(t.options,function(e,r){return t.hasOptions?n("option",{key:e.id,domProps:{value:e.id,selected:t.optionSelected(e.id,r),innerHTML:t._s(e.label)}}):t._e()}))])])])};var Hd=[];var Zd=false;var Vd=null;var Wd=null;var Gd=null;var Kd=Y(Ud,$d,Hd,Zd,Vd,Wd,Gd);var Yd=Kd.exports;var Xd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var Jd={name:"note-form",mixins:[gf],components:{LoadingIndicator:Vt,EditorButton:ie,FieldSelect:Yd,ModalForm:Nh},props:["title","noteId","note","cancel","submit"],data:function t(){return{form:Object.assign({},this.note),textLength:0,editor:null,buttons:{bold:false,italic:false,superscript:false,smallcaps:false,underline:false,del:false},loading:false}},mounted:function t(){this.$refs.editor.innerHTML=!!this.$props.note?this.$props.note.content:"";this.editor=Yc(this.$refs.editor);this.editor.on("selection-change",this.onSelection);this.editor.on("selection-change",this.onFocus);this.editor.on("text-change",this.onTextChange);this.textLength=this.editor.getLength();this.editor.focus()},methods:{onSelectChange:function t(e){this.form.type_id=e},onTextChange:function t(){this.textLength=this.editor.getLength();this.form.content=this.$refs.editor.childNodes[0].innerHTML},onSelection:function t(e){if(e){var n=this.editor.getFormat(e.index,e.length);this.updateButtons(n)}},submitAction:function t(){if(!this.noteId){this.loading=true}this.submit(this.form)},cancelAction:function t(){this.$props.cancel()}},computed:Xd({},B("noteTypes",["noteTypes"]))};var Qd=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("modal-form",{attrs:{title:t.title,cancel:t.cancelAction,submit:t.submitAction,valid:t.textLength>1,submittin:null}},[n("div",{staticClass:"NoteForm"},[n("form",{on:{submit:function(t){t.preventDefault()}}},[n("field-select",{attrs:{label:"Type",options:t.noteTypes,onChange:t.onSelectChange}}),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("label",{staticClass:"label"},[t._v("Contenu")])]),n("div",{staticClass:"editor-area"},[n("div",{ref:"controls",staticClass:"editor-controls"},[n("editor-button",{attrs:{selected:t.buttons.bold,active:t.editorHasFocus,callback:t.simpleFormat,format:"bold"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.italic,active:t.editorHasFocus,callback:t.simpleFormat,format:"italic"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.superscript,active:t.editorHasFocus,callback:t.simpleFormat,format:"superscript"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.smallcaps,active:t.editorHasFocus,callback:t.simpleFormat,format:"smallcaps"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.underline,active:t.editorHasFocus,callback:t.simpleFormat,format:"underline"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.del,active:t.editorHasFocus,callback:t.simpleFormat,format:"del"}})],1),t._v(" "),n("div",{ref:"editor",staticClass:"quill-editor",attrs:{spellcheck:"false"}})]),t._v(" "),n("p")]),t._v(" "),n("loading-indicator",{attrs:{active:t.loading,"full-page":true}})],1)])])};var tp=[];var ep=false;var np=null;var rp=null;var ip=null;var op=Y(Jd,Qd,tp,ep,np,rp,ip);var ap=op.exports;var sp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var lp={name:"note-form",props:["title","noteId","cancel","submit"],components:{ModalForm:Nh},data:function t(){return{selected:null}},mounted:function t(){console.log("NoteListForm mounted",this.noteId);this.selected=this.noteId},methods:{selectItem:function t(e){this.selected=e},submitAction:function t(){console.log("NotesListForm.submitAction",this.selected);this.$props.submit(this.selected)},cancelAction:function t(){this.$props.cancel()}},computed:sp({},B("notes",["notes"]))};var up=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("modal-form",{attrs:{title:"Choisissez une note",cancel:t.cancelAction,submit:t.submitAction,valid:!!t.selected}},[n("div",{staticClass:"NoteForm"},t._l(t.notes,function(e){return n("a",{key:e.id,staticClass:"notes-list-item",class:{selected:e.id==t.selected},on:{click:function(n){t.selectItem(e.id)}}},[n("p",{staticClass:"content",domProps:{innerHTML:t._s(e.content)}})])}))])};var cp=[];var fp=false;var hp=null;var dp=null;var pp=null;var vp=Y(lp,up,cp,fp,hp,dp,pp);var mp=vp.exports;var yp={name:"modal-confirm-note-delete",props:["cancel","submit"],components:{ModalConfirm:ph},methods:{submitAction:function t(){console.log("NotesListForm.submitAction",this.selected);this.$props.submit(this.selected)},cancelAction:function t(){this.$props.cancel()}}};var gp=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("modal-confirm",{staticClass:"has-text-danger",attrs:{title:"Supprimer la note ?",submitText:"Oui je veux la supprimer",cancel:t.cancelAction,submit:t.submitAction}},[n("p",[n("b",[t._v("Danger")])]),t._v(" "),n("p",[t._v("Vous êtes sur le point de supprimer une note.")]),t._v(" "),n("p",[t._v("La note sera également perdue pour la transcription de ce document, sa traduction et ses commentaires.")]),t._v(" "),n("p",[n("b",[t._v("Cette action ne peut pas être annulée.")])])])};var _p=[];var bp=false;var wp=null;var xp=null;var Ep=null;var kp=Y(yp,gp,_p,bp,wp,xp,Ep);var Op=kp.exports;var Tp={name:"textfield-form",components:{ModalForm:Nh},props:{title:{type:String,default:""},label:{type:String,default:""},value:{type:String,default:""},cancel:{type:Function},submit:{type:Function},remove:{type:Function}},data:function t(){return{form:this.value}},mounted:function t(){this.$refs.field.focus()},methods:{submitAction:function t(){this.$props.submit(this.form)},cancelAction:function t(){this.$props.cancel()},removeAction:function t(){this.$props.cancel()}}};var Cp=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("modal-form",{attrs:{title:t.title,cancel:t.cancelAction,submit:t.submitAction,remove:t.remove,valid:t.form.length>=1,submitting:false}},[n("div",{staticClass:"location-form textinput-form"},[n("form",{on:{submit:function(t){t.preventDefault()}}},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form,expression:"form"}],ref:"field",staticClass:"input",attrs:{type:"text"},domProps:{value:t.form},on:{input:function(e){if(e.target.composing){return}t.form=e.target.value}}})])])])])])};var Ap=[];var Lp=false;var Sp=null;var Pp=null;var Np=null;var jp=Y(Tp,Cp,Ap,Lp,Sp,Pp,Np);var Mp=jp.exports;var Ip=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var Dp={name:"transcription-editor",props:["initialContent"],mixins:[gf,xd],components:{TextfieldForm:Mp,SaveBar:ih,NewNoteActions:zd,InEditorActions:Cf,EditorButton:ie,ModalConfirmNoteDelete:Op,NoteActions:Pd,NotesListForm:mp,NoteForm:ap},data:function t(){return{storeActions:{changed:"transcription/changed"},delta:null,buttons:{bold:false,italic:false,superscript:false,smallcaps:false,underline:false,del:false,expan:false,person:false,location:false,note:false,segment:false,paragraph:false}}},mounted:function t(){this.initEditor(this.$refs.editor,this.$props.initialContent)},beforeDestroy:function t(){this.deactivateEvents()},methods:{updateContent:function t(){this.delta=this.editor.getContents().ops}},computed:Ip({},R("transcription",["transcriptionSaved"]),R("translation",["translationSaved"]))};var Rp=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"editor-area"},[n("div",{ref:"controls",staticClass:"editor-controls"},[n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Structure éditoriale")]),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.paragraph,active:t.editorHasFocus,callback:t.simpleFormat,format:"paragraph"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.verse,active:t.editorHasFocus,callback:t.simpleFormat,format:"verse"}}),t._v(" "),n("editor-button",{attrs:{active:t.isNoteButtonActive,callback:t.newNoteChoiceOpen,format:"note"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.segment,active:t.editorHasFocus,callback:t.insertSegment,format:"segment"}})],1),t._v(" "),n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Enrichissements typographiques")]),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.bold,active:t.editorHasFocus,callback:t.simpleFormat,format:"bold"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.italic,active:t.editorHasFocus,callback:t.simpleFormat,format:"italic"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.superscript,active:t.editorHasFocus,callback:t.simpleFormat,format:"superscript"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.smallcaps,active:t.editorHasFocus,callback:t.simpleFormat,format:"smallcaps"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.underline,active:t.editorHasFocus,callback:t.simpleFormat,format:"underline"}})],1),t._v(" "),n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Enrichissements sémantiques")]),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.del,active:t.editorHasFocus,callback:t.simpleFormat,format:"del"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.expan,active:t.editorHasFocus,callback:t.simpleFormat,format:"expan"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.person,active:t.editorHasFocus,callback:t.displayPersonForm,format:"person"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.location,active:t.editorHasFocus,callback:t.displayLocationForm,format:"location"}})],1)]),t._v(" "),n("div",{staticClass:"editor-container"},[n("div",{ref:"editor",staticClass:"quill-editor",attrs:{id:"transcription-editor",spellcheck:"false"}}),t._v(" "),n("note-actions",{directives:[{name:"show",rawName:"v-show",value:t.selectedNoteId&&this.editor.hasFocus(),expression:"selectedNoteId && this.editor.hasFocus()"}],style:t.actionsPosition,attrs:{refs:"noteActions",newNote:t.setNoteEditModeNew,edit:t.setNoteEditModeEdit,updateLink:t.setNoteEditModeList,unlink:t.unlinkNote,delete:t.setNoteEditModeDelete}}),t._v(" "),t.defineNewNote?n("new-note-actions",{attrs:{modeNew:t.setNoteEditModeNew,modeLink:t.setNoteEditModeList,cancel:t.newNoteChoiceClose}}):t._e()],1),t._v(" "),t.noteEditMode=="list"?n("notes-list-form",{attrs:{noteId:t.selectedNoteId,submit:t.updateNoteId,cancel:t.closeNoteEdit}}):t._e(),t._v(" "),t.formTextfield?n("textfield-form",{attrs:{title:t.formTextfield.title,label:t.formTextfield.label,value:t.formTextfield.value,submit:t.submitTextfieldForm,cancel:t.cancelTextfieldForm}}):t._e(),t._v(" "),t.noteEditMode=="new"||t.noteEditMode=="edit"?n("note-form",{attrs:{title:t.noteEditMode=="new"?"nouvelle note":"Éditer la note",note:t.currentNote,noteId:t.selectedNoteId,submit:t.updateNote,cancel:t.closeNoteEdit}}):t._e(),t._v(" "),t.noteEditMode=="delete"?n("modal-confirm-note-delete",{attrs:{cancel:t.closeNoteEdit,submit:t.deleteNote}}):t._e()],1)};var qp=[];var Bp=false;var Fp=null;var zp=null;var Up=null;var $p=Y(Dp,Rp,qp,Bp,Fp,zp,Up);var Hp=$p.exports;var Zp={name:"translation-editor",props:["initialContent"],mixins:[gf,xd],components:{TextfieldForm:Mp,SaveBar:ih,NewNoteActions:zd,InEditorActions:Cf,EditorButton:ie,ModalConfirmNoteDelete:Op,NoteActions:Pd,NotesListForm:mp,NoteForm:ap},data:function t(){return{storeActions:{save:"translation/save",changed:"translation/changed"},delta:null,buttons:{bold:false,italic:false,superscript:false,smallcaps:false,underline:false,del:false,expan:false,person:false,location:false,note:false}}},mounted:function t(){this.initEditor(this.$refs.editor,this.$props.initialContent)},methods:{updateContent:function t(){this.delta=this.editor.getContents().ops}},computed:{}};var Vp=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"editor-area"},[n("div",{ref:"controls",staticClass:"editor-controls"},[n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Structure éditoriale")]),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.paragraph,active:t.editorHasFocus,callback:t.simpleFormat,format:"paragraph"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.verse,active:t.editorHasFocus,callback:t.simpleFormat,format:"verse"}}),t._v(" "),n("editor-button",{attrs:{active:t.isNoteButtonActive,callback:t.newNoteChoiceOpen,format:"note"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.segment,active:t.editorHasFocus,callback:t.insertSegment,format:"segment"}})],1),t._v(" "),n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Enrichissements typographiques")]),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.bold,active:t.editorHasFocus,callback:t.simpleFormat,format:"bold"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.italic,active:t.editorHasFocus,callback:t.simpleFormat,format:"italic"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.superscript,active:t.editorHasFocus,callback:t.simpleFormat,format:"superscript"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.smallcaps,active:t.editorHasFocus,callback:t.simpleFormat,format:"smallcaps"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.underline,active:t.editorHasFocus,callback:t.simpleFormat,format:"underline"}})],1),t._v(" "),n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Enrichissements sémantiques")]),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.del,active:t.editorHasFocus,callback:t.simpleFormat,format:"del"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.expan,active:t.editorHasFocus,callback:t.simpleFormat,format:"expan"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.person,active:t.editorHasFocus,callback:t.displayPersonForm,format:"person"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.location,active:t.editorHasFocus,callback:t.displayLocationForm,format:"location"}})],1)]),t._v(" "),n("div",{staticClass:"editor-container"},[n("div",{ref:"editor",staticClass:"quill-editor",attrs:{id:"translation-editor",spellcheck:"false"}}),t._v(" "),n("note-actions",{directives:[{name:"show",rawName:"v-show",value:t.selectedNoteId,expression:"selectedNoteId"}],style:t.actionsPosition,attrs:{refs:"noteActions",newNote:t.setNoteEditModeNew,edit:t.setNoteEditModeEdit,updateLink:t.setNoteEditModeList,unlink:t.unlinkNote,delete:t.setNoteEditModeDelete}}),t._v(" "),t.defineNewNote?n("new-note-actions",{attrs:{modeNew:t.setNoteEditModeNew,modeLink:t.setNoteEditModeList,cancel:t.newNoteChoiceClose}}):t._e()],1),t._v(" "),t.noteEditMode=="list"?n("notes-list-form",{attrs:{noteId:t.selectedNoteId,submit:t.updateNoteId,cancel:t.closeNoteEdit}}):t._e(),t._v(" "),t.formTextfield?n("textfield-form",{attrs:{title:t.formTextfield.title,label:t.formTextfield.label,value:t.formTextfield.value,submit:t.submitTextfieldForm,cancel:t.cancelTextfieldForm}}):t._e(),t._v(" "),t.noteEditMode=="new"||t.noteEditMode=="edit"?n("note-form",{attrs:{note:t.currentNote,noteId:t.selectedNoteId,submit:t.updateNote,cancel:t.closeNoteEdit}}):t._e(),t._v(" "),t.noteEditMode=="delete"?n("modal-confirm-note-delete",{attrs:{cancel:t.closeNoteEdit,submit:t.deleteNote}}):t._e()],1)};var Wp=[];var Gp=false;var Kp=null;var Yp=null;var Xp=null;var Jp=Y(Zp,Vp,Wp,Gp,Kp,Yp,Xp);var Qp=Jp.exports;var tv={name:"minimal-message",props:["type","body"]};var ev=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("article",{staticClass:"message",class:t.type},[n("div",{staticClass:"message-body"},[n("p",{domProps:{innerHTML:t._s(t.body)}})])])};var nv=[];var rv=false;var iv=null;var ov=null;var av=null;var sv=Y(tv,ev,nv,rv,iv,ov,av);var lv=sv.exports;var uv={name:"Joke"};var cv=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{attrs:{id:"joke"}},[n("img",{attrs:{id:"astronaut",src:"/adele/static/images/astronaut.svg"}})])])};var fv=[];function hv(t){n(293)}var dv=false;var pv=hv;var vv="data-v-2e41172a";var mv=null;var yv=Y(uv,cv,fv,dv,pv,vv,mv);var gv=yv.exports;var _v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var bv={name:"transcription-edition",mixins:[ud],components:{Joke:gv,MinimalMessage:lv,VisibilityToggle:sd,IIIFMap:Dt,TranslationEditor:Qp,TranscriptionEditor:Hp},data:function t(){return{visibility:{image:true,transcription:true,translation:true}}},methods:{createTranscription:function t(){var e=this;this.$refs.createTranscriptionButton.setAttribute("disabled","disabled");this.$store.dispatch("transcription/create").then(function(t){e.$store.dispatch("transcription/fetch")})},createTranslation:function t(){var e=this;this.$refs.createTranslationButton.setAttribute("disabled","disabled");this.$store.dispatch("translation/create").then(function(t){e.$store.dispatch("translation/fetch")})}},computed:_v({nbCols:function t(){var e=0;if(this.visibility.image&&this.hasImage)e++;if(this.visibility.transcription)e++;if(this.visibility.translation)e++;return e},displayTranscriptionEditor:function t(){return!!this.transcriptionWithNotes&&!this.transcriptionLoading},displayTranslationEditor:function t(){return!!this.translationWithNotes&&!this.translationLoading},allowedToCreateTranscription:function t(){return!this.transcriptionLoading&&this.currentUserIsAuthor&&(this.hasReferenceTranscription||this.currentUserIsAdmin)},allowedToCreateTranslation:function t(){return!this.translationLoading&&this.currentUserIsAuthor&&(this.currentUserIsStudent&&this.hasReferenceTranscription||!this.currentUserIsStudent&&this.hasTranscription)},hasTranscription:function t(){return!!this.transcriptionWithNotes},hasImage:function t(){return!!this.document.images.length},hasReferenceTranscription:function t(){return!!this.referenceTranscription},hasReferenceTranslation:function t(){return!!this.referenceTranslation},displayReferenceTranscription:function t(){return this.hasReferenceTranscription&&this.currentUserIsStudent},displayReferenceTranslation:function t(){return this.hasReferenceTranslation&&this.currentUserIsStudent}},B("document",["manifestURL"]),R("document",["document"]),R("transcription",["transcriptionContent","transcriptionWithNotes","transcriptionWithSpeechparts","referenceTranscription","transcriptionLoading"]),R("translation",["translationWithNotes","translationLoading","referenceTranslation"]),R("user",["currentUser","author"]),B("user",["currentUserIsAuthor","currentUserIsStudent","currentUserIsTeacher","currentUserIsAdmin"]))};var wv=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{class:t.isNight,attrs:{id:"transcription-edition"}},[t.nbCols===0?n("joke"):t._e(),t._v(" "),n("p",{staticClass:"has-text-right is-size-7",staticStyle:{"margin-bottom":"1em"}},[n("span",{staticClass:"tag"},[t._v("\n      Affichage :    \n      "),t.hasImage?n("visibility-toggle",{attrs:{action:t.toggle,param:"image",visible:t.visibility.image}},[t._v("image")]):t._e(),t._v("\n         \n      "),n("visibility-toggle",{attrs:{action:t.toggle,param:"transcription",visible:t.visibility.transcription}},[t._v("transcription")]),t._v("\n         \n      "),n("visibility-toggle",{attrs:{action:t.toggle,param:"translation",visible:t.visibility.translation}},[t._v("traduction")])],1)]),t._v(" "),n("div",{staticClass:"columns"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visibility.image&&t.hasImage,expression:"visibility.image && hasImage"}],staticClass:"column is-flex-column",class:t.columnSize},[n("h2",{staticClass:"subtitle"},[t._v("Image")]),t._v(" "),n("IIIFMap",{staticClass:"is-flex-fill",attrs:{manifest:t.manifestURL,"draw-mode":false,"display-annotations-mode":false}})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.visibility.transcription,expression:"visibility.transcription"}],staticClass:"column",class:t.columnSize},[n("h2",{staticClass:"subtitle"},[t._v("Transcription "),t.displayReferenceTranscription?n("small",{staticClass:"tag is-dark is-round"},[t._v("Référence")]):t._e()]),t._v(" "),t.displayReferenceTranscription?n("div",{domProps:{innerHTML:t._s(t.referenceTranscription.content)}}):t.displayTranscriptionEditor?n("transcription-editor",{attrs:{initialContent:t.transcriptionWithNotes}}):n("div",[!t.transcriptionLoading?n("minimal-message",{attrs:{body:"Aucune transcription pour le moment"}}):t._e(),t._v(" "),t.allowedToCreateTranscription?n("p",[n("a",{ref:"createTranscriptionButton",staticClass:"button is-link",on:{click:t.createTranscription}},[t._v("Ajouter une transcription")])]):t._e()],1)],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.visibility.translation,expression:"visibility.translation"}],staticClass:"column",class:t.columnSize},[n("h2",{staticClass:"subtitle"},[t._v("Traduction "),t.displayReferenceTranslation?n("small",{staticClass:"tag is-dark is-round"},[t._v("Référence")]):t._e()]),t._v(" "),t.displayReferenceTranslation?n("div",{domProps:{innerHTML:t._s(t.referenceTranslation.content)}}):t.displayTranslationEditor?n("translation-editor",{attrs:{initialContent:t.translationWithNotes}}):n("div",[!t.translationLoading?n("minimal-message",{attrs:{body:"Aucune traduction pour le moment"}}):t._e(),t._v(" "),t.allowedToCreateTranslation?n("p",[n("a",{ref:"createTranslationButton",staticClass:"button is-link",on:{click:t.createTranslation}},[t._v("Ajouter une traduction")])]):t._e()],1)],1)])],1)};var xv=[];var Ev=false;var kv=null;var Ov=null;var Tv=null;var Cv=Y(bv,wv,xv,Ev,kv,Ov,Tv);var Av=Cv.exports;var Lv={name:"alignment-editor",props:["initialContent","type"],mixins:[gf],components:{SaveBar:ih},data:function t(){return{storeActions:{save:"saveTranslation",changed:"translationChanged"},delta:null,buttons:{bold:false,italic:false,superscript:false,smallcaps:false,underline:false,del:false,expan:false,person:false,location:false,note:false}}},mounted:function t(){this.initEditor(this.$refs.editor,this.$props.initialContent);this.editor.on("selection-change",this.onAlignSelection);this.editor.on("text-change",this.onAlignTextChange)},beforeDestroy:function t(){console.log("beforeDestroy");this.editor.off("selection-change",this.onAlignSelection);this.editor.off("text-change",this.onAlignTextChange)},methods:{updateContent:function t(){this.delta=this.editor.getContents().ops},onAlignSelection:function t(e){if(e){var n=this.editor.getContents(e.index-1,1);var r=false;n.ops.forEach(function(t){if(t.insert&&t.insert.segment)r=true});if(e.length===0&&r){this.allowBackspace()}else{this.preventBackspace()}}},onAlignTextChange:function t(e,n,r){var i=this.editor.getSelection();this.onAlignSelection(i)},preventBackspace:function t(){document.addEventListener("keydown",this.backspacePreventHandler,true)},allowBackspace:function t(){document.removeEventListener("keydown",this.backspacePreventHandler,true)},backspacePreventHandler:function t(e){if(e.keyCode===8){e.preventDefault()}}},computed:{}};var Sv=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"editor-area"},[n("div",{staticClass:"editor-container"},[n("div",{ref:"editor",staticClass:"quill-editor",attrs:{spellcheck:"false"}})]),t._v(" "),n("save-bar",{attrs:{action:t.save}})],1)};var Pv=[];var Nv=false;var jv=null;var Mv=null;var Iv=null;var Dv=Y(Lv,Sv,Pv,Nv,jv,Mv,Iv);var Rv=Dv.exports;var qv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var Bv={name:"alignment-edition",components:{AlignmentEditor:Rv,TranslationEditor:Qp},computed:qv({},B(["transcriptionHTML","translationHTML"]))};var Fv=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-half"},[n("alignment-editor",{attrs:{initialContent:t.transcriptionHTML,type:"transcription"}})],1),t._v(" "),n("div",{staticClass:"column is-half"},[n("alignment-editor",{attrs:{initialContent:t.translationHTML,type:"translation"}})],1)])};var zv=[];function Uv(t){n(295)}var $v=false;var Hv=Uv;var Zv="data-v-b5ba62ea";var Vv=null;var Wv=Y(Bv,Fv,zv,$v,Hv,Zv,Vv);var Gv=Wv.exports;var Kv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var Yv={name:"speechpart-form",mixins:[gf],components:{EditorButton:ie,FieldSelect:Yd,ModalForm:Nh},props:["title","speechpartId","speechpart","cancel","submit"],data:function t(){return{form:{},textLength:0,editor:null,buttons:{bold:false,italic:false,superscript:false,smallcaps:false,underline:false,del:false}}},mounted:function t(){this.$refs.editor.innerHTML=!!this.$props.speechpart?this.$props.speechpart.note?this.$props.speechpart.note:"":"";this.editor=Yc(this.$refs.editor);this.editor.on("selection-change",this.onSelection);this.editor.on("selection-change",this.onFocus);this.editor.on("text-change",this.onTextChange);this.textLength=this.editor.getLength();this.form=Object.assign({},this.speechpart);this.form.type_id=this.speechpart.speech_part_type?this.speechpart.speech_part_type.id:0;console.log("SpeechpartForm.mounted",this.form)},methods:{onSelectChange:function t(e){this.form.type_id=e},onTextChange:function t(){this.textLength=this.editor.getLength();this.form.note=this.$refs.editor.childNodes[0].innerHTML},onSelection:function t(e){if(e){var n=this.editor.getFormat(e.index,e.length);this.updateButtons(n)}},submitAction:function t(){this.$props.submit(this.form)},cancelAction:function t(){this.$props.cancel()}},computed:Kv({},R("speechpartTypes",["speechpartTypes"]))};var Xv=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("modal-form",{attrs:{title:t.title,cancel:t.cancelAction,submit:t.submitAction,valid:true,submittin:null}},[n("div",{staticClass:"SpeechpartForm"},[n("form",[n("field-select",{attrs:{label:"Type",selected:t.form.type_id,options:t.speechpartTypes,onChange:t.onSelectChange}}),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("label",{staticClass:"label"},[t._v("Contenu")])]),n("div",{staticClass:"editor-area"},[n("div",{ref:"controls",staticClass:"editor-controls"},[n("editor-button",{attrs:{selected:t.buttons.bold,active:t.editorHasFocus,callback:t.simpleFormat,format:"bold"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.italic,active:t.editorHasFocus,callback:t.simpleFormat,format:"italic"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.superscript,active:t.editorHasFocus,callback:t.simpleFormat,format:"superscript"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.smallcaps,active:t.editorHasFocus,callback:t.simpleFormat,format:"smallcaps"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.underline,active:t.editorHasFocus,callback:t.simpleFormat,format:"underline"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.del,active:t.editorHasFocus,callback:t.simpleFormat,format:"del"}})],1),t._v(" "),n("div",{ref:"editor",staticClass:"quill-editor",attrs:{spellcheck:"false"}})]),t._v(" "),n("p")])],1)])])};var Jv=[];var Qv=false;var tm=null;var em=null;var nm=null;var rm=Y(Yv,Xv,Jv,Qv,tm,em,nm);var im=rm.exports;var om={name:"modal-confirm-speechpart-delete",props:["cancel","submit"],components:{ModalConfirm:ph},methods:{submitAction:function t(){this.$props.submit(this.selected)},cancelAction:function t(){this.$props.cancel()}}};var am=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("modal-confirm",{attrs:{title:"Supprimer la partie du discours ?",submitText:"Oui je veux la supprimer",cancel:t.cancelAction,submit:t.submitAction}},[n("article",{staticClass:"message is-danger"},[n("div",{staticClass:"message-header"},[n("p",[t._v("Danger")])]),t._v(" "),n("div",{staticClass:"message-body"},[n("p",[t._v("Vous êtes sur le point de supprimer une partie du discours.")]),t._v(" "),n("p",[n("strong",[t._v("Cette action ne peut pas être annulée.")])])])])])};var sm=[];var lm=false;var um=null;var cm=null;var fm=null;var hm=Y(om,am,sm,lm,um,cm,fm);var dm=hm.exports;var pm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var vm={name:"speechparts-editior",props:["initialContent"],mixins:[gf],components:{ModalConfirmSpeechpartDelete:dm,SpeechpartForm:im,SaveBar:ih,InEditorActions:Cf,EditorButton:ie},data:function t(){return{storeActions:{changed:"transcription/changed"},delta:null,speechpartEditMode:null,selectedSpeechpartId:null,currentSpeechpart:null,defineNewSpeechpart:false,buttons:{speechpart:false}}},mounted:function t(){this.initEditor(this.$refs.editor,this.$props.initialContent);this.preventKeyboard();this.activateMouseOver()},beforeDestroy:function t(){this.allowKeyboard();this.deactivateMouseOver()},methods:{updateContent:function t(){this.delta=this.editor.getContents().ops},updateButtons:function t(e){for(var n in this.buttons){this.buttons[n]=!!e[n]}},onSelection:function t(e){if(e){this.setRangeBound(e);var n=this.editor.getFormat(e.index,e.length);console.log(n);this.updateButtons(n);if(!!n.speechpart){this.onSpeechpartSelected(n.speechpart,e);this.buttons.speechpart=false}else{this.selectedSpeechpartId=null;this.buttons.speechpart=true}}},onSpeechpartSelected:function t(e,n){if(!n.length)return;this.selectedSpeechpartId=e},updateSpeechpart:function t(e){var n=this.speechpartEditMode==="new";var r=n?"add":"update";e.speech_part_type=this.getSpeechpartTypeById(e.type_id);var i=this.$store.state.speechparts.speechparts.length;console.log("sp in store:",this.$store.state.speechparts.speechparts,i);this.editor.format("speechpart",i.toString());this.$store.dispatch("speechparts/"+r,e);this.closeSpeechpartEdit()},deleteSpeechpart:function t(){this.editor.format("speechpart",false);this.selectedSpeechpartId=null;this.closeSpeechpartEdit()},setSpeechpartEditModeDelete:function t(){this.speechpartEditMode="delete"},setSpeechpartEditModeNew:function t(){this.speechpartEditMode="new";this.currentSpeechpart={transcription_id:this.transcription.id};this.newSpeechpartChoiceClose()},setSpeechpartEditModeEdit:function t(){this.speechpartEditMode="edit";this.currentSpeechpart=this.$store.state.speechparts.speechparts[this.selectedSpeechpartId]},newSpeechpartChoiceClose:function t(){this.defineNewSpeechpart=false},closeSpeechpartEdit:function t(){this.speechpartEditMode=null;this.currentSpeechpart=null;this.editor.focus()},preventKeyboard:function t(){document.addEventListener("keydown",this.keyboardPreventHandler,true)},allowKeyboard:function t(){document.removeEventListener("keydown",this.keyboardPreventHandler,true)},keyboardPreventHandler:function t(e){if(!this.editor.hasFocus())return;if(e.keyCode<37||e.keyCode>40){e.preventDefault()}},activateMouseOver:function t(){this.$refs.editor.addEventListener("mouseover",this.mouseOverHandler);this.$refs.editor.addEventListener("mouseout",this.mouseOutHandler)},deactivateMouseOver:function t(){this.$refs.editor.removeEventListener("mouseover",this.mouseOverHandler);this.$refs.editor.removeEventListener("mouseout",this.mouseOutHandler)},mouseOverHandler:function t(e){var n=null;if(e.target.tagName.toLowerCase()==="speechpart"){n=parseInt(e.target.getAttribute("id"))}else if(e.target.parentNode.tagName.toLowerCase()==="speechpart"){n=parseInt(e.target.parentNode.getAttribute("id"))}if(n===null)return;this.$store.dispatch("speechparts/mouseover",{speechpart:this.$store.state.speechparts.speechparts[n],posY:e.clientY})},mouseOutHandler:function t(e){this.$store.dispatch("speechparts/mouseover",{speechpart:false,posY:0})}},computed:pm({isSpeechpartButtonActive:function t(){var e=this.editorHasFocus&&this.buttons.speechpart;return e}},R("transcription",["transcription"]),R("speechparts",["newSpeechpart"]),B("speechpartTypes",["getSpeechpartTypeById"]))};var mm=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",[n("h1",{staticClass:"title"},[t._v("Parties du discours")]),t._v(" "),n("div",{staticClass:"editor-area"},[n("div",{ref:"controls",staticClass:"editor-controls"},[n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Structure éditoriale")]),t._v(" "),n("editor-button",{attrs:{active:t.isSpeechpartButtonActive,callback:t.setSpeechpartEditModeNew,format:"speechpart"}})],1)]),t._v(" "),n("div",{staticClass:"editor-container"},[n("div",{ref:"editor",staticClass:"quill-editor",attrs:{spellcheck:"false"}}),t._v(" "),n("in-editor-actions",{directives:[{name:"show",rawName:"v-show",value:t.selectedSpeechpartId&&this.editor.hasFocus(),expression:"selectedSpeechpartId && this.editor.hasFocus()"}],staticClass:"speechpart-actions",style:t.actionsPosition,attrs:{refs:"speechpartActions",edit:t.setSpeechpartEditModeEdit,delete:t.setSpeechpartEditModeDelete,editText:"Éditer la partie du discours",deleteText:"Supprimer la partie du discours"}})],1),t._v(" "),t.speechpartEditMode==="new"||t.speechpartEditMode==="edit"?n("speechpart-form",{attrs:{speechpart:t.currentSpeechpart,speechpartId:t.selectedSpeechpartId,submit:t.updateSpeechpart,cancel:t.closeSpeechpartEdit}}):t._e(),t._v(" "),t.speechpartEditMode==="delete"?n("modal-confirm-speechpart-delete",{attrs:{cancel:t.closeSpeechpartEdit,submit:t.deleteSpeechpart}}):t._e()],1)])};var ym=[];var gm=false;var _m=null;var bm=null;var wm=null;var xm=Y(vm,mm,ym,gm,_m,bm,wm);var Em=xm.exports;var km=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var Om={name:"speechparts-edition",components:{SpeechpartsEditor:Em},computed:km({hasDefinition:function t(){return this.mouseOver.speech_part_type&&this.mouseOver.speech_part_type.definition&&this.this.mouseOver.speech_part_type.definition.length>0},tooltipPosition:function t(){return"position:fixed;top: "+this.mouseOverY+"px;left:50%;"}},R("transcription",["transcriptionWithSpeechparts"]),R("speechparts",["mouseOver","mouseOverY"]))};var Tm=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-half"},[n("speechparts-editor",{attrs:{initialContent:t.transcriptionWithSpeechparts}})],1),t._v(" "),n("div",{staticClass:"column is-half"},[t.mouseOver?n("div",{staticClass:"speechpart-tooltip",style:t.tooltipPosition},[n("p",{staticClass:"speechpart-tooltip-title"},[n("strong",[t._v(t._s(t.mouseOver.speech_part_type.label))])]),t._v(" "),t.hasDefinition?n("p",{staticClass:"speechpart-tooltip-definition"},[n("em",[t._v(t._s(t.mouseOver.speech_part_type.definition))])]):t._e(),t._v(" "),n("div",{staticClass:"speechpart-tooltip-note"},[n("em",{domProps:{innerHTML:t._s(t.mouseOver.note)}})])]):t._e()])])};var Cm=[];function Am(t){n(297)}var Lm=false;var Sm=Am;var Pm="data-v-2b34eedd";var Nm=null;var jm=Y(Om,Tm,Cm,Lm,Sm,Pm,Nm);var Mm=jm.exports;var Im=n(89);var Dm=n.n(Im);var Rm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var qm={name:"field-multiselect",props:{label:{type:String},selectedItems:{type:Array},optionLabelField:{type:String,default:"label"},optionIdField:{type:String,default:"id"},optionsList:{type:Array},onChange:{type:Function,required:true}},directives:{ClickOutside:Dm.a},data:function t(){return{listVisible:false,items:[],ids:[]}},mounted:function t(){this.updateAllItems()},methods:{addItem:function t(e){this.items.push(e);this.ids.push(e[this.optionIdField]);this.hideList();this.onChange(this.items)},deleteItem:function t(e){var n=this;this.items=this.items.filter(function(t){return t[n.optionIdField]!==e});this.ids=this.items.map(function(t){return t[n.optionIdField]});this.onChange(this.items)},updateAllItems:function t(){var e=this;if(!this.selectedItems)return;this.items=this.selectedItems.map(function(t){return Rm({},t)});this.ids=this.items.map(function(t){return t[e.optionIdField]})},displayList:function t(){this.listVisible=true},hideList:function t(){this.listVisible=false}},watch:{selectedItems:function t(){this.updateAllItems()}},computed:{optionsNotSelected:function t(){var e=this;if(!this.optionsList)return[];return this.optionsList.filter(function(t){return!e.ids.includes(t[e.optionIdField])})}}};var Bm=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"field field-multiselect"},[n("label",{staticClass:"label",domProps:{innerHTML:t._s(t.label)}}),t._v(" "),n("div",{staticClass:"field selected-list  is-grouped is-grouped-multiline"},t._l(t.items,function(e){return n("div",{key:e[t.optionIdField],staticClass:"control"},[n("div",{staticClass:"tags has-addons selected-item"},[n("span",{staticClass:"tag"},[t._v(t._s(e[t.optionLabelField]))]),t._v(" "),n("a",{staticClass:"tag is-delete",on:{click:function(n){n.preventDefault();t.deleteItem(e[t.optionIdField])}}})])])})),t._v(" "),t.optionsList.length>t.ids.length?n("div",{staticClass:"multiselect-actions"},[n("a",{staticClass:"icon is-large add-item",attrs:{href:"#"},on:{click:function(e){e.preventDefault();return t.displayList(e)}}},[t._m(0)]),t._v(" "),t.listVisible?n("ul",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideList,expression:"hideList"}],staticClass:"box"},t._l(t.optionsNotSelected,function(e){return n("li",{key:e[t.optionIdField]},[n("a",{staticClass:"unselected-item",attrs:{href:"#"},domProps:{innerHTML:t._s(e[t.optionLabelField])},on:{click:function(n){n.preventDefault();t.addItem(e)}}})])})):t._e()]):t._e()])};var Fm=[function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("span",{staticClass:"fa-stack "},[n("i",{staticClass:"fas fa-circle fa-stack-2x"}),t._v(" "),n("i",{staticClass:"fas fa-plus fa-stack-1x "})])}];function zm(t){n(301)}var Um=false;var $m=zm;var Hm="data-v-1eaa8d02";var Zm=null;var Vm=Y(qm,Bm,Fm,Um,$m,Hm,Zm);var Wm=Vm.exports;var Gm={name:"save-button",components:{SaveButtonIcon:Rf},props:{status:{type:String,default:"normal"},text:{type:String,default:"Enregistrer"},action:{type:Function,required:true}},methods:{clickHandler:function t(){this.$el.blur();this.action()}},computed:{buttonClass:function t(){switch(this.status){case"normal":return"is-primary";case"working":return"is-loading disabled save-bar__working";case"success":return"disabled disabled save-bar__message has-text-success";case"error":return"disabled disabled save-bar__error has-text-danger"}},statustext:function t(){if(this.status==="loading"){return"Enregistrement..."}else if(this.status==="error"){return"Erreur"}else if(this.status==="success"){return"Enregistrement terminé"}return this.text}}};var Km=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("button",{staticClass:"save-button button",class:t.buttonClass,on:{click:function(e){e.preventDefault();return t.clickHandler(e)}}},[n("save-button-icon",{attrs:{status:t.status}}),t._v("\n     "+t._s(t.statustext)+"\n")],1)};var Ym=[];function Xm(t){n(303)}var Jm=false;var Qm=Xm;var ty="data-v-40d0a7ec";var ey=null;var ny=Y(Gm,Km,Ym,Jm,Qm,ty,ey);var ry=ny.exports;var iy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var oy={normal:"Enregistrer les modifications",working:"Enregistrement en cours...",success:"Enregistrement terminé",error:"Enregistrement terminé"};var ay={components:{SaveButton:ry,FieldMultiselect:Wm,EditorButton:ie,FieldSelect:Yd},name:"notice-edition",mixins:[gf],data:function t(){return{status:"normal",buttonText:oy.normal,form:{},centuries:[{id:null,label:"Non défini"},{id:10,label:"X<sup>e</sup> s."},{id:11,label:"XI<sup>e</sup> s."},{id:12,label:"XII<sup>e</sup> s."},{id:13,label:"XIII<sup>e</sup> s."},{id:14,label:"XIV<sup>e</sup> s."},{id:15,label:"XV<sup>e</sup> s."},{id:16,label:"XVI<sup>e</sup> s."},{id:17,label:"XVII<sup>e</sup> s."},{id:18,label:"XVIII<sup>e</sup> s."}],editor:null,buttons:{bold:false,italic:false,superscript:false,smallcaps:false,underline:false,del:false}}},mounted:function t(){this.$store.dispatch("institutions/fetch");this.$store.dispatch("actTypes/fetch");this.$store.dispatch("countries/fetch");this.$store.dispatch("districts/fetch");this.$store.dispatch("editors/fetch");this.$store.dispatch("languages/fetch");this.$store.dispatch("traditions/fetch");this.$refs.editor.innerHTML=this.document.argument;this.editor=Yc(this.$refs.editor);this.editor.on("selection-change",this.onSelection);this.editor.on("selection-change",this.onFocus);this.editor.on("text-change",this.onTextChange);this.textLength=this.editor.getLength();this.form=Object.assign({},this.document)},methods:{submit:function t(){var e=this;var n=Object.assign({},this.form);n.acte_type_id=this.form.acte_types.map(function(t){return t.id});n.country_id=this.form.countries.map(function(t){return t.id});n.district_id=this.form.districts.map(function(t){return t.id});n.language_code=this.form.languages.map(function(t){return t.code});n.tradition_id=this.form.traditions.map(function(t){return t.id});if(n.institution){n.institution_id=n.institution.id}this.status="working";this.buttonText=oy.working;this.$store.dispatch("document/save",n).then(function(t){e.status="success";e.buttonText=oy.success;setTimeout(function(){e.status="normal";e.buttonText=oy.normal},2e3)}).catch(function(t){e.status="error";e.buttonText=oy.error;setTimeout(function(){e.status="normal";e.buttonText=oy.normal},2e3)})},onSelectChange:function t(e){this.form.type_id=e},onTextChange:function t(){this.textLength=this.editor.getLength();this.form.argument=this.$refs.editor.childNodes[0].innerHTML},onSelection:function t(e){if(e){var n=this.editor.getFormat(e.index,e.length);this.updateButtons(n)}},onChangeCountries:function t(e){this.form.countries=e},onChangeDistricts:function t(e){this.form.districts=e},onChangeActTypes:function t(e){this.form.acte_types=e},onChangeTraditions:function t(e){this.form.traditions=e},onChangeLanguages:function t(e){this.form.languages=e},onChangeEditors:function t(e){this.form.editors=e},onChangeCentury:function t(e){this.form.copy_cent=e},onChangeInstitution:function t(e){this.form.institution=this.institutionsSelect.find(function(t){return t.id===e})}},computed:iy({institutionId:function t(){return this.form.institution?this.form.institution.id:null}},B("institutions",["institutionsSelect"]),R("actTypes",["actTypes"]),R("countries",["countries"]),R("districts",["districts"]),R("document",["document"]),R("editors",["editors"]),R("languages",["languages"]),R("traditions",["traditions"]))};var sy=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("form",[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-half"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Titre")]),t._v(" "),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"input",attrs:{type:"text",placeholder:"Titre"},domProps:{value:t.form.title},on:{input:function(e){if(e.target.composing){return}t.$set(t.form,"title",e.target.value)}}})])])])]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Sous-titre")]),t._v(" "),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.subtitle,expression:"form.subtitle"}],staticClass:"textarea",attrs:{type:"text",placeholder:"Sous-titre"},domProps:{value:t.form.subtitle},on:{input:function(e){if(e.target.composing){return}t.$set(t.form,"subtitle",e.target.value)}}})])])])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Année de création")]),t._v(" "),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.creation,expression:"form.creation"}],staticClass:"input",attrs:{type:"number",placeholder:"Année de création"},domProps:{value:t.form.creation},on:{input:function(e){if(e.target.composing){return}t.$set(t.form,"creation",e.target.value)}}})])])])]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Année de création (formatée)")]),t._v(" "),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.creation_lab,expression:"form.creation_lab"}],staticClass:"input",attrs:{type:"text",placeholder:"[1200-1210 ca.]"},domProps:{value:t.form.creation_lab},on:{input:function(e){if(e.target.composing){return}t.$set(t.form,"creation_lab",e.target.value)}}})])])])]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Année de la copie (formatée)")]),t._v(" "),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.copy_year,expression:"form.copy_year"}],staticClass:"input",attrs:{type:"text",placeholder:"[1200-1210 ca.]"},domProps:{value:t.form.copy_year},on:{input:function(e){if(e.target.composing){return}t.$set(t.form,"copy_year",e.target.value)}}})])])])]),t._v(" "),n("field-select",{attrs:{options:t.centuries,selected:t.form.copy_cent,label:"Siècle de la copie",onChange:t.onChangeCentury}}),t._v(" "),n("hr"),t._v(" "),n("field-select",{attrs:{options:t.institutionsSelect,selected:t.institutionId,label:"Institution de conservation",onChange:t.onChangeInstitution}}),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Pressmark")]),t._v(" "),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pressmark,expression:"form.pressmark"}],staticClass:"input",attrs:{type:"text",placeholder:"Cote"},domProps:{value:t.form.pressmark},on:{input:function(e){if(e.target.composing){return}t.$set(t.form,"pressmark",e.target.value)}}})])])])]),t._v(" "),n("div",{staticClass:"field"},[t._m(0),t._v(" "),n("div",{staticClass:"editor-area"},[n("div",{ref:"controls",staticClass:"editor-controls"},[n("editor-button",{attrs:{selected:t.buttons.bold,active:t.editorHasFocus,callback:t.simpleFormat,format:"bold"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.italic,active:t.editorHasFocus,callback:t.simpleFormat,format:"italic"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.superscript,active:t.editorHasFocus,callback:t.simpleFormat,format:"superscript"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.smallcaps,active:t.editorHasFocus,callback:t.simpleFormat,format:"smallcaps"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.underline,active:t.editorHasFocus,callback:t.simpleFormat,format:"underline"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.del,active:t.editorHasFocus,callback:t.simpleFormat,format:"del"}})],1),t._v(" "),n("div",{ref:"editor",staticClass:"quill-editor",attrs:{spellcheck:"false"}})])])],1),t._v(" "),n("div",{staticClass:"column is-half"},[n("field-multiselect",{attrs:{label:"Pays :",optionsList:t.countries,selectedItems:t.form.countries,onChange:t.onChangeCountries}}),t._v(" "),n("field-multiselect",{attrs:{label:"District(s) :",optionsList:t.districts,selectedItems:t.form.districts,onChange:t.onChangeDistricts}}),t._v(" "),n("field-multiselect",{attrs:{label:"Type(s) d'acte(s) :",optionsList:t.actTypes,selectedItems:t.form.acte_types,onChange:t.onChangeActTypes}}),t._v(" "),n("field-multiselect",{attrs:{label:"Tradition(s) :",optionsList:t.traditions,selectedItems:t.form.traditions,onChange:t.onChangeTraditions}}),t._v(" "),n("field-multiselect",{attrs:{label:"Langage(s) :",optionIdField:"code",optionsList:t.languages,selectedItems:t.form.languages,onChange:t.onChangeLanguages}}),t._v(" "),n("field-multiselect",{attrs:{label:"Éditeur(s) :",optionLabelField:"name",optionsList:t.editors,selectedItems:t.form.editors,onChange:t.onChangeEditors}})],1)]),t._v(" "),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("save-button",{attrs:{status:t.status,text:t.buttonText,action:t.submit}})],1)])])};var ly=[function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("p",{staticClass:"control"},[n("label",{staticClass:"label"},[t._v("Regeste")])])}];function uy(t){n(299)}var cy=false;var fy=uy;var hy="data-v-35456b7c";var dy=null;var py=Y(ay,sy,ly,cy,fy,hy,dy);var vy=py.exports;var my=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var yy={name:"author-swap-list-form",props:["title","selectedAuthor","cancel","submit"],components:{ModalForm:Nh},data:function t(){return{selected:null,id:false}},mounted:function t(){this.selected=this.selectedAuthor;this.id=this.selected.id},methods:{selectItem:function t(e){this.selected=e;this.id=e.id;console.log("Select user",this.id,this.selected)},submitAction:function t(){this.$props.submit(this.selected)},cancelAction:function t(){this.$props.cancel()}},computed:my({},R("user",["author","currentUser"]),R("document",["document"]))};var gy=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("modal-form",{attrs:{title:"Auteur des travaux à afficher",cancel:t.cancelAction,submit:t.submitAction,valid:!!t.selected}},[n("div",{staticClass:"authors-list-form"},[n("a",{key:"me",staticClass:"authors-list-item list-item",class:{selected:t.currentUser.id==t.id},on:{click:function(e){t.selectItem(t.currentUser)}}},[t._v("Vous-même ("+t._s(t.currentUser.username)+")")]),t._v(" "),n("hr"),t._v(" "),n("p",{staticClass:"list-subsection-title"},[t._v(t._s(t.document.whitelist.label))]),t._v(" "),t._l(t.document.whitelist.users,function(e){return n("a",{key:e.id,staticClass:"authors-list-item list-item",class:{selected:e.id==t.id},on:{click:function(n){t.selectItem(e)}}},[t._v(t._s(e.first_name)+" "+t._s(e.last_name))])})],2)])};var _y=[];var by=false;var wy=null;var xy=null;var Ey=null;var ky=Y(yy,gy,_y,by,wy,xy,Ey);var Oy=ky.exports;var Ty=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var Cy={normal:"Enregistrer les modifications",working:"Enregistrement en cours...",success:"Enregistrement terminé",error:"Enregistrement terminé"};var Ay={name:"commentary-editor",props:["initialContent","type"],mixins:[gf,xd],components:{SaveButton:ry,TextfieldForm:Mp,SaveBar:ih,NewNoteActions:zd,InEditorActions:Cf,EditorButton:ie,ModalConfirmNoteDelete:Op,NoteActions:Pd,NotesListForm:mp,NoteForm:ap},data:function t(){return{status:"normal",buttonText:Cy.normal,storeActions:{changed:"commentaries/changed"},delta:null,buttons:{bold:false,italic:false,superscript:false,smallcaps:false,underline:false,del:false,expan:false,person:false,location:false,note:false,segment:false,paragraph:false,list:false,verse:false,blockquote:false,cite:false}}},mounted:function t(){this.initEditor(this.$refs.editor,this.$props.initialContent)},beforeDestroy:function t(){this.deactivateEvents()},methods:{onTextChange:function t(e,n,r){this.lastOperations=e;if(this.editorInited){this.$store.dispatch(this.storeActions.changed,{type:this.type,content:this.editorContentElement.innerHTML})}},updateContent:function t(){this.delta=this.editor.getContents().ops},save:function t(){var e=this;this.$store.dispatch("commentaries/save",this.type).then(function(t){e.status="success";e.buttonText=Cy.success;setTimeout(function(){e.status="normal";e.buttonText=Cy.normal},2e3)}).catch(function(t){e.status="error";e.buttonText=Cy.error;console.error(t);setTimeout(function(){e.status="normal";e.buttonText=Cy.normal},2e3)})}},computed:Ty({},R("transcription",["transcriptionSaved"]),R("translation",["translationSaved"]))};var Ly=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"editor-area"},[n("div",{ref:"controls",staticClass:"editor-controls"},[n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Structure éditoriale")]),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.paragraph,active:t.editorHasFocus,callback:t.simpleFormat,format:"paragraph"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.list,active:t.editorHasFocus,callback:t.simpleFormat,format:"list"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.blockquote,active:t.editorHasFocus,callback:t.simpleFormat,format:"blockquote"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.verse,active:t.editorHasFocus,callback:t.simpleFormat,format:"verse"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.colbreak,active:t.editorHasFocus,callback:t.insertColBreak,format:"colbreak"}}),t._v(" "),n("editor-button",{attrs:{active:t.isNoteButtonActive,callback:t.newNoteChoiceOpen,format:"note"}})],1),t._v(" "),n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Enrichissements typographiques")]),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.bold,active:t.editorHasFocus,callback:t.simpleFormat,format:"bold"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.italic,active:t.editorHasFocus,callback:t.simpleFormat,format:"italic"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.superscript,active:t.editorHasFocus,callback:t.simpleFormat,format:"superscript"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.smallcaps,active:t.editorHasFocus,callback:t.simpleFormat,format:"smallcaps"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.underline,active:t.editorHasFocus,callback:t.simpleFormat,format:"underline"}})],1),t._v(" "),n("div",{staticClass:"editor-controls-group"},[n("label",[t._v("Enrichissements sémantiques")]),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.expan,active:t.editorHasFocus,callback:t.simpleFormat,format:"expan"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.link,active:t.editorHasFocus,callback:t.simpleFormat,format:"link"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.quote,active:t.editorHasFocus,callback:t.simpleFormat,format:"quote"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.cite,active:t.editorHasFocus,callback:t.displayCiteForm,format:"cite"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.person,active:t.editorHasFocus,callback:t.displayPersonForm,format:"person"}}),t._v(" "),n("editor-button",{attrs:{selected:t.buttons.location,active:t.editorHasFocus,callback:t.displayLocationForm,format:"location"}})],1)]),t._v(" "),n("div",{staticClass:"editor-container"},[n("div",{ref:"editor",staticClass:"quill-editor",attrs:{id:"commentary-editor",spellcheck:"false"}}),t._v(" "),n("note-actions",{directives:[{name:"show",rawName:"v-show",value:t.selectedNoteId&&this.editor.hasFocus(),expression:"selectedNoteId && this.editor.hasFocus()"}],style:t.actionsPosition,attrs:{refs:"noteActions",newNote:t.setNoteEditModeNew,edit:t.setNoteEditModeEdit,updateLink:t.setNoteEditModeList,unlink:t.unlinkNote,delete:t.setNoteEditModeDelete}}),t._v(" "),t.defineNewNote?n("new-note-actions",{attrs:{modeNew:t.setNoteEditModeNew,modeLink:t.setNoteEditModeList,cancel:t.newNoteChoiceClose}}):t._e()],1),t._v(" "),t.noteEditMode=="list"?n("notes-list-form",{attrs:{noteId:t.selectedNoteId,submit:t.updateNoteId,cancel:t.closeNoteEdit}}):t._e(),t._v(" "),t.formTextfield?n("textfield-form",{attrs:{title:t.formTextfield.title,label:t.formTextfield.label,value:t.formTextfield.value,submit:t.submitTextfieldForm,cancel:t.cancelTextfieldForm,remove:t.removeFormat}}):t._e(),t._v(" "),t.noteEditMode=="new"||t.noteEditMode=="edit"?n("note-form",{attrs:{title:t.noteEditMode=="new"?"nouvelle note":"Éditer la note",note:t.currentNote,noteId:t.selectedNoteId,submit:t.updateNote,cancel:t.closeNoteEdit}}):t._e(),t._v(" "),t.noteEditMode=="delete"?n("modal-confirm-note-delete",{attrs:{cancel:t.closeNoteEdit,submit:t.deleteNote}}):t._e(),t._v(" "),n("p",[t._v(" ")]),t._v(" "),n("p",{staticClass:"has-text-centered"},[n("save-button",{attrs:{status:t.status,text:t.buttonText,action:t.save}})],1)],1)};var Sy=[];var Py=false;var Ny=null;var jy=null;var My=null;var Iy=Y(Ay,Ly,Sy,Py,Ny,jy,My);var Dy=Iy.exports;var Ry=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var qy={name:"transcription-read-only-editor",props:["initialContent"],mixins:[gf],data:function t(){return{storeActions:{changed:"transcription/changed"},delta:null,buttons:{bold:false,italic:false,superscript:false,smallcaps:false,underline:false,del:false,expan:false,person:false,location:false,note:false,segment:false,paragraph:false}}},mounted:function t(){this.initEditor(this.$refs.editor,this.$props.initialContent);this.editor.enable(false)},beforeDestroy:function t(){this.deactivateEvents()},computed:Ry({},R("transcription",["transcriptionSaved"]),R("translation",["translationSaved"]))};var By=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"editor-area"},[n("div",{staticClass:"editor-container"},[n("div",{ref:"editor",staticClass:"quill-editor",attrs:{id:"transcription-editor",spellcheck:"false"}})])])};var Fy=[];var zy=false;var Uy=null;var $y=null;var Hy=null;var Zy=Y(qy,By,Fy,zy,Uy,$y,Hy);var Vy=Zy.exports;var Wy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var Gy={name:"commentaries-edition",components:{TranscriptionReadOnlyEditor:Vy,CommentaryEditor:Dy,Tab:nt,Tabs:ft,IIIFMap:Dt},created:function t(){},methods:{createNewCommentary:function t(e,n){console.log("createNewCommentary",e,n);this.$store.dispatch("commentaries/add",e)}},computed:Wy({},R("transcription",["transcriptionWithNotes","referenceTranscription"]),R("commentaries",["commentaries","hasCommentaryTypes","commentaryTypes"]),B("commentaries",["missingCommentaryTypes"]),B("document",["manifestURL"]))};var Ky=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-half"},[n("h2",{staticClass:"subtitle"},[t._v("Transcription")]),t._v(" "),n("transcription-read-only-editor",{attrs:{initialContent:t.transcriptionWithNotes}})],1),t._v(" "),n("div",{staticClass:"column is-half"},[n("h2",{staticClass:"subtitle"},[t._v("Commentaires")]),t._v(" "),n("tabs",{attrs:{"tabs-style":"is-boxed is-small"}},t._l(t.commentaries,function(t,e){return n("tab",{key:t.type,attrs:{selected:e===0,name:t.typeLabel}},[n("commentary-editor",{attrs:{initialContent:t.content,type:t.type}})],1)})),t._v(" "),n("div",{staticClass:"add-commentary-box"},[n("p",{staticClass:"box-title"},[t._v("Créer un nouveau commentaire :")]),t._v(" "),n("div",{staticClass:"box-buttons"},t._l(t.missingCommentaryTypes,function(e){return n("a",{staticClass:"button button-commentary",on:{click:function(n){t.createNewCommentary(e.id,e.label)}}},[t._v("\n          "+t._s(e.label)+"\n        ")])}))])],1)])};var Yy=[];function Xy(t){n(305)}var Jy=false;var Qy=Xy;var tg="data-v-438434ac";var eg=null;var ng=Y(Gy,Ky,Yy,Jy,Qy,tg,eg);var rg=ng.exports;var ig=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var og={name:"document-edition",components:{CommentariesEdition:rg,SaveBar:ih,MinimalMessage:lv,AuthorSwapListForm:Oy,LoadingIndicator:Vt,NoticeEdition:vy,SpeechpartsEdition:Mm,AlignmentEdition:Gv,FacsimileEditor:bd,TranscriptionEdition:Av,Tabs:ft,Tab:nt},data:function t(){return{swapUser:false}},created:function t(){this.$store.dispatch("transcription/fetch")},methods:{swapAuthor:function t(e){this.cancelSwap();this.$store.dispatch("user/setAuthor",e);this.$store.dispatch("transcription/reset");this.$store.dispatch("translation/reset");this.$store.dispatch("transcription/fetch")},cancelSwap:function t(){this.swapUser=false},save:function t(){this.$store.dispatch("transcription/save")},onTabChange:function t(e,n){if(e!=="Notice"&&this.savingStatus==="tobesaved")this.save()}},computed:ig({hasTranscription:function t(){return!!this.transcription},hasImage:function t(){return!!this.document.images.length},allowedToSwapAuthor:function t(){return this.document.whitelist&&!this.currentUserIsStudent}},R("user",["author"]),R("document",["document"]),R("transcription",["transcriptionLoading","transcription","savingStatus","referenceTranscription"]),R("translation",["translation","translationLoading"]),B("user",["currentUserIsStudent"]))};var ag=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{attrs:{id:"document-edition"}},[n("loading-indicator",{attrs:{active:t.transcriptionLoading||t.translationLoading,"full-page":true}}),t._v(" "),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("h1",{staticClass:"title is-size-5",staticStyle:{display:"inline-block","margin-bottom":"0.5em"}},[t._v("Document "+t._s(t.document.id))]),t._v(" "),t.allowedToSwapAuthor?n("a",{staticClass:"button is-link is-small",staticStyle:{"margin-left":"20px"},on:{click:function(e){t.swapUser=true}}},[n("i",{staticClass:"fas fa-user-circle",staticStyle:{"margin-right":"8px"}}),t._v(t._s(t.author.username)+"\n      ")]):t._e()])]),t._v(" "),n("tabs",{staticClass:"is-flex-column",attrs:{"on-tab-change":t.onTabChange}},[n("tab",{attrs:{name:"Édition",selected:true}},[n("transcription-edition")],1),t._v(" "),n("tab",{attrs:{name:"Facsimilé"}},[t.hasTranscription?n("facsimile-editor"):!t.hasImage?n("minimal-message",{attrs:{body:"Aucun manifeste pour le moment. Un manifeste est nécessaire pour éditer le facsimilé."}}):n("minimal-message",{attrs:{body:"Aucune transcription pour le moment. Une transcription est nécessaire pour éditer le facsimilé."}})],1),t._v(" "),n("tab",{attrs:{name:"Parties du discours"}},[t.hasTranscription?n("speechparts-edition"):n("minimal-message",{attrs:{body:"Aucune transcription pour le moment. Une transcription est nécessaire pour éditer les parties du discours."}})],1),t._v(" "),n("tab",{attrs:{name:"Commentaires"}},[t.hasTranscription?n("commentaries-edition"):n("minimal-message",{attrs:{body:"Aucune transcription pour le moment. Une transcription est nécessaire pour éditer les commentaires."}})],1),t._v(" "),!t.currentUserIsStudent?n("tab",{attrs:{name:"Notice"}},[n("h1",[t._v("Notice")]),t._v(" "),n("notice-edition")],1):t._e()],1),t._v(" "),t.swapUser?n("author-swap-list-form",{attrs:{"selected-author":t.author,cancel:t.cancelSwap,submit:t.swapAuthor}}):t._e(),t._v(" "),n("save-bar",{attrs:{action:t.save}})],1)};var sg=[];function lg(t){n(94)}var ug=false;var cg=lg;var fg="data-v-f91bec3a";var hg=null;var dg=Y(og,ag,sg,ug,cg,fg,hg);var pg=dg.exports;var vg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var mg={name:"app",components:{DocumentEdition:pg},props:["doc_id","auth_token"],created:function t(){var e=this;this.$store.dispatch("user/setAuthToken",this.auth_token).then(function(){e.$store.dispatch("user/getCurrentUser").then(function(){return e.$store.dispatch("document/fetch",e.doc_id)})})},computed:vg({},B("document",["document"]))};var yg=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{attrs:{id:"app"}},[!!t.document?n("div",[n("document-edition")],1):t._e()])};var gg=[];function _g(t){n(92)}var bg=false;var wg=_g;var xg=null;var Eg=null;var kg=Y(mg,yg,gg,bg,wg,xg,Eg);var Og=kg.exports;var Tg={currentUser:undefined,authToken:undefined,author:undefined};var Cg={UPDATE_CURRENT_USER:function t(e,n){e.currentUser=n},UPDATE_AUTHOR:function t(e,n){e.author=n;console.log("STORE MUTATION user/UPDATE_AUTHOR",e.author.id,e.author)},UPDATE_AUTH_TOKEN:function t(e,n){e.authToken=n}};var Ag={getCurrentUser:function t(e){var n=e.commit,r=e.rootGetters;var i=r["user/authHeader"];return dt.a.get("/adele/api/1.0/user",i).then(function(t){n("UPDATE_CURRENT_USER",t.data.data);n("UPDATE_AUTHOR",t.data.data)})},setAuthToken:function t(e,n){var r=e.commit;r("UPDATE_AUTH_TOKEN",n)},setAuthor:function t(e,n){var r=e.commit;console.log("STORE ACTION user/setAuthor",n.id,n);r("UPDATE_AUTHOR",n)}};var Lg=function t(e,n){var r="";if(!(e&&e.roles))return false;switch(e.roles.length){case 1:r="student";break;case 2:r="teacher";break;case 3:r="admin";break}return r===n};var Sg={authHeader:function t(e){return{auth:{username:e.authToken,password:undefined}}},currentUserIsAdmin:function t(e){return Lg(e.currentUser,"admin")},currentUserIsAuthor:function t(e){return e.currentUser.id===e.author.id},currentUserIsTeacher:function t(e){return Lg(e.currentUser,"teacher")},currentUserIsStudent:function t(e){return Lg(e.currentUser,"student")}};var Pg={namespaced:true,state:Tg,mutations:Cg,actions:Ag,getters:Sg};var Ng=Pg;var jg={document:undefined,documents:[]};var Mg={UPDATE_DOCUMENT:function t(e,n){e.document=n},UPDATE_ALL:function t(e,n){e.documents=n}};var Ig={fetch:function t(e,n){var r=e.commit;return dt.a.get("/adele/api/1.0/documents/"+n).then(function(t){r("UPDATE_DOCUMENT",t.data.data)})},save:function t(e,n){var r=e.commit,i=e.rootGetters;var o=i["user/authHeader"];return new Promise(function(t,e){dt.a.put("/adele/api/1.0/documents",{data:n},o).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else{r("UPDATE_DOCUMENT",n.data.data);t(n.data)}}).catch(function(t){console.error("error",t);e(t)})})},fetchAll:function t(e,n){var r=e.commit;return dt.a.get("/adele/api/1.0/documents").then(function(t){r("UPDATE_DOCUMENT",t.data.data)})}};var Dg={document:function t(e){return e.document},manifestURL:function t(e){var n="/adele/api/1.0/documents/"+e.document.id+"/manifest";return e.document&&e.document.images&&e.document.images.length>0?n:null}};var Rg={namespaced:true,state:jg,mutations:Mg,actions:Ig,getters:Dg};var qg=Rg;var Bg={actTypes:[]};var Fg={UPDATE:function t(e,n){e.actTypes=n}};var zg={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/acte-types").then(function(t){var e=t.data.data;var r=Array.isArray(e);var i=r?e:[e];n("UPDATE",i)})}};var Ug={};var $g={namespaced:true,state:Bg,mutations:Fg,actions:zg,getters:Ug};var Hg=$g;var Zg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var Vg=new DOMParser;var Wg=new XMLSerializer;var Gg=["i","ex","del","u","b"];var Kg=[];var Yg=[];Gg.forEach(function(t){Kg.push(new RegExp("</"+t+'><note id="(\\d+)"><'+t+">","gi"));Yg.push(new RegExp("</"+t+"></note><"+t+">","gi"))});var Xg={h1:{tag:"head",attr:"type",attrValue:"h1"},h2:{tag:"head",attr:"type",attrValue:"h2"},h3:{tag:"head",attr:"type",attrValue:"h3"},h4:{tag:"head",attr:"type",attrValue:"h4"},h5:{tag:"head",attr:"type",attrValue:"h5"},h6:{tag:"head",attr:"type",attrValue:"h6"},section:{tag:"div"},ul:{tag:"list"},li:{tag:"item"},i:{tag:"hi",attr:"rend",attrValue:"i"},strong:{tag:"hi",attr:"rend",attrValue:"b"},sup:{tag:"hi",attr:"rend",attrValue:"sup"},smallcaps:{tag:"hi",attr:"rend",attrValue:"sc"},u:{tag:"hi",attr:"rend",attrValue:"u"},blockquote:{tag:"quote",attr:"rend",attrValue:"block"},q:{tag:"quote",attr:"rend",attrValue:"inline"},cite:{tag:"title",attr:"ref"},persname:{tag:"persName"},placeName:{tag:"placeName"}};var Jg={head:{mapping:{mapping_type:"attr",mapping_attr:"type",type:{h1:{tag:"h1",removeAttr:"type"},h2:{tag:"h2",removeAttr:"type"},h3:{tag:"h3",removeAttr:"type"},h4:{tag:"h4",removeAttr:"type"},h5:{tag:"h5",removeAttr:"type"},h6:{tag:"h6",removeAttr:"type"}}}},div:{tag:"section"},list:{tag:"ul"},item:{tag:"li"},hi:{mapping:{mapping_type:"attr",mapping_attr:"rend,style",rend:{i:{tag:"i",removeAttr:"rend"},b:{tag:"strong",removeAttr:"rend"},sup:{tag:"sup",removeAttr:"rend"},sc:{tag:"smallcaps",removeAttr:"rend"},u:{tag:"u",removeAttr:"rend"}},style:{tag:"span"}}},quote:{mapping:{mapping_type:"parent",parent:{doc:{tag:"blockquote",removeAttr:"rend"},$default:{tag:"q"}}}},title:{tag:"cite"},persName:{tag:"persname"},placeName:{tag:"placename"}};var Qg=function t(e){var n=Vg.parseFromString("<doc>"+e+"</doc>","text/xml");var r=void 0;r=a_(n.documentElement,Jg);var i=Wg.serializeToString(r);i=i.replace(/<lb><\/lb>/gi,"<lb/>");i=i.replace(/<\/?doc([^>]*)>/gi,"");return i};var t_=function t(e){if(!e)return"";e=e.replace(/&nbsp;/gi,"&#160;");e=e.replace(/<br>/gi,"<br/>");var n=Vg.parseFromString("<doc>"+e+"</doc>","text/xml");var r=void 0;r=a_(n.documentElement,Xg);var i=Wg.serializeToString(r);i=n_(i);i=i.replace(/<(\/?)persname( ref="[^"]*")?>/gim,"<$1persName$2>");i=i.replace(/<(\/?)placename( ref="[^"]*")?>/gim,"<$1placeName$2>");i=i.replace(/<\/?doc([^>]*)>/gi,"");return i};var e_=function t(e){return e.replace(/<lb\/?>(<\/lb>)?/gi,'<lb><span class="br"></span><span class="segment-bullet"></span></lb>')};var n_=function t(e){return e.replace(/<lb><span class="br"><\/span><span class="segment-bullet"><\/span><\/lb>/gi,"<lb/>")};function r_(t,e){var n=document.createElement(e);n.innerHTML=t.innerHTML;i_(t,n);t.parentNode.replaceChild(n,t)}function i_(t,e){e.innerHTML=t.innerHTML}function o_(t,e){if(t.hasAttributes()){var n=t.attributes;for(var r=n.length-1;r>=0;r--){e.setAttribute(n[r].name,n[r].value)}}}function a_(t,e){var n=void 0;if(t.nodeType==3){return document.createTextNode(t.nodeValue)}var r=e[t.nodeName];if(r){var i=r.tag;var o=r.attr;var a=r.attrValue||"";if(r.mapping){var s=r.mapping;var l=s.mapping_type;if(l==="attr"){var u=s.mapping_attr.split(",");u.forEach(function(e){var n=t.getAttribute(e);if(n){var r=s[e][n];i=r.tag;if(r.removeAttr){t.removeAttribute(r.removeAttr)}}})}else if(l==="parent"){var c=t.parentNode.tagName;var f=s.parent[c]?s.parent[c]:s.parent["$default"];i=f.tag;if(f.removeAttr){t.removeAttribute(f.removeAttr)}}}n=document.createElement(i);if(o)n.setAttribute(o,a)}else{n=document.createElement(t.nodeName)}o_(t,n);if(t.hasChildNodes()){for(var h=0;h<t.childNodes.length;h++){var d=t.childNodes[h];n.appendChild(a_(d,e))}}return n}String.prototype.insert=function(t,e){if(t>0)return this.substring(0,t)+e+this.substring(t,this.length);else return e+this};var s_=function t(e,n){console.group("%c insertNotes","color:orange");var r=f_(e,n);console.log("%c notePointers =>","color:orange",r);var i=document.createElement("div");i.innerHTML=e;var o=new ll(i);r.forEach(function(t){o.formatText(t.ptr_start,t.ptr_end-t.ptr_start,"note",t.id,"api");console.log("%c # "+i.children[0].innerHTML,"color:orange")});console.groupEnd();return i.children[0].innerHTML};var l_=function t(e,n){var r=e;var i=0;var o=0;n.forEach(function(t){var e='<zone id="'+t.zone_id+'">';var n="</zone>";r=r.insert(t.ptr_start+i,e);i+=e.length;r=r.insert(t.ptr_end+i,n);i+=n.length;o++});return r};var u_=function t(e,n,r){var i=document.createElement("div");i.innerHTML=e;var o=new ll(i);var a=d_(e,n,r);a=h_(e,a,r);console.log("%c segmentsIndices =>","color:orange",a);var s=0;a.forEach(function(t){o.insertEmbed(t+s,"segment",true,"api");s++});return i.children[0].innerHTML};var c_=function t(e,n,r,i){var o=f_(e,n);var a=document.createElement("div");a.innerHTML=e;var s=new ll(a);o.forEach(function(t){s.formatText(t.ptr_start,t.ptr_end-t.ptr_start,"note",t.id,"api")});var l=d_(e,r,i);l=h_(e,l,i);var u=0;l.forEach(function(t){s.insertEmbed(t+u,"segment",true,"api");u++});return a.children[0].innerHTML};var f_=function t(e,n){if(!n||n.length===0){return[]}var r=/<(([\/a-z])+\b[^>]*)>/gi;var i=0;var o=0;var a=n.map(function(t){var a=i>0?n[i-1].ptr_end:0;var s=e.substring(a,t.ptr_start);var l=s.replace(r,"");var u=s.length-l.length;o-=u;var c=t.ptr_start+o;var f=e.substring(t.ptr_start,t.ptr_end);var h=f.replace(r,"");var d=f.length-h.length;o-=d;var p=t.ptr_end+o;var v=Zg({},t,{ptr_start:c,ptr_end:p});i++;return v});return a};var h_=function t(e,n){if(!n||n.length===0){return[]}var r=/<(([\/a-z])+\b[^>]*)>/gi;var i=0;var o=0;var a=n.map(function(t){var a=i>0?n[i-1]:0;var s=e.substring(a,t);var l=s.replace(r,"");var u=s.length-l.length;o-=u;var c=t+o;i++;return c});return a};var d_=function t(e,n,r){var i=r==="transcription"?0:2;return n.filter(function(t){var n=e.substr(t[i],3);return t[i]>0&&n!=="<p>"&&n!=="<l>"&&n!=="<lb"}).map(function(t){return t[i]})};var p_=function t(e,n){var r=[];n.forEach(function(t,e){r.push({index:t.ptr_start,type:"sp_start",note:t,fakeId:e});r.push({index:t.ptr_end,type:"sp_end"})});r.sort(function(t,e){return t.index-e.index});var i=e;var o=0;r.forEach(function(t){var e="";var n=false;switch(t.type){case"sp_start":e='<speechpart id="'+t.fakeId+'">';n=true;break;case"sp_end":e="</speechpart>";n=true;break}i=i.insert(t.index+o,e);if(n)o+=e.length});return i};var v_=function t(e){return e.replace(/<\/?note( id="\d+")?>/gim,"")};var m_=function t(e){return e.replace(/<\/?segment>/gim,"")};var y_=function t(e){return e.replace(/<\/?speechpart( id="\d+")?>/gim,"")};var g_=function t(e){var n=/<note id="(\d+)">/;var r=/<\/note>/;var i=void 0,o=void 0;var a=[];e=__(e);console.group("%c ###########################################","color:DarkOrchid");console.log("%c computeNotesPointers","color:DarkOrchid",e);console.log("%c ######","color:DarkOrchid");while((i=n.exec(e))!==null){e=e.replace(n,"");o=r.exec(e);e=e.replace(r,"");a.push({note_id:parseInt(i[1]),ptr_start:i.index,ptr_end:o.index})}console.warn("%c computeNotesPointers","color:DarkOrchid",a.length,a);console.log("%c ###########################################","color:DarkOrchid");console.groupEnd();return a};var __=function t(e){console.log("%c sanitizeHtmlWithNotesForSave "+e,"color:DarkSlateGray");Yg.forEach(function(t){e=e.replace(t,"</note>")});Kg.forEach(function(t){e=e.replace(t,'<note id="$1">')});console.log("%c   => "+e,"color:DarkSlateGray");return e};var b_=function t(e){var n=/<segment><\/segment>/gim;var r=e.split(n);var i=[];var o=0;for(var a=0;a<r.length;++a){o+=r[a].length;i.push(o)}var s=e.replace(n,"");var l=/<(p|lb?)\/?>/gim;var u=void 0;while((u=l.exec(s))!==null){i.push(u.index)}i.sort(function(t,e){return t-e});var c=[];for(var f=1;f<i.length;++f){c.push([i[f-1],i[f]])}return c};var w_=function t(e){var n=/<speechpart id="((\d+)|temp)">/;var r=/<\/speechpart>/;var i=void 0,o=void 0;var a=[];while((i=n.exec(e))!==null){e=e.replace(n,"");o=r.exec(e);console.log(" ",i,o);e=e.replace(r,"");a.push({index:parseInt(i[1]),ptr_start:i.index,ptr_end:o.index})}return a};var x_=function t(e){var n=/<zone id="((\d+)|temp)">/;var r=/<\/zone>/;var i=void 0,o=void 0;var a=[];while((i=n.exec(e))!==null){e=e.replace(n,"");o=r.exec(e);e=e.replace(r,"");a.push({zone_id:parseInt(i[1]),ptr_start:i.index,ptr_end:o.index})}return a};var E_={commentaries:[],hasCommentaryTypes:[],commentaryTypes:[],saved:true};var k_={UPDATE_TYPES:function t(e,n){e.commentaryTypes=n},UPDATE:function t(e,n){var r=n.commentaries,i=n.hasTypes;e.commentaries=r;e.hasCommentaryTypes=i},UPDATE_COMMENTARY:function t(e,n){var r=n.content,i=n.type;var o=e.commentaries.find(function(t){return t.type===i});o.content=r},SAVED:function t(e,n){e.saved=n}};var O_={fetchTypes:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/commentary-types").then(function(t){var e=t.data.data;var r=Array.isArray(e);var i=r?e:[e];n("UPDATE_TYPES",i)})},fetch:function t(e,n){var r=e.commit;var i=n.doc_id,o=n.user_id;dt.a.get("/adele/api/1.0/documents/"+i+"/commentaries/from-user/"+o).then(function(t){var e=t.data.data;var n=Array.isArray(e);var i=n?e:[e];var o={};var a=[];i.forEach(function(t){var e=Qg(t.content);var n=s_(e,t.notes);a.push({type:t.type.id,typeLabel:t.type.label,content:n,notes:t.notes});o[t.type.label]=true});r("UPDATE",{commentaries:a,hasTypes:o})})},changed:function t(e,n){var r=e.commit,i=e.dispatch;var o=n.content,a=n.type;r("UPDATE_COMMENTARY",{content:o,type:a});r("SAVED",false)},add:function t(e,n){var r=e.commit,i=e.rootState;var o={auth:{username:i.user.authToken,password:undefined}};var a=i.document.document.id;var s={data:{doc_id:a,type_id:n,user_id:i.user.currentUser.id,content:"<p></p>"}};return dt.a.post("/adele/api/1.0/documents/"+a+"/commentaries",s,o).then(function(t){var e=t.data.data;var n=Array.isArray(e);var i=n?e:[e];var o={};var a=[];i.forEach(function(t){var e=Qg(t.content);var n=s_(e,t.notes);a.push({type:t.type.id,typeLabel:t.type.label,content:n,notes:t.notes});o[t.type.label]=true});console.log(a);r("UPDATE",{commentaries:a,hasTypes:o})})},save:function t(e,n){var r=e.commit,i=e.dispatch;console.log("STORE ACTION commentaries/save",n);return i("saveContent",n).then(function(t){return i("saveNotes",n)}).then(function(t){console.log("commentary saved",t)})},saveContent:function t(e,n){var r=e.commit,i=e.rootState,o=e.rootGetters;var a=o["user/authHeader"];var s=E_.commentaries.find(function(t){return t.type===n});var l=t_(s.content);var u=m_(l);u=v_(u);var c={data:{doc_id:i.document.document.id,type_id:n,user_id:i.user.currentUser.id,content:u}};return new Promise(function(t,e){dt.a.put("/adele/api/1.0/documents/"+i.document.document.id+"/commentaries",c,a).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else t(n.data)}).catch(function(t){console.error("error",t);e(t)})})},saveNotes:function t(e,n){var r=e.commit,i=e.rootState,o=e.rootGetters;console.log("STORE ACTION commentaries/saveContent",n);var a=o["user/authHeader"];var s=E_.commentaries.find(function(t){return t.type===n});var l=m_(s.content);l=n_(l);var u=g_(l);u.forEach(function(t){var e=i.notes.notes.find(function(e){return e.id===t.note_id});t.content=e.content;t.commentary_username=i.user.author.username;t.commentary_type_id=s.type;t.note_type=e.note_type.id});return new Promise(function(t,e){dt.a.put("/adele/api/1.0/documents/"+i.document.document.id+"/commentaries/notes",{data:u},a).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else{t(n.data)}})})}};var T_={missingCommentaryTypes:function t(e){return e.commentaryTypes.filter(function(t){return!e.hasCommentaryTypes[t.label]})}};var C_={namespaced:true,state:E_,mutations:k_,actions:O_,getters:T_};var A_=C_;var L_={countries:[]};var S_={UPDATE:function t(e,n){e.countries=n}};var P_={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/countries").then(function(t){var e=t.data.data;var r=Array.isArray(e);var i=r?e:[e];n("UPDATE",i)})}};var N_={};var j_={namespaced:true,state:L_,mutations:S_,actions:P_,getters:N_};var M_=j_;var I_={districts:[]};var D_={UPDATE:function t(e,n){e.districts=n}};var R_={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/districts").then(function(t){var e=t.data.data;var r=Array.isArray(e);var i=r?e:[e];n("UPDATE",i)})}};var q_={};var B_={namespaced:true,state:I_,mutations:D_,actions:R_,getters:q_};var F_=B_;var z_=function t(e,n){if(e.bbox_y<n.bbox_y)return-1;else if(e.bbox_y>n.bbox_y)return 1;else return U_(e,n)};var U_=function t(e,n){if(e.bbox_x<n.bbox_x)return-1;else if(e.bbox_x>n.bbox_x)return 1;else return $_(e,n)};var $_=function t(e,n){return e.zone_id-n.zone_id};var H_={canvasNames:[],currentCanvas:0,fragments:[],alignments:[],loading:false,newFacsimileZone:false,deletedFacsimileZoneId:false};var Z_={INIT:function t(e,n){e.canvasNames=n;e.currentCanvas=0},UPDATE_FRAGMENTS:function t(e,n){e.fragments=n},UPDATE_ALIGNMENTS:function t(e,n){e.alignments=n},UPDATE_CANVAS:function t(e,n){e.currentCanvas=n},DELETE_ZONE:function t(e,n){e.deletedFacsimileZoneId=n}};var V_={fetchCanvasNames:function t(e){var n=e.commit,r=e.dispatch,i=e.rootState;return dt.a.get("/adele/api/1.0/documents/"+i.document.document.id+"/first-sequence").then(function(t){if(t.data&&t.data.errors){return false}var e=t.data.data;if(!e||!e.canvases)return;var r=e.canvases.map(function(t){var e=t["@id"].split("/");return e[e.length-1]});n("INIT",r);return true})},fetchFragments:function t(e){var n=e.commit,r=e.rootState,i=e.rootGetters,o=e.state;if(!i["document/manifestURL"]){return}var a=r.document.document.id;var s=r.user.author.id;var l=o.canvasNames[o.currentCanvas];return dt.a.get("/adele/api/1.0/documents/"+a+"/annotations/"+l+"/fragments/from-user/"+s).then(function(t){if(t.data&&t.data.errors){return}var e=t.data.data;var r=e.fragments.map(function(t){return{zone_id:t.zone.zone_id,zone_type:t.zone.zone_type.label,canvas_idx:t.zone.canvas_idx,img_idx:t.zone.img_idx,bbox_x:t.bbox_coords[0],bbox_y:t.bbox_coords[1],fragment_url:t.fragment_url}}).sort(z_);n("UPDATE_FRAGMENTS",r)})},fetchAlignments:function t(e){var n=e.commit,r=e.rootState,i=e.rootGetters;if(!i["document/manifestURL"]){return}var o=r.document.document.id;var a=r.user.author.id;return dt.a.get("/adele/api/1.0/documents/"+o+"/transcriptions/alignments/images/from-user/"+a).then(function(t){if(t.data&&t.data.errors){return}var e=t.data.data;n("UPDATE_ALIGNMENTS",e)})},addAlignment:function t(e,n){var r=e.commit,i=e.rootState,o=e.state;if(!i.document.manifestUrl){return}},updateCanvas:function t(e,n){var r=e.commit;r("UPDATE_CANVAS",n)},deleteFacsimileZone:function t(e,n){var r=e.commit;r("DELETE_ZONE",n)}};var W_={annotationFragments:function t(e){return e.fragments.filter(function(t){return t.zone_type==="annotation"})},transcriptionFragments:function t(e){return e.fragments.filter(function(t){return t.zone_type==="transcription"})},getZoneById:function t(e){return function(t){return e.fragments.find(function(e){return e.zone_id===parseInt(t)})}}};var G_={namespaced:true,state:H_,mutations:Z_,actions:V_,getters:W_};var K_=G_;var Y_={};var X_={editors:[]};var J_={UPDATE:function t(e,n){e.editors=n}};var Q_={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/editors").then(function(t){var e=t.data.data;var r=Array.isArray(e);var i=r?e:[e];n("UPDATE",i)})}};var tb={};var eb={namespaced:true,state:X_,mutations:J_,actions:Q_,getters:tb};var nb=eb;var rb={institutions:[]};var ib={UPDATE:function t(e,n){e.institutions=n}};var ob={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/institutions").then(function(t){var e=t.data.data;var r=Array.isArray(e);var i=r?e:[e];n("UPDATE",i)})}};var ab={institutionsSelect:function t(e){var n=e.institutions.map(function(t){return{id:t.id,label:t.name}});n.unshift({id:null,label:"Non définie"});return n}};var sb={namespaced:true,state:rb,mutations:ib,actions:ob,getters:ab};var lb=sb;var ub={languages:[]};var cb={UPDATE:function t(e,n){e.languages=n}};var fb={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/languages").then(function(t){var e=t.data.data;var r=Array.isArray(e);var i=r?e:[e];n("UPDATE",i)})}};var hb={};var db={namespaced:true,state:ub,mutations:cb,actions:fb,getters:hb};var pb=db;var vb={traditions:[]};var mb={UPDATE:function t(e,n){e.traditions=n}};var yb={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/traditions").then(function(t){var e=t.data.data;var r=Array.isArray(e);var i=r?e:[e];n("UPDATE",i)})}};var gb={};var _b={namespaced:true,state:vb,mutations:mb,actions:yb,getters:gb};var bb=_b;function wb(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}var xb=document.createElement("div");var Eb=document.createElement("div");var kb=document.createElement("div");var Ob=document.createElement("div");var Tb=void 0;var Cb=void 0;var Ab=void 0;var Lb=void 0;var Sb={transcriptionLoading:true,transcription:false,transcriptionContent:false,transcriptionWithNotes:false,transcriptionWithSpeechparts:false,transcriptionWithFacsimile:false,transcriptionSaved:true,transcriptionError:false,transcriptionAlignments:[],referenceTranscription:false,savingStatus:"uptodate"};var Pb={INIT:function t(e,n){if(!Tb){xb.innerHTML=n.content||"";Tb=new ll(xb);e.transcriptionContent=xb.children[0].innerHTML;console.log("INIT with content",e.transcriptionContent);Eb.innerHTML=n.withNotes||"";Cb=new ll(Eb);e.transcriptionWithNotes=Eb.children[0].innerHTML;console.log("INIT with notes",e.transcriptionWithNotes);kb.innerHTML=n.withSpeechparts||"";Ab=new ll(kb);e.transcriptionWithSpeechparts=kb.children[0].innerHTML;Ob.innerHTML=n.withFacsimile||"";Lb=new ll(Ob);e.transcriptionWithFacsimile=Ob.children[0].innerHTML}},RESET:function t(e){console.log("STORE MUTATION transcription/RESET");e.transcription=false;e.transcriptionAlignments=[];e.transcriptionContent=false;e.transcriptionWithNotes=false;e.transcriptionWithSpeechparts=false;e.transcriptionWithFacsimile=false;if(xb&&xb.children[0])xb.children[0].innerHTML="";if(Eb&&Eb.children[0])Eb.children[0].innerHTML="";if(kb&&kb.children[0])kb.children[0].innerHTML="";if(Ob&&Ob.children[0])Ob.children[0].innerHTML=""},REFERENCE:function t(e,n){e.referenceTranscription=n},LOADING_STATUS:function t(e,n){e.transcriptionLoading=n},SAVING_STATUS:function t(e,n){e.savingStatus=n},ALIGNMENTS:function t(e,n){e.transcriptionAlignments=n},UPDATE:function t(e,n){e.transcription=n.transcription;e.transcriptionWithNotes=n.withNotes;e.transcriptionWithSpeechparts=n.withSpeechparts;e.transcriptionWithFacsimile=n.withFacsimile},CHANGED:function t(e){e.transcriptionSaved=false},ADD_OPERATION:function t(e,n){console.log("%c ADD_OPERATION","color:red",n);var r=hf(Tb,n,"content");var i=hf(Cb,n,"notes");var o=hf(Ab,n,"speechparts");var a=hf(Lb,n,"facsimile");console.log("%c filtered","color:red",r);Tb.updateContents(r);Cb.updateContents(i);Ab.updateContents(o);Lb.updateContents(a);e.transcriptionContent=xb.children[0].innerHTML;e.transcriptionWithNotes=Eb.children[0].innerHTML;e.transcriptionWithSpeechparts=kb.children[0].innerHTML;e.transcriptionWithFacsimile=Ob.children[0].innerHTML;console.log("%c filtered","color:red",xb.children[0].innerHTML)},SAVED:function t(e){e.transcriptionSaved=true}};var Nb={fetch:function t(e){var n=this;var r=e.commit,i=e.rootState;r("LOADING_STATUS",true);var o=i.document.document.id;var a=i.user.author.id;this.dispatch("noteTypes/fetch").then(function(){return n.dispatch("speechpartTypes/fetch",o)}).then(function(){return n.dispatch("commentaries/fetchTypes")}).then(function(){return n.dispatch("notes/fetch",o)}).then(function(){return n.dispatch("speechparts/fetch",{doc_id:o,user_id:a})}).then(function(){return n.dispatch("facsimile/fetchCanvasNames")}).then(function(){return n.dispatch("facsimile/fetchFragments")}).then(function(){return n.dispatch("facsimile/fetchAlignments")}).then(function(){return n.dispatch("transcription/fetchAlignments",{doc_id:o,user_id:a})}).then(function(){return n.dispatch("transcription/fetchTranscriptionFromUser",{doc_id:o,user_id:a})}).then(function(){return n.dispatch("transcription/fetchReference",{doc_id:o})}).then(function(){return n.dispatch("translation/fetch",{doc_id:o,user_id:a})}).then(function(){return n.dispatch("translation/fetchReference",{doc_id:o,user_id:a})}).then(function(){return n.dispatch("commentaries/fetch",{doc_id:o,user_id:a})}).catch(function(t){console.error("Une erreur est survenue",t)})},fetchTranscriptionFromUser:function t(e,n){var r=e.commit,i=e.state,o=e.rootState;var a=n.doc_id,s=n.user_id;return dt.a.get("/adele/api/1.0/documents/"+a+"/transcriptions/from-user/"+s).then(function(t){r("LOADING_STATUS",false);if(t.data.errors&&t.data.errors.status===404){console.warn("NO transcription found")}var e={content:" ",notes:[]};if(t.data.data&&t.data.data.length!==0){e=t.data.data[0]}var n=Qg(e.content);var a=u_(n,i.transcriptionAlignments,"transcription");var s=c_(n,e.notes,i.transcriptionAlignments,"transcription");var l=p_(n,o.speechparts.speechparts);var u=l_(n,o.facsimile.alignments);var c={transcription:e,content:e_(a),withNotes:e_(s),withSpeechparts:e_(l),withFacsimile:e_(u)};r("INIT",c);r("UPDATE",c)})},fetchAlignments:function t(e,n){var r=e.commit;var i=n.doc_id,o=n.user_id;return dt.a.get("/adele/api/1.0/documents/"+i+"/transcriptions/alignments/from-user/"+o).then(function(t){if(t.data.errors){r("ALIGNMENTS",[]);return}var e=t.data.data&&Array.isArray(t.data.data[0])?t.data.data:[t.data.data];r("ALIGNMENTS",e)})},fetchReference:function t(e,n){var r=e.commit;var i=n.doc_id;return dt.a.get("/adele/api/1.0/documents/"+i+"/transcriptions/reference").then(function(t){r("LOADING_STATUS",false);if(t.data.errors&&t.data.errors.status===404){console.warn("NO reference transcription found");return}var e=false;if(t.data.data){e=t.data.data}if(!e)return r("REFERENCE",false);var n=Qg(e.content);var i=c_(n,e.notes,[],"transcription");e.content=i;r("REFERENCE",e)})},create:function t(e){var n=e.commit,r=e.rootState,i=e.rootGetters;var o=i["user/authHeader"];var a={data:[{content:"<p></p>",username:r.user.currentUser.username}]};return new Promise(function(t,e){dt.a.post("/adele/api/1.0/documents/"+r.document.document.id+"/transcriptions",a,o).then(function(n){if(n.data.errors){e(n.data.errors)}else t(n.data)}).catch(function(t){e(t)})})},save:function t(e){var n=e.dispatch,r=e.commit,i=e.rootState,o=e.rootGetters;r("SAVING_STATUS","saving");return n("saveContent").then(function(t){console.warn("content saved",o["document/manifestURL"]);if(o["document/manifestURL"]){console.warn("content saved",o["document/manifestURL"]);n("saveImageAlignments")}}).then(function(t){if(i.translation.translation.id){return n("saveAlignment")}return true}).then(function(t){return n("saveSpeechparts")}).then(function(t){return n("saveNotes")}).then(function(t){if(i.translation.translation)return n("translation/save",null,{root:true});else return true}).then(function(t){r("SAVED");r("SAVING_STATUS","uptodate")}).catch(function(t){console.error("something bad happened",t);r("SAVING_STATUS","error")})},saveContent:function t(e){var n=e.state,r=e.rootGetters,i=e.rootState;console.log("STORE ACTION transcription/saveContent",n.transcriptionContent);var o=r["user/authHeader"];var a=t_(n.transcriptionContent);var s=m_(a);console.log("%c save transcription "+s,"color:red");var l={data:[{content:s,username:i.user.author.username}]};var u=n.transcription&&n.transcription.doc_id?dt.a.put:dt.a.post;return new Promise(function(t,e){u("/adele/api/1.0/documents/"+i.document.document.id+"/transcriptions",l,o).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else t(n.data)}).catch(function(t){console.error("error",t);e(t)})})},saveNotes:function t(e){var n=e.commit,r=e.rootState,i=e.state,o=e.rootGetters;console.warn("STORE ACTION transcription/saveNotes");var a=m_(i.transcriptionWithNotes);console.warn(a);a=n_(a);console.warn(a);var s=g_(a);s.forEach(function(t){var e=r.notes.notes.find(function(e){return e.id===t.note_id});console.log(r.notes.notes,s,e);t.content=e.content;t.transcription_username=r.user.author.username;t.note_type=e.note_type.id});var l=o["user/authHeader"];return new Promise(function(t,e){dt.a.put("/adele/api/1.0/documents/"+r.document.document.id+"/transcriptions/notes",{data:s},l).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else{t(n.data)}})})},saveSpeechparts:function t(e){var n=e.commit,r=e.rootState,i=e.state,o=e.rootGetters;console.warn("STORE ACTION transcription/saveSpeechparts");var a=m_(i.transcriptionWithSpeechparts);a=n_(a);var s=w_(a);s.forEach(function(t){var e=r.speechparts.speechparts[t.index];t.type_id=e.speech_part_type?e.speech_part_type.id:e.type_id;if(e.note)t.note=e.note});var l=o["user/authHeader"];var u={username:r.user.author.username,speech_parts:s};return new Promise(function(t,e){return dt.a.post("/adele/api/1.0/documents/"+r.document.document.id+"/transcriptions/alignments/discours",{data:u},l).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else t(n.data)}).catch(function(t){console.error("error",t);e(t)})})},saveImageAlignments:function t(e){var n=e.commit,r=e.rootState,i=e.state,o=e.rootGetters;console.warn("STORE ACTION transcription/saveImageAlignments");var a=m_(i.transcriptionWithFacsimile);a=n_(a);var s=x_(a);s.forEach(function(t){var e=o["facsimile/getZoneById"](t.zone_id);t.canvas_idx=e.canvas_idx;t.img_idx=e.img_idx});var l=o["user/authHeader"];var u={username:r.user.author.username,alignments:s};return new Promise(function(t,e){return dt.a.post("/adele/api/1.0/documents/"+r.document.document.id+"/transcriptions/alignments/images",{data:u},l).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else t(n.data)}).catch(function(t){console.error("error",t);e(t)})})},saveAlignment:function t(e){var n=e.rootState,r=e.rootGetters;console.warn("STORE ACTION transcription/saveAlignment");var i=t_(Sb.transcriptionContent);var o=t_(n.translation.translationContent);var a=b_(i);var s=b_(o);var l=[];for(var u=0;u<Math.max(a.length,s.length);++u){l.push([].concat(wb(a[u]?a[u]:[0,0]),wb(s[u]?s[u]:[0,0])))}console.log("Alignmant pointers",l);var c=r["user/authHeader"];var f={data:{username:n.user.author.username,ptr_list:l}};return new Promise(function(t,e){dt.a.post("/adele/api/1.0/documents/"+n.document.document.id+"/transcriptions/alignments",f,c).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else t(n.data)}).catch(function(t){console.error("error",t);e(t)})})},changed:function t(e,n){var r=e.commit;console.warn("STORE ACTION transcription/changed");r("ADD_OPERATION",n);r("CHANGED");r("SAVING_STATUS","tobesaved")},translationChanged:function t(e,n){var r=e.commit;console.warn("STORE ACTION transcription/translationChanged");r("CHANGED");r("SAVING_STATUS","tobesaved")},reset:function t(e){var n=e.commit;n("RESET")}};var jb={};var Mb={namespaced:true,state:Sb,mutations:Pb,actions:Nb,getters:jb};var Ib=Mb;var Db=document.createElement("div");var Rb=document.createElement("div");var qb=void 0;var Bb=void 0;var Fb={translationLoading:true,translation:false,translationContent:false,translationWithNotes:false,translationSaved:true,translationError:false,translationAlignments:[],referenceTranslation:false};var zb={INIT:function t(e,n){if(!e.shadowQuill){Db.innerHTML=n.content;qb=new ll(Db);e.translationContent=Db.children[0].innerHTML;console.log("STORE ACTION translation/INIT");Rb.innerHTML=n.withNotes;Bb=new ll(Rb);e.translationWithNotes=Rb.children[0].innerHTML}},RESET:function t(e){console.log("STORE MUTATION translation/RESET");e.translation=false;e.translationAlignments=[];e.translationContent=false;e.translationWithNotes=false;e.translationWithSpeechparts=false;if(Db)Db.innerHTML="";if(Rb)Rb.innerHTML=""},REFERENCE:function t(e,n){e.referenceTranslation=n},LOADING_STATUS:function t(e,n){e.translationLoading=n},ALIGNMENTS:function t(e,n){e.translationAlignments=n},UPDATE:function t(e,n){e.translation=n.translation;e.translationWithNotes=n.withNotes;e.translationSaved=true},CHANGED:function t(e){e.translationSaved=false},ADD_OPERATION:function t(e,n){console.log("STORE MUTATION translation/ADD_OPERATION");var r=hf(qb,n,"content");var i=hf(Bb,n,"notes");qb.updateContents(r);Bb.updateContents(i);e.translationContent=Db.children[0].innerHTML;e.translationWithNotes=Rb.children[0].innerHTML},SAVED:function t(e){console.log("STORE MUTATION translation/SAVED");e.translationSaved=true}};var Ub={fetch:function t(e){var n=e.commit,r=e.rootGetters,i=e.rootState;n("LOADING_STATUS",true);var o=i.document.document.id;var a=i.user.author.id;var s=i.transcription.transcriptionAlignments;console.log("STORE ACTION translation/fetch",i);return dt.a.get("/adele/api/1.0/documents/"+o+"/translations/from-user/"+a).then(function(t){n("LOADING_STATUS",false);if(t.data.errors&&t.data.errors.status===404){return}var e={content:" ",notes:[]};if(t.data.data&&t.data.data.length!==0){e=t.data.data[0]}var r=Qg(e.content);var i=u_(r,s,"translation");var o=i;var a={translation:e,content:e_(i),withNotes:e_(o)};n("INIT",a);n("UPDATE",a)})},fetchReference:function t(e,n){var r=e.commit;var i=n.doc_id;console.log("STORE ACTION translation/fetchReference",i);return dt.a.get("/adele/api/1.0/documents/"+i+"/translations/reference").then(function(t){r("LOADING_STATUS",false);if(t.data.errors&&t.data.errors.status===404){return}var e=false;if(t.data.data){e=t.data.data}if(!e)return r("REFERENCE",false);var n=Qg(e.content);var i=c_(n,e.notes,[],"translation");e.content=i;r("REFERENCE",e)})},save:function t(e){var n=e.commit,r=e.dispatch;console.log("STORE ACTION translation/save");return r("saveContent").then(function(t){return r("saveNotes")}).then(function(t){console.log("all saved",t)})},saveContent:function t(e){var n=e.state,r=e.rootState,i=e.rootGetters;console.log("STORE ACTION translation/saveContent");var o=i["user/authHeader"];var a=t_(n.translationContent);var s=m_(a);var l={data:[{content:s,username:r.user.author.username}]};return new Promise(function(t,e){dt.a.put("/adele/api/1.0/documents/"+n.translation.doc_id+"/translations",l,o).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else t(n.data)}).catch(function(t){console.error("error",t);e(t)})})},saveNotes:function t(e){var n=e.commit,r=e.rootGetters,i=e.state,o=e.rootState;console.warn("STORE ACTION translation/saveNotes");var a=m_(i.translationWithNotes);a=n_(a);var s=g_(a);s.forEach(function(t){var e=o.notes.notes.find(function(e){return e.id===t.note_id});t.content=e.content;t.translation_username=o.user.author.username;t.note_type=e.note_type.id});var l=r["user/authHeader"];return new Promise(function(t,e){dt.a.put("/adele/api/1.0/documents/"+i.translation.doc_id+"/translations/notes",{data:s},l).then(function(n){if(n.data.errors){console.error("error",n.data.errors);e(n.data.errors)}else t(n.data)}).catch(function(t){console.error("error",t);e(t)})})},changed:function t(e,n){var r=e.commit,i=e.dispatch;r("ADD_OPERATION",n);r("SAVED",false);i("transcription/translationChanged",null,{root:true})},reset:function t(e){var n=e.commit;n("RESET")},create:function t(e){var n=e.commit,r=e.rootState,i=e.rootGetters;var o=i["user/authHeader"];var a={data:[{content:"<p></p>",username:r.user.currentUser.username}]};return new Promise(function(t,e){dt.a.post("/adele/api/1.0/documents/"+r.document.document.id+"/translations",a,o).then(function(n){if(n.data.errors){e(n.data.errors)}else t(n.data)}).catch(function(t){e(t)})})}};var $b={};var Hb={namespaced:true,state:Fb,mutations:zb,actions:Ub,getters:$b};var Zb=Hb;var Vb={noteTypes:undefined};var Wb={UPDATE:function t(e,n){e.noteTypes=n}};var Gb={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/note-types").then(function(t){var e=t.data.data;var r=Array.isArray(e);var i=r?e:[e];n("UPDATE",i)})}};var Kb={noteTypes:function t(e){return e.noteTypes}};var Yb={namespaced:true,state:Vb,mutations:Wb,actions:Gb,getters:Kb};var Xb=Yb;function Jb(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}var Qb={speechparts:[],newSpeechpart:false,mouseOver:false,mouseOverY:0};var tw={UPDATE_ALL:function t(e,n){e.speechparts=n},NEW:function t(e,n){e.newSpeechpart=n;e.speechparts.push(n)},MOUSE_OVER:function t(e,n){var r=n.speechpart,i=n.posY;e.mouseOver=r;e.mouseOverY=i},UPDATE_ONE:function t(e,n){e.speechparts=[].concat(Jb(e.speechparts.filter(function(t){return t.id!==n.id})),[n])}};var ew={fetch:function t(e,n){var r=e.commit,i=e.getters,o=e.rootGetters;var a=n.doc_id,s=n.user_id;return dt.a.get("/adele/api/1.0/documents/"+a+"/transcriptions/alignments/discours/from-user/"+s).then(function(t){if(t.data&&t.data.errors){r("UPDATE_ALL",[])}else{r("UPDATE_ALL",t.data.data)}}).catch(function(t){console.log(t)})},add:function t(e,n){var r=e.commit,i=e.getters,o=e.rootState;r("NEW",n)},mouseover:function t(e,n){var r=e.commit,i=e.getters,o=e.rootState;var a=n.speechpart,s=n.posY;r("MOUSE_OVER",{speechpart:a,posY:s})},update:function t(e,n){var r=e.commit,i=e.getters,o=e.rootState;return r("UPDATE_ONE",n);var a={auth:{username:o.user.authToken,password:undefined}};var s={data:[{username:o.user.currentUser.username,id:n.id,type_id:n.type_id,content:n.content}]};return dt.a.put("/adele/api/1.0/speechparts",s,a).then(function(t){var e=t.data.data;r("UPDATE_ONE",e);return e})},delete:function t(e,n){var r=e.commit,i=e.getters,o=e.rootState;var a={auth:{username:o.user.authToken,password:undefined}};var s={data:[{username:o.user.currentUser.username,id:n.id,type_id:n.type_id,content:n.content}]};return dt.a.delete("/adele/api/1.0/speechparts",s,a).then(function(t){var e=t.data.data;r("UPDATE_ONE",e)})}};var nw={speechparts:function t(e){return e.speechparts},newSpeechpart:function t(e){return e.newSpeechpart},getSpeechpartById:function t(e){return function(t){t=parseInt(t);return e.speechparts.find(function(e){return e.id===t})}}};var rw={namespaced:true,state:Qb,mutations:tw,actions:ew,getters:nw};var iw=rw;var ow={speechpartTypes:undefined};var aw={UPDATE:function t(e,n){e.speechpartTypes=n}};var sw={fetch:function t(e){var n=e.commit;dt.a.get("/adele/api/1.0/speech-part-types").then(function(t){var e=t.data.data;var r=Array.isArray(e);var i=r?e:[e];n("UPDATE",i)})}};var lw={getSpeechpartTypeById:function t(e){return function(t){return e.speechpartTypes.find(function(e){return e.id===t})}}};var uw={namespaced:true,state:ow,mutations:aw,actions:sw,getters:lw};var cw=uw;function fw(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}var hw={notes:[],newNote:false};var dw={UPDATE_ALL:function t(e,n){n=Array.isArray(n)?n:[n];e.notes=n},NEW:function t(e,n){e.newNote=n;e.notes.push(n)},UPDATE_ONE:function t(e,n){e.notes=[].concat(fw(e.notes.filter(function(t){return t.id!==n.id})),[n])}};var pw={fetch:function t(e,n){var r=e.commit,i=e.rootState;var o={auth:{username:i.user.authToken,password:undefined}};var a=i.user.author.id;return dt.a.get("/adele/api/1.0/documents/"+n+"/notes/from-user/"+a,o).then(function(t){r("UPDATE_ALL",t.data.data)}).catch(function(t){console.error("Error:",t)})},add:function t(e,n){var r=e.commit,i=e.getters,o=e.rootState;var a={auth:{username:o.user.authToken,password:undefined}};var s={data:[{username:o.user.currentUser.username,type_id:n.type_id,content:n.content}]};return dt.a.post("/adele/api/1.0/notes",s,a).then(function(t){var e=t.data.data[0];r("NEW",e)})},update:function t(e,n){var r=e.commit,i=e.getters,o=e.rootState;var a={auth:{username:o.user.authToken,password:undefined}};var s={data:[{username:o.user.currentUser.username,id:n.id,type_id:n.type_id,content:n.content}]};return dt.a.put("/adele/api/1.0/notes",s,a).then(function(t){var e=t.data.data[0];r("UPDATE_ONE",e)})},delete:function t(e,n){var r=e.commit,i=e.getters,o=e.rootState;var a={auth:{username:o.user.authToken,password:undefined}};var s={data:[{username:o.user.currentUser.username,id:n.id,type_id:n.type_id,content:n.content}]};return dt.a.delete("/adele/api/1.0/notes",s,a).then(function(t){var e=t.data.data;r("UPDATE_ONE",e)})}};var vw={notes:function t(e){return e.notes},newNote:function t(e){return e.newNote},getNoteById:function t(e){return function(t){t=parseInt(t);return e.notes.find(function(e){return e.id===t})}}};var mw={namespaced:true,state:hw,mutations:dw,actions:pw,getters:vw};var yw=mw;r["a"].use(V);var gw=new V.Store({modules:{actTypes:Hg,commentaries:A_,countries:M_,districts:F_,document:qg,editors:nb,facsimile:K_,institutions:lb,languages:pb,noteTypes:Xb,notes:yw,speechparts:iw,speechpartTypes:cw,traditions:bb,transcription:Ib,translation:Zb,user:Ng}});new r["a"]({el:"#app",store:gw,data:{documentId:undefined,authToken:undefined},beforeMount:function t(){this.documentId=this.$el.dataset.documentId;this.authToken=this.$el.dataset.authToken},render:function t(e){return e(Og,{props:{doc_id:this.documentId,auth_token:this.authToken}})}})}]);
//# sourceMappingURL=build.js.map